var rI=Object.defineProperty;var aI=(e,t,i)=>t in e?rI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var it=(e,t,i)=>aI(e,typeof t!="symbol"?t+"":t,i);function oI(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const d in n)if(d!=="default"&&!(d in e)){const C=Object.getOwnPropertyDescriptor(n,d);C&&Object.defineProperty(e,d,C.get?C:{enumerable:!0,get:()=>n[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const C of d)if(C.type==="childList")for(const r of C.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(d){const C={};return d.integrity&&(C.integrity=d.integrity),d.referrerPolicy&&(C.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?C.credentials="include":d.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function n(d){if(d.ep)return;d.ep=!0;const C=i(d);fetch(d.href,C)}})();var wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lI(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var d=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,d.get?d:{enumerable:!0,get:function(){return e[n]}})}),i}var Px={exports:{}},id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function hI(){if(Pb)return id;Pb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,d,C){var r=null;if(C!==void 0&&(r=""+C),d.key!==void 0&&(r=""+d.key),"key"in d){C={};for(var x in d)x!=="key"&&(C[x]=d[x])}else C=d;return d=C.ref,{$$typeof:e,type:n,key:r,ref:d!==void 0?d:null,props:C}}return id.Fragment=t,id.jsx=i,id.jsxs=i,id}var Mb;function uI(){return Mb||(Mb=1,Px.exports=hI()),Px.exports}var Nt=uI(),kv={exports:{}},dI=kv.exports,Ab;function fI(){return Ab||(Ab=1,(function(e){(function(t,i){e.exports?e.exports=i():t.log=i()})(dI,function(){var t=function(){},i="undefined",n=typeof window!==i&&typeof window.navigator!==i&&/Trident\/|MSIE /.test(window.navigator.userAgent),d=["trace","debug","info","warn","error"],C={},r=null;function x(u,v){var f=u[v];if(typeof f.bind=="function")return f.bind(u);try{return Function.prototype.bind.call(f,u)}catch{return function(){return Function.prototype.apply.apply(f,[u,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(u){return u==="debug"&&(u="log"),typeof console===i?!1:u==="trace"&&n?s:console[u]!==void 0?x(console,u):console.log!==void 0?x(console,"log"):t}function g(){for(var u=this.getLevel(),v=0;v<d.length;v++){var f=d[v];this[f]=v<u?t:this.methodFactory(f,u,this.name)}if(this.log=this.debug,typeof console===i&&u<this.levels.SILENT)return"No console available for logging"}function c(u){return function(){typeof console!==i&&(g.call(this),this[u].apply(this,arguments))}}function h(u,v,f){return a(u)||c.apply(this,arguments)}function l(u,v){var f=this,p,m,y,S="loglevel";typeof u=="string"?S+=":"+u:typeof u=="symbol"&&(S=void 0);function T(R){var D=(d[R]||"silent").toUpperCase();if(!(typeof window===i||!S)){try{window.localStorage[S]=D;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+D+";"}catch{}}}function b(){var R;if(!(typeof window===i||!S)){try{R=window.localStorage[S]}catch{}if(typeof R===i)try{var D=window.document.cookie,L=encodeURIComponent(S),k=D.indexOf(L+"=");k!==-1&&(R=/^([^;]+)/.exec(D.slice(k+L.length+1))[1])}catch{}return f.levels[R]===void 0&&(R=void 0),R}}function P(){if(!(typeof window===i||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function w(R){var D=R;if(typeof D=="string"&&f.levels[D.toUpperCase()]!==void 0&&(D=f.levels[D.toUpperCase()]),typeof D=="number"&&D>=0&&D<=f.levels.SILENT)return D;throw new TypeError("log.setLevel() called with invalid level: "+R)}f.name=u,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=v||h,f.getLevel=function(){return y??m??p},f.setLevel=function(R,D){return y=w(R),D!==!1&&T(y),g.call(f)},f.setDefaultLevel=function(R){m=w(R),b()||f.setLevel(R,!1)},f.resetLevel=function(){y=null,P(),g.call(f)},f.enableAll=function(R){f.setLevel(f.levels.TRACE,R)},f.disableAll=function(R){f.setLevel(f.levels.SILENT,R)},f.rebuild=function(){if(r!==f&&(p=w(r.getLevel())),g.call(f),r===f)for(var R in C)C[R].rebuild()},p=w(r?r.getLevel():"WARN");var A=b();A!=null&&(y=w(A)),g.call(f)}r=new l,r.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var f=C[v];return f||(f=C[v]=new l(v,r.methodFactory)),f};var o=typeof window!==i?window.log:void 0;return r.noConflict=function(){return typeof window!==i&&window.log===r&&(window.log=o),r},r.getLoggers=function(){return C},r.default=r,r})})(kv)),kv.exports}var cI=fI();const Tt=W0(cI),vI="staging";switch(vI){case"dev":Tt.setLevel("debug");break;case"staging":Tt.setLevel("debug");break;case"production":default:Tt.setLevel("error");break}class pI{constructor(){it(this,"env");this.env={VITE_APP_NAME:"EG FARM",VITE_APP_ASSETS_URL:"https://farm-assets.smavi.men",VITE_GOOGLE_CLIENT_ID:"656067620735-47384cr03r2ikdhle8niabqrd972qpv3.apps.googleusercontent.com",VITE_APP_API_URL:"https://farm-assets.smavi.men",VITE_APP_ENV:"staging",VITE_APP_CACHE_TIME:"5"},this.validateEnv()}get(t){return this.env[t]}validateEnv(){for(const[t,i]of Object.entries(this.env))i||Tt.error(`Environment variable "${t}" is not defined.`)}getAll(){return{...this.env}}}const Xs=new pI;var Mx={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function gI(){if(Rb)return ue;Rb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),r=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),c=Symbol.iterator;function h(X){return X===null||typeof X!="object"?null:(X=c&&X[c]||X["@@iterator"],typeof X=="function"?X:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o=Object.assign,u={};function v(X,$,J){this.props=X,this.context=$,this.refs=u,this.updater=J||l}v.prototype.isReactComponent={},v.prototype.setState=function(X,$){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,$,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function f(){}f.prototype=v.prototype;function p(X,$,J){this.props=X,this.context=$,this.refs=u,this.updater=J||l}var m=p.prototype=new f;m.constructor=p,o(m,v.prototype),m.isPureReactComponent=!0;var y=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function b(X,$,J,V,Y,z){return J=z.ref,{$$typeof:e,type:X,key:$,ref:J!==void 0?J:null,props:z}}function P(X,$){return b(X.type,$,void 0,void 0,void 0,X.props)}function w(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function A(X){var $={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(J){return $[J]})}var R=/\/+/g;function D(X,$){return typeof X=="object"&&X!==null&&X.key!=null?A(""+X.key):$.toString(36)}function L(){}function k(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(L,L):(X.status="pending",X.then(function($){X.status==="pending"&&(X.status="fulfilled",X.value=$)},function($){X.status==="pending"&&(X.status="rejected",X.reason=$)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function B(X,$,J,V,Y){var z=typeof X;(z==="undefined"||z==="boolean")&&(X=null);var K=!1;if(X===null)K=!0;else switch(z){case"bigint":case"string":case"number":K=!0;break;case"object":switch(X.$$typeof){case e:case t:K=!0;break;case g:return K=X._init,B(K(X._payload),$,J,V,Y)}}if(K)return Y=Y(X),K=V===""?"."+D(X,0):V,y(Y)?(J="",K!=null&&(J=K.replace(R,"$&/")+"/"),B(Y,$,J,"",function(j){return j})):Y!=null&&(w(Y)&&(Y=P(Y,J+(Y.key==null||X&&X.key===Y.key?"":(""+Y.key).replace(R,"$&/")+"/")+K)),$.push(Y)),1;K=0;var H=V===""?".":V+":";if(y(X))for(var Q=0;Q<X.length;Q++)V=X[Q],z=H+D(V,Q),K+=B(V,$,J,z,Y);else if(Q=h(X),typeof Q=="function")for(X=Q.call(X),Q=0;!(V=X.next()).done;)V=V.value,z=H+D(V,Q++),K+=B(V,$,J,z,Y);else if(z==="object"){if(typeof X.then=="function")return B(k(X),$,J,V,Y);throw $=String(X),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return K}function F(X,$,J){if(X==null)return X;var V=[],Y=0;return B(X,V,"","",function(z){return $.call(J,z,Y++)}),V}function G(X){if(X._status===-1){var $=X._result;$=$(),$.then(function(J){(X._status===0||X._status===-1)&&(X._status=1,X._result=J)},function(J){(X._status===0||X._status===-1)&&(X._status=2,X._result=J)}),X._status===-1&&(X._status=0,X._result=$)}if(X._status===1)return X._result.default;throw X._result}var N=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function W(){}return ue.Children={map:F,forEach:function(X,$,J){F(X,function(){$.apply(this,arguments)},J)},count:function(X){var $=0;return F(X,function(){$++}),$},toArray:function(X){return F(X,function($){return $})||[]},only:function(X){if(!w(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},ue.Component=v,ue.Fragment=i,ue.Profiler=d,ue.PureComponent=p,ue.StrictMode=n,ue.Suspense=s,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ue.__COMPILER_RUNTIME={__proto__:null,c:function(X){return S.H.useMemoCache(X)}},ue.cache=function(X){return function(){return X.apply(null,arguments)}},ue.cloneElement=function(X,$,J){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var V=o({},X.props),Y=X.key,z=void 0;if($!=null)for(K in $.ref!==void 0&&(z=void 0),$.key!==void 0&&(Y=""+$.key),$)!T.call($,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&$.ref===void 0||(V[K]=$[K]);var K=arguments.length-2;if(K===1)V.children=J;else if(1<K){for(var H=Array(K),Q=0;Q<K;Q++)H[Q]=arguments[Q+2];V.children=H}return b(X.type,Y,void 0,void 0,z,V)},ue.createContext=function(X){return X={$$typeof:r,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:C,_context:X},X},ue.createElement=function(X,$,J){var V,Y={},z=null;if($!=null)for(V in $.key!==void 0&&(z=""+$.key),$)T.call($,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(Y[V]=$[V]);var K=arguments.length-2;if(K===1)Y.children=J;else if(1<K){for(var H=Array(K),Q=0;Q<K;Q++)H[Q]=arguments[Q+2];Y.children=H}if(X&&X.defaultProps)for(V in K=X.defaultProps,K)Y[V]===void 0&&(Y[V]=K[V]);return b(X,z,void 0,void 0,null,Y)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(X){return{$$typeof:x,render:X}},ue.isValidElement=w,ue.lazy=function(X){return{$$typeof:g,_payload:{_status:-1,_result:X},_init:G}},ue.memo=function(X,$){return{$$typeof:a,type:X,compare:$===void 0?null:$}},ue.startTransition=function(X){var $=S.T,J={};S.T=J;try{var V=X(),Y=S.S;Y!==null&&Y(J,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(W,N)}catch(z){N(z)}finally{S.T=$}},ue.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ue.use=function(X){return S.H.use(X)},ue.useActionState=function(X,$,J){return S.H.useActionState(X,$,J)},ue.useCallback=function(X,$){return S.H.useCallback(X,$)},ue.useContext=function(X){return S.H.useContext(X)},ue.useDebugValue=function(){},ue.useDeferredValue=function(X,$){return S.H.useDeferredValue(X,$)},ue.useEffect=function(X,$,J){var V=S.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(X,$)},ue.useId=function(){return S.H.useId()},ue.useImperativeHandle=function(X,$,J){return S.H.useImperativeHandle(X,$,J)},ue.useInsertionEffect=function(X,$){return S.H.useInsertionEffect(X,$)},ue.useLayoutEffect=function(X,$){return S.H.useLayoutEffect(X,$)},ue.useMemo=function(X,$){return S.H.useMemo(X,$)},ue.useOptimistic=function(X,$){return S.H.useOptimistic(X,$)},ue.useReducer=function(X,$,J){return S.H.useReducer(X,$,J)},ue.useRef=function(X){return S.H.useRef(X)},ue.useState=function(X){return S.H.useState(X)},ue.useSyncExternalStore=function(X,$,J){return S.H.useSyncExternalStore(X,$,J)},ue.useTransition=function(){return S.H.useTransition()},ue.version="19.1.1",ue}var Ob;function G4(){return Ob||(Ob=1,Mx.exports=gI()),Mx.exports}var dt=G4();const Ie=W0(dt),JR=oI({__proto__:null,default:Ie},[dt]);var Ax={exports:{}},sd={},Rx={exports:{}},Ox={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function mI(){return Db||(Db=1,(function(e){function t(F,G){var N=F.length;F.push(G);t:for(;0<N;){var W=N-1>>>1,X=F[W];if(0<d(X,G))F[W]=G,F[N]=X,N=W;else break t}}function i(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var G=F[0],N=F.pop();if(N!==G){F[0]=N;t:for(var W=0,X=F.length,$=X>>>1;W<$;){var J=2*(W+1)-1,V=F[J],Y=J+1,z=F[Y];if(0>d(V,N))Y<X&&0>d(z,V)?(F[W]=z,F[Y]=N,W=Y):(F[W]=V,F[J]=N,W=J);else if(Y<X&&0>d(z,N))F[W]=z,F[Y]=N,W=Y;else break t}}return G}function d(F,G){var N=F.sortIndex-G.sortIndex;return N!==0?N:F.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;e.unstable_now=function(){return C.now()}}else{var r=Date,x=r.now();e.unstable_now=function(){return r.now()-x}}var s=[],a=[],g=1,c=null,h=3,l=!1,o=!1,u=!1,v=!1,f=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;function y(F){for(var G=i(a);G!==null;){if(G.callback===null)n(a);else if(G.startTime<=F)n(a),G.sortIndex=G.expirationTime,t(s,G);else break;G=i(a)}}function S(F){if(u=!1,y(F),!o)if(i(s)!==null)o=!0,T||(T=!0,D());else{var G=i(a);G!==null&&B(S,G.startTime-F)}}var T=!1,b=-1,P=5,w=-1;function A(){return v?!0:!(e.unstable_now()-w<P)}function R(){if(v=!1,T){var F=e.unstable_now();w=F;var G=!0;try{t:{o=!1,u&&(u=!1,p(b),b=-1),l=!0;var N=h;try{e:{for(y(F),c=i(s);c!==null&&!(c.expirationTime>F&&A());){var W=c.callback;if(typeof W=="function"){c.callback=null,h=c.priorityLevel;var X=W(c.expirationTime<=F);if(F=e.unstable_now(),typeof X=="function"){c.callback=X,y(F),G=!0;break e}c===i(s)&&n(s),y(F)}else n(s);c=i(s)}if(c!==null)G=!0;else{var $=i(a);$!==null&&B(S,$.startTime-F),G=!1}}break t}finally{c=null,h=N,l=!1}G=void 0}}finally{G?D():T=!1}}}var D;if(typeof m=="function")D=function(){m(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,k=L.port2;L.port1.onmessage=R,D=function(){k.postMessage(null)}}else D=function(){f(R,0)};function B(F,G){b=f(function(){F(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var N=h;h=G;try{return F()}finally{h=N}},e.unstable_requestPaint=function(){v=!0},e.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var N=h;h=F;try{return G()}finally{h=N}},e.unstable_scheduleCallback=function(F,G,N){var W=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?W+N:W):N=W,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=N+X,F={id:g++,callback:G,priorityLevel:F,startTime:N,expirationTime:X,sortIndex:-1},N>W?(F.sortIndex=N,t(a,F),i(s)===null&&F===i(a)&&(u?(p(b),b=-1):u=!0,B(S,N-W))):(F.sortIndex=X,t(s,F),o||l||(o=!0,T||(T=!0,D()))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var G=h;return function(){var N=h;h=G;try{return F.apply(this,arguments)}finally{h=N}}}})(Ox)),Ox}var Lb;function xI(){return Lb||(Lb=1,Rx.exports=mI()),Rx.exports}var Dx={exports:{}},fs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function yI(){if(Fb)return fs;Fb=1;var e=G4();function t(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)a+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function C(s,a,g){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:c==null?null:""+c,children:s,containerInfo:a,implementation:g}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(s,a){if(s==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}return fs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,fs.createPortal=function(s,a){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error(t(299));return C(s,a,null,g)},fs.flushSync=function(s){var a=r.T,g=n.p;try{if(r.T=null,n.p=2,s)return s()}finally{r.T=a,n.p=g,n.d.f()}},fs.preconnect=function(s,a){typeof s=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,n.d.C(s,a))},fs.prefetchDNS=function(s){typeof s=="string"&&n.d.D(s)},fs.preinit=function(s,a){if(typeof s=="string"&&a&&typeof a.as=="string"){var g=a.as,c=x(g,a.crossOrigin),h=typeof a.integrity=="string"?a.integrity:void 0,l=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;g==="style"?n.d.S(s,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:c,integrity:h,fetchPriority:l}):g==="script"&&n.d.X(s,{crossOrigin:c,integrity:h,fetchPriority:l,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},fs.preinitModule=function(s,a){if(typeof s=="string")if(typeof a=="object"&&a!==null){if(a.as==null||a.as==="script"){var g=x(a.as,a.crossOrigin);n.d.M(s,{crossOrigin:g,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})}}else a==null&&n.d.M(s)},fs.preload=function(s,a){if(typeof s=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){var g=a.as,c=x(g,a.crossOrigin);n.d.L(s,g,{crossOrigin:c,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},fs.preloadModule=function(s,a){if(typeof s=="string")if(a){var g=x(a.as,a.crossOrigin);n.d.m(s,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:g,integrity:typeof a.integrity=="string"?a.integrity:void 0})}else n.d.m(s)},fs.requestFormReset=function(s){n.d.r(s)},fs.unstable_batchedUpdates=function(s,a){return s(a)},fs.useFormState=function(s,a,g){return r.H.useFormState(s,a,g)},fs.useFormStatus=function(){return r.H.useHostTransitionStatus()},fs.version="19.1.1",fs}var Bb;function QR(){if(Bb)return Dx.exports;Bb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dx.exports=yI(),Dx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function SI(){if(Ib)return sd;Ib=1;var e=xI(),t=G4(),i=QR();function n(E){var M="https://react.dev/errors/"+E;if(1<arguments.length){M+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)M+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+E+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(E){return!(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)}function C(E){var M=E,O=E;if(E.alternate)for(;M.return;)M=M.return;else{E=M;do M=E,(M.flags&4098)!==0&&(O=M.return),E=M.return;while(E)}return M.tag===3?O:null}function r(E){if(E.tag===13){var M=E.memoizedState;if(M===null&&(E=E.alternate,E!==null&&(M=E.memoizedState)),M!==null)return M.dehydrated}return null}function x(E){if(C(E)!==E)throw Error(n(188))}function s(E){var M=E.alternate;if(!M){if(M=C(E),M===null)throw Error(n(188));return M!==E?null:E}for(var O=E,I=M;;){var U=O.return;if(U===null)break;var Z=U.alternate;if(Z===null){if(I=U.return,I!==null){O=I;continue}break}if(U.child===Z.child){for(Z=U.child;Z;){if(Z===O)return x(U),E;if(Z===I)return x(U),M;Z=Z.sibling}throw Error(n(188))}if(O.return!==I.return)O=U,I=Z;else{for(var _=!1,et=U.child;et;){if(et===O){_=!0,O=U,I=Z;break}if(et===I){_=!0,I=U,O=Z;break}et=et.sibling}if(!_){for(et=Z.child;et;){if(et===O){_=!0,O=Z,I=U;break}if(et===I){_=!0,I=Z,O=U;break}et=et.sibling}if(!_)throw Error(n(189))}}if(O.alternate!==I)throw Error(n(190))}if(O.tag!==3)throw Error(n(188));return O.stateNode.current===O?E:M}function a(E){var M=E.tag;if(M===5||M===26||M===27||M===6)return E;for(E=E.child;E!==null;){if(M=a(E),M!==null)return M;E=E.sibling}return null}var g=Object.assign,c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function D(E){return E===null||typeof E!="object"?null:(E=R&&E[R]||E["@@iterator"],typeof E=="function"?E:null)}var L=Symbol.for("react.client.reference");function k(E){if(E==null)return null;if(typeof E=="function")return E.$$typeof===L?null:E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case o:return"Fragment";case v:return"Profiler";case u:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList";case w:return"Activity"}if(typeof E=="object")switch(E.$$typeof){case l:return"Portal";case m:return(E.displayName||"Context")+".Provider";case p:return(E._context.displayName||"Context")+".Consumer";case y:var M=E.render;return E=E.displayName,E||(E=M.displayName||M.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case b:return M=E.displayName||null,M!==null?M:k(E.type)||"Memo";case P:M=E._payload,E=E._init;try{return k(E(M))}catch{}}return null}var B=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},W=[],X=-1;function $(E){return{current:E}}function J(E){0>X||(E.current=W[X],W[X]=null,X--)}function V(E,M){X++,W[X]=E.current,E.current=M}var Y=$(null),z=$(null),K=$(null),H=$(null);function Q(E,M){switch(V(K,M),V(z,E),V(Y,null),M.nodeType){case 9:case 11:E=(E=M.documentElement)&&(E=E.namespaceURI)?tb(E):0;break;default:if(E=M.tagName,M=M.namespaceURI)M=tb(M),E=eb(M,E);else switch(E){case"svg":E=1;break;case"math":E=2;break;default:E=0}}J(Y),V(Y,E)}function j(){J(Y),J(z),J(K)}function q(E){E.memoizedState!==null&&V(H,E);var M=Y.current,O=eb(M,E.type);M!==O&&(V(z,E),V(Y,O))}function tt(E){z.current===E&&(J(Y),J(z)),H.current===E&&(J(H),ju._currentValue=N)}var st=Object.prototype.hasOwnProperty,nt=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,ot=e.unstable_shouldYield,mt=e.unstable_requestPaint,St=e.unstable_now,Ct=e.unstable_getCurrentPriorityLevel,kt=e.unstable_ImmediatePriority,Vt=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,yt=e.unstable_LowPriority,Lt=e.unstable_IdlePriority,Ft=e.log,$t=e.unstable_setDisableYieldValue,Jt=null,jt=null;function Zt(E){if(typeof Ft=="function"&&$t(E),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Jt,E)}catch{}}var Yt=Math.clz32?Math.clz32:ce,ke=Math.log,ze=Math.LN2;function ce(E){return E>>>=0,E===0?32:31-(ke(E)/ze|0)|0}var Ae=256,Re=4194304;function Ve(E){var M=E&42;if(M!==0)return M;switch(E&-E){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return E&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return E}}function Bi(E,M,O){var I=E.pendingLanes;if(I===0)return 0;var U=0,Z=E.suspendedLanes,_=E.pingedLanes;E=E.warmLanes;var et=I&134217727;return et!==0?(I=et&~Z,I!==0?U=Ve(I):(_&=et,_!==0?U=Ve(_):O||(O=et&~E,O!==0&&(U=Ve(O))))):(et=I&~Z,et!==0?U=Ve(et):_!==0?U=Ve(_):O||(O=I&~E,O!==0&&(U=Ve(O)))),U===0?0:M!==0&&M!==U&&(M&Z)===0&&(Z=U&-U,O=M&-M,Z>=O||Z===32&&(O&4194048)!==0)?M:U}function Yi(E,M){return(E.pendingLanes&~(E.suspendedLanes&~E.pingedLanes)&M)===0}function ve(E,M){switch(E){case 1:case 2:case 4:case 8:case 64:return M+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return M+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(){var E=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),E}function us(){var E=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),E}function ba(E){for(var M=[],O=0;31>O;O++)M.push(E);return M}function or(E,M){E.pendingLanes|=M,M!==268435456&&(E.suspendedLanes=0,E.pingedLanes=0,E.warmLanes=0)}function gg(E,M,O,I,U,Z){var _=E.pendingLanes;E.pendingLanes=O,E.suspendedLanes=0,E.pingedLanes=0,E.warmLanes=0,E.expiredLanes&=O,E.entangledLanes&=O,E.errorRecoveryDisabledLanes&=O,E.shellSuspendCounter=0;var et=E.entanglements,rt=E.expirationTimes,pt=E.hiddenUpdates;for(O=_&~O;0<O;){var Pt=31-Yt(O),Rt=1<<Pt;et[Pt]=0,rt[Pt]=-1;var gt=pt[Pt];if(gt!==null)for(pt[Pt]=null,Pt=0;Pt<gt.length;Pt++){var xt=gt[Pt];xt!==null&&(xt.lane&=-536870913)}O&=~Rt}I!==0&&Qf(E,I,0),Z!==0&&U===0&&E.tag!==0&&(E.suspendedLanes|=Z&~(_&~M))}function Qf(E,M,O){E.pendingLanes|=M,E.suspendedLanes&=~M;var I=31-Yt(M);E.entangledLanes|=M,E.entanglements[I]=E.entanglements[I]|1073741824|O&4194090}function jf(E,M){var O=E.entangledLanes|=M;for(E=E.entanglements;O;){var I=31-Yt(O),U=1<<I;U&M|E[I]&M&&(E[I]|=M),O&=~U}}function nl(E){switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=128;break;case 268435456:E=134217728;break;default:E=0}return E}function ou(E){return E&=-E,2<E?8<E?(E&134217727)!==0?32:268435456:8:2}function qf(){var E=G.p;return E!==0?E:(E=window.event,E===void 0?32:Sb(E.type))}function _f(E,M){var O=G.p;try{return G.p=E,M()}finally{G.p=O}}var lr=Math.random().toString(36).slice(2),Ii="__reactFiber$"+lr,Ye="__reactProps$"+lr,Cs="__reactContainer$"+lr,rl="__reactEvents$"+lr,mg="__reactListeners$"+lr,QF="__reactHandles$"+lr,X6="__reactResources$"+lr,lu="__reactMarker$"+lr;function xg(E){delete E[Ii],delete E[Ye],delete E[rl],delete E[mg],delete E[QF]}function al(E){var M=E[Ii];if(M)return M;for(var O=E.parentNode;O;){if(M=O[Cs]||O[Ii]){if(O=M.alternate,M.child!==null||O!==null&&O.child!==null)for(E=rb(E);E!==null;){if(O=E[Ii])return O;E=rb(E)}return M}E=O,O=E.parentNode}return null}function ol(E){if(E=E[Ii]||E[Cs]){var M=E.tag;if(M===5||M===6||M===13||M===26||M===27||M===3)return E}return null}function hu(E){var M=E.tag;if(M===5||M===26||M===27||M===6)return E.stateNode;throw Error(n(33))}function ll(E){var M=E[X6];return M||(M=E[X6]={hoistableStyles:new Map,hoistableScripts:new Map}),M}function Wi(E){E[lu]=!0}var H6=new Set,Y6={};function Ko(E,M){hl(E,M),hl(E+"Capture",M)}function hl(E,M){for(Y6[E]=M,E=0;E<M.length;E++)H6.add(M[E])}var jF=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W6={},$6={};function qF(E){return st.call($6,E)?!0:st.call(W6,E)?!1:jF.test(E)?$6[E]=!0:(W6[E]=!0,!1)}function tc(E,M,O){if(qF(M))if(O===null)E.removeAttribute(M);else{switch(typeof O){case"undefined":case"function":case"symbol":E.removeAttribute(M);return;case"boolean":var I=M.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){E.removeAttribute(M);return}}E.setAttribute(M,""+O)}}function ec(E,M,O){if(O===null)E.removeAttribute(M);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":E.removeAttribute(M);return}E.setAttribute(M,""+O)}}function Nr(E,M,O,I){if(I===null)E.removeAttribute(O);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":E.removeAttribute(O);return}E.setAttributeNS(M,O,""+I)}}var yg,K6;function ul(E){if(yg===void 0)try{throw Error()}catch(O){var M=O.stack.trim().match(/\n( *(at )?)/);yg=M&&M[1]||"",K6=-1<O.stack.indexOf(`
    at`)?" (<anonymous>)":-1<O.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yg+E+K6}var Sg=!1;function Cg(E,M){if(!E||Sg)return"";Sg=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(M){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(xt){var gt=xt}Reflect.construct(E,[],Rt)}else{try{Rt.call()}catch(xt){gt=xt}E.call(Rt.prototype)}}else{try{throw Error()}catch(xt){gt=xt}(Rt=E())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(xt){if(xt&&gt&&typeof xt.stack=="string")return[xt.stack,gt.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=I.DetermineComponentFrameRoot(),_=Z[0],et=Z[1];if(_&&et){var rt=_.split(`
`),pt=et.split(`
`);for(U=I=0;I<rt.length&&!rt[I].includes("DetermineComponentFrameRoot");)I++;for(;U<pt.length&&!pt[U].includes("DetermineComponentFrameRoot");)U++;if(I===rt.length||U===pt.length)for(I=rt.length-1,U=pt.length-1;1<=I&&0<=U&&rt[I]!==pt[U];)U--;for(;1<=I&&0<=U;I--,U--)if(rt[I]!==pt[U]){if(I!==1||U!==1)do if(I--,U--,0>U||rt[I]!==pt[U]){var Pt=`
`+rt[I].replace(" at new "," at ");return E.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",E.displayName)),Pt}while(1<=I&&0<=U);break}}}finally{Sg=!1,Error.prepareStackTrace=O}return(O=E?E.displayName||E.name:"")?ul(O):""}function _F(E){switch(E.tag){case 26:case 27:case 5:return ul(E.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 15:return Cg(E.type,!1);case 11:return Cg(E.type.render,!1);case 1:return Cg(E.type,!0);case 31:return ul("Activity");default:return""}}function Z6(E){try{var M="";do M+=_F(E),E=E.return;while(E);return M}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}function dn(E){switch(typeof E){case"bigint":case"boolean":case"number":case"string":case"undefined":return E;case"object":return E;default:return""}}function J6(E){var M=E.type;return(E=E.nodeName)&&E.toLowerCase()==="input"&&(M==="checkbox"||M==="radio")}function tB(E){var M=J6(E)?"checked":"value",O=Object.getOwnPropertyDescriptor(E.constructor.prototype,M),I=""+E[M];if(!E.hasOwnProperty(M)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var U=O.get,Z=O.set;return Object.defineProperty(E,M,{configurable:!0,get:function(){return U.call(this)},set:function(_){I=""+_,Z.call(this,_)}}),Object.defineProperty(E,M,{enumerable:O.enumerable}),{getValue:function(){return I},setValue:function(_){I=""+_},stopTracking:function(){E._valueTracker=null,delete E[M]}}}}function ic(E){E._valueTracker||(E._valueTracker=tB(E))}function Q6(E){if(!E)return!1;var M=E._valueTracker;if(!M)return!0;var O=M.getValue(),I="";return E&&(I=J6(E)?E.checked?"true":"false":E.value),E=I,E!==O?(M.setValue(E),!0):!1}function sc(E){if(E=E||(typeof document<"u"?document:void 0),typeof E>"u")return null;try{return E.activeElement||E.body}catch{return E.body}}var eB=/[\n"\\]/g;function fn(E){return E.replace(eB,function(M){return"\\"+M.charCodeAt(0).toString(16)+" "})}function Tg(E,M,O,I,U,Z,_,et){E.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?E.type=_:E.removeAttribute("type"),M!=null?_==="number"?(M===0&&E.value===""||E.value!=M)&&(E.value=""+dn(M)):E.value!==""+dn(M)&&(E.value=""+dn(M)):_!=="submit"&&_!=="reset"||E.removeAttribute("value"),M!=null?bg(E,_,dn(M)):O!=null?bg(E,_,dn(O)):I!=null&&E.removeAttribute("value"),U==null&&Z!=null&&(E.defaultChecked=!!Z),U!=null&&(E.checked=U&&typeof U!="function"&&typeof U!="symbol"),et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?E.name=""+dn(et):E.removeAttribute("name")}function j6(E,M,O,I,U,Z,_,et){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(E.type=Z),M!=null||O!=null){if(!(Z!=="submit"&&Z!=="reset"||M!=null))return;O=O!=null?""+dn(O):"",M=M!=null?""+dn(M):O,et||M===E.value||(E.value=M),E.defaultValue=M}I=I??U,I=typeof I!="function"&&typeof I!="symbol"&&!!I,E.checked=et?E.checked:!!I,E.defaultChecked=!!I,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(E.name=_)}function bg(E,M,O){M==="number"&&sc(E.ownerDocument)===E||E.defaultValue===""+O||(E.defaultValue=""+O)}function dl(E,M,O,I){if(E=E.options,M){M={};for(var U=0;U<O.length;U++)M["$"+O[U]]=!0;for(O=0;O<E.length;O++)U=M.hasOwnProperty("$"+E[O].value),E[O].selected!==U&&(E[O].selected=U),U&&I&&(E[O].defaultSelected=!0)}else{for(O=""+dn(O),M=null,U=0;U<E.length;U++){if(E[U].value===O){E[U].selected=!0,I&&(E[U].defaultSelected=!0);return}M!==null||E[U].disabled||(M=E[U])}M!==null&&(M.selected=!0)}}function q6(E,M,O){if(M!=null&&(M=""+dn(M),M!==E.value&&(E.value=M),O==null)){E.defaultValue!==M&&(E.defaultValue=M);return}E.defaultValue=O!=null?""+dn(O):""}function _6(E,M,O,I){if(M==null){if(I!=null){if(O!=null)throw Error(n(92));if(B(I)){if(1<I.length)throw Error(n(93));I=I[0]}O=I}O==null&&(O=""),M=O}O=dn(M),E.defaultValue=O,I=E.textContent,I===O&&I!==""&&I!==null&&(E.value=I)}function fl(E,M){if(M){var O=E.firstChild;if(O&&O===E.lastChild&&O.nodeType===3){O.nodeValue=M;return}}E.textContent=M}var iB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tS(E,M,O){var I=M.indexOf("--")===0;O==null||typeof O=="boolean"||O===""?I?E.setProperty(M,""):M==="float"?E.cssFloat="":E[M]="":I?E.setProperty(M,O):typeof O!="number"||O===0||iB.has(M)?M==="float"?E.cssFloat=O:E[M]=(""+O).trim():E[M]=O+"px"}function eS(E,M,O){if(M!=null&&typeof M!="object")throw Error(n(62));if(E=E.style,O!=null){for(var I in O)!O.hasOwnProperty(I)||M!=null&&M.hasOwnProperty(I)||(I.indexOf("--")===0?E.setProperty(I,""):I==="float"?E.cssFloat="":E[I]="");for(var U in M)I=M[U],M.hasOwnProperty(U)&&O[U]!==I&&tS(E,U,I)}else for(var Z in M)M.hasOwnProperty(Z)&&tS(E,Z,M[Z])}function Eg(E){if(E.indexOf("-")===-1)return!1;switch(E){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nc(E){return nB.test(""+E)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":E}var wg=null;function Pg(E){return E=E.target||E.srcElement||window,E.correspondingUseElement&&(E=E.correspondingUseElement),E.nodeType===3?E.parentNode:E}var cl=null,vl=null;function iS(E){var M=ol(E);if(M&&(E=M.stateNode)){var O=E[Ye]||null;t:switch(E=M.stateNode,M.type){case"input":if(Tg(E,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name),M=O.name,O.type==="radio"&&M!=null){for(O=E;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll('input[name="'+fn(""+M)+'"][type="radio"]'),M=0;M<O.length;M++){var I=O[M];if(I!==E&&I.form===E.form){var U=I[Ye]||null;if(!U)throw Error(n(90));Tg(I,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(M=0;M<O.length;M++)I=O[M],I.form===E.form&&Q6(I)}break t;case"textarea":q6(E,O.value,O.defaultValue);break t;case"select":M=O.value,M!=null&&dl(E,!!O.multiple,M,!1)}}}var Mg=!1;function sS(E,M,O){if(Mg)return E(M,O);Mg=!0;try{var I=E(M);return I}finally{if(Mg=!1,(cl!==null||vl!==null)&&(Hc(),cl&&(M=cl,E=vl,vl=cl=null,iS(M),E)))for(M=0;M<E.length;M++)iS(E[M])}}function uu(E,M){var O=E.stateNode;if(O===null)return null;var I=O[Ye]||null;if(I===null)return null;O=I[M];t:switch(M){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(E=E.type,I=!(E==="button"||E==="input"||E==="select"||E==="textarea")),E=!I;break t;default:E=!1}if(E)return null;if(O&&typeof O!="function")throw Error(n(231,M,typeof O));return O}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=!1;if(Vr)try{var du={};Object.defineProperty(du,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{Ag=!1}var Ea=null,Rg=null,rc=null;function nS(){if(rc)return rc;var E,M=Rg,O=M.length,I,U="value"in Ea?Ea.value:Ea.textContent,Z=U.length;for(E=0;E<O&&M[E]===U[E];E++);var _=O-E;for(I=1;I<=_&&M[O-I]===U[Z-I];I++);return rc=U.slice(E,1<I?1-I:void 0)}function ac(E){var M=E.keyCode;return"charCode"in E?(E=E.charCode,E===0&&M===13&&(E=13)):E=M,E===10&&(E=13),32<=E||E===13?E:0}function oc(){return!0}function rS(){return!1}function Ls(E){function M(O,I,U,Z,_){this._reactName=O,this._targetInst=U,this.type=I,this.nativeEvent=Z,this.target=_,this.currentTarget=null;for(var et in E)E.hasOwnProperty(et)&&(O=E[et],this[et]=O?O(Z):Z[et]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?oc:rS,this.isPropagationStopped=rS,this}return g(M.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),M}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(E){return E.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Ls(Zo),fu=g({},Zo,{view:0,detail:0}),rB=Ls(fu),Og,Dg,cu,hc=g({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(E){return E.relatedTarget===void 0?E.fromElement===E.srcElement?E.toElement:E.fromElement:E.relatedTarget},movementX:function(E){return"movementX"in E?E.movementX:(E!==cu&&(cu&&E.type==="mousemove"?(Og=E.screenX-cu.screenX,Dg=E.screenY-cu.screenY):Dg=Og=0,cu=E),Og)},movementY:function(E){return"movementY"in E?E.movementY:Dg}}),aS=Ls(hc),aB=g({},hc,{dataTransfer:0}),oB=Ls(aB),lB=g({},fu,{relatedTarget:0}),Lg=Ls(lB),hB=g({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),uB=Ls(hB),dB=g({},Zo,{clipboardData:function(E){return"clipboardData"in E?E.clipboardData:window.clipboardData}}),fB=Ls(dB),cB=g({},Zo,{data:0}),oS=Ls(cB),vB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mB(E){var M=this.nativeEvent;return M.getModifierState?M.getModifierState(E):(E=gB[E])?!!M[E]:!1}function Fg(){return mB}var xB=g({},fu,{key:function(E){if(E.key){var M=vB[E.key]||E.key;if(M!=="Unidentified")return M}return E.type==="keypress"?(E=ac(E),E===13?"Enter":String.fromCharCode(E)):E.type==="keydown"||E.type==="keyup"?pB[E.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(E){return E.type==="keypress"?ac(E):0},keyCode:function(E){return E.type==="keydown"||E.type==="keyup"?E.keyCode:0},which:function(E){return E.type==="keypress"?ac(E):E.type==="keydown"||E.type==="keyup"?E.keyCode:0}}),yB=Ls(xB),SB=g({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lS=Ls(SB),CB=g({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),TB=Ls(CB),bB=g({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EB=Ls(bB),wB=g({},hc,{deltaX:function(E){return"deltaX"in E?E.deltaX:"wheelDeltaX"in E?-E.wheelDeltaX:0},deltaY:function(E){return"deltaY"in E?E.deltaY:"wheelDeltaY"in E?-E.wheelDeltaY:"wheelDelta"in E?-E.wheelDelta:0},deltaZ:0,deltaMode:0}),PB=Ls(wB),MB=g({},Zo,{newState:0,oldState:0}),AB=Ls(MB),RB=[9,13,27,32],Bg=Vr&&"CompositionEvent"in window,vu=null;Vr&&"documentMode"in document&&(vu=document.documentMode);var OB=Vr&&"TextEvent"in window&&!vu,hS=Vr&&(!Bg||vu&&8<vu&&11>=vu),uS=" ",dS=!1;function fS(E,M){switch(E){case"keyup":return RB.indexOf(M.keyCode)!==-1;case"keydown":return M.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(E){return E=E.detail,typeof E=="object"&&"data"in E?E.data:null}var pl=!1;function DB(E,M){switch(E){case"compositionend":return cS(M);case"keypress":return M.which!==32?null:(dS=!0,uS);case"textInput":return E=M.data,E===uS&&dS?null:E;default:return null}}function LB(E,M){if(pl)return E==="compositionend"||!Bg&&fS(E,M)?(E=nS(),rc=Rg=Ea=null,pl=!1,E):null;switch(E){case"paste":return null;case"keypress":if(!(M.ctrlKey||M.altKey||M.metaKey)||M.ctrlKey&&M.altKey){if(M.char&&1<M.char.length)return M.char;if(M.which)return String.fromCharCode(M.which)}return null;case"compositionend":return hS&&M.locale!=="ko"?null:M.data;default:return null}}var FB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(E){var M=E&&E.nodeName&&E.nodeName.toLowerCase();return M==="input"?!!FB[E.type]:M==="textarea"}function pS(E,M,O,I){cl?vl?vl.push(I):vl=[I]:cl=I,M=Jc(M,"onChange"),0<M.length&&(O=new lc("onChange","change",null,O,I),E.push({event:O,listeners:M}))}var pu=null,gu=null;function BB(E){JT(E,0)}function uc(E){var M=hu(E);if(Q6(M))return E}function gS(E,M){if(E==="change")return M}var mS=!1;if(Vr){var Ig;if(Vr){var kg="oninput"in document;if(!kg){var xS=document.createElement("div");xS.setAttribute("oninput","return;"),kg=typeof xS.oninput=="function"}Ig=kg}else Ig=!1;mS=Ig&&(!document.documentMode||9<document.documentMode)}function yS(){pu&&(pu.detachEvent("onpropertychange",SS),gu=pu=null)}function SS(E){if(E.propertyName==="value"&&uc(gu)){var M=[];pS(M,gu,E,Pg(E)),sS(BB,M)}}function IB(E,M,O){E==="focusin"?(yS(),pu=M,gu=O,pu.attachEvent("onpropertychange",SS)):E==="focusout"&&yS()}function kB(E){if(E==="selectionchange"||E==="keyup"||E==="keydown")return uc(gu)}function GB(E,M){if(E==="click")return uc(M)}function NB(E,M){if(E==="input"||E==="change")return uc(M)}function VB(E,M){return E===M&&(E!==0||1/E===1/M)||E!==E&&M!==M}var Ks=typeof Object.is=="function"?Object.is:VB;function mu(E,M){if(Ks(E,M))return!0;if(typeof E!="object"||E===null||typeof M!="object"||M===null)return!1;var O=Object.keys(E),I=Object.keys(M);if(O.length!==I.length)return!1;for(I=0;I<O.length;I++){var U=O[I];if(!st.call(M,U)||!Ks(E[U],M[U]))return!1}return!0}function CS(E){for(;E&&E.firstChild;)E=E.firstChild;return E}function TS(E,M){var O=CS(E);E=0;for(var I;O;){if(O.nodeType===3){if(I=E+O.textContent.length,E<=M&&I>=M)return{node:O,offset:M-E};E=I}t:{for(;O;){if(O.nextSibling){O=O.nextSibling;break t}O=O.parentNode}O=void 0}O=CS(O)}}function bS(E,M){return E&&M?E===M?!0:E&&E.nodeType===3?!1:M&&M.nodeType===3?bS(E,M.parentNode):"contains"in E?E.contains(M):E.compareDocumentPosition?!!(E.compareDocumentPosition(M)&16):!1:!1}function ES(E){E=E!=null&&E.ownerDocument!=null&&E.ownerDocument.defaultView!=null?E.ownerDocument.defaultView:window;for(var M=sc(E.document);M instanceof E.HTMLIFrameElement;){try{var O=typeof M.contentWindow.location.href=="string"}catch{O=!1}if(O)E=M.contentWindow;else break;M=sc(E.document)}return M}function Gg(E){var M=E&&E.nodeName&&E.nodeName.toLowerCase();return M&&(M==="input"&&(E.type==="text"||E.type==="search"||E.type==="tel"||E.type==="url"||E.type==="password")||M==="textarea"||E.contentEditable==="true")}var zB=Vr&&"documentMode"in document&&11>=document.documentMode,gl=null,Ng=null,xu=null,Vg=!1;function wS(E,M,O){var I=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;Vg||gl==null||gl!==sc(I)||(I=gl,"selectionStart"in I&&Gg(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),xu&&mu(xu,I)||(xu=I,I=Jc(Ng,"onSelect"),0<I.length&&(M=new lc("onSelect","select",null,M,O),E.push({event:M,listeners:I}),M.target=gl)))}function Jo(E,M){var O={};return O[E.toLowerCase()]=M.toLowerCase(),O["Webkit"+E]="webkit"+M,O["Moz"+E]="moz"+M,O}var ml={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionrun:Jo("Transition","TransitionRun"),transitionstart:Jo("Transition","TransitionStart"),transitioncancel:Jo("Transition","TransitionCancel"),transitionend:Jo("Transition","TransitionEnd")},zg={},PS={};Vr&&(PS=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Qo(E){if(zg[E])return zg[E];if(!ml[E])return E;var M=ml[E],O;for(O in M)if(M.hasOwnProperty(O)&&O in PS)return zg[E]=M[O];return E}var MS=Qo("animationend"),AS=Qo("animationiteration"),RS=Qo("animationstart"),UB=Qo("transitionrun"),XB=Qo("transitionstart"),HB=Qo("transitioncancel"),OS=Qo("transitionend"),DS=new Map,Ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ug.push("scrollEnd");function Nn(E,M){DS.set(E,M),Ko(M,[E])}var LS=new WeakMap;function cn(E,M){if(typeof E=="object"&&E!==null){var O=LS.get(E);return O!==void 0?O:(M={value:E,source:M,stack:Z6(M)},LS.set(E,M),M)}return{value:E,source:M,stack:Z6(M)}}var vn=[],xl=0,Xg=0;function dc(){for(var E=xl,M=Xg=xl=0;M<E;){var O=vn[M];vn[M++]=null;var I=vn[M];vn[M++]=null;var U=vn[M];vn[M++]=null;var Z=vn[M];if(vn[M++]=null,I!==null&&U!==null){var _=I.pending;_===null?U.next=U:(U.next=_.next,_.next=U),I.pending=U}Z!==0&&FS(O,U,Z)}}function fc(E,M,O,I){vn[xl++]=E,vn[xl++]=M,vn[xl++]=O,vn[xl++]=I,Xg|=I,E.lanes|=I,E=E.alternate,E!==null&&(E.lanes|=I)}function Hg(E,M,O,I){return fc(E,M,O,I),cc(E)}function yl(E,M){return fc(E,null,null,M),cc(E)}function FS(E,M,O){E.lanes|=O;var I=E.alternate;I!==null&&(I.lanes|=O);for(var U=!1,Z=E.return;Z!==null;)Z.childLanes|=O,I=Z.alternate,I!==null&&(I.childLanes|=O),Z.tag===22&&(E=Z.stateNode,E===null||E._visibility&1||(U=!0)),E=Z,Z=Z.return;return E.tag===3?(Z=E.stateNode,U&&M!==null&&(U=31-Yt(O),E=Z.hiddenUpdates,I=E[U],I===null?E[U]=[M]:I.push(M),M.lane=O|536870912),Z):null}function cc(E){if(50<Hu)throw Hu=0,Jm=null,Error(n(185));for(var M=E.return;M!==null;)E=M,M=E.return;return E.tag===3?E.stateNode:null}var Sl={};function YB(E,M,O,I){this.tag=E,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=M,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(E,M,O,I){return new YB(E,M,O,I)}function Yg(E){return E=E.prototype,!(!E||!E.isReactComponent)}function zr(E,M){var O=E.alternate;return O===null?(O=Zs(E.tag,M,E.key,E.mode),O.elementType=E.elementType,O.type=E.type,O.stateNode=E.stateNode,O.alternate=E,E.alternate=O):(O.pendingProps=M,O.type=E.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=E.flags&65011712,O.childLanes=E.childLanes,O.lanes=E.lanes,O.child=E.child,O.memoizedProps=E.memoizedProps,O.memoizedState=E.memoizedState,O.updateQueue=E.updateQueue,M=E.dependencies,O.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext},O.sibling=E.sibling,O.index=E.index,O.ref=E.ref,O.refCleanup=E.refCleanup,O}function BS(E,M){E.flags&=65011714;var O=E.alternate;return O===null?(E.childLanes=0,E.lanes=M,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=O.childLanes,E.lanes=O.lanes,E.child=O.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=O.memoizedProps,E.memoizedState=O.memoizedState,E.updateQueue=O.updateQueue,E.type=O.type,M=O.dependencies,E.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),E}function vc(E,M,O,I,U,Z){var _=0;if(I=E,typeof E=="function")Yg(E)&&(_=1);else if(typeof E=="string")_=$7(E,O,Y.current)?26:E==="html"||E==="head"||E==="body"?27:5;else t:switch(E){case w:return E=Zs(31,O,M,U),E.elementType=w,E.lanes=Z,E;case o:return jo(O.children,U,Z,M);case u:_=8,U|=24;break;case v:return E=Zs(12,O,M,U|2),E.elementType=v,E.lanes=Z,E;case S:return E=Zs(13,O,M,U),E.elementType=S,E.lanes=Z,E;case T:return E=Zs(19,O,M,U),E.elementType=T,E.lanes=Z,E;default:if(typeof E=="object"&&E!==null)switch(E.$$typeof){case f:case m:_=10;break t;case p:_=9;break t;case y:_=11;break t;case b:_=14;break t;case P:_=16,I=null;break t}_=29,O=Error(n(130,E===null?"null":typeof E,"")),I=null}return M=Zs(_,O,M,U),M.elementType=E,M.type=I,M.lanes=Z,M}function jo(E,M,O,I){return E=Zs(7,E,I,M),E.lanes=O,E}function Wg(E,M,O){return E=Zs(6,E,null,M),E.lanes=O,E}function $g(E,M,O){return M=Zs(4,E.children!==null?E.children:[],E.key,M),M.lanes=O,M.stateNode={containerInfo:E.containerInfo,pendingChildren:null,implementation:E.implementation},M}var Cl=[],Tl=0,pc=null,gc=0,pn=[],gn=0,qo=null,Ur=1,Xr="";function _o(E,M){Cl[Tl++]=gc,Cl[Tl++]=pc,pc=E,gc=M}function IS(E,M,O){pn[gn++]=Ur,pn[gn++]=Xr,pn[gn++]=qo,qo=E;var I=Ur;E=Xr;var U=32-Yt(I)-1;I&=~(1<<U),O+=1;var Z=32-Yt(M)+U;if(30<Z){var _=U-U%5;Z=(I&(1<<_)-1).toString(32),I>>=_,U-=_,Ur=1<<32-Yt(M)+U|O<<U|I,Xr=Z+E}else Ur=1<<Z|O<<U|I,Xr=E}function Kg(E){E.return!==null&&(_o(E,1),IS(E,1,0))}function Zg(E){for(;E===pc;)pc=Cl[--Tl],Cl[Tl]=null,gc=Cl[--Tl],Cl[Tl]=null;for(;E===qo;)qo=pn[--gn],pn[gn]=null,Xr=pn[--gn],pn[gn]=null,Ur=pn[--gn],pn[gn]=null}var Ts=null,ci=null,Ge=!1,t0=null,hr=!1,Jg=Error(n(519));function e0(E){var M=Error(n(418,""));throw Cu(cn(M,E)),Jg}function kS(E){var M=E.stateNode,O=E.type,I=E.memoizedProps;switch(M[Ii]=E,M[Ye]=I,O){case"dialog":ye("cancel",M),ye("close",M);break;case"iframe":case"object":case"embed":ye("load",M);break;case"video":case"audio":for(O=0;O<Wu.length;O++)ye(Wu[O],M);break;case"source":ye("error",M);break;case"img":case"image":case"link":ye("error",M),ye("load",M);break;case"details":ye("toggle",M);break;case"input":ye("invalid",M),j6(M,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0),ic(M);break;case"select":ye("invalid",M);break;case"textarea":ye("invalid",M),_6(M,I.value,I.defaultValue,I.children),ic(M)}O=I.children,typeof O!="string"&&typeof O!="number"&&typeof O!="bigint"||M.textContent===""+O||I.suppressHydrationWarning===!0||_T(M.textContent,O)?(I.popover!=null&&(ye("beforetoggle",M),ye("toggle",M)),I.onScroll!=null&&ye("scroll",M),I.onScrollEnd!=null&&ye("scrollend",M),I.onClick!=null&&(M.onclick=Qc),M=!0):M=!1,M||e0(E)}function GS(E){for(Ts=E.return;Ts;)switch(Ts.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Ts=Ts.return}}function yu(E){if(E!==Ts)return!1;if(!Ge)return GS(E),Ge=!0,!1;var M=E.tag,O;if((O=M!==3&&M!==27)&&((O=M===5)&&(O=E.type,O=!(O!=="form"&&O!=="button")||dx(E.type,E.memoizedProps)),O=!O),O&&ci&&e0(E),GS(E),M===13){if(E=E.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));t:{for(E=E.nextSibling,M=0;E;){if(E.nodeType===8)if(O=E.data,O==="/$"){if(M===0){ci=zn(E.nextSibling);break t}M--}else O!=="$"&&O!=="$!"&&O!=="$?"||M++;E=E.nextSibling}ci=null}}else M===27?(M=ci,za(E.type)?(E=px,px=null,ci=E):ci=M):ci=Ts?zn(E.stateNode.nextSibling):null;return!0}function Su(){ci=Ts=null,Ge=!1}function NS(){var E=t0;return E!==null&&(Is===null?Is=E:Is.push.apply(Is,E),t0=null),E}function Cu(E){t0===null?t0=[E]:t0.push(E)}var Qg=$(null),i0=null,Hr=null;function wa(E,M,O){V(Qg,M._currentValue),M._currentValue=O}function Yr(E){E._currentValue=Qg.current,J(Qg)}function jg(E,M,O){for(;E!==null;){var I=E.alternate;if((E.childLanes&M)!==M?(E.childLanes|=M,I!==null&&(I.childLanes|=M)):I!==null&&(I.childLanes&M)!==M&&(I.childLanes|=M),E===O)break;E=E.return}}function qg(E,M,O,I){var U=E.child;for(U!==null&&(U.return=E);U!==null;){var Z=U.dependencies;if(Z!==null){var _=U.child;Z=Z.firstContext;t:for(;Z!==null;){var et=Z;Z=U;for(var rt=0;rt<M.length;rt++)if(et.context===M[rt]){Z.lanes|=O,et=Z.alternate,et!==null&&(et.lanes|=O),jg(Z.return,O,E),I||(_=null);break t}Z=et.next}}else if(U.tag===18){if(_=U.return,_===null)throw Error(n(341));_.lanes|=O,Z=_.alternate,Z!==null&&(Z.lanes|=O),jg(_,O,E),_=null}else _=U.child;if(_!==null)_.return=U;else for(_=U;_!==null;){if(_===E){_=null;break}if(U=_.sibling,U!==null){U.return=_.return,_=U;break}_=_.return}U=_}}function Tu(E,M,O,I){E=null;for(var U=M,Z=!1;U!==null;){if(!Z){if((U.flags&524288)!==0)Z=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var _=U.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var et=U.type;Ks(U.pendingProps.value,_.value)||(E!==null?E.push(et):E=[et])}}else if(U===H.current){if(_=U.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(E!==null?E.push(ju):E=[ju])}U=U.return}E!==null&&qg(M,E,O,I),M.flags|=262144}function mc(E){for(E=E.firstContext;E!==null;){if(!Ks(E.context._currentValue,E.memoizedValue))return!0;E=E.next}return!1}function s0(E){i0=E,Hr=null,E=E.dependencies,E!==null&&(E.firstContext=null)}function ds(E){return VS(i0,E)}function xc(E,M){return i0===null&&s0(E),VS(E,M)}function VS(E,M){var O=M._currentValue;if(M={context:M,memoizedValue:O,next:null},Hr===null){if(E===null)throw Error(n(308));Hr=M,E.dependencies={lanes:0,firstContext:M},E.flags|=524288}else Hr=Hr.next=M;return O}var WB=typeof AbortController<"u"?AbortController:function(){var E=[],M=this.signal={aborted:!1,addEventListener:function(O,I){E.push(I)}};this.abort=function(){M.aborted=!0,E.forEach(function(O){return O()})}},$B=e.unstable_scheduleCallback,KB=e.unstable_NormalPriority,ki={$$typeof:m,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _g(){return{controller:new WB,data:new Map,refCount:0}}function bu(E){E.refCount--,E.refCount===0&&$B(KB,function(){E.controller.abort()})}var Eu=null,tm=0,bl=0,El=null;function ZB(E,M){if(Eu===null){var O=Eu=[];tm=0,bl=ix(),El={status:"pending",value:void 0,then:function(I){O.push(I)}}}return tm++,M.then(zS,zS),M}function zS(){if(--tm===0&&Eu!==null){El!==null&&(El.status="fulfilled");var E=Eu;Eu=null,bl=0,El=null;for(var M=0;M<E.length;M++)(0,E[M])()}}function JB(E,M){var O=[],I={status:"pending",value:null,reason:null,then:function(U){O.push(U)}};return E.then(function(){I.status="fulfilled",I.value=M;for(var U=0;U<O.length;U++)(0,O[U])(M)},function(U){for(I.status="rejected",I.reason=U,U=0;U<O.length;U++)(0,O[U])(void 0)}),I}var US=F.S;F.S=function(E,M){typeof M=="object"&&M!==null&&typeof M.then=="function"&&ZB(E,M),US!==null&&US(E,M)};var n0=$(null);function em(){var E=n0.current;return E!==null?E:je.pooledCache}function yc(E,M){M===null?V(n0,n0.current):V(n0,M.pool)}function XS(){var E=em();return E===null?null:{parent:ki._currentValue,pool:E}}var wu=Error(n(460)),HS=Error(n(474)),Sc=Error(n(542)),im={then:function(){}};function YS(E){return E=E.status,E==="fulfilled"||E==="rejected"}function Cc(){}function WS(E,M,O){switch(O=E[O],O===void 0?E.push(M):O!==M&&(M.then(Cc,Cc),M=O),M.status){case"fulfilled":return M.value;case"rejected":throw E=M.reason,KS(E),E;default:if(typeof M.status=="string")M.then(Cc,Cc);else{if(E=je,E!==null&&100<E.shellSuspendCounter)throw Error(n(482));E=M,E.status="pending",E.then(function(I){if(M.status==="pending"){var U=M;U.status="fulfilled",U.value=I}},function(I){if(M.status==="pending"){var U=M;U.status="rejected",U.reason=I}})}switch(M.status){case"fulfilled":return M.value;case"rejected":throw E=M.reason,KS(E),E}throw Pu=M,wu}}var Pu=null;function $S(){if(Pu===null)throw Error(n(459));var E=Pu;return Pu=null,E}function KS(E){if(E===wu||E===Sc)throw Error(n(483))}var Pa=!1;function sm(E){E.updateQueue={baseState:E.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(E,M){E=E.updateQueue,M.updateQueue===E&&(M.updateQueue={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,callbacks:null})}function Ma(E){return{lane:E,tag:0,payload:null,callback:null,next:null}}function Aa(E,M,O){var I=E.updateQueue;if(I===null)return null;if(I=I.shared,(Ue&2)!==0){var U=I.pending;return U===null?M.next=M:(M.next=U.next,U.next=M),I.pending=M,M=cc(E),FS(E,null,O),M}return fc(E,I,M,O),cc(E)}function Mu(E,M,O){if(M=M.updateQueue,M!==null&&(M=M.shared,(O&4194048)!==0)){var I=M.lanes;I&=E.pendingLanes,O|=I,M.lanes=O,jf(E,O)}}function rm(E,M){var O=E.updateQueue,I=E.alternate;if(I!==null&&(I=I.updateQueue,O===I)){var U=null,Z=null;if(O=O.firstBaseUpdate,O!==null){do{var _={lane:O.lane,tag:O.tag,payload:O.payload,callback:null,next:null};Z===null?U=Z=_:Z=Z.next=_,O=O.next}while(O!==null);Z===null?U=Z=M:Z=Z.next=M}else U=Z=M;O={baseState:I.baseState,firstBaseUpdate:U,lastBaseUpdate:Z,shared:I.shared,callbacks:I.callbacks},E.updateQueue=O;return}E=O.lastBaseUpdate,E===null?O.firstBaseUpdate=M:E.next=M,O.lastBaseUpdate=M}var am=!1;function Au(){if(am){var E=El;if(E!==null)throw E}}function Ru(E,M,O,I){am=!1;var U=E.updateQueue;Pa=!1;var Z=U.firstBaseUpdate,_=U.lastBaseUpdate,et=U.shared.pending;if(et!==null){U.shared.pending=null;var rt=et,pt=rt.next;rt.next=null,_===null?Z=pt:_.next=pt,_=rt;var Pt=E.alternate;Pt!==null&&(Pt=Pt.updateQueue,et=Pt.lastBaseUpdate,et!==_&&(et===null?Pt.firstBaseUpdate=pt:et.next=pt,Pt.lastBaseUpdate=rt))}if(Z!==null){var Rt=U.baseState;_=0,Pt=pt=rt=null,et=Z;do{var gt=et.lane&-536870913,xt=gt!==et.lane;if(xt?(we&gt)===gt:(I&gt)===gt){gt!==0&&gt===bl&&(am=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});t:{var ie=E,qt=et;gt=M;var Ke=O;switch(qt.tag){case 1:if(ie=qt.payload,typeof ie=="function"){Rt=ie.call(Ke,Rt,gt);break t}Rt=ie;break t;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=qt.payload,gt=typeof ie=="function"?ie.call(Ke,Rt,gt):ie,gt==null)break t;Rt=g({},Rt,gt);break t;case 2:Pa=!0}}gt=et.callback,gt!==null&&(E.flags|=64,xt&&(E.flags|=8192),xt=U.callbacks,xt===null?U.callbacks=[gt]:xt.push(gt))}else xt={lane:gt,tag:et.tag,payload:et.payload,callback:et.callback,next:null},Pt===null?(pt=Pt=xt,rt=Rt):Pt=Pt.next=xt,_|=gt;if(et=et.next,et===null){if(et=U.shared.pending,et===null)break;xt=et,et=xt.next,xt.next=null,U.lastBaseUpdate=xt,U.shared.pending=null}}while(!0);Pt===null&&(rt=Rt),U.baseState=rt,U.firstBaseUpdate=pt,U.lastBaseUpdate=Pt,Z===null&&(U.shared.lanes=0),ka|=_,E.lanes=_,E.memoizedState=Rt}}function ZS(E,M){if(typeof E!="function")throw Error(n(191,E));E.call(M)}function JS(E,M){var O=E.callbacks;if(O!==null)for(E.callbacks=null,E=0;E<O.length;E++)ZS(O[E],M)}var wl=$(null),Tc=$(0);function QS(E,M){E=jr,V(Tc,E),V(wl,M),jr=E|M.baseLanes}function om(){V(Tc,jr),V(wl,wl.current)}function lm(){jr=Tc.current,J(wl),J(Tc)}var Ra=0,pe=null,We=null,Ai=null,bc=!1,Pl=!1,r0=!1,Ec=0,Ou=0,Ml=null,QB=0;function bi(){throw Error(n(321))}function hm(E,M){if(M===null)return!1;for(var O=0;O<M.length&&O<E.length;O++)if(!Ks(E[O],M[O]))return!1;return!0}function um(E,M,O,I,U,Z){return Ra=Z,pe=M,M.memoizedState=null,M.updateQueue=null,M.lanes=0,F.H=E===null||E.memoizedState===null?FC:BC,r0=!1,Z=O(I,U),r0=!1,Pl&&(Z=qS(M,O,I,U)),jS(E),Z}function jS(E){F.H=Oc;var M=We!==null&&We.next!==null;if(Ra=0,Ai=We=pe=null,bc=!1,Ou=0,Ml=null,M)throw Error(n(300));E===null||$i||(E=E.dependencies,E!==null&&mc(E)&&($i=!0))}function qS(E,M,O,I){pe=E;var U=0;do{if(Pl&&(Ml=null),Ou=0,Pl=!1,25<=U)throw Error(n(301));if(U+=1,Ai=We=null,E.updateQueue!=null){var Z=E.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}F.H=s7,Z=M(O,I)}while(Pl);return Z}function jB(){var E=F.H,M=E.useState()[0];return M=typeof M.then=="function"?Du(M):M,E=E.useState()[0],(We!==null?We.memoizedState:null)!==E&&(pe.flags|=1024),M}function dm(){var E=Ec!==0;return Ec=0,E}function fm(E,M,O){M.updateQueue=E.updateQueue,M.flags&=-2053,E.lanes&=~O}function cm(E){if(bc){for(E=E.memoizedState;E!==null;){var M=E.queue;M!==null&&(M.pending=null),E=E.next}bc=!1}Ra=0,Ai=We=pe=null,Pl=!1,Ou=Ec=0,Ml=null}function Fs(){var E={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?pe.memoizedState=Ai=E:Ai=Ai.next=E,Ai}function Ri(){if(We===null){var E=pe.alternate;E=E!==null?E.memoizedState:null}else E=We.next;var M=Ai===null?pe.memoizedState:Ai.next;if(M!==null)Ai=M,We=E;else{if(E===null)throw pe.alternate===null?Error(n(467)):Error(n(310));We=E,E={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ai===null?pe.memoizedState=Ai=E:Ai=Ai.next=E}return Ai}function vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(E){var M=Ou;return Ou+=1,Ml===null&&(Ml=[]),E=WS(Ml,E,M),M=pe,(Ai===null?M.memoizedState:Ai.next)===null&&(M=M.alternate,F.H=M===null||M.memoizedState===null?FC:BC),E}function wc(E){if(E!==null&&typeof E=="object"){if(typeof E.then=="function")return Du(E);if(E.$$typeof===m)return ds(E)}throw Error(n(438,String(E)))}function pm(E){var M=null,O=pe.updateQueue;if(O!==null&&(M=O.memoCache),M==null){var I=pe.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(M={data:I.data.map(function(U){return U.slice()}),index:0})))}if(M==null&&(M={data:[],index:0}),O===null&&(O=vm(),pe.updateQueue=O),O.memoCache=M,O=M.data[M.index],O===void 0)for(O=M.data[M.index]=Array(E),I=0;I<E;I++)O[I]=A;return M.index++,O}function Wr(E,M){return typeof M=="function"?M(E):M}function Pc(E){var M=Ri();return gm(M,We,E)}function gm(E,M,O){var I=E.queue;if(I===null)throw Error(n(311));I.lastRenderedReducer=O;var U=E.baseQueue,Z=I.pending;if(Z!==null){if(U!==null){var _=U.next;U.next=Z.next,Z.next=_}M.baseQueue=U=Z,I.pending=null}if(Z=E.baseState,U===null)E.memoizedState=Z;else{M=U.next;var et=_=null,rt=null,pt=M,Pt=!1;do{var Rt=pt.lane&-536870913;if(Rt!==pt.lane?(we&Rt)===Rt:(Ra&Rt)===Rt){var gt=pt.revertLane;if(gt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Rt===bl&&(Pt=!0);else if((Ra&gt)===gt){pt=pt.next,gt===bl&&(Pt=!0);continue}else Rt={lane:0,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},rt===null?(et=rt=Rt,_=Z):rt=rt.next=Rt,pe.lanes|=gt,ka|=gt;Rt=pt.action,r0&&O(Z,Rt),Z=pt.hasEagerState?pt.eagerState:O(Z,Rt)}else gt={lane:Rt,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},rt===null?(et=rt=gt,_=Z):rt=rt.next=gt,pe.lanes|=Rt,ka|=Rt;pt=pt.next}while(pt!==null&&pt!==M);if(rt===null?_=Z:rt.next=et,!Ks(Z,E.memoizedState)&&($i=!0,Pt&&(O=El,O!==null)))throw O;E.memoizedState=Z,E.baseState=_,E.baseQueue=rt,I.lastRenderedState=Z}return U===null&&(I.lanes=0),[E.memoizedState,I.dispatch]}function mm(E){var M=Ri(),O=M.queue;if(O===null)throw Error(n(311));O.lastRenderedReducer=E;var I=O.dispatch,U=O.pending,Z=M.memoizedState;if(U!==null){O.pending=null;var _=U=U.next;do Z=E(Z,_.action),_=_.next;while(_!==U);Ks(Z,M.memoizedState)||($i=!0),M.memoizedState=Z,M.baseQueue===null&&(M.baseState=Z),O.lastRenderedState=Z}return[Z,I]}function _S(E,M,O){var I=pe,U=Ri(),Z=Ge;if(Z){if(O===void 0)throw Error(n(407));O=O()}else O=M();var _=!Ks((We||U).memoizedState,O);_&&(U.memoizedState=O,$i=!0),U=U.queue;var et=iC.bind(null,I,U,E);if(Lu(2048,8,et,[E]),U.getSnapshot!==M||_||Ai!==null&&Ai.memoizedState.tag&1){if(I.flags|=2048,Al(9,Mc(),eC.bind(null,I,U,O,M),null),je===null)throw Error(n(349));Z||(Ra&124)!==0||tC(I,M,O)}return O}function tC(E,M,O){E.flags|=16384,E={getSnapshot:M,value:O},M=pe.updateQueue,M===null?(M=vm(),pe.updateQueue=M,M.stores=[E]):(O=M.stores,O===null?M.stores=[E]:O.push(E))}function eC(E,M,O,I){M.value=O,M.getSnapshot=I,sC(M)&&nC(E)}function iC(E,M,O){return O(function(){sC(M)&&nC(E)})}function sC(E){var M=E.getSnapshot;E=E.value;try{var O=M();return!Ks(E,O)}catch{return!0}}function nC(E){var M=yl(E,2);M!==null&&_s(M,E,2)}function xm(E){var M=Fs();if(typeof E=="function"){var O=E;if(E=O(),r0){Zt(!0);try{O()}finally{Zt(!1)}}}return M.memoizedState=M.baseState=E,M.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:E},M}function rC(E,M,O,I){return E.baseState=O,gm(E,We,typeof I=="function"?I:Wr)}function qB(E,M,O,I,U){if(Rc(E))throw Error(n(485));if(E=M.action,E!==null){var Z={payload:U,action:E,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){Z.listeners.push(_)}};F.T!==null?O(!0):Z.isTransition=!1,I(Z),O=M.pending,O===null?(Z.next=M.pending=Z,aC(M,Z)):(Z.next=O.next,M.pending=O.next=Z)}}function aC(E,M){var O=M.action,I=M.payload,U=E.state;if(M.isTransition){var Z=F.T,_={};F.T=_;try{var et=O(U,I),rt=F.S;rt!==null&&rt(_,et),oC(E,M,et)}catch(pt){ym(E,M,pt)}finally{F.T=Z}}else try{Z=O(U,I),oC(E,M,Z)}catch(pt){ym(E,M,pt)}}function oC(E,M,O){O!==null&&typeof O=="object"&&typeof O.then=="function"?O.then(function(I){lC(E,M,I)},function(I){return ym(E,M,I)}):lC(E,M,O)}function lC(E,M,O){M.status="fulfilled",M.value=O,hC(M),E.state=O,M=E.pending,M!==null&&(O=M.next,O===M?E.pending=null:(O=O.next,M.next=O,aC(E,O)))}function ym(E,M,O){var I=E.pending;if(E.pending=null,I!==null){I=I.next;do M.status="rejected",M.reason=O,hC(M),M=M.next;while(M!==I)}E.action=null}function hC(E){E=E.listeners;for(var M=0;M<E.length;M++)(0,E[M])()}function uC(E,M){return M}function dC(E,M){if(Ge){var O=je.formState;if(O!==null){t:{var I=pe;if(Ge){if(ci){e:{for(var U=ci,Z=hr;U.nodeType!==8;){if(!Z){U=null;break e}if(U=zn(U.nextSibling),U===null){U=null;break e}}Z=U.data,U=Z==="F!"||Z==="F"?U:null}if(U){ci=zn(U.nextSibling),I=U.data==="F!";break t}}e0(I)}I=!1}I&&(M=O[0])}}return O=Fs(),O.memoizedState=O.baseState=M,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uC,lastRenderedState:M},O.queue=I,O=OC.bind(null,pe,I),I.dispatch=O,I=xm(!1),Z=Em.bind(null,pe,!1,I.queue),I=Fs(),U={state:M,dispatch:null,action:E,pending:null},I.queue=U,O=qB.bind(null,pe,U,Z,O),U.dispatch=O,I.memoizedState=E,[M,O,!1]}function fC(E){var M=Ri();return cC(M,We,E)}function cC(E,M,O){if(M=gm(E,M,uC)[0],E=Pc(Wr)[0],typeof M=="object"&&M!==null&&typeof M.then=="function")try{var I=Du(M)}catch(_){throw _===wu?Sc:_}else I=M;M=Ri();var U=M.queue,Z=U.dispatch;return O!==M.memoizedState&&(pe.flags|=2048,Al(9,Mc(),_B.bind(null,U,O),null)),[I,Z,E]}function _B(E,M){E.action=M}function vC(E){var M=Ri(),O=We;if(O!==null)return cC(M,O,E);Ri(),M=M.memoizedState,O=Ri();var I=O.queue.dispatch;return O.memoizedState=E,[M,I,!1]}function Al(E,M,O,I){return E={tag:E,create:O,deps:I,inst:M,next:null},M=pe.updateQueue,M===null&&(M=vm(),pe.updateQueue=M),O=M.lastEffect,O===null?M.lastEffect=E.next=E:(I=O.next,O.next=E,E.next=I,M.lastEffect=E),E}function Mc(){return{destroy:void 0,resource:void 0}}function pC(){return Ri().memoizedState}function Ac(E,M,O,I){var U=Fs();I=I===void 0?null:I,pe.flags|=E,U.memoizedState=Al(1|M,Mc(),O,I)}function Lu(E,M,O,I){var U=Ri();I=I===void 0?null:I;var Z=U.memoizedState.inst;We!==null&&I!==null&&hm(I,We.memoizedState.deps)?U.memoizedState=Al(M,Z,O,I):(pe.flags|=E,U.memoizedState=Al(1|M,Z,O,I))}function gC(E,M){Ac(8390656,8,E,M)}function mC(E,M){Lu(2048,8,E,M)}function xC(E,M){return Lu(4,2,E,M)}function yC(E,M){return Lu(4,4,E,M)}function SC(E,M){if(typeof M=="function"){E=E();var O=M(E);return function(){typeof O=="function"?O():M(null)}}if(M!=null)return E=E(),M.current=E,function(){M.current=null}}function CC(E,M,O){O=O!=null?O.concat([E]):null,Lu(4,4,SC.bind(null,M,E),O)}function Sm(){}function TC(E,M){var O=Ri();M=M===void 0?null:M;var I=O.memoizedState;return M!==null&&hm(M,I[1])?I[0]:(O.memoizedState=[E,M],E)}function bC(E,M){var O=Ri();M=M===void 0?null:M;var I=O.memoizedState;if(M!==null&&hm(M,I[1]))return I[0];if(I=E(),r0){Zt(!0);try{E()}finally{Zt(!1)}}return O.memoizedState=[I,M],I}function Cm(E,M,O){return O===void 0||(Ra&1073741824)!==0?E.memoizedState=M:(E.memoizedState=O,E=PT(),pe.lanes|=E,ka|=E,O)}function EC(E,M,O,I){return Ks(O,M)?O:wl.current!==null?(E=Cm(E,O,I),Ks(E,M)||($i=!0),E):(Ra&42)===0?($i=!0,E.memoizedState=O):(E=PT(),pe.lanes|=E,ka|=E,M)}function wC(E,M,O,I,U){var Z=G.p;G.p=Z!==0&&8>Z?Z:8;var _=F.T,et={};F.T=et,Em(E,!1,M,O);try{var rt=U(),pt=F.S;if(pt!==null&&pt(et,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var Pt=JB(rt,I);Fu(E,M,Pt,qs(E))}else Fu(E,M,I,qs(E))}catch(Rt){Fu(E,M,{then:function(){},status:"rejected",reason:Rt},qs())}finally{G.p=Z,F.T=_}}function t7(){}function Tm(E,M,O,I){if(E.tag!==5)throw Error(n(476));var U=PC(E).queue;wC(E,U,M,N,O===null?t7:function(){return MC(E),O(I)})}function PC(E){var M=E.memoizedState;if(M!==null)return M;M={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:N},next:null};var O={};return M.next={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:O},next:null},E.memoizedState=M,E=E.alternate,E!==null&&(E.memoizedState=M),M}function MC(E){var M=PC(E).next.queue;Fu(E,M,{},qs())}function bm(){return ds(ju)}function AC(){return Ri().memoizedState}function RC(){return Ri().memoizedState}function e7(E){for(var M=E.return;M!==null;){switch(M.tag){case 24:case 3:var O=qs();E=Ma(O);var I=Aa(M,E,O);I!==null&&(_s(I,M,O),Mu(I,M,O)),M={cache:_g()},E.payload=M;return}M=M.return}}function i7(E,M,O){var I=qs();O={lane:I,revertLane:0,action:O,hasEagerState:!1,eagerState:null,next:null},Rc(E)?DC(M,O):(O=Hg(E,M,O,I),O!==null&&(_s(O,E,I),LC(O,M,I)))}function OC(E,M,O){var I=qs();Fu(E,M,O,I)}function Fu(E,M,O,I){var U={lane:I,revertLane:0,action:O,hasEagerState:!1,eagerState:null,next:null};if(Rc(E))DC(M,U);else{var Z=E.alternate;if(E.lanes===0&&(Z===null||Z.lanes===0)&&(Z=M.lastRenderedReducer,Z!==null))try{var _=M.lastRenderedState,et=Z(_,O);if(U.hasEagerState=!0,U.eagerState=et,Ks(et,_))return fc(E,M,U,0),je===null&&dc(),!1}catch{}finally{}if(O=Hg(E,M,U,I),O!==null)return _s(O,E,I),LC(O,M,I),!0}return!1}function Em(E,M,O,I){if(I={lane:2,revertLane:ix(),action:I,hasEagerState:!1,eagerState:null,next:null},Rc(E)){if(M)throw Error(n(479))}else M=Hg(E,O,I,2),M!==null&&_s(M,E,2)}function Rc(E){var M=E.alternate;return E===pe||M!==null&&M===pe}function DC(E,M){Pl=bc=!0;var O=E.pending;O===null?M.next=M:(M.next=O.next,O.next=M),E.pending=M}function LC(E,M,O){if((O&4194048)!==0){var I=M.lanes;I&=E.pendingLanes,O|=I,M.lanes=O,jf(E,O)}}var Oc={readContext:ds,use:wc,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useLayoutEffect:bi,useInsertionEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useSyncExternalStore:bi,useId:bi,useHostTransitionStatus:bi,useFormState:bi,useActionState:bi,useOptimistic:bi,useMemoCache:bi,useCacheRefresh:bi},FC={readContext:ds,use:wc,useCallback:function(E,M){return Fs().memoizedState=[E,M===void 0?null:M],E},useContext:ds,useEffect:gC,useImperativeHandle:function(E,M,O){O=O!=null?O.concat([E]):null,Ac(4194308,4,SC.bind(null,M,E),O)},useLayoutEffect:function(E,M){return Ac(4194308,4,E,M)},useInsertionEffect:function(E,M){Ac(4,2,E,M)},useMemo:function(E,M){var O=Fs();M=M===void 0?null:M;var I=E();if(r0){Zt(!0);try{E()}finally{Zt(!1)}}return O.memoizedState=[I,M],I},useReducer:function(E,M,O){var I=Fs();if(O!==void 0){var U=O(M);if(r0){Zt(!0);try{O(M)}finally{Zt(!1)}}}else U=M;return I.memoizedState=I.baseState=U,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E,lastRenderedState:U},I.queue=E,E=E.dispatch=i7.bind(null,pe,E),[I.memoizedState,E]},useRef:function(E){var M=Fs();return E={current:E},M.memoizedState=E},useState:function(E){E=xm(E);var M=E.queue,O=OC.bind(null,pe,M);return M.dispatch=O,[E.memoizedState,O]},useDebugValue:Sm,useDeferredValue:function(E,M){var O=Fs();return Cm(O,E,M)},useTransition:function(){var E=xm(!1);return E=wC.bind(null,pe,E.queue,!0,!1),Fs().memoizedState=E,[!1,E]},useSyncExternalStore:function(E,M,O){var I=pe,U=Fs();if(Ge){if(O===void 0)throw Error(n(407));O=O()}else{if(O=M(),je===null)throw Error(n(349));(we&124)!==0||tC(I,M,O)}U.memoizedState=O;var Z={value:O,getSnapshot:M};return U.queue=Z,gC(iC.bind(null,I,Z,E),[E]),I.flags|=2048,Al(9,Mc(),eC.bind(null,I,Z,O,M),null),O},useId:function(){var E=Fs(),M=je.identifierPrefix;if(Ge){var O=Xr,I=Ur;O=(I&~(1<<32-Yt(I)-1)).toString(32)+O,M="«"+M+"R"+O,O=Ec++,0<O&&(M+="H"+O.toString(32)),M+="»"}else O=QB++,M="«"+M+"r"+O.toString(32)+"»";return E.memoizedState=M},useHostTransitionStatus:bm,useFormState:dC,useActionState:dC,useOptimistic:function(E){var M=Fs();M.memoizedState=M.baseState=E;var O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return M.queue=O,M=Em.bind(null,pe,!0,O),O.dispatch=M,[E,M]},useMemoCache:pm,useCacheRefresh:function(){return Fs().memoizedState=e7.bind(null,pe)}},BC={readContext:ds,use:wc,useCallback:TC,useContext:ds,useEffect:mC,useImperativeHandle:CC,useInsertionEffect:xC,useLayoutEffect:yC,useMemo:bC,useReducer:Pc,useRef:pC,useState:function(){return Pc(Wr)},useDebugValue:Sm,useDeferredValue:function(E,M){var O=Ri();return EC(O,We.memoizedState,E,M)},useTransition:function(){var E=Pc(Wr)[0],M=Ri().memoizedState;return[typeof E=="boolean"?E:Du(E),M]},useSyncExternalStore:_S,useId:AC,useHostTransitionStatus:bm,useFormState:fC,useActionState:fC,useOptimistic:function(E,M){var O=Ri();return rC(O,We,E,M)},useMemoCache:pm,useCacheRefresh:RC},s7={readContext:ds,use:wc,useCallback:TC,useContext:ds,useEffect:mC,useImperativeHandle:CC,useInsertionEffect:xC,useLayoutEffect:yC,useMemo:bC,useReducer:mm,useRef:pC,useState:function(){return mm(Wr)},useDebugValue:Sm,useDeferredValue:function(E,M){var O=Ri();return We===null?Cm(O,E,M):EC(O,We.memoizedState,E,M)},useTransition:function(){var E=mm(Wr)[0],M=Ri().memoizedState;return[typeof E=="boolean"?E:Du(E),M]},useSyncExternalStore:_S,useId:AC,useHostTransitionStatus:bm,useFormState:vC,useActionState:vC,useOptimistic:function(E,M){var O=Ri();return We!==null?rC(O,We,E,M):(O.baseState=E,[E,O.queue.dispatch])},useMemoCache:pm,useCacheRefresh:RC},Rl=null,Bu=0;function Dc(E){var M=Bu;return Bu+=1,Rl===null&&(Rl=[]),WS(Rl,E,M)}function Iu(E,M){M=M.props.ref,E.ref=M!==void 0?M:null}function Lc(E,M){throw M.$$typeof===c?Error(n(525)):(E=Object.prototype.toString.call(M),Error(n(31,E==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":E)))}function IC(E){var M=E._init;return M(E._payload)}function kC(E){function M(ft,ht){if(E){var vt=ft.deletions;vt===null?(ft.deletions=[ht],ft.flags|=16):vt.push(ht)}}function O(ft,ht){if(!E)return null;for(;ht!==null;)M(ft,ht),ht=ht.sibling;return null}function I(ft){for(var ht=new Map;ft!==null;)ft.key!==null?ht.set(ft.key,ft):ht.set(ft.index,ft),ft=ft.sibling;return ht}function U(ft,ht){return ft=zr(ft,ht),ft.index=0,ft.sibling=null,ft}function Z(ft,ht,vt){return ft.index=vt,E?(vt=ft.alternate,vt!==null?(vt=vt.index,vt<ht?(ft.flags|=67108866,ht):vt):(ft.flags|=67108866,ht)):(ft.flags|=1048576,ht)}function _(ft){return E&&ft.alternate===null&&(ft.flags|=67108866),ft}function et(ft,ht,vt,Mt){return ht===null||ht.tag!==6?(ht=Wg(vt,ft.mode,Mt),ht.return=ft,ht):(ht=U(ht,vt),ht.return=ft,ht)}function rt(ft,ht,vt,Mt){var zt=vt.type;return zt===o?Pt(ft,ht,vt.props.children,Mt,vt.key):ht!==null&&(ht.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===P&&IC(zt)===ht.type)?(ht=U(ht,vt.props),Iu(ht,vt),ht.return=ft,ht):(ht=vc(vt.type,vt.key,vt.props,null,ft.mode,Mt),Iu(ht,vt),ht.return=ft,ht)}function pt(ft,ht,vt,Mt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==vt.containerInfo||ht.stateNode.implementation!==vt.implementation?(ht=$g(vt,ft.mode,Mt),ht.return=ft,ht):(ht=U(ht,vt.children||[]),ht.return=ft,ht)}function Pt(ft,ht,vt,Mt,zt){return ht===null||ht.tag!==7?(ht=jo(vt,ft.mode,Mt,zt),ht.return=ft,ht):(ht=U(ht,vt),ht.return=ft,ht)}function Rt(ft,ht,vt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return ht=Wg(""+ht,ft.mode,vt),ht.return=ft,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case h:return vt=vc(ht.type,ht.key,ht.props,null,ft.mode,vt),Iu(vt,ht),vt.return=ft,vt;case l:return ht=$g(ht,ft.mode,vt),ht.return=ft,ht;case P:var Mt=ht._init;return ht=Mt(ht._payload),Rt(ft,ht,vt)}if(B(ht)||D(ht))return ht=jo(ht,ft.mode,vt,null),ht.return=ft,ht;if(typeof ht.then=="function")return Rt(ft,Dc(ht),vt);if(ht.$$typeof===m)return Rt(ft,xc(ft,ht),vt);Lc(ft,ht)}return null}function gt(ft,ht,vt,Mt){var zt=ht!==null?ht.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return zt!==null?null:et(ft,ht,""+vt,Mt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case h:return vt.key===zt?rt(ft,ht,vt,Mt):null;case l:return vt.key===zt?pt(ft,ht,vt,Mt):null;case P:return zt=vt._init,vt=zt(vt._payload),gt(ft,ht,vt,Mt)}if(B(vt)||D(vt))return zt!==null?null:Pt(ft,ht,vt,Mt,null);if(typeof vt.then=="function")return gt(ft,ht,Dc(vt),Mt);if(vt.$$typeof===m)return gt(ft,ht,xc(ft,vt),Mt);Lc(ft,vt)}return null}function xt(ft,ht,vt,Mt,zt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return ft=ft.get(vt)||null,et(ht,ft,""+Mt,zt);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case h:return ft=ft.get(Mt.key===null?vt:Mt.key)||null,rt(ht,ft,Mt,zt);case l:return ft=ft.get(Mt.key===null?vt:Mt.key)||null,pt(ht,ft,Mt,zt);case P:var ge=Mt._init;return Mt=ge(Mt._payload),xt(ft,ht,vt,Mt,zt)}if(B(Mt)||D(Mt))return ft=ft.get(vt)||null,Pt(ht,ft,Mt,zt,null);if(typeof Mt.then=="function")return xt(ft,ht,vt,Dc(Mt),zt);if(Mt.$$typeof===m)return xt(ft,ht,vt,xc(ht,Mt),zt);Lc(ht,Mt)}return null}function ie(ft,ht,vt,Mt){for(var zt=null,ge=null,Wt=ht,te=ht=0,Zi=null;Wt!==null&&te<vt.length;te++){Wt.index>te?(Zi=Wt,Wt=null):Zi=Wt.sibling;var Fe=gt(ft,Wt,vt[te],Mt);if(Fe===null){Wt===null&&(Wt=Zi);break}E&&Wt&&Fe.alternate===null&&M(ft,Wt),ht=Z(Fe,ht,te),ge===null?zt=Fe:ge.sibling=Fe,ge=Fe,Wt=Zi}if(te===vt.length)return O(ft,Wt),Ge&&_o(ft,te),zt;if(Wt===null){for(;te<vt.length;te++)Wt=Rt(ft,vt[te],Mt),Wt!==null&&(ht=Z(Wt,ht,te),ge===null?zt=Wt:ge.sibling=Wt,ge=Wt);return Ge&&_o(ft,te),zt}for(Wt=I(Wt);te<vt.length;te++)Zi=xt(Wt,ft,te,vt[te],Mt),Zi!==null&&(E&&Zi.alternate!==null&&Wt.delete(Zi.key===null?te:Zi.key),ht=Z(Zi,ht,te),ge===null?zt=Zi:ge.sibling=Zi,ge=Zi);return E&&Wt.forEach(function(Wa){return M(ft,Wa)}),Ge&&_o(ft,te),zt}function qt(ft,ht,vt,Mt){if(vt==null)throw Error(n(151));for(var zt=null,ge=null,Wt=ht,te=ht=0,Zi=null,Fe=vt.next();Wt!==null&&!Fe.done;te++,Fe=vt.next()){Wt.index>te?(Zi=Wt,Wt=null):Zi=Wt.sibling;var Wa=gt(ft,Wt,Fe.value,Mt);if(Wa===null){Wt===null&&(Wt=Zi);break}E&&Wt&&Wa.alternate===null&&M(ft,Wt),ht=Z(Wa,ht,te),ge===null?zt=Wa:ge.sibling=Wa,ge=Wa,Wt=Zi}if(Fe.done)return O(ft,Wt),Ge&&_o(ft,te),zt;if(Wt===null){for(;!Fe.done;te++,Fe=vt.next())Fe=Rt(ft,Fe.value,Mt),Fe!==null&&(ht=Z(Fe,ht,te),ge===null?zt=Fe:ge.sibling=Fe,ge=Fe);return Ge&&_o(ft,te),zt}for(Wt=I(Wt);!Fe.done;te++,Fe=vt.next())Fe=xt(Wt,ft,te,Fe.value,Mt),Fe!==null&&(E&&Fe.alternate!==null&&Wt.delete(Fe.key===null?te:Fe.key),ht=Z(Fe,ht,te),ge===null?zt=Fe:ge.sibling=Fe,ge=Fe);return E&&Wt.forEach(function(nI){return M(ft,nI)}),Ge&&_o(ft,te),zt}function Ke(ft,ht,vt,Mt){if(typeof vt=="object"&&vt!==null&&vt.type===o&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case h:t:{for(var zt=vt.key;ht!==null;){if(ht.key===zt){if(zt=vt.type,zt===o){if(ht.tag===7){O(ft,ht.sibling),Mt=U(ht,vt.props.children),Mt.return=ft,ft=Mt;break t}}else if(ht.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===P&&IC(zt)===ht.type){O(ft,ht.sibling),Mt=U(ht,vt.props),Iu(Mt,vt),Mt.return=ft,ft=Mt;break t}O(ft,ht);break}else M(ft,ht);ht=ht.sibling}vt.type===o?(Mt=jo(vt.props.children,ft.mode,Mt,vt.key),Mt.return=ft,ft=Mt):(Mt=vc(vt.type,vt.key,vt.props,null,ft.mode,Mt),Iu(Mt,vt),Mt.return=ft,ft=Mt)}return _(ft);case l:t:{for(zt=vt.key;ht!==null;){if(ht.key===zt)if(ht.tag===4&&ht.stateNode.containerInfo===vt.containerInfo&&ht.stateNode.implementation===vt.implementation){O(ft,ht.sibling),Mt=U(ht,vt.children||[]),Mt.return=ft,ft=Mt;break t}else{O(ft,ht);break}else M(ft,ht);ht=ht.sibling}Mt=$g(vt,ft.mode,Mt),Mt.return=ft,ft=Mt}return _(ft);case P:return zt=vt._init,vt=zt(vt._payload),Ke(ft,ht,vt,Mt)}if(B(vt))return ie(ft,ht,vt,Mt);if(D(vt)){if(zt=D(vt),typeof zt!="function")throw Error(n(150));return vt=zt.call(vt),qt(ft,ht,vt,Mt)}if(typeof vt.then=="function")return Ke(ft,ht,Dc(vt),Mt);if(vt.$$typeof===m)return Ke(ft,ht,xc(ft,vt),Mt);Lc(ft,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,ht!==null&&ht.tag===6?(O(ft,ht.sibling),Mt=U(ht,vt),Mt.return=ft,ft=Mt):(O(ft,ht),Mt=Wg(vt,ft.mode,Mt),Mt.return=ft,ft=Mt),_(ft)):O(ft,ht)}return function(ft,ht,vt,Mt){try{Bu=0;var zt=Ke(ft,ht,vt,Mt);return Rl=null,zt}catch(Wt){if(Wt===wu||Wt===Sc)throw Wt;var ge=Zs(29,Wt,null,ft.mode);return ge.lanes=Mt,ge.return=ft,ge}finally{}}}var Ol=kC(!0),GC=kC(!1),mn=$(null),ur=null;function Oa(E){var M=E.alternate;V(Gi,Gi.current&1),V(mn,E),ur===null&&(M===null||wl.current!==null||M.memoizedState!==null)&&(ur=E)}function NC(E){if(E.tag===22){if(V(Gi,Gi.current),V(mn,E),ur===null){var M=E.alternate;M!==null&&M.memoizedState!==null&&(ur=E)}}else Da()}function Da(){V(Gi,Gi.current),V(mn,mn.current)}function $r(E){J(mn),ur===E&&(ur=null),J(Gi)}var Gi=$(0);function Fc(E){for(var M=E;M!==null;){if(M.tag===13){var O=M.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||vx(O)))return M}else if(M.tag===19&&M.memoizedProps.revealOrder!==void 0){if((M.flags&128)!==0)return M}else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===E)break;for(;M.sibling===null;){if(M.return===null||M.return===E)return null;M=M.return}M.sibling.return=M.return,M=M.sibling}return null}function wm(E,M,O,I){M=E.memoizedState,O=O(I,M),O=O==null?M:g({},M,O),E.memoizedState=O,E.lanes===0&&(E.updateQueue.baseState=O)}var Pm={enqueueSetState:function(E,M,O){E=E._reactInternals;var I=qs(),U=Ma(I);U.payload=M,O!=null&&(U.callback=O),M=Aa(E,U,I),M!==null&&(_s(M,E,I),Mu(M,E,I))},enqueueReplaceState:function(E,M,O){E=E._reactInternals;var I=qs(),U=Ma(I);U.tag=1,U.payload=M,O!=null&&(U.callback=O),M=Aa(E,U,I),M!==null&&(_s(M,E,I),Mu(M,E,I))},enqueueForceUpdate:function(E,M){E=E._reactInternals;var O=qs(),I=Ma(O);I.tag=2,M!=null&&(I.callback=M),M=Aa(E,I,O),M!==null&&(_s(M,E,O),Mu(M,E,O))}};function VC(E,M,O,I,U,Z,_){return E=E.stateNode,typeof E.shouldComponentUpdate=="function"?E.shouldComponentUpdate(I,Z,_):M.prototype&&M.prototype.isPureReactComponent?!mu(O,I)||!mu(U,Z):!0}function zC(E,M,O,I){E=M.state,typeof M.componentWillReceiveProps=="function"&&M.componentWillReceiveProps(O,I),typeof M.UNSAFE_componentWillReceiveProps=="function"&&M.UNSAFE_componentWillReceiveProps(O,I),M.state!==E&&Pm.enqueueReplaceState(M,M.state,null)}function a0(E,M){var O=M;if("ref"in M){O={};for(var I in M)I!=="ref"&&(O[I]=M[I])}if(E=E.defaultProps){O===M&&(O=g({},O));for(var U in E)O[U]===void 0&&(O[U]=E[U])}return O}var Bc=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function UC(E){Bc(E)}function XC(E){console.error(E)}function HC(E){Bc(E)}function Ic(E,M){try{var O=E.onUncaughtError;O(M.value,{componentStack:M.stack})}catch(I){setTimeout(function(){throw I})}}function YC(E,M,O){try{var I=E.onCaughtError;I(O.value,{componentStack:O.stack,errorBoundary:M.tag===1?M.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function Mm(E,M,O){return O=Ma(O),O.tag=3,O.payload={element:null},O.callback=function(){Ic(E,M)},O}function WC(E){return E=Ma(E),E.tag=3,E}function $C(E,M,O,I){var U=O.type.getDerivedStateFromError;if(typeof U=="function"){var Z=I.value;E.payload=function(){return U(Z)},E.callback=function(){YC(M,O,I)}}var _=O.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(E.callback=function(){YC(M,O,I),typeof U!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var et=I.stack;this.componentDidCatch(I.value,{componentStack:et!==null?et:""})})}function n7(E,M,O,I,U){if(O.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(M=O.alternate,M!==null&&Tu(M,O,U,!0),O=mn.current,O!==null){switch(O.tag){case 13:return ur===null?jm():O.alternate===null&&vi===0&&(vi=3),O.flags&=-257,O.flags|=65536,O.lanes=U,I===im?O.flags|=16384:(M=O.updateQueue,M===null?O.updateQueue=new Set([I]):M.add(I),_m(E,I,U)),!1;case 22:return O.flags|=65536,I===im?O.flags|=16384:(M=O.updateQueue,M===null?(M={transitions:null,markerInstances:null,retryQueue:new Set([I])},O.updateQueue=M):(O=M.retryQueue,O===null?M.retryQueue=new Set([I]):O.add(I)),_m(E,I,U)),!1}throw Error(n(435,O.tag))}return _m(E,I,U),jm(),!1}if(Ge)return M=mn.current,M!==null?((M.flags&65536)===0&&(M.flags|=256),M.flags|=65536,M.lanes=U,I!==Jg&&(E=Error(n(422),{cause:I}),Cu(cn(E,O)))):(I!==Jg&&(M=Error(n(423),{cause:I}),Cu(cn(M,O))),E=E.current.alternate,E.flags|=65536,U&=-U,E.lanes|=U,I=cn(I,O),U=Mm(E.stateNode,I,U),rm(E,U),vi!==4&&(vi=2)),!1;var Z=Error(n(520),{cause:I});if(Z=cn(Z,O),Xu===null?Xu=[Z]:Xu.push(Z),vi!==4&&(vi=2),M===null)return!0;I=cn(I,O),O=M;do{switch(O.tag){case 3:return O.flags|=65536,E=U&-U,O.lanes|=E,E=Mm(O.stateNode,I,E),rm(O,E),!1;case 1:if(M=O.type,Z=O.stateNode,(O.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Ga===null||!Ga.has(Z))))return O.flags|=65536,U&=-U,O.lanes|=U,U=WC(U),$C(U,E,O,I),rm(O,U),!1}O=O.return}while(O!==null);return!1}var KC=Error(n(461)),$i=!1;function is(E,M,O,I){M.child=E===null?GC(M,null,O,I):Ol(M,E.child,O,I)}function ZC(E,M,O,I,U){O=O.render;var Z=M.ref;if("ref"in I){var _={};for(var et in I)et!=="ref"&&(_[et]=I[et])}else _=I;return s0(M),I=um(E,M,O,_,Z,U),et=dm(),E!==null&&!$i?(fm(E,M,U),Kr(E,M,U)):(Ge&&et&&Kg(M),M.flags|=1,is(E,M,I,U),M.child)}function JC(E,M,O,I,U){if(E===null){var Z=O.type;return typeof Z=="function"&&!Yg(Z)&&Z.defaultProps===void 0&&O.compare===null?(M.tag=15,M.type=Z,QC(E,M,Z,I,U)):(E=vc(O.type,null,I,M,M.mode,U),E.ref=M.ref,E.return=M,M.child=E)}if(Z=E.child,!Im(E,U)){var _=Z.memoizedProps;if(O=O.compare,O=O!==null?O:mu,O(_,I)&&E.ref===M.ref)return Kr(E,M,U)}return M.flags|=1,E=zr(Z,I),E.ref=M.ref,E.return=M,M.child=E}function QC(E,M,O,I,U){if(E!==null){var Z=E.memoizedProps;if(mu(Z,I)&&E.ref===M.ref)if($i=!1,M.pendingProps=I=Z,Im(E,U))(E.flags&131072)!==0&&($i=!0);else return M.lanes=E.lanes,Kr(E,M,U)}return Am(E,M,O,I,U)}function jC(E,M,O){var I=M.pendingProps,U=I.children,Z=E!==null?E.memoizedState:null;if(I.mode==="hidden"){if((M.flags&128)!==0){if(I=Z!==null?Z.baseLanes|O:O,E!==null){for(U=M.child=E.child,Z=0;U!==null;)Z=Z|U.lanes|U.childLanes,U=U.sibling;M.childLanes=Z&~I}else M.childLanes=0,M.child=null;return qC(E,M,I,O)}if((O&536870912)!==0)M.memoizedState={baseLanes:0,cachePool:null},E!==null&&yc(M,Z!==null?Z.cachePool:null),Z!==null?QS(M,Z):om(),NC(M);else return M.lanes=M.childLanes=536870912,qC(E,M,Z!==null?Z.baseLanes|O:O,O)}else Z!==null?(yc(M,Z.cachePool),QS(M,Z),Da(),M.memoizedState=null):(E!==null&&yc(M,null),om(),Da());return is(E,M,U,O),M.child}function qC(E,M,O,I){var U=em();return U=U===null?null:{parent:ki._currentValue,pool:U},M.memoizedState={baseLanes:O,cachePool:U},E!==null&&yc(M,null),om(),NC(M),E!==null&&Tu(E,M,I,!0),null}function kc(E,M){var O=M.ref;if(O===null)E!==null&&E.ref!==null&&(M.flags|=4194816);else{if(typeof O!="function"&&typeof O!="object")throw Error(n(284));(E===null||E.ref!==O)&&(M.flags|=4194816)}}function Am(E,M,O,I,U){return s0(M),O=um(E,M,O,I,void 0,U),I=dm(),E!==null&&!$i?(fm(E,M,U),Kr(E,M,U)):(Ge&&I&&Kg(M),M.flags|=1,is(E,M,O,U),M.child)}function _C(E,M,O,I,U,Z){return s0(M),M.updateQueue=null,O=qS(M,I,O,U),jS(E),I=dm(),E!==null&&!$i?(fm(E,M,Z),Kr(E,M,Z)):(Ge&&I&&Kg(M),M.flags|=1,is(E,M,O,Z),M.child)}function tT(E,M,O,I,U){if(s0(M),M.stateNode===null){var Z=Sl,_=O.contextType;typeof _=="object"&&_!==null&&(Z=ds(_)),Z=new O(I,Z),M.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Pm,M.stateNode=Z,Z._reactInternals=M,Z=M.stateNode,Z.props=I,Z.state=M.memoizedState,Z.refs={},sm(M),_=O.contextType,Z.context=typeof _=="object"&&_!==null?ds(_):Sl,Z.state=M.memoizedState,_=O.getDerivedStateFromProps,typeof _=="function"&&(wm(M,O,_,I),Z.state=M.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(_=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),_!==Z.state&&Pm.enqueueReplaceState(Z,Z.state,null),Ru(M,I,Z,U),Au(),Z.state=M.memoizedState),typeof Z.componentDidMount=="function"&&(M.flags|=4194308),I=!0}else if(E===null){Z=M.stateNode;var et=M.memoizedProps,rt=a0(O,et);Z.props=rt;var pt=Z.context,Pt=O.contextType;_=Sl,typeof Pt=="object"&&Pt!==null&&(_=ds(Pt));var Rt=O.getDerivedStateFromProps;Pt=typeof Rt=="function"||typeof Z.getSnapshotBeforeUpdate=="function",et=M.pendingProps!==et,Pt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(et||pt!==_)&&zC(M,Z,I,_),Pa=!1;var gt=M.memoizedState;Z.state=gt,Ru(M,I,Z,U),Au(),pt=M.memoizedState,et||gt!==pt||Pa?(typeof Rt=="function"&&(wm(M,O,Rt,I),pt=M.memoizedState),(rt=Pa||VC(M,O,rt,I,gt,pt,_))?(Pt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(M.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(M.flags|=4194308),M.memoizedProps=I,M.memoizedState=pt),Z.props=I,Z.state=pt,Z.context=_,I=rt):(typeof Z.componentDidMount=="function"&&(M.flags|=4194308),I=!1)}else{Z=M.stateNode,nm(E,M),_=M.memoizedProps,Pt=a0(O,_),Z.props=Pt,Rt=M.pendingProps,gt=Z.context,pt=O.contextType,rt=Sl,typeof pt=="object"&&pt!==null&&(rt=ds(pt)),et=O.getDerivedStateFromProps,(pt=typeof et=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(_!==Rt||gt!==rt)&&zC(M,Z,I,rt),Pa=!1,gt=M.memoizedState,Z.state=gt,Ru(M,I,Z,U),Au();var xt=M.memoizedState;_!==Rt||gt!==xt||Pa||E!==null&&E.dependencies!==null&&mc(E.dependencies)?(typeof et=="function"&&(wm(M,O,et,I),xt=M.memoizedState),(Pt=Pa||VC(M,O,Pt,I,gt,xt,rt)||E!==null&&E.dependencies!==null&&mc(E.dependencies))?(pt||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(I,xt,rt),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(I,xt,rt)),typeof Z.componentDidUpdate=="function"&&(M.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(M.flags|=1024)):(typeof Z.componentDidUpdate!="function"||_===E.memoizedProps&&gt===E.memoizedState||(M.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||_===E.memoizedProps&&gt===E.memoizedState||(M.flags|=1024),M.memoizedProps=I,M.memoizedState=xt),Z.props=I,Z.state=xt,Z.context=rt,I=Pt):(typeof Z.componentDidUpdate!="function"||_===E.memoizedProps&&gt===E.memoizedState||(M.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||_===E.memoizedProps&&gt===E.memoizedState||(M.flags|=1024),I=!1)}return Z=I,kc(E,M),I=(M.flags&128)!==0,Z||I?(Z=M.stateNode,O=I&&typeof O.getDerivedStateFromError!="function"?null:Z.render(),M.flags|=1,E!==null&&I?(M.child=Ol(M,E.child,null,U),M.child=Ol(M,null,O,U)):is(E,M,O,U),M.memoizedState=Z.state,E=M.child):E=Kr(E,M,U),E}function eT(E,M,O,I){return Su(),M.flags|=256,is(E,M,O,I),M.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(E){return{baseLanes:E,cachePool:XS()}}function Dm(E,M,O){return E=E!==null?E.childLanes&~O:0,M&&(E|=xn),E}function iT(E,M,O){var I=M.pendingProps,U=!1,Z=(M.flags&128)!==0,_;if((_=Z)||(_=E!==null&&E.memoizedState===null?!1:(Gi.current&2)!==0),_&&(U=!0,M.flags&=-129),_=(M.flags&32)!==0,M.flags&=-33,E===null){if(Ge){if(U?Oa(M):Da(),Ge){var et=ci,rt;if(rt=et){t:{for(rt=et,et=hr;rt.nodeType!==8;){if(!et){et=null;break t}if(rt=zn(rt.nextSibling),rt===null){et=null;break t}}et=rt}et!==null?(M.memoizedState={dehydrated:et,treeContext:qo!==null?{id:Ur,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},rt=Zs(18,null,null,0),rt.stateNode=et,rt.return=M,M.child=rt,Ts=M,ci=null,rt=!0):rt=!1}rt||e0(M)}if(et=M.memoizedState,et!==null&&(et=et.dehydrated,et!==null))return vx(et)?M.lanes=32:M.lanes=536870912,null;$r(M)}return et=I.children,I=I.fallback,U?(Da(),U=M.mode,et=Gc({mode:"hidden",children:et},U),I=jo(I,U,O,null),et.return=M,I.return=M,et.sibling=I,M.child=et,U=M.child,U.memoizedState=Om(O),U.childLanes=Dm(E,_,O),M.memoizedState=Rm,I):(Oa(M),Lm(M,et))}if(rt=E.memoizedState,rt!==null&&(et=rt.dehydrated,et!==null)){if(Z)M.flags&256?(Oa(M),M.flags&=-257,M=Fm(E,M,O)):M.memoizedState!==null?(Da(),M.child=E.child,M.flags|=128,M=null):(Da(),U=I.fallback,et=M.mode,I=Gc({mode:"visible",children:I.children},et),U=jo(U,et,O,null),U.flags|=2,I.return=M,U.return=M,I.sibling=U,M.child=I,Ol(M,E.child,null,O),I=M.child,I.memoizedState=Om(O),I.childLanes=Dm(E,_,O),M.memoizedState=Rm,M=U);else if(Oa(M),vx(et)){if(_=et.nextSibling&&et.nextSibling.dataset,_)var pt=_.dgst;_=pt,I=Error(n(419)),I.stack="",I.digest=_,Cu({value:I,source:null,stack:null}),M=Fm(E,M,O)}else if($i||Tu(E,M,O,!1),_=(O&E.childLanes)!==0,$i||_){if(_=je,_!==null&&(I=O&-O,I=(I&42)!==0?1:nl(I),I=(I&(_.suspendedLanes|O))!==0?0:I,I!==0&&I!==rt.retryLane))throw rt.retryLane=I,yl(E,I),_s(_,E,I),KC;et.data==="$?"||jm(),M=Fm(E,M,O)}else et.data==="$?"?(M.flags|=192,M.child=E.child,M=null):(E=rt.treeContext,ci=zn(et.nextSibling),Ts=M,Ge=!0,t0=null,hr=!1,E!==null&&(pn[gn++]=Ur,pn[gn++]=Xr,pn[gn++]=qo,Ur=E.id,Xr=E.overflow,qo=M),M=Lm(M,I.children),M.flags|=4096);return M}return U?(Da(),U=I.fallback,et=M.mode,rt=E.child,pt=rt.sibling,I=zr(rt,{mode:"hidden",children:I.children}),I.subtreeFlags=rt.subtreeFlags&65011712,pt!==null?U=zr(pt,U):(U=jo(U,et,O,null),U.flags|=2),U.return=M,I.return=M,I.sibling=U,M.child=I,I=U,U=M.child,et=E.child.memoizedState,et===null?et=Om(O):(rt=et.cachePool,rt!==null?(pt=ki._currentValue,rt=rt.parent!==pt?{parent:pt,pool:pt}:rt):rt=XS(),et={baseLanes:et.baseLanes|O,cachePool:rt}),U.memoizedState=et,U.childLanes=Dm(E,_,O),M.memoizedState=Rm,I):(Oa(M),O=E.child,E=O.sibling,O=zr(O,{mode:"visible",children:I.children}),O.return=M,O.sibling=null,E!==null&&(_=M.deletions,_===null?(M.deletions=[E],M.flags|=16):_.push(E)),M.child=O,M.memoizedState=null,O)}function Lm(E,M){return M=Gc({mode:"visible",children:M},E.mode),M.return=E,E.child=M}function Gc(E,M){return E=Zs(22,E,null,M),E.lanes=0,E.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},E}function Fm(E,M,O){return Ol(M,E.child,null,O),E=Lm(M,M.pendingProps.children),E.flags|=2,M.memoizedState=null,E}function sT(E,M,O){E.lanes|=M;var I=E.alternate;I!==null&&(I.lanes|=M),jg(E.return,M,O)}function Bm(E,M,O,I,U){var Z=E.memoizedState;Z===null?E.memoizedState={isBackwards:M,rendering:null,renderingStartTime:0,last:I,tail:O,tailMode:U}:(Z.isBackwards=M,Z.rendering=null,Z.renderingStartTime=0,Z.last=I,Z.tail=O,Z.tailMode=U)}function nT(E,M,O){var I=M.pendingProps,U=I.revealOrder,Z=I.tail;if(is(E,M,I.children,O),I=Gi.current,(I&2)!==0)I=I&1|2,M.flags|=128;else{if(E!==null&&(E.flags&128)!==0)t:for(E=M.child;E!==null;){if(E.tag===13)E.memoizedState!==null&&sT(E,O,M);else if(E.tag===19)sT(E,O,M);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===M)break t;for(;E.sibling===null;){if(E.return===null||E.return===M)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}I&=1}switch(V(Gi,I),U){case"forwards":for(O=M.child,U=null;O!==null;)E=O.alternate,E!==null&&Fc(E)===null&&(U=O),O=O.sibling;O=U,O===null?(U=M.child,M.child=null):(U=O.sibling,O.sibling=null),Bm(M,!1,U,O,Z);break;case"backwards":for(O=null,U=M.child,M.child=null;U!==null;){if(E=U.alternate,E!==null&&Fc(E)===null){M.child=U;break}E=U.sibling,U.sibling=O,O=U,U=E}Bm(M,!0,O,null,Z);break;case"together":Bm(M,!1,null,null,void 0);break;default:M.memoizedState=null}return M.child}function Kr(E,M,O){if(E!==null&&(M.dependencies=E.dependencies),ka|=M.lanes,(O&M.childLanes)===0)if(E!==null){if(Tu(E,M,O,!1),(O&M.childLanes)===0)return null}else return null;if(E!==null&&M.child!==E.child)throw Error(n(153));if(M.child!==null){for(E=M.child,O=zr(E,E.pendingProps),M.child=O,O.return=M;E.sibling!==null;)E=E.sibling,O=O.sibling=zr(E,E.pendingProps),O.return=M;O.sibling=null}return M.child}function Im(E,M){return(E.lanes&M)!==0?!0:(E=E.dependencies,!!(E!==null&&mc(E)))}function r7(E,M,O){switch(M.tag){case 3:Q(M,M.stateNode.containerInfo),wa(M,ki,E.memoizedState.cache),Su();break;case 27:case 5:q(M);break;case 4:Q(M,M.stateNode.containerInfo);break;case 10:wa(M,M.type,M.memoizedProps.value);break;case 13:var I=M.memoizedState;if(I!==null)return I.dehydrated!==null?(Oa(M),M.flags|=128,null):(O&M.child.childLanes)!==0?iT(E,M,O):(Oa(M),E=Kr(E,M,O),E!==null?E.sibling:null);Oa(M);break;case 19:var U=(E.flags&128)!==0;if(I=(O&M.childLanes)!==0,I||(Tu(E,M,O,!1),I=(O&M.childLanes)!==0),U){if(I)return nT(E,M,O);M.flags|=128}if(U=M.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),V(Gi,Gi.current),I)break;return null;case 22:case 23:return M.lanes=0,jC(E,M,O);case 24:wa(M,ki,E.memoizedState.cache)}return Kr(E,M,O)}function rT(E,M,O){if(E!==null)if(E.memoizedProps!==M.pendingProps)$i=!0;else{if(!Im(E,O)&&(M.flags&128)===0)return $i=!1,r7(E,M,O);$i=(E.flags&131072)!==0}else $i=!1,Ge&&(M.flags&1048576)!==0&&IS(M,gc,M.index);switch(M.lanes=0,M.tag){case 16:t:{E=M.pendingProps;var I=M.elementType,U=I._init;if(I=U(I._payload),M.type=I,typeof I=="function")Yg(I)?(E=a0(I,E),M.tag=1,M=tT(null,M,I,E,O)):(M.tag=0,M=Am(null,M,I,E,O));else{if(I!=null){if(U=I.$$typeof,U===y){M.tag=11,M=ZC(null,M,I,E,O);break t}else if(U===b){M.tag=14,M=JC(null,M,I,E,O);break t}}throw M=k(I)||I,Error(n(306,M,""))}}return M;case 0:return Am(E,M,M.type,M.pendingProps,O);case 1:return I=M.type,U=a0(I,M.pendingProps),tT(E,M,I,U,O);case 3:t:{if(Q(M,M.stateNode.containerInfo),E===null)throw Error(n(387));I=M.pendingProps;var Z=M.memoizedState;U=Z.element,nm(E,M),Ru(M,I,null,O);var _=M.memoizedState;if(I=_.cache,wa(M,ki,I),I!==Z.cache&&qg(M,[ki],O,!0),Au(),I=_.element,Z.isDehydrated)if(Z={element:I,isDehydrated:!1,cache:_.cache},M.updateQueue.baseState=Z,M.memoizedState=Z,M.flags&256){M=eT(E,M,I,O);break t}else if(I!==U){U=cn(Error(n(424)),M),Cu(U),M=eT(E,M,I,O);break t}else{switch(E=M.stateNode.containerInfo,E.nodeType){case 9:E=E.body;break;default:E=E.nodeName==="HTML"?E.ownerDocument.body:E}for(ci=zn(E.firstChild),Ts=M,Ge=!0,t0=null,hr=!0,O=GC(M,null,I,O),M.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling}else{if(Su(),I===U){M=Kr(E,M,O);break t}is(E,M,I,O)}M=M.child}return M;case 26:return kc(E,M),E===null?(O=hb(M.type,null,M.pendingProps,null))?M.memoizedState=O:Ge||(O=M.type,E=M.pendingProps,I=jc(K.current).createElement(O),I[Ii]=M,I[Ye]=E,ns(I,O,E),Wi(I),M.stateNode=I):M.memoizedState=hb(M.type,E.memoizedProps,M.pendingProps,E.memoizedState),null;case 27:return q(M),E===null&&Ge&&(I=M.stateNode=ab(M.type,M.pendingProps,K.current),Ts=M,hr=!0,U=ci,za(M.type)?(px=U,ci=zn(I.firstChild)):ci=U),is(E,M,M.pendingProps.children,O),kc(E,M),E===null&&(M.flags|=4194304),M.child;case 5:return E===null&&Ge&&((U=I=ci)&&(I=F7(I,M.type,M.pendingProps,hr),I!==null?(M.stateNode=I,Ts=M,ci=zn(I.firstChild),hr=!1,U=!0):U=!1),U||e0(M)),q(M),U=M.type,Z=M.pendingProps,_=E!==null?E.memoizedProps:null,I=Z.children,dx(U,Z)?I=null:_!==null&&dx(U,_)&&(M.flags|=32),M.memoizedState!==null&&(U=um(E,M,jB,null,null,O),ju._currentValue=U),kc(E,M),is(E,M,I,O),M.child;case 6:return E===null&&Ge&&((E=O=ci)&&(O=B7(O,M.pendingProps,hr),O!==null?(M.stateNode=O,Ts=M,ci=null,E=!0):E=!1),E||e0(M)),null;case 13:return iT(E,M,O);case 4:return Q(M,M.stateNode.containerInfo),I=M.pendingProps,E===null?M.child=Ol(M,null,I,O):is(E,M,I,O),M.child;case 11:return ZC(E,M,M.type,M.pendingProps,O);case 7:return is(E,M,M.pendingProps,O),M.child;case 8:return is(E,M,M.pendingProps.children,O),M.child;case 12:return is(E,M,M.pendingProps.children,O),M.child;case 10:return I=M.pendingProps,wa(M,M.type,I.value),is(E,M,I.children,O),M.child;case 9:return U=M.type._context,I=M.pendingProps.children,s0(M),U=ds(U),I=I(U),M.flags|=1,is(E,M,I,O),M.child;case 14:return JC(E,M,M.type,M.pendingProps,O);case 15:return QC(E,M,M.type,M.pendingProps,O);case 19:return nT(E,M,O);case 31:return I=M.pendingProps,O=M.mode,I={mode:I.mode,children:I.children},E===null?(O=Gc(I,O),O.ref=M.ref,M.child=O,O.return=M,M=O):(O=zr(E.child,I),O.ref=M.ref,M.child=O,O.return=M,M=O),M;case 22:return jC(E,M,O);case 24:return s0(M),I=ds(ki),E===null?(U=em(),U===null&&(U=je,Z=_g(),U.pooledCache=Z,Z.refCount++,Z!==null&&(U.pooledCacheLanes|=O),U=Z),M.memoizedState={parent:I,cache:U},sm(M),wa(M,ki,U)):((E.lanes&O)!==0&&(nm(E,M),Ru(M,null,null,O),Au()),U=E.memoizedState,Z=M.memoizedState,U.parent!==I?(U={parent:I,cache:I},M.memoizedState=U,M.lanes===0&&(M.memoizedState=M.updateQueue.baseState=U),wa(M,ki,I)):(I=Z.cache,wa(M,ki,I),I!==U.cache&&qg(M,[ki],O,!0))),is(E,M,M.pendingProps.children,O),M.child;case 29:throw M.pendingProps}throw Error(n(156,M.tag))}function Zr(E){E.flags|=4}function aT(E,M){if(M.type!=="stylesheet"||(M.state.loading&4)!==0)E.flags&=-16777217;else if(E.flags|=16777216,!vb(M)){if(M=mn.current,M!==null&&((we&4194048)===we?ur!==null:(we&62914560)!==we&&(we&536870912)===0||M!==ur))throw Pu=im,HS;E.flags|=8192}}function Nc(E,M){M!==null&&(E.flags|=4),E.flags&16384&&(M=E.tag!==22?us():536870912,E.lanes|=M,Bl|=M)}function ku(E,M){if(!Ge)switch(E.tailMode){case"hidden":M=E.tail;for(var O=null;M!==null;)M.alternate!==null&&(O=M),M=M.sibling;O===null?E.tail=null:O.sibling=null;break;case"collapsed":O=E.tail;for(var I=null;O!==null;)O.alternate!==null&&(I=O),O=O.sibling;I===null?M||E.tail===null?E.tail=null:E.tail.sibling=null:I.sibling=null}}function oi(E){var M=E.alternate!==null&&E.alternate.child===E.child,O=0,I=0;if(M)for(var U=E.child;U!==null;)O|=U.lanes|U.childLanes,I|=U.subtreeFlags&65011712,I|=U.flags&65011712,U.return=E,U=U.sibling;else for(U=E.child;U!==null;)O|=U.lanes|U.childLanes,I|=U.subtreeFlags,I|=U.flags,U.return=E,U=U.sibling;return E.subtreeFlags|=I,E.childLanes=O,M}function a7(E,M,O){var I=M.pendingProps;switch(Zg(M),M.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(M),null;case 1:return oi(M),null;case 3:return O=M.stateNode,I=null,E!==null&&(I=E.memoizedState.cache),M.memoizedState.cache!==I&&(M.flags|=2048),Yr(ki),j(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(E===null||E.child===null)&&(yu(M)?Zr(M):E===null||E.memoizedState.isDehydrated&&(M.flags&256)===0||(M.flags|=1024,NS())),oi(M),null;case 26:return O=M.memoizedState,E===null?(Zr(M),O!==null?(oi(M),aT(M,O)):(oi(M),M.flags&=-16777217)):O?O!==E.memoizedState?(Zr(M),oi(M),aT(M,O)):(oi(M),M.flags&=-16777217):(E.memoizedProps!==I&&Zr(M),oi(M),M.flags&=-16777217),null;case 27:tt(M),O=K.current;var U=M.type;if(E!==null&&M.stateNode!=null)E.memoizedProps!==I&&Zr(M);else{if(!I){if(M.stateNode===null)throw Error(n(166));return oi(M),null}E=Y.current,yu(M)?kS(M):(E=ab(U,I,O),M.stateNode=E,Zr(M))}return oi(M),null;case 5:if(tt(M),O=M.type,E!==null&&M.stateNode!=null)E.memoizedProps!==I&&Zr(M);else{if(!I){if(M.stateNode===null)throw Error(n(166));return oi(M),null}if(E=Y.current,yu(M))kS(M);else{switch(U=jc(K.current),E){case 1:E=U.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:E=U.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":E=U.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":E=U.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":E=U.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof I.is=="string"?U.createElement("select",{is:I.is}):U.createElement("select"),I.multiple?E.multiple=!0:I.size&&(E.size=I.size);break;default:E=typeof I.is=="string"?U.createElement(O,{is:I.is}):U.createElement(O)}}E[Ii]=M,E[Ye]=I;t:for(U=M.child;U!==null;){if(U.tag===5||U.tag===6)E.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===M)break t;for(;U.sibling===null;){if(U.return===null||U.return===M)break t;U=U.return}U.sibling.return=U.return,U=U.sibling}M.stateNode=E;t:switch(ns(E,O,I),O){case"button":case"input":case"select":case"textarea":E=!!I.autoFocus;break t;case"img":E=!0;break t;default:E=!1}E&&Zr(M)}}return oi(M),M.flags&=-16777217,null;case 6:if(E&&M.stateNode!=null)E.memoizedProps!==I&&Zr(M);else{if(typeof I!="string"&&M.stateNode===null)throw Error(n(166));if(E=K.current,yu(M)){if(E=M.stateNode,O=M.memoizedProps,I=null,U=Ts,U!==null)switch(U.tag){case 27:case 5:I=U.memoizedProps}E[Ii]=M,E=!!(E.nodeValue===O||I!==null&&I.suppressHydrationWarning===!0||_T(E.nodeValue,O)),E||e0(M)}else E=jc(E).createTextNode(I),E[Ii]=M,M.stateNode=E}return oi(M),null;case 13:if(I=M.memoizedState,E===null||E.memoizedState!==null&&E.memoizedState.dehydrated!==null){if(U=yu(M),I!==null&&I.dehydrated!==null){if(E===null){if(!U)throw Error(n(318));if(U=M.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Ii]=M}else Su(),(M.flags&128)===0&&(M.memoizedState=null),M.flags|=4;oi(M),U=!1}else U=NS(),E!==null&&E.memoizedState!==null&&(E.memoizedState.hydrationErrors=U),U=!0;if(!U)return M.flags&256?($r(M),M):($r(M),null)}if($r(M),(M.flags&128)!==0)return M.lanes=O,M;if(O=I!==null,E=E!==null&&E.memoizedState!==null,O){I=M.child,U=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(U=I.alternate.memoizedState.cachePool.pool);var Z=null;I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(Z=I.memoizedState.cachePool.pool),Z!==U&&(I.flags|=2048)}return O!==E&&O&&(M.child.flags|=8192),Nc(M,M.updateQueue),oi(M),null;case 4:return j(),E===null&&ax(M.stateNode.containerInfo),oi(M),null;case 10:return Yr(M.type),oi(M),null;case 19:if(J(Gi),U=M.memoizedState,U===null)return oi(M),null;if(I=(M.flags&128)!==0,Z=U.rendering,Z===null)if(I)ku(U,!1);else{if(vi!==0||E!==null&&(E.flags&128)!==0)for(E=M.child;E!==null;){if(Z=Fc(E),Z!==null){for(M.flags|=128,ku(U,!1),E=Z.updateQueue,M.updateQueue=E,Nc(M,E),M.subtreeFlags=0,E=O,O=M.child;O!==null;)BS(O,E),O=O.sibling;return V(Gi,Gi.current&1|2),M.child}E=E.sibling}U.tail!==null&&St()>Uc&&(M.flags|=128,I=!0,ku(U,!1),M.lanes=4194304)}else{if(!I)if(E=Fc(Z),E!==null){if(M.flags|=128,I=!0,E=E.updateQueue,M.updateQueue=E,Nc(M,E),ku(U,!0),U.tail===null&&U.tailMode==="hidden"&&!Z.alternate&&!Ge)return oi(M),null}else 2*St()-U.renderingStartTime>Uc&&O!==536870912&&(M.flags|=128,I=!0,ku(U,!1),M.lanes=4194304);U.isBackwards?(Z.sibling=M.child,M.child=Z):(E=U.last,E!==null?E.sibling=Z:M.child=Z,U.last=Z)}return U.tail!==null?(M=U.tail,U.rendering=M,U.tail=M.sibling,U.renderingStartTime=St(),M.sibling=null,E=Gi.current,V(Gi,I?E&1|2:E&1),M):(oi(M),null);case 22:case 23:return $r(M),lm(),I=M.memoizedState!==null,E!==null?E.memoizedState!==null!==I&&(M.flags|=8192):I&&(M.flags|=8192),I?(O&536870912)!==0&&(M.flags&128)===0&&(oi(M),M.subtreeFlags&6&&(M.flags|=8192)):oi(M),O=M.updateQueue,O!==null&&Nc(M,O.retryQueue),O=null,E!==null&&E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(O=E.memoizedState.cachePool.pool),I=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(I=M.memoizedState.cachePool.pool),I!==O&&(M.flags|=2048),E!==null&&J(n0),null;case 24:return O=null,E!==null&&(O=E.memoizedState.cache),M.memoizedState.cache!==O&&(M.flags|=2048),Yr(ki),oi(M),null;case 25:return null;case 30:return null}throw Error(n(156,M.tag))}function o7(E,M){switch(Zg(M),M.tag){case 1:return E=M.flags,E&65536?(M.flags=E&-65537|128,M):null;case 3:return Yr(ki),j(),E=M.flags,(E&65536)!==0&&(E&128)===0?(M.flags=E&-65537|128,M):null;case 26:case 27:case 5:return tt(M),null;case 13:if($r(M),E=M.memoizedState,E!==null&&E.dehydrated!==null){if(M.alternate===null)throw Error(n(340));Su()}return E=M.flags,E&65536?(M.flags=E&-65537|128,M):null;case 19:return J(Gi),null;case 4:return j(),null;case 10:return Yr(M.type),null;case 22:case 23:return $r(M),lm(),E!==null&&J(n0),E=M.flags,E&65536?(M.flags=E&-65537|128,M):null;case 24:return Yr(ki),null;case 25:return null;default:return null}}function oT(E,M){switch(Zg(M),M.tag){case 3:Yr(ki),j();break;case 26:case 27:case 5:tt(M);break;case 4:j();break;case 13:$r(M);break;case 19:J(Gi);break;case 10:Yr(M.type);break;case 22:case 23:$r(M),lm(),E!==null&&J(n0);break;case 24:Yr(ki)}}function Gu(E,M){try{var O=M.updateQueue,I=O!==null?O.lastEffect:null;if(I!==null){var U=I.next;O=U;do{if((O.tag&E)===E){I=void 0;var Z=O.create,_=O.inst;I=Z(),_.destroy=I}O=O.next}while(O!==U)}}catch(et){Je(M,M.return,et)}}function La(E,M,O){try{var I=M.updateQueue,U=I!==null?I.lastEffect:null;if(U!==null){var Z=U.next;I=Z;do{if((I.tag&E)===E){var _=I.inst,et=_.destroy;if(et!==void 0){_.destroy=void 0,U=M;var rt=O,pt=et;try{pt()}catch(Pt){Je(U,rt,Pt)}}}I=I.next}while(I!==Z)}}catch(Pt){Je(M,M.return,Pt)}}function lT(E){var M=E.updateQueue;if(M!==null){var O=E.stateNode;try{JS(M,O)}catch(I){Je(E,E.return,I)}}}function hT(E,M,O){O.props=a0(E.type,E.memoizedProps),O.state=E.memoizedState;try{O.componentWillUnmount()}catch(I){Je(E,M,I)}}function Nu(E,M){try{var O=E.ref;if(O!==null){switch(E.tag){case 26:case 27:case 5:var I=E.stateNode;break;case 30:I=E.stateNode;break;default:I=E.stateNode}typeof O=="function"?E.refCleanup=O(I):O.current=I}}catch(U){Je(E,M,U)}}function dr(E,M){var O=E.ref,I=E.refCleanup;if(O!==null)if(typeof I=="function")try{I()}catch(U){Je(E,M,U)}finally{E.refCleanup=null,E=E.alternate,E!=null&&(E.refCleanup=null)}else if(typeof O=="function")try{O(null)}catch(U){Je(E,M,U)}else O.current=null}function uT(E){var M=E.type,O=E.memoizedProps,I=E.stateNode;try{t:switch(M){case"button":case"input":case"select":case"textarea":O.autoFocus&&I.focus();break t;case"img":O.src?I.src=O.src:O.srcSet&&(I.srcset=O.srcSet)}}catch(U){Je(E,E.return,U)}}function km(E,M,O){try{var I=E.stateNode;A7(I,E.type,O,M),I[Ye]=M}catch(U){Je(E,E.return,U)}}function dT(E){return E.tag===5||E.tag===3||E.tag===26||E.tag===27&&za(E.type)||E.tag===4}function Gm(E){t:for(;;){for(;E.sibling===null;){if(E.return===null||dT(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==5&&E.tag!==6&&E.tag!==18;){if(E.tag===27&&za(E.type)||E.flags&2||E.child===null||E.tag===4)continue t;E.child.return=E,E=E.child}if(!(E.flags&2))return E.stateNode}}function Nm(E,M,O){var I=E.tag;if(I===5||I===6)E=E.stateNode,M?(O.nodeType===9?O.body:O.nodeName==="HTML"?O.ownerDocument.body:O).insertBefore(E,M):(M=O.nodeType===9?O.body:O.nodeName==="HTML"?O.ownerDocument.body:O,M.appendChild(E),O=O._reactRootContainer,O!=null||M.onclick!==null||(M.onclick=Qc));else if(I!==4&&(I===27&&za(E.type)&&(O=E.stateNode,M=null),E=E.child,E!==null))for(Nm(E,M,O),E=E.sibling;E!==null;)Nm(E,M,O),E=E.sibling}function Vc(E,M,O){var I=E.tag;if(I===5||I===6)E=E.stateNode,M?O.insertBefore(E,M):O.appendChild(E);else if(I!==4&&(I===27&&za(E.type)&&(O=E.stateNode),E=E.child,E!==null))for(Vc(E,M,O),E=E.sibling;E!==null;)Vc(E,M,O),E=E.sibling}function fT(E){var M=E.stateNode,O=E.memoizedProps;try{for(var I=E.type,U=M.attributes;U.length;)M.removeAttributeNode(U[0]);ns(M,I,O),M[Ii]=E,M[Ye]=O}catch(Z){Je(E,E.return,Z)}}var Jr=!1,Ei=!1,Vm=!1,cT=typeof WeakSet=="function"?WeakSet:Set,Ki=null;function l7(E,M){if(E=E.containerInfo,hx=s3,E=ES(E),Gg(E)){if("selectionStart"in E)var O={start:E.selectionStart,end:E.selectionEnd};else t:{O=(O=E.ownerDocument)&&O.defaultView||window;var I=O.getSelection&&O.getSelection();if(I&&I.rangeCount!==0){O=I.anchorNode;var U=I.anchorOffset,Z=I.focusNode;I=I.focusOffset;try{O.nodeType,Z.nodeType}catch{O=null;break t}var _=0,et=-1,rt=-1,pt=0,Pt=0,Rt=E,gt=null;e:for(;;){for(var xt;Rt!==O||U!==0&&Rt.nodeType!==3||(et=_+U),Rt!==Z||I!==0&&Rt.nodeType!==3||(rt=_+I),Rt.nodeType===3&&(_+=Rt.nodeValue.length),(xt=Rt.firstChild)!==null;)gt=Rt,Rt=xt;for(;;){if(Rt===E)break e;if(gt===O&&++pt===U&&(et=_),gt===Z&&++Pt===I&&(rt=_),(xt=Rt.nextSibling)!==null)break;Rt=gt,gt=Rt.parentNode}Rt=xt}O=et===-1||rt===-1?null:{start:et,end:rt}}else O=null}O=O||{start:0,end:0}}else O=null;for(ux={focusedElem:E,selectionRange:O},s3=!1,Ki=M;Ki!==null;)if(M=Ki,E=M.child,(M.subtreeFlags&1024)!==0&&E!==null)E.return=M,Ki=E;else for(;Ki!==null;){switch(M=Ki,Z=M.alternate,E=M.flags,M.tag){case 0:break;case 11:case 15:break;case 1:if((E&1024)!==0&&Z!==null){E=void 0,O=M,U=Z.memoizedProps,Z=Z.memoizedState,I=O.stateNode;try{var ie=a0(O.type,U,O.elementType===O.type);E=I.getSnapshotBeforeUpdate(ie,Z),I.__reactInternalSnapshotBeforeUpdate=E}catch(qt){Je(O,O.return,qt)}}break;case 3:if((E&1024)!==0){if(E=M.stateNode.containerInfo,O=E.nodeType,O===9)cx(E);else if(O===1)switch(E.nodeName){case"HEAD":case"HTML":case"BODY":cx(E);break;default:E.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((E&1024)!==0)throw Error(n(163))}if(E=M.sibling,E!==null){E.return=M.return,Ki=E;break}Ki=M.return}}function vT(E,M,O){var I=O.flags;switch(O.tag){case 0:case 11:case 15:Fa(E,O),I&4&&Gu(5,O);break;case 1:if(Fa(E,O),I&4)if(E=O.stateNode,M===null)try{E.componentDidMount()}catch(_){Je(O,O.return,_)}else{var U=a0(O.type,M.memoizedProps);M=M.memoizedState;try{E.componentDidUpdate(U,M,E.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(O,O.return,_)}}I&64&&lT(O),I&512&&Nu(O,O.return);break;case 3:if(Fa(E,O),I&64&&(E=O.updateQueue,E!==null)){if(M=null,O.child!==null)switch(O.child.tag){case 27:case 5:M=O.child.stateNode;break;case 1:M=O.child.stateNode}try{JS(E,M)}catch(_){Je(O,O.return,_)}}break;case 27:M===null&&I&4&&fT(O);case 26:case 5:Fa(E,O),M===null&&I&4&&uT(O),I&512&&Nu(O,O.return);break;case 12:Fa(E,O);break;case 13:Fa(E,O),I&4&&mT(E,O),I&64&&(E=O.memoizedState,E!==null&&(E=E.dehydrated,E!==null&&(O=m7.bind(null,O),I7(E,O))));break;case 22:if(I=O.memoizedState!==null||Jr,!I){M=M!==null&&M.memoizedState!==null||Ei,U=Jr;var Z=Ei;Jr=I,(Ei=M)&&!Z?Ba(E,O,(O.subtreeFlags&8772)!==0):Fa(E,O),Jr=U,Ei=Z}break;case 30:break;default:Fa(E,O)}}function pT(E){var M=E.alternate;M!==null&&(E.alternate=null,pT(M)),E.child=null,E.deletions=null,E.sibling=null,E.tag===5&&(M=E.stateNode,M!==null&&xg(M)),E.stateNode=null,E.return=null,E.dependencies=null,E.memoizedProps=null,E.memoizedState=null,E.pendingProps=null,E.stateNode=null,E.updateQueue=null}var ii=null,Bs=!1;function Qr(E,M,O){for(O=O.child;O!==null;)gT(E,M,O),O=O.sibling}function gT(E,M,O){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Jt,O)}catch{}switch(O.tag){case 26:Ei||dr(O,M),Qr(E,M,O),O.memoizedState?O.memoizedState.count--:O.stateNode&&(O=O.stateNode,O.parentNode.removeChild(O));break;case 27:Ei||dr(O,M);var I=ii,U=Bs;za(O.type)&&(ii=O.stateNode,Bs=!1),Qr(E,M,O),Ku(O.stateNode),ii=I,Bs=U;break;case 5:Ei||dr(O,M);case 6:if(I=ii,U=Bs,ii=null,Qr(E,M,O),ii=I,Bs=U,ii!==null)if(Bs)try{(ii.nodeType===9?ii.body:ii.nodeName==="HTML"?ii.ownerDocument.body:ii).removeChild(O.stateNode)}catch(Z){Je(O,M,Z)}else try{ii.removeChild(O.stateNode)}catch(Z){Je(O,M,Z)}break;case 18:ii!==null&&(Bs?(E=ii,nb(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,O.stateNode),ed(E)):nb(ii,O.stateNode));break;case 4:I=ii,U=Bs,ii=O.stateNode.containerInfo,Bs=!0,Qr(E,M,O),ii=I,Bs=U;break;case 0:case 11:case 14:case 15:Ei||La(2,O,M),Ei||La(4,O,M),Qr(E,M,O);break;case 1:Ei||(dr(O,M),I=O.stateNode,typeof I.componentWillUnmount=="function"&&hT(O,M,I)),Qr(E,M,O);break;case 21:Qr(E,M,O);break;case 22:Ei=(I=Ei)||O.memoizedState!==null,Qr(E,M,O),Ei=I;break;default:Qr(E,M,O)}}function mT(E,M){if(M.memoizedState===null&&(E=M.alternate,E!==null&&(E=E.memoizedState,E!==null&&(E=E.dehydrated,E!==null))))try{ed(E)}catch(O){Je(M,M.return,O)}}function h7(E){switch(E.tag){case 13:case 19:var M=E.stateNode;return M===null&&(M=E.stateNode=new cT),M;case 22:return E=E.stateNode,M=E._retryCache,M===null&&(M=E._retryCache=new cT),M;default:throw Error(n(435,E.tag))}}function zm(E,M){var O=h7(E);M.forEach(function(I){var U=x7.bind(null,E,I);O.has(I)||(O.add(I),I.then(U,U))})}function Js(E,M){var O=M.deletions;if(O!==null)for(var I=0;I<O.length;I++){var U=O[I],Z=E,_=M,et=_;t:for(;et!==null;){switch(et.tag){case 27:if(za(et.type)){ii=et.stateNode,Bs=!1;break t}break;case 5:ii=et.stateNode,Bs=!1;break t;case 3:case 4:ii=et.stateNode.containerInfo,Bs=!0;break t}et=et.return}if(ii===null)throw Error(n(160));gT(Z,_,U),ii=null,Bs=!1,Z=U.alternate,Z!==null&&(Z.return=null),U.return=null}if(M.subtreeFlags&13878)for(M=M.child;M!==null;)xT(M,E),M=M.sibling}var Vn=null;function xT(E,M){var O=E.alternate,I=E.flags;switch(E.tag){case 0:case 11:case 14:case 15:Js(M,E),Qs(E),I&4&&(La(3,E,E.return),Gu(3,E),La(5,E,E.return));break;case 1:Js(M,E),Qs(E),I&512&&(Ei||O===null||dr(O,O.return)),I&64&&Jr&&(E=E.updateQueue,E!==null&&(I=E.callbacks,I!==null&&(O=E.shared.hiddenCallbacks,E.shared.hiddenCallbacks=O===null?I:O.concat(I))));break;case 26:var U=Vn;if(Js(M,E),Qs(E),I&512&&(Ei||O===null||dr(O,O.return)),I&4){var Z=O!==null?O.memoizedState:null;if(I=E.memoizedState,O===null)if(I===null)if(E.stateNode===null){t:{I=E.type,O=E.memoizedProps,U=U.ownerDocument||U;e:switch(I){case"title":Z=U.getElementsByTagName("title")[0],(!Z||Z[lu]||Z[Ii]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=U.createElement(I),U.head.insertBefore(Z,U.querySelector("head > title"))),ns(Z,I,O),Z[Ii]=E,Wi(Z),I=Z;break t;case"link":var _=fb("link","href",U).get(I+(O.href||""));if(_){for(var et=0;et<_.length;et++)if(Z=_[et],Z.getAttribute("href")===(O.href==null||O.href===""?null:O.href)&&Z.getAttribute("rel")===(O.rel==null?null:O.rel)&&Z.getAttribute("title")===(O.title==null?null:O.title)&&Z.getAttribute("crossorigin")===(O.crossOrigin==null?null:O.crossOrigin)){_.splice(et,1);break e}}Z=U.createElement(I),ns(Z,I,O),U.head.appendChild(Z);break;case"meta":if(_=fb("meta","content",U).get(I+(O.content||""))){for(et=0;et<_.length;et++)if(Z=_[et],Z.getAttribute("content")===(O.content==null?null:""+O.content)&&Z.getAttribute("name")===(O.name==null?null:O.name)&&Z.getAttribute("property")===(O.property==null?null:O.property)&&Z.getAttribute("http-equiv")===(O.httpEquiv==null?null:O.httpEquiv)&&Z.getAttribute("charset")===(O.charSet==null?null:O.charSet)){_.splice(et,1);break e}}Z=U.createElement(I),ns(Z,I,O),U.head.appendChild(Z);break;default:throw Error(n(468,I))}Z[Ii]=E,Wi(Z),I=Z}E.stateNode=I}else cb(U,E.type,E.stateNode);else E.stateNode=db(U,I,E.memoizedProps);else Z!==I?(Z===null?O.stateNode!==null&&(O=O.stateNode,O.parentNode.removeChild(O)):Z.count--,I===null?cb(U,E.type,E.stateNode):db(U,I,E.memoizedProps)):I===null&&E.stateNode!==null&&km(E,E.memoizedProps,O.memoizedProps)}break;case 27:Js(M,E),Qs(E),I&512&&(Ei||O===null||dr(O,O.return)),O!==null&&I&4&&km(E,E.memoizedProps,O.memoizedProps);break;case 5:if(Js(M,E),Qs(E),I&512&&(Ei||O===null||dr(O,O.return)),E.flags&32){U=E.stateNode;try{fl(U,"")}catch(xt){Je(E,E.return,xt)}}I&4&&E.stateNode!=null&&(U=E.memoizedProps,km(E,U,O!==null?O.memoizedProps:U)),I&1024&&(Vm=!0);break;case 6:if(Js(M,E),Qs(E),I&4){if(E.stateNode===null)throw Error(n(162));I=E.memoizedProps,O=E.stateNode;try{O.nodeValue=I}catch(xt){Je(E,E.return,xt)}}break;case 3:if(t3=null,U=Vn,Vn=qc(M.containerInfo),Js(M,E),Vn=U,Qs(E),I&4&&O!==null&&O.memoizedState.isDehydrated)try{ed(M.containerInfo)}catch(xt){Je(E,E.return,xt)}Vm&&(Vm=!1,yT(E));break;case 4:I=Vn,Vn=qc(E.stateNode.containerInfo),Js(M,E),Qs(E),Vn=I;break;case 12:Js(M,E),Qs(E);break;case 13:Js(M,E),Qs(E),E.child.flags&8192&&E.memoizedState!==null!=(O!==null&&O.memoizedState!==null)&&($m=St()),I&4&&(I=E.updateQueue,I!==null&&(E.updateQueue=null,zm(E,I)));break;case 22:U=E.memoizedState!==null;var rt=O!==null&&O.memoizedState!==null,pt=Jr,Pt=Ei;if(Jr=pt||U,Ei=Pt||rt,Js(M,E),Ei=Pt,Jr=pt,Qs(E),I&8192)t:for(M=E.stateNode,M._visibility=U?M._visibility&-2:M._visibility|1,U&&(O===null||rt||Jr||Ei||o0(E)),O=null,M=E;;){if(M.tag===5||M.tag===26){if(O===null){rt=O=M;try{if(Z=rt.stateNode,U)_=Z.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{et=rt.stateNode;var Rt=rt.memoizedProps.style,gt=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null;et.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(xt){Je(rt,rt.return,xt)}}}else if(M.tag===6){if(O===null){rt=M;try{rt.stateNode.nodeValue=U?"":rt.memoizedProps}catch(xt){Je(rt,rt.return,xt)}}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===E)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===E)break t;for(;M.sibling===null;){if(M.return===null||M.return===E)break t;O===M&&(O=null),M=M.return}O===M&&(O=null),M.sibling.return=M.return,M=M.sibling}I&4&&(I=E.updateQueue,I!==null&&(O=I.retryQueue,O!==null&&(I.retryQueue=null,zm(E,O))));break;case 19:Js(M,E),Qs(E),I&4&&(I=E.updateQueue,I!==null&&(E.updateQueue=null,zm(E,I)));break;case 30:break;case 21:break;default:Js(M,E),Qs(E)}}function Qs(E){var M=E.flags;if(M&2){try{for(var O,I=E.return;I!==null;){if(dT(I)){O=I;break}I=I.return}if(O==null)throw Error(n(160));switch(O.tag){case 27:var U=O.stateNode,Z=Gm(E);Vc(E,Z,U);break;case 5:var _=O.stateNode;O.flags&32&&(fl(_,""),O.flags&=-33);var et=Gm(E);Vc(E,et,_);break;case 3:case 4:var rt=O.stateNode.containerInfo,pt=Gm(E);Nm(E,pt,rt);break;default:throw Error(n(161))}}catch(Pt){Je(E,E.return,Pt)}E.flags&=-3}M&4096&&(E.flags&=-4097)}function yT(E){if(E.subtreeFlags&1024)for(E=E.child;E!==null;){var M=E;yT(M),M.tag===5&&M.flags&1024&&M.stateNode.reset(),E=E.sibling}}function Fa(E,M){if(M.subtreeFlags&8772)for(M=M.child;M!==null;)vT(E,M.alternate,M),M=M.sibling}function o0(E){for(E=E.child;E!==null;){var M=E;switch(M.tag){case 0:case 11:case 14:case 15:La(4,M,M.return),o0(M);break;case 1:dr(M,M.return);var O=M.stateNode;typeof O.componentWillUnmount=="function"&&hT(M,M.return,O),o0(M);break;case 27:Ku(M.stateNode);case 26:case 5:dr(M,M.return),o0(M);break;case 22:M.memoizedState===null&&o0(M);break;case 30:o0(M);break;default:o0(M)}E=E.sibling}}function Ba(E,M,O){for(O=O&&(M.subtreeFlags&8772)!==0,M=M.child;M!==null;){var I=M.alternate,U=E,Z=M,_=Z.flags;switch(Z.tag){case 0:case 11:case 15:Ba(U,Z,O),Gu(4,Z);break;case 1:if(Ba(U,Z,O),I=Z,U=I.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(pt){Je(I,I.return,pt)}if(I=Z,U=I.updateQueue,U!==null){var et=I.stateNode;try{var rt=U.shared.hiddenCallbacks;if(rt!==null)for(U.shared.hiddenCallbacks=null,U=0;U<rt.length;U++)ZS(rt[U],et)}catch(pt){Je(I,I.return,pt)}}O&&_&64&&lT(Z),Nu(Z,Z.return);break;case 27:fT(Z);case 26:case 5:Ba(U,Z,O),O&&I===null&&_&4&&uT(Z),Nu(Z,Z.return);break;case 12:Ba(U,Z,O);break;case 13:Ba(U,Z,O),O&&_&4&&mT(U,Z);break;case 22:Z.memoizedState===null&&Ba(U,Z,O),Nu(Z,Z.return);break;case 30:break;default:Ba(U,Z,O)}M=M.sibling}}function Um(E,M){var O=null;E!==null&&E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(O=E.memoizedState.cachePool.pool),E=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(E=M.memoizedState.cachePool.pool),E!==O&&(E!=null&&E.refCount++,O!=null&&bu(O))}function Xm(E,M){E=null,M.alternate!==null&&(E=M.alternate.memoizedState.cache),M=M.memoizedState.cache,M!==E&&(M.refCount++,E!=null&&bu(E))}function fr(E,M,O,I){if(M.subtreeFlags&10256)for(M=M.child;M!==null;)ST(E,M,O,I),M=M.sibling}function ST(E,M,O,I){var U=M.flags;switch(M.tag){case 0:case 11:case 15:fr(E,M,O,I),U&2048&&Gu(9,M);break;case 1:fr(E,M,O,I);break;case 3:fr(E,M,O,I),U&2048&&(E=null,M.alternate!==null&&(E=M.alternate.memoizedState.cache),M=M.memoizedState.cache,M!==E&&(M.refCount++,E!=null&&bu(E)));break;case 12:if(U&2048){fr(E,M,O,I),E=M.stateNode;try{var Z=M.memoizedProps,_=Z.id,et=Z.onPostCommit;typeof et=="function"&&et(_,M.alternate===null?"mount":"update",E.passiveEffectDuration,-0)}catch(rt){Je(M,M.return,rt)}}else fr(E,M,O,I);break;case 13:fr(E,M,O,I);break;case 23:break;case 22:Z=M.stateNode,_=M.alternate,M.memoizedState!==null?Z._visibility&2?fr(E,M,O,I):Vu(E,M):Z._visibility&2?fr(E,M,O,I):(Z._visibility|=2,Dl(E,M,O,I,(M.subtreeFlags&10256)!==0)),U&2048&&Um(_,M);break;case 24:fr(E,M,O,I),U&2048&&Xm(M.alternate,M);break;default:fr(E,M,O,I)}}function Dl(E,M,O,I,U){for(U=U&&(M.subtreeFlags&10256)!==0,M=M.child;M!==null;){var Z=E,_=M,et=O,rt=I,pt=_.flags;switch(_.tag){case 0:case 11:case 15:Dl(Z,_,et,rt,U),Gu(8,_);break;case 23:break;case 22:var Pt=_.stateNode;_.memoizedState!==null?Pt._visibility&2?Dl(Z,_,et,rt,U):Vu(Z,_):(Pt._visibility|=2,Dl(Z,_,et,rt,U)),U&&pt&2048&&Um(_.alternate,_);break;case 24:Dl(Z,_,et,rt,U),U&&pt&2048&&Xm(_.alternate,_);break;default:Dl(Z,_,et,rt,U)}M=M.sibling}}function Vu(E,M){if(M.subtreeFlags&10256)for(M=M.child;M!==null;){var O=E,I=M,U=I.flags;switch(I.tag){case 22:Vu(O,I),U&2048&&Um(I.alternate,I);break;case 24:Vu(O,I),U&2048&&Xm(I.alternate,I);break;default:Vu(O,I)}M=M.sibling}}var zu=8192;function Ll(E){if(E.subtreeFlags&zu)for(E=E.child;E!==null;)CT(E),E=E.sibling}function CT(E){switch(E.tag){case 26:Ll(E),E.flags&zu&&E.memoizedState!==null&&Z7(Vn,E.memoizedState,E.memoizedProps);break;case 5:Ll(E);break;case 3:case 4:var M=Vn;Vn=qc(E.stateNode.containerInfo),Ll(E),Vn=M;break;case 22:E.memoizedState===null&&(M=E.alternate,M!==null&&M.memoizedState!==null?(M=zu,zu=16777216,Ll(E),zu=M):Ll(E));break;default:Ll(E)}}function TT(E){var M=E.alternate;if(M!==null&&(E=M.child,E!==null)){M.child=null;do M=E.sibling,E.sibling=null,E=M;while(E!==null)}}function Uu(E){var M=E.deletions;if((E.flags&16)!==0){if(M!==null)for(var O=0;O<M.length;O++){var I=M[O];Ki=I,ET(I,E)}TT(E)}if(E.subtreeFlags&10256)for(E=E.child;E!==null;)bT(E),E=E.sibling}function bT(E){switch(E.tag){case 0:case 11:case 15:Uu(E),E.flags&2048&&La(9,E,E.return);break;case 3:Uu(E);break;case 12:Uu(E);break;case 22:var M=E.stateNode;E.memoizedState!==null&&M._visibility&2&&(E.return===null||E.return.tag!==13)?(M._visibility&=-3,zc(E)):Uu(E);break;default:Uu(E)}}function zc(E){var M=E.deletions;if((E.flags&16)!==0){if(M!==null)for(var O=0;O<M.length;O++){var I=M[O];Ki=I,ET(I,E)}TT(E)}for(E=E.child;E!==null;){switch(M=E,M.tag){case 0:case 11:case 15:La(8,M,M.return),zc(M);break;case 22:O=M.stateNode,O._visibility&2&&(O._visibility&=-3,zc(M));break;default:zc(M)}E=E.sibling}}function ET(E,M){for(;Ki!==null;){var O=Ki;switch(O.tag){case 0:case 11:case 15:La(8,O,M);break;case 23:case 22:if(O.memoizedState!==null&&O.memoizedState.cachePool!==null){var I=O.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:bu(O.memoizedState.cache)}if(I=O.child,I!==null)I.return=O,Ki=I;else t:for(O=E;Ki!==null;){I=Ki;var U=I.sibling,Z=I.return;if(pT(I),I===O){Ki=null;break t}if(U!==null){U.return=Z,Ki=U;break t}Ki=Z}}}var u7={getCacheForType:function(E){var M=ds(ki),O=M.data.get(E);return O===void 0&&(O=E(),M.data.set(E,O)),O}},d7=typeof WeakMap=="function"?WeakMap:Map,Ue=0,je=null,xe=null,we=0,Xe=0,js=null,Ia=!1,Fl=!1,Hm=!1,jr=0,vi=0,ka=0,l0=0,Ym=0,xn=0,Bl=0,Xu=null,Is=null,Wm=!1,$m=0,Uc=1/0,Xc=null,Ga=null,ss=0,Na=null,Il=null,kl=0,Km=0,Zm=null,wT=null,Hu=0,Jm=null;function qs(){if((Ue&2)!==0&&we!==0)return we&-we;if(F.T!==null){var E=bl;return E!==0?E:ix()}return qf()}function PT(){xn===0&&(xn=(we&536870912)===0||Ge?fi():536870912);var E=mn.current;return E!==null&&(E.flags|=32),xn}function _s(E,M,O){(E===je&&(Xe===2||Xe===9)||E.cancelPendingCommit!==null)&&(Gl(E,0),Va(E,we,xn,!1)),or(E,O),((Ue&2)===0||E!==je)&&(E===je&&((Ue&2)===0&&(l0|=O),vi===4&&Va(E,we,xn,!1)),cr(E))}function MT(E,M,O){if((Ue&6)!==0)throw Error(n(327));var I=!O&&(M&124)===0&&(M&E.expiredLanes)===0||Yi(E,M),U=I?v7(E,M):qm(E,M,!0),Z=I;do{if(U===0){Fl&&!I&&Va(E,M,0,!1);break}else{if(O=E.current.alternate,Z&&!f7(O)){U=qm(E,M,!1),Z=!1;continue}if(U===2){if(Z=M,E.errorRecoveryDisabledLanes&Z)var _=0;else _=E.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){M=_;t:{var et=E;U=Xu;var rt=et.current.memoizedState.isDehydrated;if(rt&&(Gl(et,_).flags|=256),_=qm(et,_,!1),_!==2){if(Hm&&!rt){et.errorRecoveryDisabledLanes|=Z,l0|=Z,U=4;break t}Z=Is,Is=U,Z!==null&&(Is===null?Is=Z:Is.push.apply(Is,Z))}U=_}if(Z=!1,U!==2)continue}}if(U===1){Gl(E,0),Va(E,M,0,!0);break}t:{switch(I=E,Z=U,Z){case 0:case 1:throw Error(n(345));case 4:if((M&4194048)!==M)break;case 6:Va(I,M,xn,!Ia);break t;case 2:Is=null;break;case 3:case 5:break;default:throw Error(n(329))}if((M&62914560)===M&&(U=$m+300-St(),10<U)){if(Va(I,M,xn,!Ia),Bi(I,0,!0)!==0)break t;I.timeoutHandle=ib(AT.bind(null,I,O,Is,Xc,Wm,M,xn,l0,Bl,Ia,Z,2,-0,0),U);break t}AT(I,O,Is,Xc,Wm,M,xn,l0,Bl,Ia,Z,0,-0,0)}}break}while(!0);cr(E)}function AT(E,M,O,I,U,Z,_,et,rt,pt,Pt,Rt,gt,xt){if(E.timeoutHandle=-1,Rt=M.subtreeFlags,(Rt&8192||(Rt&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:K7},CT(M),Rt=J7(),Rt!==null)){E.cancelPendingCommit=Rt(IT.bind(null,E,M,Z,O,I,U,_,et,rt,Pt,1,gt,xt)),Va(E,Z,_,!pt);return}IT(E,M,Z,O,I,U,_,et,rt)}function f7(E){for(var M=E;;){var O=M.tag;if((O===0||O===11||O===15)&&M.flags&16384&&(O=M.updateQueue,O!==null&&(O=O.stores,O!==null)))for(var I=0;I<O.length;I++){var U=O[I],Z=U.getSnapshot;U=U.value;try{if(!Ks(Z(),U))return!1}catch{return!1}}if(O=M.child,M.subtreeFlags&16384&&O!==null)O.return=M,M=O;else{if(M===E)break;for(;M.sibling===null;){if(M.return===null||M.return===E)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}function Va(E,M,O,I){M&=~Ym,M&=~l0,E.suspendedLanes|=M,E.pingedLanes&=~M,I&&(E.warmLanes|=M),I=E.expirationTimes;for(var U=M;0<U;){var Z=31-Yt(U),_=1<<Z;I[Z]=-1,U&=~_}O!==0&&Qf(E,O,M)}function Hc(){return(Ue&6)===0?(Yu(0),!1):!0}function Qm(){if(xe!==null){if(Xe===0)var E=xe.return;else E=xe,Hr=i0=null,cm(E),Rl=null,Bu=0,E=xe;for(;E!==null;)oT(E.alternate,E),E=E.return;xe=null}}function Gl(E,M){var O=E.timeoutHandle;O!==-1&&(E.timeoutHandle=-1,O7(O)),O=E.cancelPendingCommit,O!==null&&(E.cancelPendingCommit=null,O()),Qm(),je=E,xe=O=zr(E.current,null),we=M,Xe=0,js=null,Ia=!1,Fl=Yi(E,M),Hm=!1,Bl=xn=Ym=l0=ka=vi=0,Is=Xu=null,Wm=!1,(M&8)!==0&&(M|=M&32);var I=E.entangledLanes;if(I!==0)for(E=E.entanglements,I&=M;0<I;){var U=31-Yt(I),Z=1<<U;M|=E[U],I&=~Z}return jr=M,dc(),O}function RT(E,M){pe=null,F.H=Oc,M===wu||M===Sc?(M=$S(),Xe=3):M===HS?(M=$S(),Xe=4):Xe=M===KC?8:M!==null&&typeof M=="object"&&typeof M.then=="function"?6:1,js=M,xe===null&&(vi=1,Ic(E,cn(M,E.current)))}function OT(){var E=F.H;return F.H=Oc,E===null?Oc:E}function DT(){var E=F.A;return F.A=u7,E}function jm(){vi=4,Ia||(we&4194048)!==we&&mn.current!==null||(Fl=!0),(ka&134217727)===0&&(l0&134217727)===0||je===null||Va(je,we,xn,!1)}function qm(E,M,O){var I=Ue;Ue|=2;var U=OT(),Z=DT();(je!==E||we!==M)&&(Xc=null,Gl(E,M)),M=!1;var _=vi;t:do try{if(Xe!==0&&xe!==null){var et=xe,rt=js;switch(Xe){case 8:Qm(),_=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(M=!0);var pt=Xe;if(Xe=0,js=null,Nl(E,et,rt,pt),O&&Fl){_=0;break t}break;default:pt=Xe,Xe=0,js=null,Nl(E,et,rt,pt)}}c7(),_=vi;break}catch(Pt){RT(E,Pt)}while(!0);return M&&E.shellSuspendCounter++,Hr=i0=null,Ue=I,F.H=U,F.A=Z,xe===null&&(je=null,we=0,dc()),_}function c7(){for(;xe!==null;)LT(xe)}function v7(E,M){var O=Ue;Ue|=2;var I=OT(),U=DT();je!==E||we!==M?(Xc=null,Uc=St()+500,Gl(E,M)):Fl=Yi(E,M);t:do try{if(Xe!==0&&xe!==null){M=xe;var Z=js;e:switch(Xe){case 1:Xe=0,js=null,Nl(E,M,Z,1);break;case 2:case 9:if(YS(Z)){Xe=0,js=null,FT(M);break}M=function(){Xe!==2&&Xe!==9||je!==E||(Xe=7),cr(E)},Z.then(M,M);break t;case 3:Xe=7;break t;case 4:Xe=5;break t;case 7:YS(Z)?(Xe=0,js=null,FT(M)):(Xe=0,js=null,Nl(E,M,Z,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var et=xe;if(!_||vb(_)){Xe=0,js=null;var rt=et.sibling;if(rt!==null)xe=rt;else{var pt=et.return;pt!==null?(xe=pt,Yc(pt)):xe=null}break e}}Xe=0,js=null,Nl(E,M,Z,5);break;case 6:Xe=0,js=null,Nl(E,M,Z,6);break;case 8:Qm(),vi=6;break t;default:throw Error(n(462))}}p7();break}catch(Pt){RT(E,Pt)}while(!0);return Hr=i0=null,F.H=I,F.A=U,Ue=O,xe!==null?0:(je=null,we=0,dc(),vi)}function p7(){for(;xe!==null&&!ot();)LT(xe)}function LT(E){var M=rT(E.alternate,E,jr);E.memoizedProps=E.pendingProps,M===null?Yc(E):xe=M}function FT(E){var M=E,O=M.alternate;switch(M.tag){case 15:case 0:M=_C(O,M,M.pendingProps,M.type,void 0,we);break;case 11:M=_C(O,M,M.pendingProps,M.type.render,M.ref,we);break;case 5:cm(M);default:oT(O,M),M=xe=BS(M,jr),M=rT(O,M,jr)}E.memoizedProps=E.pendingProps,M===null?Yc(E):xe=M}function Nl(E,M,O,I){Hr=i0=null,cm(M),Rl=null,Bu=0;var U=M.return;try{if(n7(E,U,M,O,we)){vi=1,Ic(E,cn(O,E.current)),xe=null;return}}catch(Z){if(U!==null)throw xe=U,Z;vi=1,Ic(E,cn(O,E.current)),xe=null;return}M.flags&32768?(Ge||I===1?E=!0:Fl||(we&536870912)!==0?E=!1:(Ia=E=!0,(I===2||I===9||I===3||I===6)&&(I=mn.current,I!==null&&I.tag===13&&(I.flags|=16384))),BT(M,E)):Yc(M)}function Yc(E){var M=E;do{if((M.flags&32768)!==0){BT(M,Ia);return}E=M.return;var O=a7(M.alternate,M,jr);if(O!==null){xe=O;return}if(M=M.sibling,M!==null){xe=M;return}xe=M=E}while(M!==null);vi===0&&(vi=5)}function BT(E,M){do{var O=o7(E.alternate,E);if(O!==null){O.flags&=32767,xe=O;return}if(O=E.return,O!==null&&(O.flags|=32768,O.subtreeFlags=0,O.deletions=null),!M&&(E=E.sibling,E!==null)){xe=E;return}xe=E=O}while(E!==null);vi=6,xe=null}function IT(E,M,O,I,U,Z,_,et,rt){E.cancelPendingCommit=null;do Wc();while(ss!==0);if((Ue&6)!==0)throw Error(n(327));if(M!==null){if(M===E.current)throw Error(n(177));if(Z=M.lanes|M.childLanes,Z|=Xg,gg(E,O,Z,_,et,rt),E===je&&(xe=je=null,we=0),Il=M,Na=E,kl=O,Km=Z,Zm=U,wT=I,(M.subtreeFlags&10256)!==0||(M.flags&10256)!==0?(E.callbackNode=null,E.callbackPriority=0,y7(It,function(){return zT(),null})):(E.callbackNode=null,E.callbackPriority=0),I=(M.flags&13878)!==0,(M.subtreeFlags&13878)!==0||I){I=F.T,F.T=null,U=G.p,G.p=2,_=Ue,Ue|=4;try{l7(E,M,O)}finally{Ue=_,G.p=U,F.T=I}}ss=1,kT(),GT(),NT()}}function kT(){if(ss===1){ss=0;var E=Na,M=Il,O=(M.flags&13878)!==0;if((M.subtreeFlags&13878)!==0||O){O=F.T,F.T=null;var I=G.p;G.p=2;var U=Ue;Ue|=4;try{xT(M,E);var Z=ux,_=ES(E.containerInfo),et=Z.focusedElem,rt=Z.selectionRange;if(_!==et&&et&&et.ownerDocument&&bS(et.ownerDocument.documentElement,et)){if(rt!==null&&Gg(et)){var pt=rt.start,Pt=rt.end;if(Pt===void 0&&(Pt=pt),"selectionStart"in et)et.selectionStart=pt,et.selectionEnd=Math.min(Pt,et.value.length);else{var Rt=et.ownerDocument||document,gt=Rt&&Rt.defaultView||window;if(gt.getSelection){var xt=gt.getSelection(),ie=et.textContent.length,qt=Math.min(rt.start,ie),Ke=rt.end===void 0?qt:Math.min(rt.end,ie);!xt.extend&&qt>Ke&&(_=Ke,Ke=qt,qt=_);var ft=TS(et,qt),ht=TS(et,Ke);if(ft&&ht&&(xt.rangeCount!==1||xt.anchorNode!==ft.node||xt.anchorOffset!==ft.offset||xt.focusNode!==ht.node||xt.focusOffset!==ht.offset)){var vt=Rt.createRange();vt.setStart(ft.node,ft.offset),xt.removeAllRanges(),qt>Ke?(xt.addRange(vt),xt.extend(ht.node,ht.offset)):(vt.setEnd(ht.node,ht.offset),xt.addRange(vt))}}}}for(Rt=[],xt=et;xt=xt.parentNode;)xt.nodeType===1&&Rt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<Rt.length;et++){var Mt=Rt[et];Mt.element.scrollLeft=Mt.left,Mt.element.scrollTop=Mt.top}}s3=!!hx,ux=hx=null}finally{Ue=U,G.p=I,F.T=O}}E.current=M,ss=2}}function GT(){if(ss===2){ss=0;var E=Na,M=Il,O=(M.flags&8772)!==0;if((M.subtreeFlags&8772)!==0||O){O=F.T,F.T=null;var I=G.p;G.p=2;var U=Ue;Ue|=4;try{vT(E,M.alternate,M)}finally{Ue=U,G.p=I,F.T=O}}ss=3}}function NT(){if(ss===4||ss===3){ss=0,mt();var E=Na,M=Il,O=kl,I=wT;(M.subtreeFlags&10256)!==0||(M.flags&10256)!==0?ss=5:(ss=0,Il=Na=null,VT(E,E.pendingLanes));var U=E.pendingLanes;if(U===0&&(Ga=null),ou(O),M=M.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Jt,M,void 0,(M.current.flags&128)===128)}catch{}if(I!==null){M=F.T,U=G.p,G.p=2,F.T=null;try{for(var Z=E.onRecoverableError,_=0;_<I.length;_++){var et=I[_];Z(et.value,{componentStack:et.stack})}}finally{F.T=M,G.p=U}}(kl&3)!==0&&Wc(),cr(E),U=E.pendingLanes,(O&4194090)!==0&&(U&42)!==0?E===Jm?Hu++:(Hu=0,Jm=E):Hu=0,Yu(0)}}function VT(E,M){(E.pooledCacheLanes&=M)===0&&(M=E.pooledCache,M!=null&&(E.pooledCache=null,bu(M)))}function Wc(E){return kT(),GT(),NT(),zT()}function zT(){if(ss!==5)return!1;var E=Na,M=Km;Km=0;var O=ou(kl),I=F.T,U=G.p;try{G.p=32>O?32:O,F.T=null,O=Zm,Zm=null;var Z=Na,_=kl;if(ss=0,Il=Na=null,kl=0,(Ue&6)!==0)throw Error(n(331));var et=Ue;if(Ue|=4,bT(Z.current),ST(Z,Z.current,_,O),Ue=et,Yu(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Jt,Z)}catch{}return!0}finally{G.p=U,F.T=I,VT(E,M)}}function UT(E,M,O){M=cn(O,M),M=Mm(E.stateNode,M,2),E=Aa(E,M,2),E!==null&&(or(E,2),cr(E))}function Je(E,M,O){if(E.tag===3)UT(E,E,O);else for(;M!==null;){if(M.tag===3){UT(M,E,O);break}else if(M.tag===1){var I=M.stateNode;if(typeof M.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Ga===null||!Ga.has(I))){E=cn(O,E),O=WC(2),I=Aa(M,O,2),I!==null&&($C(O,I,M,E),or(I,2),cr(I));break}}M=M.return}}function _m(E,M,O){var I=E.pingCache;if(I===null){I=E.pingCache=new d7;var U=new Set;I.set(M,U)}else U=I.get(M),U===void 0&&(U=new Set,I.set(M,U));U.has(O)||(Hm=!0,U.add(O),E=g7.bind(null,E,M,O),M.then(E,E))}function g7(E,M,O){var I=E.pingCache;I!==null&&I.delete(M),E.pingedLanes|=E.suspendedLanes&O,E.warmLanes&=~O,je===E&&(we&O)===O&&(vi===4||vi===3&&(we&62914560)===we&&300>St()-$m?(Ue&2)===0&&Gl(E,0):Ym|=O,Bl===we&&(Bl=0)),cr(E)}function XT(E,M){M===0&&(M=us()),E=yl(E,M),E!==null&&(or(E,M),cr(E))}function m7(E){var M=E.memoizedState,O=0;M!==null&&(O=M.retryLane),XT(E,O)}function x7(E,M){var O=0;switch(E.tag){case 13:var I=E.stateNode,U=E.memoizedState;U!==null&&(O=U.retryLane);break;case 19:I=E.stateNode;break;case 22:I=E.stateNode._retryCache;break;default:throw Error(n(314))}I!==null&&I.delete(M),XT(E,O)}function y7(E,M){return nt(E,M)}var $c=null,Vl=null,tx=!1,Kc=!1,ex=!1,h0=0;function cr(E){E!==Vl&&E.next===null&&(Vl===null?$c=Vl=E:Vl=Vl.next=E),Kc=!0,tx||(tx=!0,C7())}function Yu(E,M){if(!ex&&Kc){ex=!0;do for(var O=!1,I=$c;I!==null;){if(E!==0){var U=I.pendingLanes;if(U===0)var Z=0;else{var _=I.suspendedLanes,et=I.pingedLanes;Z=(1<<31-Yt(42|E)+1)-1,Z&=U&~(_&~et),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(O=!0,$T(I,Z))}else Z=we,Z=Bi(I,I===je?Z:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(Z&3)===0||Yi(I,Z)||(O=!0,$T(I,Z));I=I.next}while(O);ex=!1}}function S7(){HT()}function HT(){Kc=tx=!1;var E=0;h0!==0&&(R7()&&(E=h0),h0=0);for(var M=St(),O=null,I=$c;I!==null;){var U=I.next,Z=YT(I,M);Z===0?(I.next=null,O===null?$c=U:O.next=U,U===null&&(Vl=O)):(O=I,(E!==0||(Z&3)!==0)&&(Kc=!0)),I=U}Yu(E)}function YT(E,M){for(var O=E.suspendedLanes,I=E.pingedLanes,U=E.expirationTimes,Z=E.pendingLanes&-62914561;0<Z;){var _=31-Yt(Z),et=1<<_,rt=U[_];rt===-1?((et&O)===0||(et&I)!==0)&&(U[_]=ve(et,M)):rt<=M&&(E.expiredLanes|=et),Z&=~et}if(M=je,O=we,O=Bi(E,E===M?O:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),I=E.callbackNode,O===0||E===M&&(Xe===2||Xe===9)||E.cancelPendingCommit!==null)return I!==null&&I!==null&&at(I),E.callbackNode=null,E.callbackPriority=0;if((O&3)===0||Yi(E,O)){if(M=O&-O,M===E.callbackPriority)return M;switch(I!==null&&at(I),ou(O)){case 2:case 8:O=Vt;break;case 32:O=It;break;case 268435456:O=Lt;break;default:O=It}return I=WT.bind(null,E),O=nt(O,I),E.callbackPriority=M,E.callbackNode=O,M}return I!==null&&I!==null&&at(I),E.callbackPriority=2,E.callbackNode=null,2}function WT(E,M){if(ss!==0&&ss!==5)return E.callbackNode=null,E.callbackPriority=0,null;var O=E.callbackNode;if(Wc()&&E.callbackNode!==O)return null;var I=we;return I=Bi(E,E===je?I:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),I===0?null:(MT(E,I,M),YT(E,St()),E.callbackNode!=null&&E.callbackNode===O?WT.bind(null,E):null)}function $T(E,M){if(Wc())return null;MT(E,M,!0)}function C7(){D7(function(){(Ue&6)!==0?nt(kt,S7):HT()})}function ix(){return h0===0&&(h0=fi()),h0}function KT(E){return E==null||typeof E=="symbol"||typeof E=="boolean"?null:typeof E=="function"?E:nc(""+E)}function ZT(E,M){var O=M.ownerDocument.createElement("input");return O.name=M.name,O.value=M.value,E.id&&O.setAttribute("form",E.id),M.parentNode.insertBefore(O,M),E=new FormData(E),O.parentNode.removeChild(O),E}function T7(E,M,O,I,U){if(M==="submit"&&O&&O.stateNode===U){var Z=KT((U[Ye]||null).action),_=I.submitter;_&&(M=(M=_[Ye]||null)?KT(M.formAction):_.getAttribute("formAction"),M!==null&&(Z=M,_=null));var et=new lc("action","action",null,I,U);E.push({event:et,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(h0!==0){var rt=_?ZT(U,_):new FormData(U);Tm(O,{pending:!0,data:rt,method:U.method,action:Z},null,rt)}}else typeof Z=="function"&&(et.preventDefault(),rt=_?ZT(U,_):new FormData(U),Tm(O,{pending:!0,data:rt,method:U.method,action:Z},Z,rt))},currentTarget:U}]})}}for(var sx=0;sx<Ug.length;sx++){var nx=Ug[sx],b7=nx.toLowerCase(),E7=nx[0].toUpperCase()+nx.slice(1);Nn(b7,"on"+E7)}Nn(MS,"onAnimationEnd"),Nn(AS,"onAnimationIteration"),Nn(RS,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(UB,"onTransitionRun"),Nn(XB,"onTransitionStart"),Nn(HB,"onTransitionCancel"),Nn(OS,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function JT(E,M){M=(M&4)!==0;for(var O=0;O<E.length;O++){var I=E[O],U=I.event;I=I.listeners;t:{var Z=void 0;if(M)for(var _=I.length-1;0<=_;_--){var et=I[_],rt=et.instance,pt=et.currentTarget;if(et=et.listener,rt!==Z&&U.isPropagationStopped())break t;Z=et,U.currentTarget=pt;try{Z(U)}catch(Pt){Bc(Pt)}U.currentTarget=null,Z=rt}else for(_=0;_<I.length;_++){if(et=I[_],rt=et.instance,pt=et.currentTarget,et=et.listener,rt!==Z&&U.isPropagationStopped())break t;Z=et,U.currentTarget=pt;try{Z(U)}catch(Pt){Bc(Pt)}U.currentTarget=null,Z=rt}}}}function ye(E,M){var O=M[rl];O===void 0&&(O=M[rl]=new Set);var I=E+"__bubble";O.has(I)||(QT(M,E,2,!1),O.add(I))}function rx(E,M,O){var I=0;M&&(I|=4),QT(O,E,I,M)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function ax(E){if(!E[Zc]){E[Zc]=!0,H6.forEach(function(O){O!=="selectionchange"&&(w7.has(O)||rx(O,!1,E),rx(O,!0,E))});var M=E.nodeType===9?E:E.ownerDocument;M===null||M[Zc]||(M[Zc]=!0,rx("selectionchange",!1,M))}}function QT(E,M,O,I){switch(Sb(M)){case 2:var U=q7;break;case 8:U=_7;break;default:U=Sx}O=U.bind(null,M,O,E),U=void 0,!Ag||M!=="touchstart"&&M!=="touchmove"&&M!=="wheel"||(U=!0),I?U!==void 0?E.addEventListener(M,O,{capture:!0,passive:U}):E.addEventListener(M,O,!0):U!==void 0?E.addEventListener(M,O,{passive:U}):E.addEventListener(M,O,!1)}function ox(E,M,O,I,U){var Z=I;if((M&1)===0&&(M&2)===0&&I!==null)t:for(;;){if(I===null)return;var _=I.tag;if(_===3||_===4){var et=I.stateNode.containerInfo;if(et===U)break;if(_===4)for(_=I.return;_!==null;){var rt=_.tag;if((rt===3||rt===4)&&_.stateNode.containerInfo===U)return;_=_.return}for(;et!==null;){if(_=al(et),_===null)return;if(rt=_.tag,rt===5||rt===6||rt===26||rt===27){I=Z=_;continue t}et=et.parentNode}}I=I.return}sS(function(){var pt=Z,Pt=Pg(O),Rt=[];t:{var gt=DS.get(E);if(gt!==void 0){var xt=lc,ie=E;switch(E){case"keypress":if(ac(O)===0)break t;case"keydown":case"keyup":xt=yB;break;case"focusin":ie="focus",xt=Lg;break;case"focusout":ie="blur",xt=Lg;break;case"beforeblur":case"afterblur":xt=Lg;break;case"click":if(O.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=aS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=oB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=TB;break;case MS:case AS:case RS:xt=uB;break;case OS:xt=EB;break;case"scroll":case"scrollend":xt=rB;break;case"wheel":xt=PB;break;case"copy":case"cut":case"paste":xt=fB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=lS;break;case"toggle":case"beforetoggle":xt=AB}var qt=(M&4)!==0,Ke=!qt&&(E==="scroll"||E==="scrollend"),ft=qt?gt!==null?gt+"Capture":null:gt;qt=[];for(var ht=pt,vt;ht!==null;){var Mt=ht;if(vt=Mt.stateNode,Mt=Mt.tag,Mt!==5&&Mt!==26&&Mt!==27||vt===null||ft===null||(Mt=uu(ht,ft),Mt!=null&&qt.push($u(ht,Mt,vt))),Ke)break;ht=ht.return}0<qt.length&&(gt=new xt(gt,ie,null,O,Pt),Rt.push({event:gt,listeners:qt}))}}if((M&7)===0){t:{if(gt=E==="mouseover"||E==="pointerover",xt=E==="mouseout"||E==="pointerout",gt&&O!==wg&&(ie=O.relatedTarget||O.fromElement)&&(al(ie)||ie[Cs]))break t;if((xt||gt)&&(gt=Pt.window===Pt?Pt:(gt=Pt.ownerDocument)?gt.defaultView||gt.parentWindow:window,xt?(ie=O.relatedTarget||O.toElement,xt=pt,ie=ie?al(ie):null,ie!==null&&(Ke=C(ie),qt=ie.tag,ie!==Ke||qt!==5&&qt!==27&&qt!==6)&&(ie=null)):(xt=null,ie=pt),xt!==ie)){if(qt=aS,Mt="onMouseLeave",ft="onMouseEnter",ht="mouse",(E==="pointerout"||E==="pointerover")&&(qt=lS,Mt="onPointerLeave",ft="onPointerEnter",ht="pointer"),Ke=xt==null?gt:hu(xt),vt=ie==null?gt:hu(ie),gt=new qt(Mt,ht+"leave",xt,O,Pt),gt.target=Ke,gt.relatedTarget=vt,Mt=null,al(Pt)===pt&&(qt=new qt(ft,ht+"enter",ie,O,Pt),qt.target=vt,qt.relatedTarget=Ke,Mt=qt),Ke=Mt,xt&&ie)e:{for(qt=xt,ft=ie,ht=0,vt=qt;vt;vt=zl(vt))ht++;for(vt=0,Mt=ft;Mt;Mt=zl(Mt))vt++;for(;0<ht-vt;)qt=zl(qt),ht--;for(;0<vt-ht;)ft=zl(ft),vt--;for(;ht--;){if(qt===ft||ft!==null&&qt===ft.alternate)break e;qt=zl(qt),ft=zl(ft)}qt=null}else qt=null;xt!==null&&jT(Rt,gt,xt,qt,!1),ie!==null&&Ke!==null&&jT(Rt,Ke,ie,qt,!0)}}t:{if(gt=pt?hu(pt):window,xt=gt.nodeName&&gt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&gt.type==="file")var zt=gS;else if(vS(gt))if(mS)zt=NB;else{zt=kB;var ge=IB}else xt=gt.nodeName,!xt||xt.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?pt&&Eg(pt.elementType)&&(zt=gS):zt=GB;if(zt&&(zt=zt(E,pt))){pS(Rt,zt,O,Pt);break t}ge&&ge(E,gt,pt),E==="focusout"&&pt&&gt.type==="number"&&pt.memoizedProps.value!=null&&bg(gt,"number",gt.value)}switch(ge=pt?hu(pt):window,E){case"focusin":(vS(ge)||ge.contentEditable==="true")&&(gl=ge,Ng=pt,xu=null);break;case"focusout":xu=Ng=gl=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,wS(Rt,O,Pt);break;case"selectionchange":if(zB)break;case"keydown":case"keyup":wS(Rt,O,Pt)}var Wt;if(Bg)t:{switch(E){case"compositionstart":var te="onCompositionStart";break t;case"compositionend":te="onCompositionEnd";break t;case"compositionupdate":te="onCompositionUpdate";break t}te=void 0}else pl?fS(E,O)&&(te="onCompositionEnd"):E==="keydown"&&O.keyCode===229&&(te="onCompositionStart");te&&(hS&&O.locale!=="ko"&&(pl||te!=="onCompositionStart"?te==="onCompositionEnd"&&pl&&(Wt=nS()):(Ea=Pt,Rg="value"in Ea?Ea.value:Ea.textContent,pl=!0)),ge=Jc(pt,te),0<ge.length&&(te=new oS(te,E,null,O,Pt),Rt.push({event:te,listeners:ge}),Wt?te.data=Wt:(Wt=cS(O),Wt!==null&&(te.data=Wt)))),(Wt=OB?DB(E,O):LB(E,O))&&(te=Jc(pt,"onBeforeInput"),0<te.length&&(ge=new oS("onBeforeInput","beforeinput",null,O,Pt),Rt.push({event:ge,listeners:te}),ge.data=Wt)),T7(Rt,E,pt,O,Pt)}JT(Rt,M)})}function $u(E,M,O){return{instance:E,listener:M,currentTarget:O}}function Jc(E,M){for(var O=M+"Capture",I=[];E!==null;){var U=E,Z=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||Z===null||(U=uu(E,O),U!=null&&I.unshift($u(E,U,Z)),U=uu(E,M),U!=null&&I.push($u(E,U,Z))),E.tag===3)return I;E=E.return}return[]}function zl(E){if(E===null)return null;do E=E.return;while(E&&E.tag!==5&&E.tag!==27);return E||null}function jT(E,M,O,I,U){for(var Z=M._reactName,_=[];O!==null&&O!==I;){var et=O,rt=et.alternate,pt=et.stateNode;if(et=et.tag,rt!==null&&rt===I)break;et!==5&&et!==26&&et!==27||pt===null||(rt=pt,U?(pt=uu(O,Z),pt!=null&&_.unshift($u(O,pt,rt))):U||(pt=uu(O,Z),pt!=null&&_.push($u(O,pt,rt)))),O=O.return}_.length!==0&&E.push({event:M,listeners:_})}var P7=/\r\n?/g,M7=/\u0000|\uFFFD/g;function qT(E){return(typeof E=="string"?E:""+E).replace(P7,`
`).replace(M7,"")}function _T(E,M){return M=qT(M),qT(E)===M}function Qc(){}function $e(E,M,O,I,U,Z){switch(O){case"children":typeof I=="string"?M==="body"||M==="textarea"&&I===""||fl(E,I):(typeof I=="number"||typeof I=="bigint")&&M!=="body"&&fl(E,""+I);break;case"className":ec(E,"class",I);break;case"tabIndex":ec(E,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":ec(E,O,I);break;case"style":eS(E,I,Z);break;case"data":if(M!=="object"){ec(E,"data",I);break}case"src":case"href":if(I===""&&(M!=="a"||O!=="href")){E.removeAttribute(O);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){E.removeAttribute(O);break}I=nc(""+I),E.setAttribute(O,I);break;case"action":case"formAction":if(typeof I=="function"){E.setAttribute(O,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(O==="formAction"?(M!=="input"&&$e(E,M,"name",U.name,U,null),$e(E,M,"formEncType",U.formEncType,U,null),$e(E,M,"formMethod",U.formMethod,U,null),$e(E,M,"formTarget",U.formTarget,U,null)):($e(E,M,"encType",U.encType,U,null),$e(E,M,"method",U.method,U,null),$e(E,M,"target",U.target,U,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){E.removeAttribute(O);break}I=nc(""+I),E.setAttribute(O,I);break;case"onClick":I!=null&&(E.onclick=Qc);break;case"onScroll":I!=null&&ye("scroll",E);break;case"onScrollEnd":I!=null&&ye("scrollend",E);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(n(61));if(O=I.__html,O!=null){if(U.children!=null)throw Error(n(60));E.innerHTML=O}}break;case"multiple":E.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":E.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){E.removeAttribute("xlink:href");break}O=nc(""+I),E.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",O);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?E.setAttribute(O,""+I):E.removeAttribute(O);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?E.setAttribute(O,""):E.removeAttribute(O);break;case"capture":case"download":I===!0?E.setAttribute(O,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?E.setAttribute(O,I):E.removeAttribute(O);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?E.setAttribute(O,I):E.removeAttribute(O);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?E.removeAttribute(O):E.setAttribute(O,I);break;case"popover":ye("beforetoggle",E),ye("toggle",E),tc(E,"popover",I);break;case"xlinkActuate":Nr(E,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":Nr(E,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":Nr(E,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":Nr(E,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":Nr(E,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":Nr(E,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":Nr(E,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":Nr(E,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":Nr(E,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":tc(E,"is",I);break;case"innerText":case"textContent":break;default:(!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&(O=sB.get(O)||O,tc(E,O,I))}}function lx(E,M,O,I,U,Z){switch(O){case"style":eS(E,I,Z);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(n(61));if(O=I.__html,O!=null){if(U.children!=null)throw Error(n(60));E.innerHTML=O}}break;case"children":typeof I=="string"?fl(E,I):(typeof I=="number"||typeof I=="bigint")&&fl(E,""+I);break;case"onScroll":I!=null&&ye("scroll",E);break;case"onScrollEnd":I!=null&&ye("scrollend",E);break;case"onClick":I!=null&&(E.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y6.hasOwnProperty(O))t:{if(O[0]==="o"&&O[1]==="n"&&(U=O.endsWith("Capture"),M=O.slice(2,U?O.length-7:void 0),Z=E[Ye]||null,Z=Z!=null?Z[O]:null,typeof Z=="function"&&E.removeEventListener(M,Z,U),typeof I=="function")){typeof Z!="function"&&Z!==null&&(O in E?E[O]=null:E.hasAttribute(O)&&E.removeAttribute(O)),E.addEventListener(M,I,U);break t}O in E?E[O]=I:I===!0?E.setAttribute(O,""):tc(E,O,I)}}}function ns(E,M,O){switch(M){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",E),ye("load",E);var I=!1,U=!1,Z;for(Z in O)if(O.hasOwnProperty(Z)){var _=O[Z];if(_!=null)switch(Z){case"src":I=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,M));default:$e(E,M,Z,_,O,null)}}U&&$e(E,M,"srcSet",O.srcSet,O,null),I&&$e(E,M,"src",O.src,O,null);return;case"input":ye("invalid",E);var et=Z=_=U=null,rt=null,pt=null;for(I in O)if(O.hasOwnProperty(I)){var Pt=O[I];if(Pt!=null)switch(I){case"name":U=Pt;break;case"type":_=Pt;break;case"checked":rt=Pt;break;case"defaultChecked":pt=Pt;break;case"value":Z=Pt;break;case"defaultValue":et=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(n(137,M));break;default:$e(E,M,I,Pt,O,null)}}j6(E,Z,et,rt,pt,_,U,!1),ic(E);return;case"select":ye("invalid",E),I=_=Z=null;for(U in O)if(O.hasOwnProperty(U)&&(et=O[U],et!=null))switch(U){case"value":Z=et;break;case"defaultValue":_=et;break;case"multiple":I=et;default:$e(E,M,U,et,O,null)}M=Z,O=_,E.multiple=!!I,M!=null?dl(E,!!I,M,!1):O!=null&&dl(E,!!I,O,!0);return;case"textarea":ye("invalid",E),Z=U=I=null;for(_ in O)if(O.hasOwnProperty(_)&&(et=O[_],et!=null))switch(_){case"value":I=et;break;case"defaultValue":U=et;break;case"children":Z=et;break;case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(91));break;default:$e(E,M,_,et,O,null)}_6(E,I,U,Z),ic(E);return;case"option":for(rt in O)if(O.hasOwnProperty(rt)&&(I=O[rt],I!=null))switch(rt){case"selected":E.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:$e(E,M,rt,I,O,null)}return;case"dialog":ye("beforetoggle",E),ye("toggle",E),ye("cancel",E),ye("close",E);break;case"iframe":case"object":ye("load",E);break;case"video":case"audio":for(I=0;I<Wu.length;I++)ye(Wu[I],E);break;case"image":ye("error",E),ye("load",E);break;case"details":ye("toggle",E);break;case"embed":case"source":case"link":ye("error",E),ye("load",E);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in O)if(O.hasOwnProperty(pt)&&(I=O[pt],I!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,M));default:$e(E,M,pt,I,O,null)}return;default:if(Eg(M)){for(Pt in O)O.hasOwnProperty(Pt)&&(I=O[Pt],I!==void 0&&lx(E,M,Pt,I,O,void 0));return}}for(et in O)O.hasOwnProperty(et)&&(I=O[et],I!=null&&$e(E,M,et,I,O,null))}function A7(E,M,O,I){switch(M){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,Z=null,_=null,et=null,rt=null,pt=null,Pt=null;for(xt in O){var Rt=O[xt];if(O.hasOwnProperty(xt)&&Rt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":rt=Rt;default:I.hasOwnProperty(xt)||$e(E,M,xt,null,I,Rt)}}for(var gt in I){var xt=I[gt];if(Rt=O[gt],I.hasOwnProperty(gt)&&(xt!=null||Rt!=null))switch(gt){case"type":Z=xt;break;case"name":U=xt;break;case"checked":pt=xt;break;case"defaultChecked":Pt=xt;break;case"value":_=xt;break;case"defaultValue":et=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,M));break;default:xt!==Rt&&$e(E,M,gt,xt,I,Rt)}}Tg(E,_,et,rt,pt,Pt,Z,U);return;case"select":xt=_=et=gt=null;for(Z in O)if(rt=O[Z],O.hasOwnProperty(Z)&&rt!=null)switch(Z){case"value":break;case"multiple":xt=rt;default:I.hasOwnProperty(Z)||$e(E,M,Z,null,I,rt)}for(U in I)if(Z=I[U],rt=O[U],I.hasOwnProperty(U)&&(Z!=null||rt!=null))switch(U){case"value":gt=Z;break;case"defaultValue":et=Z;break;case"multiple":_=Z;default:Z!==rt&&$e(E,M,U,Z,I,rt)}M=et,O=_,I=xt,gt!=null?dl(E,!!O,gt,!1):!!I!=!!O&&(M!=null?dl(E,!!O,M,!0):dl(E,!!O,O?[]:"",!1));return;case"textarea":xt=gt=null;for(et in O)if(U=O[et],O.hasOwnProperty(et)&&U!=null&&!I.hasOwnProperty(et))switch(et){case"value":break;case"children":break;default:$e(E,M,et,null,I,U)}for(_ in I)if(U=I[_],Z=O[_],I.hasOwnProperty(_)&&(U!=null||Z!=null))switch(_){case"value":gt=U;break;case"defaultValue":xt=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:U!==Z&&$e(E,M,_,U,I,Z)}q6(E,gt,xt);return;case"option":for(var ie in O)if(gt=O[ie],O.hasOwnProperty(ie)&&gt!=null&&!I.hasOwnProperty(ie))switch(ie){case"selected":E.selected=!1;break;default:$e(E,M,ie,null,I,gt)}for(rt in I)if(gt=I[rt],xt=O[rt],I.hasOwnProperty(rt)&&gt!==xt&&(gt!=null||xt!=null))switch(rt){case"selected":E.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:$e(E,M,rt,gt,I,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in O)gt=O[qt],O.hasOwnProperty(qt)&&gt!=null&&!I.hasOwnProperty(qt)&&$e(E,M,qt,null,I,gt);for(pt in I)if(gt=I[pt],xt=O[pt],I.hasOwnProperty(pt)&&gt!==xt&&(gt!=null||xt!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,M));break;default:$e(E,M,pt,gt,I,xt)}return;default:if(Eg(M)){for(var Ke in O)gt=O[Ke],O.hasOwnProperty(Ke)&&gt!==void 0&&!I.hasOwnProperty(Ke)&&lx(E,M,Ke,void 0,I,gt);for(Pt in I)gt=I[Pt],xt=O[Pt],!I.hasOwnProperty(Pt)||gt===xt||gt===void 0&&xt===void 0||lx(E,M,Pt,gt,I,xt);return}}for(var ft in O)gt=O[ft],O.hasOwnProperty(ft)&&gt!=null&&!I.hasOwnProperty(ft)&&$e(E,M,ft,null,I,gt);for(Rt in I)gt=I[Rt],xt=O[Rt],!I.hasOwnProperty(Rt)||gt===xt||gt==null&&xt==null||$e(E,M,Rt,gt,I,xt)}var hx=null,ux=null;function jc(E){return E.nodeType===9?E:E.ownerDocument}function tb(E){switch(E){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(E,M){if(E===0)switch(M){case"svg":return 1;case"math":return 2;default:return 0}return E===1&&M==="foreignObject"?0:E}function dx(E,M){return E==="textarea"||E==="noscript"||typeof M.children=="string"||typeof M.children=="number"||typeof M.children=="bigint"||typeof M.dangerouslySetInnerHTML=="object"&&M.dangerouslySetInnerHTML!==null&&M.dangerouslySetInnerHTML.__html!=null}var fx=null;function R7(){var E=window.event;return E&&E.type==="popstate"?E===fx?!1:(fx=E,!0):(fx=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,O7=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,D7=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(E){return sb.resolve(null).then(E).catch(L7)}:ib;function L7(E){setTimeout(function(){throw E})}function za(E){return E==="head"}function nb(E,M){var O=M,I=0,U=0;do{var Z=O.nextSibling;if(E.removeChild(O),Z&&Z.nodeType===8)if(O=Z.data,O==="/$"){if(0<I&&8>I){O=I;var _=E.ownerDocument;if(O&1&&Ku(_.documentElement),O&2&&Ku(_.body),O&4)for(O=_.head,Ku(O),_=O.firstChild;_;){var et=_.nextSibling,rt=_.nodeName;_[lu]||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&_.rel.toLowerCase()==="stylesheet"||O.removeChild(_),_=et}}if(U===0){E.removeChild(Z),ed(M);return}U--}else O==="$"||O==="$?"||O==="$!"?U++:I=O.charCodeAt(0)-48;else I=0;O=Z}while(O);ed(M)}function cx(E){var M=E.firstChild;for(M&&M.nodeType===10&&(M=M.nextSibling);M;){var O=M;switch(M=M.nextSibling,O.nodeName){case"HTML":case"HEAD":case"BODY":cx(O),xg(O);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(O.rel.toLowerCase()==="stylesheet")continue}E.removeChild(O)}}function F7(E,M,O,I){for(;E.nodeType===1;){var U=O;if(E.nodeName.toLowerCase()!==M.toLowerCase()){if(!I&&(E.nodeName!=="INPUT"||E.type!=="hidden"))break}else if(I){if(!E[lu])switch(M){case"meta":if(!E.hasAttribute("itemprop"))break;return E;case"link":if(Z=E.getAttribute("rel"),Z==="stylesheet"&&E.hasAttribute("data-precedence"))break;if(Z!==U.rel||E.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||E.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||E.getAttribute("title")!==(U.title==null?null:U.title))break;return E;case"style":if(E.hasAttribute("data-precedence"))break;return E;case"script":if(Z=E.getAttribute("src"),(Z!==(U.src==null?null:U.src)||E.getAttribute("type")!==(U.type==null?null:U.type)||E.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&Z&&E.hasAttribute("async")&&!E.hasAttribute("itemprop"))break;return E;default:return E}}else if(M==="input"&&E.type==="hidden"){var Z=U.name==null?null:""+U.name;if(U.type==="hidden"&&E.getAttribute("name")===Z)return E}else return E;if(E=zn(E.nextSibling),E===null)break}return null}function B7(E,M,O){if(M==="")return null;for(;E.nodeType!==3;)if((E.nodeType!==1||E.nodeName!=="INPUT"||E.type!=="hidden")&&!O||(E=zn(E.nextSibling),E===null))return null;return E}function vx(E){return E.data==="$!"||E.data==="$?"&&E.ownerDocument.readyState==="complete"}function I7(E,M){var O=E.ownerDocument;if(E.data!=="$?"||O.readyState==="complete")M();else{var I=function(){M(),O.removeEventListener("DOMContentLoaded",I)};O.addEventListener("DOMContentLoaded",I),E._reactRetry=I}}function zn(E){for(;E!=null;E=E.nextSibling){var M=E.nodeType;if(M===1||M===3)break;if(M===8){if(M=E.data,M==="$"||M==="$!"||M==="$?"||M==="F!"||M==="F")break;if(M==="/$")return null}}return E}var px=null;function rb(E){E=E.previousSibling;for(var M=0;E;){if(E.nodeType===8){var O=E.data;if(O==="$"||O==="$!"||O==="$?"){if(M===0)return E;M--}else O==="/$"&&M++}E=E.previousSibling}return null}function ab(E,M,O){switch(M=jc(O),E){case"html":if(E=M.documentElement,!E)throw Error(n(452));return E;case"head":if(E=M.head,!E)throw Error(n(453));return E;case"body":if(E=M.body,!E)throw Error(n(454));return E;default:throw Error(n(451))}}function Ku(E){for(var M=E.attributes;M.length;)E.removeAttributeNode(M[0]);xg(E)}var yn=new Map,ob=new Set;function qc(E){return typeof E.getRootNode=="function"?E.getRootNode():E.nodeType===9?E:E.ownerDocument}var qr=G.d;G.d={f:k7,r:G7,D:N7,C:V7,L:z7,m:U7,X:H7,S:X7,M:Y7};function k7(){var E=qr.f(),M=Hc();return E||M}function G7(E){var M=ol(E);M!==null&&M.tag===5&&M.type==="form"?MC(M):qr.r(E)}var Ul=typeof document>"u"?null:document;function lb(E,M,O){var I=Ul;if(I&&typeof M=="string"&&M){var U=fn(M);U='link[rel="'+E+'"][href="'+U+'"]',typeof O=="string"&&(U+='[crossorigin="'+O+'"]'),ob.has(U)||(ob.add(U),E={rel:E,crossOrigin:O,href:M},I.querySelector(U)===null&&(M=I.createElement("link"),ns(M,"link",E),Wi(M),I.head.appendChild(M)))}}function N7(E){qr.D(E),lb("dns-prefetch",E,null)}function V7(E,M){qr.C(E,M),lb("preconnect",E,M)}function z7(E,M,O){qr.L(E,M,O);var I=Ul;if(I&&E&&M){var U='link[rel="preload"][as="'+fn(M)+'"]';M==="image"&&O&&O.imageSrcSet?(U+='[imagesrcset="'+fn(O.imageSrcSet)+'"]',typeof O.imageSizes=="string"&&(U+='[imagesizes="'+fn(O.imageSizes)+'"]')):U+='[href="'+fn(E)+'"]';var Z=U;switch(M){case"style":Z=Xl(E);break;case"script":Z=Hl(E)}yn.has(Z)||(E=g({rel:"preload",href:M==="image"&&O&&O.imageSrcSet?void 0:E,as:M},O),yn.set(Z,E),I.querySelector(U)!==null||M==="style"&&I.querySelector(Zu(Z))||M==="script"&&I.querySelector(Ju(Z))||(M=I.createElement("link"),ns(M,"link",E),Wi(M),I.head.appendChild(M)))}}function U7(E,M){qr.m(E,M);var O=Ul;if(O&&E){var I=M&&typeof M.as=="string"?M.as:"script",U='link[rel="modulepreload"][as="'+fn(I)+'"][href="'+fn(E)+'"]',Z=U;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=Hl(E)}if(!yn.has(Z)&&(E=g({rel:"modulepreload",href:E},M),yn.set(Z,E),O.querySelector(U)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(O.querySelector(Ju(Z)))return}I=O.createElement("link"),ns(I,"link",E),Wi(I),O.head.appendChild(I)}}}function X7(E,M,O){qr.S(E,M,O);var I=Ul;if(I&&E){var U=ll(I).hoistableStyles,Z=Xl(E);M=M||"default";var _=U.get(Z);if(!_){var et={loading:0,preload:null};if(_=I.querySelector(Zu(Z)))et.loading=5;else{E=g({rel:"stylesheet",href:E,"data-precedence":M},O),(O=yn.get(Z))&&gx(E,O);var rt=_=I.createElement("link");Wi(rt),ns(rt,"link",E),rt._p=new Promise(function(pt,Pt){rt.onload=pt,rt.onerror=Pt}),rt.addEventListener("load",function(){et.loading|=1}),rt.addEventListener("error",function(){et.loading|=2}),et.loading|=4,_c(_,M,I)}_={type:"stylesheet",instance:_,count:1,state:et},U.set(Z,_)}}}function H7(E,M){qr.X(E,M);var O=Ul;if(O&&E){var I=ll(O).hoistableScripts,U=Hl(E),Z=I.get(U);Z||(Z=O.querySelector(Ju(U)),Z||(E=g({src:E,async:!0},M),(M=yn.get(U))&&mx(E,M),Z=O.createElement("script"),Wi(Z),ns(Z,"link",E),O.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},I.set(U,Z))}}function Y7(E,M){qr.M(E,M);var O=Ul;if(O&&E){var I=ll(O).hoistableScripts,U=Hl(E),Z=I.get(U);Z||(Z=O.querySelector(Ju(U)),Z||(E=g({src:E,async:!0,type:"module"},M),(M=yn.get(U))&&mx(E,M),Z=O.createElement("script"),Wi(Z),ns(Z,"link",E),O.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},I.set(U,Z))}}function hb(E,M,O,I){var U=(U=K.current)?qc(U):null;if(!U)throw Error(n(446));switch(E){case"meta":case"title":return null;case"style":return typeof O.precedence=="string"&&typeof O.href=="string"?(M=Xl(O.href),O=ll(U).hoistableStyles,I=O.get(M),I||(I={type:"style",instance:null,count:0,state:null},O.set(M,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(O.rel==="stylesheet"&&typeof O.href=="string"&&typeof O.precedence=="string"){E=Xl(O.href);var Z=ll(U).hoistableStyles,_=Z.get(E);if(_||(U=U.ownerDocument||U,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(E,_),(Z=U.querySelector(Zu(E)))&&!Z._p&&(_.instance=Z,_.state.loading=5),yn.has(E)||(O={rel:"preload",as:"style",href:O.href,crossOrigin:O.crossOrigin,integrity:O.integrity,media:O.media,hrefLang:O.hrefLang,referrerPolicy:O.referrerPolicy},yn.set(E,O),Z||W7(U,E,O,_.state))),M&&I===null)throw Error(n(528,""));return _}if(M&&I!==null)throw Error(n(529,""));return null;case"script":return M=O.async,O=O.src,typeof O=="string"&&M&&typeof M!="function"&&typeof M!="symbol"?(M=Hl(O),O=ll(U).hoistableScripts,I=O.get(M),I||(I={type:"script",instance:null,count:0,state:null},O.set(M,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,E))}}function Xl(E){return'href="'+fn(E)+'"'}function Zu(E){return'link[rel="stylesheet"]['+E+"]"}function ub(E){return g({},E,{"data-precedence":E.precedence,precedence:null})}function W7(E,M,O,I){E.querySelector('link[rel="preload"][as="style"]['+M+"]")?I.loading=1:(M=E.createElement("link"),I.preload=M,M.addEventListener("load",function(){return I.loading|=1}),M.addEventListener("error",function(){return I.loading|=2}),ns(M,"link",O),Wi(M),E.head.appendChild(M))}function Hl(E){return'[src="'+fn(E)+'"]'}function Ju(E){return"script[async]"+E}function db(E,M,O){if(M.count++,M.instance===null)switch(M.type){case"style":var I=E.querySelector('style[data-href~="'+fn(O.href)+'"]');if(I)return M.instance=I,Wi(I),I;var U=g({},O,{"data-href":O.href,"data-precedence":O.precedence,href:null,precedence:null});return I=(E.ownerDocument||E).createElement("style"),Wi(I),ns(I,"style",U),_c(I,O.precedence,E),M.instance=I;case"stylesheet":U=Xl(O.href);var Z=E.querySelector(Zu(U));if(Z)return M.state.loading|=4,M.instance=Z,Wi(Z),Z;I=ub(O),(U=yn.get(U))&&gx(I,U),Z=(E.ownerDocument||E).createElement("link"),Wi(Z);var _=Z;return _._p=new Promise(function(et,rt){_.onload=et,_.onerror=rt}),ns(Z,"link",I),M.state.loading|=4,_c(Z,O.precedence,E),M.instance=Z;case"script":return Z=Hl(O.src),(U=E.querySelector(Ju(Z)))?(M.instance=U,Wi(U),U):(I=O,(U=yn.get(Z))&&(I=g({},O),mx(I,U)),E=E.ownerDocument||E,U=E.createElement("script"),Wi(U),ns(U,"link",I),E.head.appendChild(U),M.instance=U);case"void":return null;default:throw Error(n(443,M.type))}else M.type==="stylesheet"&&(M.state.loading&4)===0&&(I=M.instance,M.state.loading|=4,_c(I,O.precedence,E));return M.instance}function _c(E,M,O){for(var I=O.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=I.length?I[I.length-1]:null,Z=U,_=0;_<I.length;_++){var et=I[_];if(et.dataset.precedence===M)Z=et;else if(Z!==U)break}Z?Z.parentNode.insertBefore(E,Z.nextSibling):(M=O.nodeType===9?O.head:O,M.insertBefore(E,M.firstChild))}function gx(E,M){E.crossOrigin==null&&(E.crossOrigin=M.crossOrigin),E.referrerPolicy==null&&(E.referrerPolicy=M.referrerPolicy),E.title==null&&(E.title=M.title)}function mx(E,M){E.crossOrigin==null&&(E.crossOrigin=M.crossOrigin),E.referrerPolicy==null&&(E.referrerPolicy=M.referrerPolicy),E.integrity==null&&(E.integrity=M.integrity)}var t3=null;function fb(E,M,O){if(t3===null){var I=new Map,U=t3=new Map;U.set(O,I)}else U=t3,I=U.get(O),I||(I=new Map,U.set(O,I));if(I.has(E))return I;for(I.set(E,null),O=O.getElementsByTagName(E),U=0;U<O.length;U++){var Z=O[U];if(!(Z[lu]||Z[Ii]||E==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var _=Z.getAttribute(M)||"";_=E+_;var et=I.get(_);et?et.push(Z):I.set(_,[Z])}}return I}function cb(E,M,O){E=E.ownerDocument||E,E.head.insertBefore(O,M==="title"?E.querySelector("head > title"):null)}function $7(E,M,O){if(O===1||M.itemProp!=null)return!1;switch(E){case"meta":case"title":return!0;case"style":if(typeof M.precedence!="string"||typeof M.href!="string"||M.href==="")break;return!0;case"link":if(typeof M.rel!="string"||typeof M.href!="string"||M.href===""||M.onLoad||M.onError)break;switch(M.rel){case"stylesheet":return E=M.disabled,typeof M.precedence=="string"&&E==null;default:return!0}case"script":if(M.async&&typeof M.async!="function"&&typeof M.async!="symbol"&&!M.onLoad&&!M.onError&&M.src&&typeof M.src=="string")return!0}return!1}function vb(E){return!(E.type==="stylesheet"&&(E.state.loading&3)===0)}var Qu=null;function K7(){}function Z7(E,M,O){if(Qu===null)throw Error(n(475));var I=Qu;if(M.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(M.state.loading&4)===0){if(M.instance===null){var U=Xl(O.href),Z=E.querySelector(Zu(U));if(Z){E=Z._p,E!==null&&typeof E=="object"&&typeof E.then=="function"&&(I.count++,I=e3.bind(I),E.then(I,I)),M.state.loading|=4,M.instance=Z,Wi(Z);return}Z=E.ownerDocument||E,O=ub(O),(U=yn.get(U))&&gx(O,U),Z=Z.createElement("link"),Wi(Z);var _=Z;_._p=new Promise(function(et,rt){_.onload=et,_.onerror=rt}),ns(Z,"link",O),M.instance=Z}I.stylesheets===null&&(I.stylesheets=new Map),I.stylesheets.set(M,E),(E=M.state.preload)&&(M.state.loading&3)===0&&(I.count++,M=e3.bind(I),E.addEventListener("load",M),E.addEventListener("error",M))}}function J7(){if(Qu===null)throw Error(n(475));var E=Qu;return E.stylesheets&&E.count===0&&xx(E,E.stylesheets),0<E.count?function(M){var O=setTimeout(function(){if(E.stylesheets&&xx(E,E.stylesheets),E.unsuspend){var I=E.unsuspend;E.unsuspend=null,I()}},6e4);return E.unsuspend=M,function(){E.unsuspend=null,clearTimeout(O)}}:null}function e3(){if(this.count--,this.count===0){if(this.stylesheets)xx(this,this.stylesheets);else if(this.unsuspend){var E=this.unsuspend;this.unsuspend=null,E()}}}var i3=null;function xx(E,M){E.stylesheets=null,E.unsuspend!==null&&(E.count++,i3=new Map,M.forEach(Q7,E),i3=null,e3.call(E))}function Q7(E,M){if(!(M.state.loading&4)){var O=i3.get(E);if(O)var I=O.get(null);else{O=new Map,i3.set(E,O);for(var U=E.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<U.length;Z++){var _=U[Z];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(O.set(_.dataset.precedence,_),I=_)}I&&O.set(null,I)}U=M.instance,_=U.getAttribute("data-precedence"),Z=O.get(_)||I,Z===I&&O.set(null,U),O.set(_,U),this.count++,I=e3.bind(this),U.addEventListener("load",I),U.addEventListener("error",I),Z?Z.parentNode.insertBefore(U,Z.nextSibling):(E=E.nodeType===9?E.head:E,E.insertBefore(U,E.firstChild)),M.state.loading|=4}}var ju={$$typeof:m,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function j7(E,M,O,I,U,Z,_,et){this.tag=1,this.containerInfo=E,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=I,this.onUncaughtError=U,this.onCaughtError=Z,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function pb(E,M,O,I,U,Z,_,et,rt,pt,Pt,Rt){return E=new j7(E,M,O,_,et,rt,pt,Rt),M=1,Z===!0&&(M|=24),Z=Zs(3,null,null,M),E.current=Z,Z.stateNode=E,M=_g(),M.refCount++,E.pooledCache=M,M.refCount++,Z.memoizedState={element:I,isDehydrated:O,cache:M},sm(Z),E}function gb(E){return E?(E=Sl,E):Sl}function mb(E,M,O,I,U,Z){U=gb(U),I.context===null?I.context=U:I.pendingContext=U,I=Ma(M),I.payload={element:O},Z=Z===void 0?null:Z,Z!==null&&(I.callback=Z),O=Aa(E,I,M),O!==null&&(_s(O,E,M),Mu(O,E,M))}function xb(E,M){if(E=E.memoizedState,E!==null&&E.dehydrated!==null){var O=E.retryLane;E.retryLane=O!==0&&O<M?O:M}}function yx(E,M){xb(E,M),(E=E.alternate)&&xb(E,M)}function yb(E){if(E.tag===13){var M=yl(E,67108864);M!==null&&_s(M,E,67108864),yx(E,67108864)}}var s3=!0;function q7(E,M,O,I){var U=F.T;F.T=null;var Z=G.p;try{G.p=2,Sx(E,M,O,I)}finally{G.p=Z,F.T=U}}function _7(E,M,O,I){var U=F.T;F.T=null;var Z=G.p;try{G.p=8,Sx(E,M,O,I)}finally{G.p=Z,F.T=U}}function Sx(E,M,O,I){if(s3){var U=Cx(I);if(U===null)ox(E,M,I,n3,O),Cb(E,I);else if(eI(U,E,M,O,I))I.stopPropagation();else if(Cb(E,I),M&4&&-1<tI.indexOf(E)){for(;U!==null;){var Z=ol(U);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var _=Ve(Z.pendingLanes);if(_!==0){var et=Z;for(et.pendingLanes|=2,et.entangledLanes|=2;_;){var rt=1<<31-Yt(_);et.entanglements[1]|=rt,_&=~rt}cr(Z),(Ue&6)===0&&(Uc=St()+500,Yu(0))}}break;case 13:et=yl(Z,2),et!==null&&_s(et,Z,2),Hc(),yx(Z,2)}if(Z=Cx(I),Z===null&&ox(E,M,I,n3,O),Z===U)break;U=Z}U!==null&&I.stopPropagation()}else ox(E,M,I,null,O)}}function Cx(E){return E=Pg(E),Tx(E)}var n3=null;function Tx(E){if(n3=null,E=al(E),E!==null){var M=C(E);if(M===null)E=null;else{var O=M.tag;if(O===13){if(E=r(M),E!==null)return E;E=null}else if(O===3){if(M.stateNode.current.memoizedState.isDehydrated)return M.tag===3?M.stateNode.containerInfo:null;E=null}else M!==E&&(E=null)}}return n3=E,null}function Sb(E){switch(E){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case kt:return 2;case Vt:return 8;case It:case yt:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var bx=!1,Ua=null,Xa=null,Ha=null,qu=new Map,_u=new Map,Ya=[],tI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(E,M){switch(E){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":qu.delete(M.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(M.pointerId)}}function td(E,M,O,I,U,Z){return E===null||E.nativeEvent!==Z?(E={blockedOn:M,domEventName:O,eventSystemFlags:I,nativeEvent:Z,targetContainers:[U]},M!==null&&(M=ol(M),M!==null&&yb(M)),E):(E.eventSystemFlags|=I,M=E.targetContainers,U!==null&&M.indexOf(U)===-1&&M.push(U),E)}function eI(E,M,O,I,U){switch(M){case"focusin":return Ua=td(Ua,E,M,O,I,U),!0;case"dragenter":return Xa=td(Xa,E,M,O,I,U),!0;case"mouseover":return Ha=td(Ha,E,M,O,I,U),!0;case"pointerover":var Z=U.pointerId;return qu.set(Z,td(qu.get(Z)||null,E,M,O,I,U)),!0;case"gotpointercapture":return Z=U.pointerId,_u.set(Z,td(_u.get(Z)||null,E,M,O,I,U)),!0}return!1}function Tb(E){var M=al(E.target);if(M!==null){var O=C(M);if(O!==null){if(M=O.tag,M===13){if(M=r(O),M!==null){E.blockedOn=M,_f(E.priority,function(){if(O.tag===13){var I=qs();I=nl(I);var U=yl(O,I);U!==null&&_s(U,O,I),yx(O,I)}});return}}else if(M===3&&O.stateNode.current.memoizedState.isDehydrated){E.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}E.blockedOn=null}function r3(E){if(E.blockedOn!==null)return!1;for(var M=E.targetContainers;0<M.length;){var O=Cx(E.nativeEvent);if(O===null){O=E.nativeEvent;var I=new O.constructor(O.type,O);wg=I,O.target.dispatchEvent(I),wg=null}else return M=ol(O),M!==null&&yb(M),E.blockedOn=O,!1;M.shift()}return!0}function bb(E,M,O){r3(E)&&O.delete(M)}function iI(){bx=!1,Ua!==null&&r3(Ua)&&(Ua=null),Xa!==null&&r3(Xa)&&(Xa=null),Ha!==null&&r3(Ha)&&(Ha=null),qu.forEach(bb),_u.forEach(bb)}function a3(E,M){E.blockedOn===M&&(E.blockedOn=null,bx||(bx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iI)))}var o3=null;function Eb(E){o3!==E&&(o3=E,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){o3===E&&(o3=null);for(var M=0;M<E.length;M+=3){var O=E[M],I=E[M+1],U=E[M+2];if(typeof I!="function"){if(Tx(I||O)===null)continue;break}var Z=ol(O);Z!==null&&(E.splice(M,3),M-=3,Tm(Z,{pending:!0,data:U,method:O.method,action:I},I,U))}}))}function ed(E){function M(rt){return a3(rt,E)}Ua!==null&&a3(Ua,E),Xa!==null&&a3(Xa,E),Ha!==null&&a3(Ha,E),qu.forEach(M),_u.forEach(M);for(var O=0;O<Ya.length;O++){var I=Ya[O];I.blockedOn===E&&(I.blockedOn=null)}for(;0<Ya.length&&(O=Ya[0],O.blockedOn===null);)Tb(O),O.blockedOn===null&&Ya.shift();if(O=(E.ownerDocument||E).$$reactFormReplay,O!=null)for(I=0;I<O.length;I+=3){var U=O[I],Z=O[I+1],_=U[Ye]||null;if(typeof Z=="function")_||Eb(O);else if(_){var et=null;if(Z&&Z.hasAttribute("formAction")){if(U=Z,_=Z[Ye]||null)et=_.formAction;else if(Tx(U)!==null)continue}else et=_.action;typeof et=="function"?O[I+1]=et:(O.splice(I,3),I-=3),Eb(O)}}}function Ex(E){this._internalRoot=E}l3.prototype.render=Ex.prototype.render=function(E){var M=this._internalRoot;if(M===null)throw Error(n(409));var O=M.current,I=qs();mb(O,I,E,M,null,null)},l3.prototype.unmount=Ex.prototype.unmount=function(){var E=this._internalRoot;if(E!==null){this._internalRoot=null;var M=E.containerInfo;mb(E.current,2,null,E,null,null),Hc(),M[Cs]=null}};function l3(E){this._internalRoot=E}l3.prototype.unstable_scheduleHydration=function(E){if(E){var M=qf();E={blockedOn:null,target:E,priority:M};for(var O=0;O<Ya.length&&M!==0&&M<Ya[O].priority;O++);Ya.splice(O,0,E),O===0&&Tb(E)}};var wb=t.version;if(wb!=="19.1.1")throw Error(n(527,wb,"19.1.1"));G.findDOMNode=function(E){var M=E._reactInternals;if(M===void 0)throw typeof E.render=="function"?Error(n(188)):(E=Object.keys(E).join(","),Error(n(268,E)));return E=s(M),E=E!==null?a(E):null,E=E===null?null:E.stateNode,E};var sI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h3.isDisabled&&h3.supportsFiber)try{Jt=h3.inject(sI),jt=h3}catch{}}return sd.createRoot=function(E,M){if(!d(E))throw Error(n(299));var O=!1,I="",U=UC,Z=XC,_=HC,et=null;return M!=null&&(M.unstable_strictMode===!0&&(O=!0),M.identifierPrefix!==void 0&&(I=M.identifierPrefix),M.onUncaughtError!==void 0&&(U=M.onUncaughtError),M.onCaughtError!==void 0&&(Z=M.onCaughtError),M.onRecoverableError!==void 0&&(_=M.onRecoverableError),M.unstable_transitionCallbacks!==void 0&&(et=M.unstable_transitionCallbacks)),M=pb(E,1,!1,null,null,O,I,U,Z,_,et,null),E[Cs]=M.current,ax(E),new Ex(M)},sd.hydrateRoot=function(E,M,O){if(!d(E))throw Error(n(299));var I=!1,U="",Z=UC,_=XC,et=HC,rt=null,pt=null;return O!=null&&(O.unstable_strictMode===!0&&(I=!0),O.identifierPrefix!==void 0&&(U=O.identifierPrefix),O.onUncaughtError!==void 0&&(Z=O.onUncaughtError),O.onCaughtError!==void 0&&(_=O.onCaughtError),O.onRecoverableError!==void 0&&(et=O.onRecoverableError),O.unstable_transitionCallbacks!==void 0&&(rt=O.unstable_transitionCallbacks),O.formState!==void 0&&(pt=O.formState)),M=pb(E,1,!0,M,O??null,I,U,Z,_,et,rt,pt),M.context=gb(null),O=M.current,I=qs(),I=nl(I),U=Ma(I),U.callback=null,Aa(O,U,I),O=I,M.current.lanes=O,or(M,O),cr(M),E[Cs]=M.current,ax(E),new l3(M)},sd.version="19.1.1",sd}var kb;function CI(){if(kb)return Ax.exports;kb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ax.exports=SI(),Ax.exports}var TI=CI();const bI=W0(TI),Dt=1e3,Lh="farm-animal",EI={async getItem(e){try{const i=await(await ei()).get(Lh,e);return i?JSON.parse(i):(Tt.warn(`[farmAnimalStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[farmAnimalStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[farmAnimalStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Lh,i,e)})}catch(i){Tt.error(`[farmAnimalStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Lh,e)}catch(t){Tt.error(`[farmAnimalStorage] Failed to remove item "${e}":`,t)}}},Fh="farm-crop",wI={async getItem(e){try{const i=await(await ei()).get(Fh,e);return i?JSON.parse(i):(Tt.warn(`[farmCropStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[farmCropStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[farmCropStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Fh,i,e)})}catch(i){Tt.error(`[farmCropStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Fh,e)}catch(t){Tt.error(`[farmCropStorage] Failed to remove item "${e}":`,t)}}},Bh="game",PI={async getItem(e){try{const i=await(await ei()).get(Bh,e);return i?JSON.parse(i):(Tt.warn(`[gameStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[gameStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[gameStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Bh,i,e)})}catch(i){Tt.error(`[gameStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Bh,e)}catch(t){Tt.error(`[gameStorage] Failed to remove item "${e}":`,t)}}},Ih="global",MI={async getItem(e){try{const i=await(await ei()).get(Ih,e);return i?JSON.parse(i):(Tt.warn(`[globalStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[globalStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[globalStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Ih,i,e)})}catch(i){Tt.error(`[globalStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Ih,e)}catch(t){Tt.error(`[globalStorage] Failed to remove item "${e}":`,t)}}},kh="logs",AI={async getItem(e){try{const i=await(await ei()).get(kh,e);return i?JSON.parse(i):(Tt.warn(`[logStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[logStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[logStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(kh,i,e)})}catch(i){Tt.error(`[logStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(kh,e)}catch(t){Tt.error(`[logStorage] Failed to remove item "${e}":`,t)}}},Gh="player",RI={async getItem(e){try{const i=await(await ei()).get(Gh,e);return i?JSON.parse(i):(Tt.warn(`[playerStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[playerStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[playerStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Gh,i,e)})}catch(i){Tt.error(`[playerStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Gh,e)}catch(t){Tt.error(`[playerStorage] Failed to remove item "${e}":`,t)}}},Nh="settings",OI={async getItem(e){try{const i=await(await ei()).get(Nh,e);return i?JSON.parse(i):(Tt.warn(`[settingStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[settingStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[settingStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Nh,i,e)})}catch(i){Tt.error(`[settingStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Nh,e)}catch(t){Tt.error(`[settingStorage] Failed to remove item "${e}":`,t)}}},Gb="user",G1=(e,t)=>t.some(i=>e instanceof i);let Nb,Vb;function DI(){return Nb||(Nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N1=new WeakMap,Lx=new WeakMap,t2=new WeakMap;function FI(e){const t=new Promise((i,n)=>{const d=()=>{e.removeEventListener("success",C),e.removeEventListener("error",r)},C=()=>{i(Oo(e.result)),d()},r=()=>{n(e.error),d()};e.addEventListener("success",C),e.addEventListener("error",r)});return t2.set(t,e),t}function BI(e){if(N1.has(e))return;const t=new Promise((i,n)=>{const d=()=>{e.removeEventListener("complete",C),e.removeEventListener("error",r),e.removeEventListener("abort",r)},C=()=>{i(),d()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),d()};e.addEventListener("complete",C),e.addEventListener("error",r),e.addEventListener("abort",r)});N1.set(e,t)}let V1={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return N1.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Oo(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jR(e){V1=e(V1)}function II(e){return LI().includes(e)?function(...t){return e.apply(z1(this),t),Oo(this.request)}:function(...t){return Oo(e.apply(z1(this),t))}}function kI(e){return typeof e=="function"?II(e):(e instanceof IDBTransaction&&BI(e),G1(e,DI())?new Proxy(e,V1):e)}function Oo(e){if(e instanceof IDBRequest)return FI(e);if(Lx.has(e))return Lx.get(e);const t=kI(e);return t!==e&&(Lx.set(e,t),t2.set(t,e)),t}const z1=e=>t2.get(e);function GI(e,t,{blocked:i,upgrade:n,blocking:d,terminated:C}={}){const r=indexedDB.open(e,t),x=Oo(r);return n&&r.addEventListener("upgradeneeded",s=>{n(Oo(r.result),s.oldVersion,s.newVersion,Oo(r.transaction),s)}),i&&r.addEventListener("blocked",s=>i(s.oldVersion,s.newVersion,s)),x.then(s=>{C&&s.addEventListener("close",()=>C()),d&&s.addEventListener("versionchange",a=>d(a.oldVersion,a.newVersion,a))}).catch(()=>{}),x}function NI(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",n=>t(n.oldVersion,n)),Oo(i).then(()=>{})}const VI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],Fx=new Map;function zb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fx.get(t))return Fx.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,d=zI.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(d||VI.includes(i)))return;const C=async function(r,...x){const s=this.transaction(r,d?"readwrite":"readonly");let a=s.store;return n&&(a=a.index(x.shift())),(await Promise.all([a[i](...x),d&&s.done]))[0]};return Fx.set(t,C),C}jR(e=>({...e,get:(t,i,n)=>zb(t,i)||e.get(t,i,n),has:(t,i)=>!!zb(t,i)||e.has(t,i)}));const UI=["continue","continuePrimaryKey","advance"],Ub={},U1=new WeakMap,qR=new WeakMap,XI={get(e,t){if(!UI.includes(t))return e[t];let i=Ub[t];return i||(i=Ub[t]=function(...n){U1.set(this,qR.get(this)[t](...n))}),i}};async function*HI(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const i=new Proxy(t,XI);for(qR.set(i,t),t2.set(i,z1(t));t;)yield i,t=await(U1.get(i)||t.continue()),U1.delete(i)}function Xb(e,t){return t===Symbol.asyncIterator&&G1(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&G1(e,[IDBIndex,IDBObjectStore])}jR(e=>({...e,get(t,i,n){return Xb(t,i)?HI:e.get(t,i,n)},has(t,i){return Xb(t,i)||e.has(t,i)}}));const Yd="farm-db",YI=Number("1.11.0".replaceAll(".",""));let Vd;async function ei(){return Vd||(Vd=GI(Yd,YI,{upgrade(e){e.objectStoreNames.contains(Gb)||e.createObjectStore(Gb),e.objectStoreNames.contains(Vh)||e.createObjectStore(Vh),e.objectStoreNames.contains(Gh)||e.createObjectStore(Gh),e.objectStoreNames.contains(Nh)||e.createObjectStore(Nh),e.objectStoreNames.contains(Ih)||e.createObjectStore(Ih),e.objectStoreNames.contains(Bh)||e.createObjectStore(Bh),e.objectStoreNames.contains(Fh)||e.createObjectStore(Fh),e.objectStoreNames.contains(Lh)||e.createObjectStore(Lh),e.objectStoreNames.contains(kh)||e.createObjectStore(kh)}})),Vd}async function WI(e=Yd){try{try{(await Vd).close()}catch{}await NI(e),Tt.info(`✅ Đã xoá IndexedDB ${e}`),Vd=void 0,await ei(),Tt.info(`✅ Đã khởi tạo lại IndexedDB ${e}`)}catch(t){Tt.error("❌ Lỗi xoá IndexedDB:",t)}}const Vh="auth",$I={async getItem(e){try{const i=await(await ei()).get(Vh,e);return i?JSON.parse(i):(Tt.warn(`[authStorage] No data found for key: ${e}`),null)}catch(t){return Tt.error(`[authStorage] Failed to get item "${e}":`,t),null}},async setItem(e,t){try{const i=JSON.stringify(t);Tt.debug("[authStorage] Persisting:",i),await Xo(async()=>{await(await ei()).put(Vh,i,e)})}catch(i){Tt.error(`[authStorage] Failed to set item "${e}":`,i)}},async removeItem(e){try{await(await ei()).delete(Vh,e)}catch(t){Tt.error(`[authStorage] Failed to remove item "${e}":`,t)}}};function _R(e,t){return function(){return e.apply(t,arguments)}}const{toString:KI}=Object.prototype,{getPrototypeOf:N4}=Object,{iterator:e2,toStringTag:t9}=Symbol,i2=(e=>t=>{const i=KI.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),t=>i2(t)===e),s2=e=>t=>typeof t===e,{isArray:Qh}=Array,Wd=s2("undefined");function ff(e){return e!==null&&!Wd(e)&&e.constructor!==null&&!Wd(e.constructor)&&Hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const e9=nr("ArrayBuffer");function ZI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e9(e.buffer),t}const JI=s2("string"),Hs=s2("function"),i9=s2("number"),cf=e=>e!==null&&typeof e=="object",QI=e=>e===!0||e===!1,Gv=e=>{if(i2(e)!=="object")return!1;const t=N4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(t9 in e)&&!(e2 in e)},jI=e=>{if(!cf(e)||ff(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},qI=nr("Date"),_I=nr("File"),tk=nr("Blob"),ek=nr("FileList"),ik=e=>cf(e)&&Hs(e.pipe),sk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Hs(e.append)&&((t=i2(e))==="formdata"||t==="object"&&Hs(e.toString)&&e.toString()==="[object FormData]"))},nk=nr("URLSearchParams"),[rk,ak,ok,lk]=["ReadableStream","Request","Response","Headers"].map(nr),hk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vf(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,d;if(typeof e!="object"&&(e=[e]),Qh(e))for(n=0,d=e.length;n<d;n++)t.call(null,e[n],n,e);else{if(ff(e))return;const C=i?Object.getOwnPropertyNames(e):Object.keys(e),r=C.length;let x;for(n=0;n<r;n++)x=C[n],t.call(null,e[x],x,e)}}function s9(e,t){if(ff(e))return null;t=t.toLowerCase();const i=Object.keys(e);let n=i.length,d;for(;n-- >0;)if(d=i[n],t===d.toLowerCase())return d;return null}const L0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n9=e=>!Wd(e)&&e!==L0;function X1(){const{caseless:e}=n9(this)&&this||{},t={},i=(n,d)=>{const C=e&&s9(t,d)||d;Gv(t[C])&&Gv(n)?t[C]=X1(t[C],n):Gv(n)?t[C]=X1({},n):Qh(n)?t[C]=n.slice():t[C]=n};for(let n=0,d=arguments.length;n<d;n++)arguments[n]&&vf(arguments[n],i);return t}const uk=(e,t,i,{allOwnKeys:n}={})=>(vf(t,(d,C)=>{i&&Hs(d)?e[C]=_R(d,i):e[C]=d},{allOwnKeys:n}),e),dk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fk=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},ck=(e,t,i,n)=>{let d,C,r;const x={};if(t=t||{},e==null)return t;do{for(d=Object.getOwnPropertyNames(e),C=d.length;C-- >0;)r=d[C],(!n||n(r,e,t))&&!x[r]&&(t[r]=e[r],x[r]=!0);e=i!==!1&&N4(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},vk=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},pk=e=>{if(!e)return null;if(Qh(e))return e;let t=e.length;if(!i9(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},gk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&N4(Uint8Array)),mk=(e,t)=>{const n=(e&&e[e2]).call(e);let d;for(;(d=n.next())&&!d.done;){const C=d.value;t.call(e,C[0],C[1])}},xk=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},yk=nr("HTMLFormElement"),Sk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,d){return n.toUpperCase()+d}),Hb=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),Ck=nr("RegExp"),r9=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};vf(i,(d,C)=>{let r;(r=t(d,C,e))!==!1&&(n[C]=r||d)}),Object.defineProperties(e,n)},Tk=e=>{r9(e,(t,i)=>{if(Hs(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(Hs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},bk=(e,t)=>{const i={},n=d=>{d.forEach(C=>{i[C]=!0})};return Qh(e)?n(e):n(String(e).split(t)),i},Ek=()=>{},wk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Pk(e){return!!(e&&Hs(e.append)&&e[t9]==="FormData"&&e[e2])}const Mk=e=>{const t=new Array(10),i=(n,d)=>{if(cf(n)){if(t.indexOf(n)>=0)return;if(ff(n))return n;if(!("toJSON"in n)){t[d]=n;const C=Qh(n)?[]:{};return vf(n,(r,x)=>{const s=i(r,d+1);!Wd(s)&&(C[x]=s)}),t[d]=void 0,C}}return n};return i(e,0)},Ak=nr("AsyncFunction"),Rk=e=>e&&(cf(e)||Hs(e))&&Hs(e.then)&&Hs(e.catch),a9=((e,t)=>e?setImmediate:t?((i,n)=>(L0.addEventListener("message",({source:d,data:C})=>{d===L0&&C===i&&n.length&&n.shift()()},!1),d=>{n.push(d),L0.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Hs(L0.postMessage)),Ok=typeof queueMicrotask<"u"?queueMicrotask.bind(L0):typeof process<"u"&&process.nextTick||a9,Dk=e=>e!=null&&Hs(e[e2]),bt={isArray:Qh,isArrayBuffer:e9,isBuffer:ff,isFormData:sk,isArrayBufferView:ZI,isString:JI,isNumber:i9,isBoolean:QI,isObject:cf,isPlainObject:Gv,isEmptyObject:jI,isReadableStream:rk,isRequest:ak,isResponse:ok,isHeaders:lk,isUndefined:Wd,isDate:qI,isFile:_I,isBlob:tk,isRegExp:Ck,isFunction:Hs,isStream:ik,isURLSearchParams:nk,isTypedArray:gk,isFileList:ek,forEach:vf,merge:X1,extend:uk,trim:hk,stripBOM:dk,inherits:fk,toFlatObject:ck,kindOf:i2,kindOfTest:nr,endsWith:vk,toArray:pk,forEachEntry:mk,matchAll:xk,isHTMLForm:yk,hasOwnProperty:Hb,hasOwnProp:Hb,reduceDescriptors:r9,freezeMethods:Tk,toObjectSet:bk,toCamelCase:Sk,noop:Ek,toFiniteNumber:wk,findKey:s9,global:L0,isContextDefined:n9,isSpecCompliantForm:Pk,toJSONObject:Mk,isAsyncFn:Ak,isThenable:Rk,setImmediate:a9,asap:Ok,isIterable:Dk};function le(e,t,i,n,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),d&&(this.response=d,this.status=d.status?d.status:null)}bt.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:bt.toJSONObject(this.config),code:this.code,status:this.status}}});const o9=le.prototype,l9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{l9[e]={value:e}});Object.defineProperties(le,l9);Object.defineProperty(o9,"isAxiosError",{value:!0});le.from=(e,t,i,n,d,C)=>{const r=Object.create(o9);return bt.toFlatObject(e,r,function(s){return s!==Error.prototype},x=>x!=="isAxiosError"),le.call(r,e.message,t,i,n,d),r.cause=e,r.name=e.name,C&&Object.assign(r,C),r};const Lk=null;function H1(e){return bt.isPlainObject(e)||bt.isArray(e)}function h9(e){return bt.endsWith(e,"[]")?e.slice(0,-2):e}function Yb(e,t,i){return e?e.concat(t).map(function(d,C){return d=h9(d),!i&&C?"["+d+"]":d}).join(i?".":""):t}function Fk(e){return bt.isArray(e)&&!e.some(H1)}const Bk=bt.toFlatObject(bt,{},null,function(t){return/^is[A-Z]/.test(t)});function n2(e,t,i){if(!bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=bt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(u,v){return!bt.isUndefined(v[u])});const n=i.metaTokens,d=i.visitor||g,C=i.dots,r=i.indexes,s=(i.Blob||typeof Blob<"u"&&Blob)&&bt.isSpecCompliantForm(t);if(!bt.isFunction(d))throw new TypeError("visitor must be a function");function a(o){if(o===null)return"";if(bt.isDate(o))return o.toISOString();if(bt.isBoolean(o))return o.toString();if(!s&&bt.isBlob(o))throw new le("Blob is not supported. Use a Buffer instead.");return bt.isArrayBuffer(o)||bt.isTypedArray(o)?s&&typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function g(o,u,v){let f=o;if(o&&!v&&typeof o=="object"){if(bt.endsWith(u,"{}"))u=n?u:u.slice(0,-2),o=JSON.stringify(o);else if(bt.isArray(o)&&Fk(o)||(bt.isFileList(o)||bt.endsWith(u,"[]"))&&(f=bt.toArray(o)))return u=h9(u),f.forEach(function(m,y){!(bt.isUndefined(m)||m===null)&&t.append(r===!0?Yb([u],y,C):r===null?u:u+"[]",a(m))}),!1}return H1(o)?!0:(t.append(Yb(v,u,C),a(o)),!1)}const c=[],h=Object.assign(Bk,{defaultVisitor:g,convertValue:a,isVisitable:H1});function l(o,u){if(!bt.isUndefined(o)){if(c.indexOf(o)!==-1)throw Error("Circular reference detected in "+u.join("."));c.push(o),bt.forEach(o,function(f,p){(!(bt.isUndefined(f)||f===null)&&d.call(t,f,bt.isString(p)?p.trim():p,u,h))===!0&&l(f,u?u.concat(p):[p])}),c.pop()}}if(!bt.isObject(e))throw new TypeError("data must be an object");return l(e),t}function Wb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function V4(e,t){this._pairs=[],e&&n2(e,this,t)}const u9=V4.prototype;u9.append=function(t,i){this._pairs.push([t,i])};u9.toString=function(t){const i=t?function(n){return t.call(this,n,Wb)}:Wb;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function Ik(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function d9(e,t,i){if(!t)return e;const n=i&&i.encode||Ik;bt.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let C;if(d?C=d(t,i):C=bt.isURLSearchParams(t)?t.toString():new V4(t,i).toString(n),C){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+C}return e}class $b{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){bt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const f9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kk=typeof URLSearchParams<"u"?URLSearchParams:V4,Gk=typeof FormData<"u"?FormData:null,Nk=typeof Blob<"u"?Blob:null,Vk={isBrowser:!0,classes:{URLSearchParams:kk,FormData:Gk,Blob:Nk},protocols:["http","https","file","blob","url","data"]},z4=typeof window<"u"&&typeof document<"u",Y1=typeof navigator=="object"&&navigator||void 0,zk=z4&&(!Y1||["ReactNative","NativeScript","NS"].indexOf(Y1.product)<0),Uk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xk=z4&&window.location.href||"http://localhost",Hk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:z4,hasStandardBrowserEnv:zk,hasStandardBrowserWebWorkerEnv:Uk,navigator:Y1,origin:Xk},Symbol.toStringTag,{value:"Module"})),gs={...Hk,...Vk};function Yk(e,t){return n2(e,new gs.classes.URLSearchParams,{visitor:function(i,n,d,C){return gs.isNode&&bt.isBuffer(i)?(this.append(n,i.toString("base64")),!1):C.defaultVisitor.apply(this,arguments)},...t})}function Wk(e){return bt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $k(e){const t={},i=Object.keys(e);let n;const d=i.length;let C;for(n=0;n<d;n++)C=i[n],t[C]=e[C];return t}function c9(e){function t(i,n,d,C){let r=i[C++];if(r==="__proto__")return!0;const x=Number.isFinite(+r),s=C>=i.length;return r=!r&&bt.isArray(d)?d.length:r,s?(bt.hasOwnProp(d,r)?d[r]=[d[r],n]:d[r]=n,!x):((!d[r]||!bt.isObject(d[r]))&&(d[r]=[]),t(i,n,d[r],C)&&bt.isArray(d[r])&&(d[r]=$k(d[r])),!x)}if(bt.isFormData(e)&&bt.isFunction(e.entries)){const i={};return bt.forEachEntry(e,(n,d)=>{t(Wk(n),d,i,0)}),i}return null}function Kk(e,t,i){if(bt.isString(e))try{return(t||JSON.parse)(e),bt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const pf={transitional:f9,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const n=i.getContentType()||"",d=n.indexOf("application/json")>-1,C=bt.isObject(t);if(C&&bt.isHTMLForm(t)&&(t=new FormData(t)),bt.isFormData(t))return d?JSON.stringify(c9(t)):t;if(bt.isArrayBuffer(t)||bt.isBuffer(t)||bt.isStream(t)||bt.isFile(t)||bt.isBlob(t)||bt.isReadableStream(t))return t;if(bt.isArrayBufferView(t))return t.buffer;if(bt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(C){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yk(t,this.formSerializer).toString();if((x=bt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return n2(x?{"files[]":t}:t,s&&new s,this.formSerializer)}}return C||d?(i.setContentType("application/json",!1),Kk(t)):t}],transformResponse:[function(t){const i=this.transitional||pf.transitional,n=i&&i.forcedJSONParsing,d=this.responseType==="json";if(bt.isResponse(t)||bt.isReadableStream(t))return t;if(t&&bt.isString(t)&&(n&&!this.responseType||d)){const r=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(t)}catch(x){if(r)throw x.name==="SyntaxError"?le.from(x,le.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};bt.forEach(["delete","get","head","post","put","patch"],e=>{pf.headers[e]={}});const Zk=bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jk=e=>{const t={};let i,n,d;return e&&e.split(`
`).forEach(function(r){d=r.indexOf(":"),i=r.substring(0,d).trim().toLowerCase(),n=r.substring(d+1).trim(),!(!i||t[i]&&Zk[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},Kb=Symbol("internals");function nd(e){return e&&String(e).trim().toLowerCase()}function Nv(e){return e===!1||e==null?e:bt.isArray(e)?e.map(Nv):String(e)}function Qk(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const jk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bx(e,t,i,n,d){if(bt.isFunction(n))return n.call(this,t,i);if(d&&(t=i),!!bt.isString(t)){if(bt.isString(n))return t.indexOf(n)!==-1;if(bt.isRegExp(n))return n.test(t)}}function qk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function _k(e,t){const i=bt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(d,C,r){return this[n].call(this,t,d,C,r)},configurable:!0})})}let Ys=class{constructor(t){t&&this.set(t)}set(t,i,n){const d=this;function C(x,s,a){const g=nd(s);if(!g)throw new Error("header name must be a non-empty string");const c=bt.findKey(d,g);(!c||d[c]===void 0||a===!0||a===void 0&&d[c]!==!1)&&(d[c||s]=Nv(x))}const r=(x,s)=>bt.forEach(x,(a,g)=>C(a,g,s));if(bt.isPlainObject(t)||t instanceof this.constructor)r(t,i);else if(bt.isString(t)&&(t=t.trim())&&!jk(t))r(Jk(t),i);else if(bt.isObject(t)&&bt.isIterable(t)){let x={},s,a;for(const g of t){if(!bt.isArray(g))throw TypeError("Object iterator must return a key-value pair");x[a=g[0]]=(s=x[a])?bt.isArray(s)?[...s,g[1]]:[s,g[1]]:g[1]}r(x,i)}else t!=null&&C(i,t,n);return this}get(t,i){if(t=nd(t),t){const n=bt.findKey(this,t);if(n){const d=this[n];if(!i)return d;if(i===!0)return Qk(d);if(bt.isFunction(i))return i.call(this,d,n);if(bt.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=nd(t),t){const n=bt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||Bx(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let d=!1;function C(r){if(r=nd(r),r){const x=bt.findKey(n,r);x&&(!i||Bx(n,n[x],x,i))&&(delete n[x],d=!0)}}return bt.isArray(t)?t.forEach(C):C(t),d}clear(t){const i=Object.keys(this);let n=i.length,d=!1;for(;n--;){const C=i[n];(!t||Bx(this,this[C],C,t,!0))&&(delete this[C],d=!0)}return d}normalize(t){const i=this,n={};return bt.forEach(this,(d,C)=>{const r=bt.findKey(n,C);if(r){i[r]=Nv(d),delete i[C];return}const x=t?qk(C):String(C).trim();x!==C&&delete i[C],i[x]=Nv(d),n[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return bt.forEach(this,(n,d)=>{n!=null&&n!==!1&&(i[d]=t&&bt.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(d=>n.set(d)),n}static accessor(t){const n=(this[Kb]=this[Kb]={accessors:{}}).accessors,d=this.prototype;function C(r){const x=nd(r);n[x]||(_k(d,r),n[x]=!0)}return bt.isArray(t)?t.forEach(C):C(t),this}};Ys.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);bt.reduceDescriptors(Ys.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});bt.freezeMethods(Ys);function Ix(e,t){const i=this||pf,n=t||i,d=Ys.from(n.headers);let C=n.data;return bt.forEach(e,function(x){C=x.call(i,C,d.normalize(),t?t.status:void 0)}),d.normalize(),C}function v9(e){return!!(e&&e.__CANCEL__)}function jh(e,t,i){le.call(this,e??"canceled",le.ERR_CANCELED,t,i),this.name="CanceledError"}bt.inherits(jh,le,{__CANCEL__:!0});function p9(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new le("Request failed with status code "+i.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function tG(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eG(e,t){e=e||10;const i=new Array(e),n=new Array(e);let d=0,C=0,r;return t=t!==void 0?t:1e3,function(s){const a=Date.now(),g=n[C];r||(r=a),i[d]=s,n[d]=a;let c=C,h=0;for(;c!==d;)h+=i[c++],c=c%e;if(d=(d+1)%e,d===C&&(C=(C+1)%e),a-r<t)return;const l=g&&a-g;return l?Math.round(h*1e3/l):void 0}}function iG(e,t){let i=0,n=1e3/t,d,C;const r=(a,g=Date.now())=>{i=g,d=null,C&&(clearTimeout(C),C=null),e(...a)};return[(...a)=>{const g=Date.now(),c=g-i;c>=n?r(a,g):(d=a,C||(C=setTimeout(()=>{C=null,r(d)},n-c)))},()=>d&&r(d)]}const Bp=(e,t,i=3)=>{let n=0;const d=eG(50,250);return iG(C=>{const r=C.loaded,x=C.lengthComputable?C.total:void 0,s=r-n,a=d(s),g=r<=x;n=r;const c={loaded:r,total:x,progress:x?r/x:void 0,bytes:s,rate:a||void 0,estimated:a&&x&&g?(x-r)/a:void 0,event:C,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(c)},i)},Zb=(e,t)=>{const i=e!=null;return[n=>t[0]({lengthComputable:i,total:e,loaded:n}),t[1]]},Jb=e=>(...t)=>bt.asap(()=>e(...t)),sG=gs.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,gs.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,nG=gs.hasStandardBrowserEnv?{write(e,t,i,n,d,C){const r=[e+"="+encodeURIComponent(t)];bt.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),bt.isString(n)&&r.push("path="+n),bt.isString(d)&&r.push("domain="+d),C===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rG(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function aG(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function g9(e,t,i){let n=!rG(t);return e&&(n||i==!1)?aG(e,t):t}const Qb=e=>e instanceof Ys?{...e}:e;function V0(e,t){t=t||{};const i={};function n(a,g,c,h){return bt.isPlainObject(a)&&bt.isPlainObject(g)?bt.merge.call({caseless:h},a,g):bt.isPlainObject(g)?bt.merge({},g):bt.isArray(g)?g.slice():g}function d(a,g,c,h){if(bt.isUndefined(g)){if(!bt.isUndefined(a))return n(void 0,a,c,h)}else return n(a,g,c,h)}function C(a,g){if(!bt.isUndefined(g))return n(void 0,g)}function r(a,g){if(bt.isUndefined(g)){if(!bt.isUndefined(a))return n(void 0,a)}else return n(void 0,g)}function x(a,g,c){if(c in t)return n(a,g);if(c in e)return n(void 0,a)}const s={url:C,method:C,data:C,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:x,headers:(a,g,c)=>d(Qb(a),Qb(g),c,!0)};return bt.forEach(Object.keys({...e,...t}),function(g){const c=s[g]||d,h=c(e[g],t[g],g);bt.isUndefined(h)&&c!==x||(i[g]=h)}),i}const m9=e=>{const t=V0({},e);let{data:i,withXSRFToken:n,xsrfHeaderName:d,xsrfCookieName:C,headers:r,auth:x}=t;t.headers=r=Ys.from(r),t.url=d9(g9(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&r.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):"")));let s;if(bt.isFormData(i)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((s=r.getContentType())!==!1){const[a,...g]=s?s.split(";").map(c=>c.trim()).filter(Boolean):[];r.setContentType([a||"multipart/form-data",...g].join("; "))}}if(gs.hasStandardBrowserEnv&&(n&&bt.isFunction(n)&&(n=n(t)),n||n!==!1&&sG(t.url))){const a=d&&C&&nG.read(C);a&&r.set(d,a)}return t},oG=typeof XMLHttpRequest<"u",lG=oG&&function(e){return new Promise(function(i,n){const d=m9(e);let C=d.data;const r=Ys.from(d.headers).normalize();let{responseType:x,onUploadProgress:s,onDownloadProgress:a}=d,g,c,h,l,o;function u(){l&&l(),o&&o(),d.cancelToken&&d.cancelToken.unsubscribe(g),d.signal&&d.signal.removeEventListener("abort",g)}let v=new XMLHttpRequest;v.open(d.method.toUpperCase(),d.url,!0),v.timeout=d.timeout;function f(){if(!v)return;const m=Ys.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),S={data:!x||x==="text"||x==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:m,config:e,request:v};p9(function(b){i(b),u()},function(b){n(b),u()},S),v=null}"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(f)},v.onabort=function(){v&&(n(new le("Request aborted",le.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new le("Network Error",le.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let y=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const S=d.transitional||f9;d.timeoutErrorMessage&&(y=d.timeoutErrorMessage),n(new le(y,S.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,v)),v=null},C===void 0&&r.setContentType(null),"setRequestHeader"in v&&bt.forEach(r.toJSON(),function(y,S){v.setRequestHeader(S,y)}),bt.isUndefined(d.withCredentials)||(v.withCredentials=!!d.withCredentials),x&&x!=="json"&&(v.responseType=d.responseType),a&&([h,o]=Bp(a,!0),v.addEventListener("progress",h)),s&&v.upload&&([c,l]=Bp(s),v.upload.addEventListener("progress",c),v.upload.addEventListener("loadend",l)),(d.cancelToken||d.signal)&&(g=m=>{v&&(n(!m||m.type?new jh(null,e,v):m),v.abort(),v=null)},d.cancelToken&&d.cancelToken.subscribe(g),d.signal&&(d.signal.aborted?g():d.signal.addEventListener("abort",g)));const p=tG(d.url);if(p&&gs.protocols.indexOf(p)===-1){n(new le("Unsupported protocol "+p+":",le.ERR_BAD_REQUEST,e));return}v.send(C||null)})},hG=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let n=new AbortController,d;const C=function(a){if(!d){d=!0,x();const g=a instanceof Error?a:this.reason;n.abort(g instanceof le?g:new jh(g instanceof Error?g.message:g))}};let r=t&&setTimeout(()=>{r=null,C(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const x=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach(a=>{a.unsubscribe?a.unsubscribe(C):a.removeEventListener("abort",C)}),e=null)};e.forEach(a=>a.addEventListener("abort",C));const{signal:s}=n;return s.unsubscribe=()=>bt.asap(x),s}},uG=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let n=0,d;for(;n<i;)d=n+t,yield e.slice(n,d),n=d},dG=async function*(e,t){for await(const i of fG(e))yield*uG(i,t)},fG=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:n}=await t.read();if(i)break;yield n}}finally{await t.cancel()}},jb=(e,t,i,n)=>{const d=dG(e,t);let C=0,r,x=s=>{r||(r=!0,n&&n(s))};return new ReadableStream({async pull(s){try{const{done:a,value:g}=await d.next();if(a){x(),s.close();return}let c=g.byteLength;if(i){let h=C+=c;i(h)}s.enqueue(new Uint8Array(g))}catch(a){throw x(a),a}},cancel(s){return x(s),d.return()}},{highWaterMark:2})},r2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x9=r2&&typeof ReadableStream=="function",cG=r2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),y9=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vG=x9&&y9(()=>{let e=!1;const t=new Request(gs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qb=64*1024,W1=x9&&y9(()=>bt.isReadableStream(new Response("").body)),Ip={stream:W1&&(e=>e.body)};r2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ip[t]&&(Ip[t]=bt.isFunction(e[t])?i=>i[t]():(i,n)=>{throw new le(`Response type '${t}' is not supported`,le.ERR_NOT_SUPPORT,n)})})})(new Response);const pG=async e=>{if(e==null)return 0;if(bt.isBlob(e))return e.size;if(bt.isSpecCompliantForm(e))return(await new Request(gs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(bt.isArrayBufferView(e)||bt.isArrayBuffer(e))return e.byteLength;if(bt.isURLSearchParams(e)&&(e=e+""),bt.isString(e))return(await cG(e)).byteLength},gG=async(e,t)=>{const i=bt.toFiniteNumber(e.getContentLength());return i??pG(t)},mG=r2&&(async e=>{let{url:t,method:i,data:n,signal:d,cancelToken:C,timeout:r,onDownloadProgress:x,onUploadProgress:s,responseType:a,headers:g,withCredentials:c="same-origin",fetchOptions:h}=m9(e);a=a?(a+"").toLowerCase():"text";let l=hG([d,C&&C.toAbortSignal()],r),o;const u=l&&l.unsubscribe&&(()=>{l.unsubscribe()});let v;try{if(s&&vG&&i!=="get"&&i!=="head"&&(v=await gG(g,n))!==0){let S=new Request(t,{method:"POST",body:n,duplex:"half"}),T;if(bt.isFormData(n)&&(T=S.headers.get("content-type"))&&g.setContentType(T),S.body){const[b,P]=Zb(v,Bp(Jb(s)));n=jb(S.body,qb,b,P)}}bt.isString(c)||(c=c?"include":"omit");const f="credentials"in Request.prototype;o=new Request(t,{...h,signal:l,method:i.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:f?c:void 0});let p=await fetch(o,h);const m=W1&&(a==="stream"||a==="response");if(W1&&(x||m&&u)){const S={};["status","statusText","headers"].forEach(w=>{S[w]=p[w]});const T=bt.toFiniteNumber(p.headers.get("content-length")),[b,P]=x&&Zb(T,Bp(Jb(x),!0))||[];p=new Response(jb(p.body,qb,b,()=>{P&&P(),u&&u()}),S)}a=a||"text";let y=await Ip[bt.findKey(Ip,a)||"text"](p,e);return!m&&u&&u(),await new Promise((S,T)=>{p9(S,T,{data:y,headers:Ys.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:o})})}catch(f){throw u&&u(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,e,o),{cause:f.cause||f}):le.from(f,f&&f.code,e,o)}}),$1={http:Lk,xhr:lG,fetch:mG};bt.forEach($1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _b=e=>`- ${e}`,xG=e=>bt.isFunction(e)||e===null||e===!1,S9={getAdapter:e=>{e=bt.isArray(e)?e:[e];const{length:t}=e;let i,n;const d={};for(let C=0;C<t;C++){i=e[C];let r;if(n=i,!xG(i)&&(n=$1[(r=String(i)).toLowerCase()],n===void 0))throw new le(`Unknown adapter '${r}'`);if(n)break;d[r||"#"+C]=n}if(!n){const C=Object.entries(d).map(([x,s])=>`adapter ${x} `+(s===!1?"is not supported by the environment":"is not available in the build"));let r=t?C.length>1?`since :
`+C.map(_b).join(`
`):" "+_b(C[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:$1};function kx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jh(null,e)}function tE(e){return kx(e),e.headers=Ys.from(e.headers),e.data=Ix.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),S9.getAdapter(e.adapter||pf.adapter)(e).then(function(n){return kx(e),n.data=Ix.call(e,e.transformResponse,n),n.headers=Ys.from(n.headers),n},function(n){return v9(n)||(kx(e),n&&n.response&&(n.response.data=Ix.call(e,e.transformResponse,n.response),n.response.headers=Ys.from(n.response.headers))),Promise.reject(n)})}const C9="1.11.0",a2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{a2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const eE={};a2.transitional=function(t,i,n){function d(C,r){return"[Axios v"+C9+"] Transitional option '"+C+"'"+r+(n?". "+n:"")}return(C,r,x)=>{if(t===!1)throw new le(d(r," has been removed"+(i?" in "+i:"")),le.ERR_DEPRECATED);return i&&!eE[r]&&(eE[r]=!0,console.warn(d(r," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(C,r,x):!0}};a2.spelling=function(t){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function yG(e,t,i){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let d=n.length;for(;d-- >0;){const C=n[d],r=t[C];if(r){const x=e[C],s=x===void 0||r(x,C,e);if(s!==!0)throw new le("option "+C+" must be "+s,le.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new le("Unknown option "+C,le.ERR_BAD_OPTION)}}const Vv={assertOptions:yG,validators:a2},vr=Vv.validators;let I0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new $b,response:new $b}}async request(t,i){try{return await this._request(t,i)}catch(n){if(n instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const C=d.stack?d.stack.replace(/^.+\n/,""):"";try{n.stack?C&&!String(n.stack).endsWith(C.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+C):n.stack=C}catch{}}throw n}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=V0(this.defaults,i);const{transitional:n,paramsSerializer:d,headers:C}=i;n!==void 0&&Vv.assertOptions(n,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),d!=null&&(bt.isFunction(d)?i.paramsSerializer={serialize:d}:Vv.assertOptions(d,{encode:vr.function,serialize:vr.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Vv.assertOptions(i,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let r=C&&bt.merge(C.common,C[i.method]);C&&bt.forEach(["delete","get","head","post","put","patch","common"],o=>{delete C[o]}),i.headers=Ys.concat(r,C);const x=[];let s=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(i)===!1||(s=s&&u.synchronous,x.unshift(u.fulfilled,u.rejected))});const a=[];this.interceptors.response.forEach(function(u){a.push(u.fulfilled,u.rejected)});let g,c=0,h;if(!s){const o=[tE.bind(this),void 0];for(o.unshift(...x),o.push(...a),h=o.length,g=Promise.resolve(i);c<h;)g=g.then(o[c++],o[c++]);return g}h=x.length;let l=i;for(c=0;c<h;){const o=x[c++],u=x[c++];try{l=o(l)}catch(v){u.call(this,v);break}}try{g=tE.call(this,l)}catch(o){return Promise.reject(o)}for(c=0,h=a.length;c<h;)g=g.then(a[c++],a[c++]);return g}getUri(t){t=V0(this.defaults,t);const i=g9(t.baseURL,t.url,t.allowAbsoluteUrls);return d9(i,t.params,t.paramsSerializer)}};bt.forEach(["delete","get","head","options"],function(t){I0.prototype[t]=function(i,n){return this.request(V0(n||{},{method:t,url:i,data:(n||{}).data}))}});bt.forEach(["post","put","patch"],function(t){function i(n){return function(C,r,x){return this.request(V0(x||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:C,data:r}))}}I0.prototype[t]=i(),I0.prototype[t+"Form"]=i(!0)});let SG=class T9{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(C){i=C});const n=this;this.promise.then(d=>{if(!n._listeners)return;let C=n._listeners.length;for(;C-- >0;)n._listeners[C](d);n._listeners=null}),this.promise.then=d=>{let C;const r=new Promise(x=>{n.subscribe(x),C=x}).then(d);return r.cancel=function(){n.unsubscribe(C)},r},t(function(C,r,x){n.reason||(n.reason=new jh(C,r,x),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=n=>{t.abort(n)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new T9(function(d){t=d}),cancel:t}}};function CG(e){return function(i){return e.apply(null,i)}}function TG(e){return bt.isObject(e)&&e.isAxiosError===!0}const K1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(K1).forEach(([e,t])=>{K1[t]=e});function b9(e){const t=new I0(e),i=_R(I0.prototype.request,t);return bt.extend(i,I0.prototype,t,{allOwnKeys:!0}),bt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(d){return b9(V0(e,d))},i}const ri=b9(pf);ri.Axios=I0;ri.CanceledError=jh;ri.CancelToken=SG;ri.isCancel=v9;ri.VERSION=C9;ri.toFormData=n2;ri.AxiosError=le;ri.Cancel=ri.CanceledError;ri.all=function(t){return Promise.all(t)};ri.spread=CG;ri.isAxiosError=TG;ri.mergeConfig=V0;ri.AxiosHeaders=Ys;ri.formToJSON=e=>c9(bt.isHTMLForm(e)?new FormData(e):e);ri.getAdapter=S9.getAdapter;ri.HttpStatusCode=K1;ri.default=ri;const{Axios:Umt,AxiosError:Xmt,CanceledError:Hmt,isCancel:Ymt,CancelToken:Wmt,VERSION:$mt,all:Kmt,Cancel:Zmt,isAxiosError:Jmt,spread:Qmt,toFormData:jmt,AxiosHeaders:qmt,HttpStatusCode:_mt,formToJSON:txt,getAdapter:ext,mergeConfig:ixt}=ri;var bG=Symbol("cache-parser");function iE(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Yl(e){return(typeof e=="string"||typeof e=="number")&&(e=Number(e))>=0&&e<1/0}function pr(e){return e===!0||typeof e=="number"||typeof e=="string"&&e!=="false"}var Wl=Number;function E9(e){var t=Object.defineProperty({},bG,{enumerable:!1,value:1});if(!e||typeof e!="string")return t;var i=(function(a){for(var g,c={},h=(function(u,v){var f=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(f)return(f=f.call(u)).next.bind(f);if(Array.isArray(u)||(f=(function(m,y){if(m){if(typeof m=="string")return iE(m,y);var S=Object.prototype.toString.call(m).slice(8,-1);return S==="Object"&&m.constructor&&(S=m.constructor.name),S==="Map"||S==="Set"?Array.from(m):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?iE(m,y):void 0}})(u))){f&&(u=f);var p=0;return function(){return p>=u.length?{done:!0}:{done:!1,value:u[p++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})(a.toLowerCase().replace(/\s+/g,"").split(","));!(g=h()).done;){var l,o=g.value.split("=",2);c[o[0]]=(l=o[1])==null||l}return c})(e),n=i["max-age"],d=i["max-stale"],C=i["min-fresh"],r=i["s-maxage"],x=i["stale-if-error"],s=i["stale-while-revalidate"];return pr(i.immutable)&&(t.immutable=!0),Yl(n)&&(t.maxAge=Wl(n)),Yl(d)&&(t.maxStale=Wl(d)),Yl(C)&&(t.minFresh=Wl(C)),pr(i["must-revalidate"])&&(t.mustRevalidate=!0),pr(i["must-understand"])&&(t.mustUnderstand=!0),pr(i["no-cache"])&&(t.noCache=!0),pr(i["no-store"])&&(t.noStore=!0),pr(i["no-transform"])&&(t.noTransform=!0),pr(i["only-if-cached"])&&(t.onlyIfCached=!0),pr(i.private)&&(t.private=!0),pr(i["proxy-revalidate"])&&(t.proxyRevalidate=!0),pr(i.public)&&(t.public=!0),Yl(r)&&(t.sMaxAge=Wl(r)),Yl(x)&&(t.staleIfError=Wl(x)),Yl(s)&&(t.staleWhileRevalidate=Wl(s)),t}var EG=Symbol();function wG(){var e,t,i=new Promise(function(n,d){e=n,t=d});return i.resolve=e,i.reject=t,i[EG]=1,i}function PG(e,t){return e>t?1:-1}function zv(e,t){var i=5381;if(typeof e=="object"&&e!==null&&(e.toString===Object.prototype.toString||e.toString===Array.prototype.toString)){t||(t=new WeakSet);for(var n=Object.keys(e).sort(PG),d=0;d<n.length;d++){var C=n[d],r=e[C];if(i=33*i^zv(C,t),typeof r=="object"&&r!==null&&(e.toString===Object.prototype.toString||e.toString===Array.prototype.toString)){if(t.has(r))continue;t.add(r)}i=33*i^zv(r,t)}return 33*i^zv(e.constructor,t)}var x=typeof e;try{e instanceof Date?x+=e.getTime():x+=String(e)}catch{x+=String(Object.assign({},e))}for(var s=0;s<x.length;s++)i=33*i^x.charCodeAt(s);return i}/*!
 * Axios Cache Interceptor 1.8.2
 * (c) 2021-present Arthur Fiorette & Contributors
 * Released under the MIT License.
 */const Ui=Object.freeze({IfModifiedSince:"if-modified-since",LastModified:"last-modified",IfNoneMatch:"if-none-match",CacheControl:"cache-control",Pragma:"pragma",ETag:"etag",Expires:"expires",Age:"age",XAxiosCacheEtag:"x-axios-cache-etag",XAxiosCacheLastModified:"x-axios-cache-last-modified",XAxiosCacheStaleIfError:"x-axios-cache-stale-if-error"}),MG=(e,t)=>{if(!e)return"not enough headers";const i=e[Ui.CacheControl];if(i){const d=E9(String(i));if(d.noCache||d.noStore||t==="server"&&d.private)return"dont cache";if(d.immutable)return{cache:1e3*60*60*24*365};if(d.maxAge!==void 0){const C=e[Ui.Age];return{cache:C?(d.maxAge-Number(C))*1e3:d.maxAge*1e3,stale:d.maxStale!==void 0?d.maxStale*1e3:d.staleWhileRevalidate!==void 0?d.staleWhileRevalidate*1e3:void 0}}}const n=e[Ui.Expires];if(n){const d=Date.parse(String(n))-Date.now();return d>=0?{cache:d}:"dont cache"}return"not enough headers"};function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$d.apply(null,arguments)}async function AG(e,t){if(typeof t=="function")return t(e);const{statusCheck:i,responseMatch:n,containsHeaders:d}=t;if(i&&!await i(e.status)||n&&!await n(e))return!1;if(d)for(const[r,x]of Object.entries(d)){var C;if(!await x((C=e.headers[r.toLowerCase()])!=null?C:e.headers[r]))return!1}return!0}function sE(e,t){return e instanceof RegExp?(e.lastIndex=0,e.test(t)):t.includes(e)}function RG(e){return e?t=>e(t)||t===304:t=>t>=200&&t<300||t===304}function Z1(e="get",t=[]){return e=e.toLowerCase(),t.some(i=>i===e)}function OG(e,t){t.headers||(t.headers={});const{etag:i,modifiedSince:n}=t.cache;if(i){var d;const C=i===!0?(d=e.data)==null?void 0:d.headers[Ui.ETag]:i;C&&(t.headers[Ui.IfNoneMatch]=C)}n&&(t.headers[Ui.IfModifiedSince]=n===!0?e.data.headers[Ui.LastModified]||new Date(e.createdAt).toUTCString():n.toUTCString())}function DG(e,t){return e.status===304&&t?(e.cached=!0,e.data=t.data,e.status=t.status,e.statusText=t.statusText,e.headers=$d({},t.headers,e.headers),t):{data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}}function LG(e){const t=async i=>{if(i.id=e.generateKey(i),i.cache===!1)return i;if(i.cache=$d({},e.defaults.cache,i.cache),typeof i.cache.cachePredicate=="object"&&i.cache.cachePredicate.ignoreUrls&&i.url){for(const u of i.cache.cachePredicate.ignoreUrls)if(sE(u,i.url))return i}if(typeof i.cache.cachePredicate=="object"&&i.cache.cachePredicate.allowUrls&&i.url){let u=!1;for(const v of i.cache.cachePredicate.allowUrls)if(sE(v,i.url)){u=!0;break}if(!u)return i}if(i.cache.cacheTakeover){var n,d,C,r,x,s,a,g,c;(C=(n=i.headers)[d=Ui.CacheControl])!=null||(n[d]="no-cache"),(s=(r=i.headers)[x=Ui.Pragma])!=null||(r[x]="no-cache"),(c=(a=i.headers)[g=Ui.Expires])!=null||(a[g]="0")}if(!Z1(i.method,i.cache.methods))return i;let h=await e.storage.get(i.id,i);const l=i.cache.override;t:if(h.state==="empty"||h.state==="stale"||h.state==="must-revalidate"||l){if(e.waiting.has(i.id)&&!l&&(h=await e.storage.get(i.id,i),h.state!=="empty"&&h.state!=="must-revalidate"))break t;const u=wG();return e.waiting.set(i.id,u),u.catch(()=>{}),await e.storage.set(i.id,{state:"loading",previous:l?h.data?"stale":"empty":h.state,data:h.data,createdAt:l&&!h.createdAt?Date.now():h.createdAt},i),(h.state==="stale"||h.state==="must-revalidate")&&OG(h,i),i.validateStatus=RG(i.validateStatus),(h.state==="stale"||h.data&&h.state!=="must-revalidate")&&await(i.cache.hydrate==null?void 0:i.cache.hydrate(h)),i}let o;if(h.state==="loading"){const u=e.waiting.get(i.id);if(!u)return h.data&&await(i.cache.hydrate==null?void 0:i.cache.hydrate(h)),i;try{await u;const v=await e.storage.get(i.id,i);if(!v.data)return t(i);o=v.data}catch{return h.data&&await(i.cache.hydrate==null?void 0:i.cache.hydrate(h)),t(i)}}else o=h.data;return i.transformResponse=void 0,i.adapter=function(){return Promise.resolve({config:i,data:o.data,headers:o.headers,status:o.status,statusText:o.statusText,cached:!0,stale:h.previous==="stale",id:i.id})},i};return{onFulfilled:t}}async function FG(e,t,i){if(typeof i=="function")return i(t);for(const[n,d]of Object.entries(i)){if(d==="delete"){await e.remove(n,t.config);continue}const C=await e.get(n,t.config);if(C.state==="loading")continue;const r=await d(C,t);if(r==="delete"){await e.remove(n,t.config);continue}r!=="ignore"&&await e.set(n,r,t.config)}}function BG(e){const t=async(d,C,r)=>{r&&await e.storage.remove(d,C);const x=e.waiting.get(d);x&&(x.reject(),e.waiting.delete(d))};return{onFulfilled:async d=>{var C;if(!(d!=null&&d.config))throw d;d.id=d.config.id,(C=d.cached)!=null||(d.cached=!1);const r=d.config,x=r.cache;if(d.cached)return d;if(!x)return d.cached=!1,d;if(x.update&&await FG(e.storage,d,x.update),!Z1(r.method,x.methods))return d;const s=await e.storage.get(d.id,r);if(s.state!=="loading")return d;if(!s.data&&!await AG(d,x.cachePredicate))return await t(d.id,r,!0),d;for(const o of Object.keys(d.headers))o.startsWith("x-axios-cache")&&delete d.headers[o];x.etag&&x.etag!==!0&&(d.headers[Ui.XAxiosCacheEtag]=x.etag),x.modifiedSince&&(d.headers[Ui.XAxiosCacheLastModified]=x.modifiedSince===!0?"use-cache-timestamp":x.modifiedSince.toUTCString());let a=x.ttl||-1,g;if(x.interpretHeader){const o=e.headerInterpreter(d.headers,e.location);if(o==="dont cache")return await t(d.id,r,!0),d;o!=="not enough headers"&&(typeof o=="number"?a=o:(a=o.cache,g=o.stale))}const c=DG(d,s.data);typeof a=="function"&&(a=await a(d)),x.staleIfError&&(d.headers[Ui.XAxiosCacheStaleIfError]=String(a));const h={state:"cached",ttl:a,staleTtl:g,createdAt:Date.now(),data:c};await e.storage.set(d.id,h,r);const l=e.waiting.get(d.id);return l&&(l.resolve(),e.waiting.delete(d.id)),d},onRejected:async d=>{if(!d.isAxiosError||!d.config)throw d;const C=d.config,r=C.id,x=C.cache,s=d.response;if(!x||!r)throw d;if(!Z1(C.method,x.methods))throw await t(r,C,!0),d;const a=await e.storage.get(r,C);if(a.state!=="loading"||a.previous!=="stale")throw await t(r,C,d.code!=="ERR_CANCELED"||d.code==="ERR_CANCELED"&&a.state!=="cached"),d;if(x.staleIfError){const g=String(s==null?void 0:s.headers[Ui.CacheControl]),c=g&&E9(g).staleIfError,h=typeof x.staleIfError=="function"?await x.staleIfError(s,a,d):x.staleIfError===!0&&c?c*1e3:x.staleIfError;if(h===!0||typeof h=="number"&&a.createdAt+h>Date.now()){await e.storage.set(r,{state:"stale",createdAt:Date.now(),data:a.data},C);const l=e.waiting.get(r);return l&&(l.resolve(),e.waiting.delete(r)),{cached:!0,stale:!0,config:C,id:r,data:a.data.data,headers:a.data.headers,status:a.data.status,statusText:a.data.statusText}}}throw await t(r,C,!0),d}}}const IG=e=>!!e&&!!e["is-storage"];function w9(e){const t=e.data.headers;return Ui.ETag in t||Ui.LastModified in t||Ui.XAxiosCacheEtag in t||Ui.XAxiosCacheLastModified in t}function kG(e){return String(e.data.headers[Ui.CacheControl]).includes("must-revalidate")}function P9(e){return w9(e)?!0:e.state==="cached"&&e.staleTtl!==void 0&&Math.abs(Date.now()-(e.createdAt+e.ttl))<=e.staleTtl}function J1(e){return e.ttl!==void 0&&e.createdAt+e.ttl<=Date.now()}function GG({set:e,find:t,remove:i,clear:n}){return{"is-storage":1,set:e,remove:i,clear:n,get:async(d,C)=>{let r=await t(d,C);if(!r)return{state:"empty"};if(r.state==="empty"||r.state==="loading"||r.state==="must-revalidate")return r;if(r.state==="cached"){if(!J1(r))return r;if(!P9(r))return await i(d,C),{state:"empty"};if(r={state:"stale",createdAt:r.createdAt,data:r.data,ttl:r.staleTtl!==void 0?r.staleTtl+r.ttl:void 0},await e(d,r,C),kG(r))return $d({},r,{state:"must-revalidate"})}return!J1(r)||w9(r)?r:(await i(d,C),{state:"empty"})}}}const nE=typeof structuredClone=="function"?structuredClone:e=>JSON.parse(JSON.stringify(e));function NG(e=!1,t=!1,i=!1){const n=GG({set:(d,C)=>{if(i){let r=Object.keys(n.data);if(r.length>=i)for(n.cleanup(),r=Object.keys(n.data);r.length>=i;)delete n.data[r.shift()]}n.data[d]=e==="double"?nE(C):C},remove:d=>{delete n.data[d]},find:d=>{const C=n.data[d];return e&&C!==void 0?nE(C):C},clear:()=>{n.data=Object.create(null)}});return n.data=Object.create(null),n.cleanup=()=>{const d=Object.keys(n.data);let C=-1,r,x;for(;++C<d.length;){if(x=d[C],r=n.data[x],r.state==="empty"){n.remove(x);continue}r.state==="cached"&&J1(r)&&!P9(r)&&n.remove(x)}},t&&(n.cleaner=setInterval(n.cleanup,t)),n}const rE=/^\/|\/$/g;function VG(e){return t=>{if(t.id)return t.id;const i=e(t);return typeof i=="string"||typeof i=="number"?`${i}`:`${zv(i)}`}}const zG=VG(({baseURL:e,url:t,method:i,params:n,data:d})=>(e!==void 0?e=e.replace(rE,""):e="",t!==void 0?t=t.replace(rE,""):t="",i!==void 0?i=i.toLowerCase():i="get",{url:e+(e&&t?"/":"")+t,params:n,method:i,data:d}));function UG(e,t={}){var i,n,d,C,r,x,s,a;const g=e;if(g.defaults.cache)throw new Error("setupCache() should be called only once");if(g.location=typeof window>"u"?"server":"client",g.storage=t.storage||NG(),!IG(g.storage))throw new Error("Use buildStorage() function");return g.waiting=t.waiting||new Map,g.generateKey=t.generateKey||zG,g.headerInterpreter=t.headerInterpreter||MG,g.requestInterceptor=t.requestInterceptor||LG(g),g.responseInterceptor=t.responseInterceptor||BG(g),g.debug=t.debug||function(){},g.defaults.cache={update:t.update||{},ttl:(i=t.ttl)!=null?i:1e3*60*5,methods:t.methods||["get","head"],cachePredicate:t.cachePredicate||{statusCheck:c=>[200,203,300,301,302,404,405,410,414,501].includes(c)},etag:(n=t.etag)!=null?n:!0,modifiedSince:(d=t.modifiedSince)!=null?d:t.etag===!1,interpretHeader:(C=t.interpretHeader)!=null?C:!0,cacheTakeover:(r=t.cacheTakeover)!=null?r:!0,staleIfError:(x=t.staleIfError)!=null?x:!0,override:(s=t.override)!=null?s:!1,hydrate:(a=t.hydrate)!=null?a:void 0},g.interceptors.request.use(g.requestInterceptor.onFulfilled,g.requestInterceptor.onRejected),g.interceptors.response.use(g.responseInterceptor.onFulfilled,g.responseInterceptor.onRejected),g}function M9(e){var t,i,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var d=e.length;for(t=0;t<d;t++)e[t]&&(i=M9(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function k0(){for(var e,t,i=0,n="",d=arguments.length;i<d;i++)(e=arguments[i])&&(t=M9(e))&&(n&&(n+=" "),n+=t);return n}function XG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}XG(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gf=e=>typeof e=="number"&&!isNaN(e),z0=e=>typeof e=="string",va=e=>typeof e=="function",HG=e=>z0(e)||gf(e),Q1=e=>z0(e)||va(e)?e:null,YG=(e,t)=>e===!1||gf(e)&&e>0?e:t,j1=e=>dt.isValidElement(e)||z0(e)||va(e)||gf(e);function WG(e,t,i=300){let{scrollHeight:n,style:d}=e;requestAnimationFrame(()=>{d.minHeight="initial",d.height=n+"px",d.transition=`all ${i}ms`,requestAnimationFrame(()=>{d.height="0",d.padding="0",d.margin="0",setTimeout(t,i)})})}function $G({enter:e,exit:t,appendPosition:i=!1,collapse:n=!0,collapseDuration:d=300}){return function({children:C,position:r,preventExitTransition:x,done:s,nodeRef:a,isIn:g,playToast:c}){let h=i?`${e}--${r}`:e,l=i?`${t}--${r}`:t,o=dt.useRef(0);return dt.useLayoutEffect(()=>{let u=a.current,v=h.split(" "),f=p=>{p.target===a.current&&(c(),u.removeEventListener("animationend",f),u.removeEventListener("animationcancel",f),o.current===0&&p.type!=="animationcancel"&&u.classList.remove(...v))};u.classList.add(...v),u.addEventListener("animationend",f),u.addEventListener("animationcancel",f)},[]),dt.useEffect(()=>{let u=a.current,v=()=>{u.removeEventListener("animationend",v),n?WG(u,s,d):s()};g||(x?v():(o.current=1,u.className+=` ${l}`,u.addEventListener("animationend",v)))},[g]),Ie.createElement(Ie.Fragment,null,C)}}function aE(e,t){return{content:A9(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function A9(e,t,i=!1){return dt.isValidElement(e)&&!z0(e.type)?dt.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):va(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:i}):e}function KG({closeToast:e,theme:t,ariaLabel:i="close"}){return Ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":i},Ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ZG({delay:e,isRunning:t,closeToast:i,type:n="default",hide:d,className:C,controlledProgress:r,progress:x,rtl:s,isIn:a,theme:g}){let c=d||r&&x===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};r&&(h.transform=`scaleX(${x})`);let l=k0("Toastify__progress-bar",r?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":s}),o=va(C)?C({rtl:s,type:n,defaultClassName:l}):k0(l,C),u={[r&&x>=1?"onTransitionEnd":"onAnimationEnd"]:r&&x<1?null:()=>{a&&i()}};return Ie.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":c},Ie.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${n}`}),Ie.createElement("div",{role:"progressbar","aria-hidden":c?"true":"false","aria-label":"notification timer",className:o,style:h,...u}))}var JG=1,R9=()=>`${JG++}`;function QG(e,t,i){let n=1,d=0,C=[],r=[],x=t,s=new Map,a=new Set,g=p=>(a.add(p),()=>a.delete(p)),c=()=>{r=Array.from(s.values()),a.forEach(p=>p())},h=({containerId:p,toastId:m,updateId:y})=>{let S=p?p!==e:e!==1,T=s.has(m)&&y==null;return S||T},l=(p,m)=>{s.forEach(y=>{var S;(m==null||m===y.props.toastId)&&((S=y.toggle)==null||S.call(y,p))})},o=p=>{var m,y;(y=(m=p.props)==null?void 0:m.onClose)==null||y.call(m,p.removalReason),p.isActive=!1},u=p=>{if(p==null)s.forEach(o);else{let m=s.get(p);m&&o(m)}c()},v=()=>{d-=C.length,C=[]},f=p=>{var m,y;let{toastId:S,updateId:T}=p.props,b=T==null;p.staleId&&s.delete(p.staleId),p.isActive=!0,s.set(S,p),c(),i(aE(p,b?"added":"updated")),b&&((y=(m=p.props).onOpen)==null||y.call(m))};return{id:e,props:x,observe:g,toggle:l,removeToast:u,toasts:s,clearQueue:v,buildToast:(p,m)=>{if(h(m))return;let{toastId:y,updateId:S,data:T,staleId:b,delay:P}=m,w=S==null;w&&d++;let A={...x,style:x.toastStyle,key:n++,...Object.fromEntries(Object.entries(m).filter(([D,L])=>L!=null)),toastId:y,updateId:S,data:T,isIn:!1,className:Q1(m.className||x.toastClassName),progressClassName:Q1(m.progressClassName||x.progressClassName),autoClose:m.isLoading?!1:YG(m.autoClose,x.autoClose),closeToast(D){s.get(y).removalReason=D,u(y)},deleteToast(){let D=s.get(y);if(D!=null){if(i(aE(D,"removed")),s.delete(y),d--,d<0&&(d=0),C.length>0){f(C.shift());return}c()}}};A.closeButton=x.closeButton,m.closeButton===!1||j1(m.closeButton)?A.closeButton=m.closeButton:m.closeButton===!0&&(A.closeButton=j1(x.closeButton)?x.closeButton:!0);let R={content:p,props:A,staleId:b};x.limit&&x.limit>0&&d>x.limit&&w?C.push(R):gf(P)?setTimeout(()=>{f(R)},P):f(R)},setProps(p){x=p},setToggle:(p,m)=>{let y=s.get(p);y&&(y.toggle=m)},isToastActive:p=>{var m;return(m=s.get(p))==null?void 0:m.isActive},getSnapshot:()=>r}}var As=new Map,Kd=[],q1=new Set,jG=e=>q1.forEach(t=>t(e)),O9=()=>As.size>0;function qG(){Kd.forEach(e=>L9(e.content,e.options)),Kd=[]}var _G=(e,{containerId:t})=>{var i;return(i=As.get(t||1))==null?void 0:i.toasts.get(e)};function D9(e,t){var i;if(t)return!!((i=As.get(t))!=null&&i.isToastActive(e));let n=!1;return As.forEach(d=>{d.isToastActive(e)&&(n=!0)}),n}function tN(e){if(!O9()){Kd=Kd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||HG(e))As.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=As.get(e.containerId);t?t.removeToast(e.id):As.forEach(i=>{i.removeToast(e.id)})}}var eN=(e={})=>{As.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function L9(e,t){j1(e)&&(O9()||Kd.push({content:e,options:t}),As.forEach(i=>{i.buildToast(e,t)}))}function iN(e){var t;(t=As.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function F9(e,t){As.forEach(i=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===i.id)&&i.toggle(e,t==null?void 0:t.id)})}function sN(e){let t=e.containerId||1;return{subscribe(i){let n=QG(t,e,jG);As.set(t,n);let d=n.observe(i);return qG(),()=>{d(),As.delete(t)}},setProps(i){var n;(n=As.get(t))==null||n.setProps(i)},getSnapshot(){var i;return(i=As.get(t))==null?void 0:i.getSnapshot()}}}function nN(e){return q1.add(e),()=>{q1.delete(e)}}function rN(e){return e&&(z0(e.toastId)||gf(e.toastId))?e.toastId:R9()}function mf(e,t){return L9(e,t),t.toastId}function o2(e,t){return{...t,type:t&&t.type||e,toastId:rN(t)}}function l2(e){return(t,i)=>mf(t,o2(e,i))}function Ce(e,t){return mf(e,o2("default",t))}Ce.loading=(e,t)=>mf(e,o2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function aN(e,{pending:t,error:i,success:n},d){let C;t&&(C=z0(t)?Ce.loading(t,d):Ce.loading(t.render,{...d,...t}));let r={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},x=(a,g,c)=>{if(g==null){Ce.dismiss(C);return}let h={type:a,...r,...d,data:c},l=z0(g)?{render:g}:g;return C?Ce.update(C,{...h,...l}):Ce(l.render,{...h,...l}),c},s=va(e)?e():e;return s.then(a=>x("success",n,a)).catch(a=>x("error",i,a)),s}Ce.promise=aN;Ce.success=l2("success");Ce.info=l2("info");Ce.error=l2("error");Ce.warning=l2("warning");Ce.warn=Ce.warning;Ce.dark=(e,t)=>mf(e,o2("default",{theme:"dark",...t}));function oN(e){tN(e)}Ce.dismiss=oN;Ce.clearWaitingQueue=eN;Ce.isActive=D9;Ce.update=(e,t={})=>{let i=_G(e,t);if(i){let{props:n,content:d}=i,C={delay:100,...n,...t,toastId:t.toastId||e,updateId:R9()};C.toastId!==e&&(C.staleId=e);let r=C.render||d;delete C.render,mf(r,C)}};Ce.done=e=>{Ce.update(e,{progress:1})};Ce.onChange=nN;Ce.play=e=>F9(!0,e);Ce.pause=e=>F9(!1,e);function lN(e){var t;let{subscribe:i,getSnapshot:n,setProps:d}=dt.useRef(sN(e)).current;d(e);let C=(t=dt.useSyncExternalStore(i,n,n))==null?void 0:t.slice();function r(x){if(!C)return[];let s=new Map;return e.newestOnTop&&C.reverse(),C.forEach(a=>{let{position:g}=a.props;s.has(g)||s.set(g,[]),s.get(g).push(a)}),Array.from(s,a=>x(a[0],a[1]))}return{getToastToRender:r,isToastActive:D9,count:C==null?void 0:C.length}}function hN(e){let[t,i]=dt.useState(!1),[n,d]=dt.useState(!1),C=dt.useRef(null),r=dt.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:x,pauseOnHover:s,closeToast:a,onClick:g,closeOnClick:c}=e;iN({id:e.toastId,containerId:e.containerId,fn:i}),dt.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{l()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||f(),window.addEventListener("focus",v),window.addEventListener("blur",f)}function l(){window.removeEventListener("focus",v),window.removeEventListener("blur",f)}function o(b){if(e.draggable===!0||e.draggable===b.pointerType){p();let P=C.current;r.canCloseOnClick=!0,r.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(r.start=b.clientX,r.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(r.start=b.clientY,r.removalDistance=P.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function u(b){let{top:P,bottom:w,left:A,right:R}=C.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&e.pauseOnHover&&b.clientX>=A&&b.clientX<=R&&b.clientY>=P&&b.clientY<=w?f():v()}function v(){i(!0)}function f(){i(!1)}function p(){r.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",S)}function m(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",S)}function y(b){let P=C.current;if(r.canDrag&&P){r.didMove=!0,t&&f(),e.draggableDirection==="x"?r.delta=b.clientX-r.start:r.delta=b.clientY-r.start,r.start!==b.clientX&&(r.canCloseOnClick=!1);let w=e.draggableDirection==="x"?`${r.delta}px, var(--y)`:`0, calc(${r.delta}px + var(--y))`;P.style.transform=`translate3d(${w},0)`,P.style.opacity=`${1-Math.abs(r.delta/r.removalDistance)}`}}function S(){m();let b=C.current;if(r.canDrag&&r.didMove&&b){if(r.canDrag=!1,Math.abs(r.delta)>r.removalDistance){d(!0),e.closeToast(!0),e.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}let T={onPointerDown:o,onPointerUp:u};return x&&s&&(T.onMouseEnter=f,e.stacked||(T.onMouseLeave=v)),c&&(T.onClick=b=>{g&&g(b),r.canCloseOnClick&&a(!0)}),{playToast:v,pauseToast:f,isRunning:t,preventExitTransition:n,toastRef:C,eventHandlers:T}}var uN=typeof window<"u"?dt.useLayoutEffect:dt.useEffect,h2=({theme:e,type:t,isLoading:i,...n})=>Ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function dN(e){return Ie.createElement(h2,{...e},Ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function fN(e){return Ie.createElement(h2,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function cN(e){return Ie.createElement(h2,{...e},Ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vN(e){return Ie.createElement(h2,{...e},Ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function pN(){return Ie.createElement("div",{className:"Toastify__spinner"})}var _1={info:fN,warning:dN,success:cN,error:vN,spinner:pN},gN=e=>e in _1;function mN({theme:e,type:t,isLoading:i,icon:n}){let d=null,C={theme:e,type:t};return n===!1||(va(n)?d=n({...C,isLoading:i}):dt.isValidElement(n)?d=dt.cloneElement(n,C):i?d=_1.spinner():gN(t)&&(d=_1[t](C))),d}var xN=e=>{let{isRunning:t,preventExitTransition:i,toastRef:n,eventHandlers:d,playToast:C}=hN(e),{closeButton:r,children:x,autoClose:s,onClick:a,type:g,hideProgressBar:c,closeToast:h,transition:l,position:o,className:u,style:v,progressClassName:f,updateId:p,role:m,progress:y,rtl:S,toastId:T,deleteToast:b,isIn:P,isLoading:w,closeOnClick:A,theme:R,ariaLabel:D}=e,L=k0("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":A}),k=va(u)?u({rtl:S,position:o,type:g,defaultClassName:L}):k0(L,u),B=mN(e),F=!!y||!s,G={closeToast:h,type:g,theme:R},N=null;return r===!1||(va(r)?N=r(G):dt.isValidElement(r)?N=dt.cloneElement(r,G):N=KG(G)),Ie.createElement(l,{isIn:P,done:b,position:o,preventExitTransition:i,nodeRef:n,playToast:C},Ie.createElement("div",{id:T,tabIndex:0,onClick:a,"data-in":P,className:k,...d,style:v,ref:n,...P&&{role:m,"aria-label":D}},B!=null&&Ie.createElement("div",{className:k0("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!w})},B),A9(x,e,!t),N,!e.customProgressBar&&Ie.createElement(ZG,{...p&&!F?{key:`p-${p}`}:{},rtl:S,theme:R,delay:s,isRunning:t,isIn:P,closeToast:h,hide:c,type:g,className:f,controlledProgress:F,progress:y||0})))},yN=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),SN=$G(yN("bounce",!0)),CN={position:"top-right",transition:SN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function TN(e){let t={...CN,...e},i=e.stacked,[n,d]=dt.useState(!0),C=dt.useRef(null),{getToastToRender:r,isToastActive:x,count:s}=lN(t),{className:a,style:g,rtl:c,containerId:h,hotKeys:l}=t;function o(v){let f=k0("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":c});return va(a)?a({position:v,rtl:c,defaultClassName:f}):k0(f,Q1(a))}function u(){i&&(d(!0),Ce.play())}return uN(()=>{var v;if(i){let f=C.current.querySelectorAll('[data-in="true"]'),p=12,m=(v=t.position)==null?void 0:v.includes("top"),y=0,S=0;Array.from(f).reverse().forEach((T,b)=>{let P=T;P.classList.add("Toastify__toast--stacked"),b>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=m?"top":"bot");let w=y*(n?.2:1)+(n?0:p*b);P.style.setProperty("--y",`${m?w:w*-1}px`),P.style.setProperty("--g",`${p}`),P.style.setProperty("--s",`${1-(n?S:0)}`),y+=P.offsetHeight,S+=.025})}},[n,s,i]),dt.useEffect(()=>{function v(f){var p;let m=C.current;l(f)&&((p=m.querySelector('[tabIndex="0"]'))==null||p.focus(),d(!1),Ce.pause()),f.key==="Escape"&&(document.activeElement===m||m!=null&&m.contains(document.activeElement))&&(d(!0),Ce.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[l]),Ie.createElement("section",{ref:C,className:"Toastify",id:h,onMouseEnter:()=>{i&&(d(!1),Ce.pause())},onMouseLeave:u,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},r((v,f)=>{let p=f.length?{...g}:{...g,pointerEvents:"none"};return Ie.createElement("div",{tabIndex:-1,className:o(v),"data-stacked":i,style:p,key:`c-${v}`},f.map(({content:m,props:y})=>Ie.createElement(xN,{...y,stacked:i,collapseAll:u,isIn:x(y.toastId,y.containerId),key:`t-${y.key}`},m)))}))}const B9=Xs.get("VITE_APP_API_URL"),I9=Number(Xs.get("VITE_APP_CACHE_TIME")||1),U4=ri.create({baseURL:B9,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0,xsrfHeaderName:"X-XSRF-TOKEN"});U4.interceptors.response.use(e=>(e.headers["Cache-Control"]=`max-age=${60*I9}`,e));U4.interceptors.request.use(e=>{const t=Y9();return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Zd=UG(U4,{ttl:Dt*60*I9,methods:["get"],generateKey:e=>e.url});Zd.interceptors.response.use(function(e){return e},async function(e){var t,i;if(ri.isAxiosError(e)&&e.response){const n=e.config;if(((t=e.response)==null?void 0:t.status)===401&&!n._retry){n._retry=!0;try{const C=(await ri.post(`${B9}/api/auth/refresh-token`,{accessToken:Y9()},{withCredentials:!0})).data.accessToken;return Ln.getState().setToken(C),n.headers.Authorization=`Bearer ${C}`,ri(n)}catch(d){const C="Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại để chơi online.";return Ce.error(C),Ln.getState().clearToken(),Promise.reject({...d,message:C})}}return e.response.status===403&&e.response.data.message==="revoked"&&(Ce.error("Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại để chơi online."),Ln.getState().clearToken()),Promise.reject(e.response.data||e.message)}return Promise.reject(((i=e.response)==null?void 0:i.data)||e.message)});const oE=e=>{let t;const i=new Set,n=(a,g)=>{const c=typeof a=="function"?a(t):a;if(!Object.is(c,t)){const h=t;t=g??(typeof c!="object"||c===null)?c:Object.assign({},t,c),i.forEach(l=>l(t,h))}},d=()=>t,x={setState:n,getState:d,getInitialState:()=>s,subscribe:a=>(i.add(a),()=>i.delete(a))},s=t=e(n,d,x);return x},bN=(e=>e?oE(e):oE),EN=e=>e;function wN(e,t=EN){const i=Ie.useSyncExternalStore(e.subscribe,Ie.useCallback(()=>t(e.getState()),[e,t]),Ie.useCallback(()=>t(e.getInitialState()),[e,t]));return Ie.useDebugValue(i),i}const lE=e=>{const t=bN(e),i=n=>wN(t,n);return Object.assign(i,t),i},Ir=(e=>e?lE(e):lE);function PN(e,t){let i;try{i=e()}catch{return}return{getItem:d=>{var C;const r=s=>s===null?null:JSON.parse(s,void 0),x=(C=i.getItem(d))!=null?C:null;return x instanceof Promise?x.then(r):r(x)},setItem:(d,C)=>i.setItem(d,JSON.stringify(C,void 0)),removeItem:d=>i.removeItem(d)}}const t4=e=>t=>{try{const i=e(t);return i instanceof Promise?i:{then(n){return t4(n)(i)},catch(n){return this}}}catch(i){return{then(n){return this},catch(n){return t4(n)(i)}}}},MN=(e,t)=>(i,n,d)=>{let C={storage:PN(()=>localStorage),partialize:u=>u,version:0,merge:(u,v)=>({...v,...u}),...t},r=!1;const x=new Set,s=new Set;let a=C.storage;if(!a)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${C.name}', the given storage is currently unavailable.`),i(...u)},n,d);const g=()=>{const u=C.partialize({...n()});return a.setItem(C.name,{state:u,version:C.version})},c=d.setState;d.setState=(u,v)=>(c(u,v),g());const h=e((...u)=>(i(...u),g()),n,d);d.getInitialState=()=>h;let l;const o=()=>{var u,v;if(!a)return;r=!1,x.forEach(p=>{var m;return p((m=n())!=null?m:h)});const f=((v=C.onRehydrateStorage)==null?void 0:v.call(C,(u=n())!=null?u:h))||void 0;return t4(a.getItem.bind(a))(C.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==C.version){if(C.migrate){const m=C.migrate(p.state,p.version);return m instanceof Promise?m.then(y=>[!0,y]):[!0,m]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var m;const[y,S]=p;if(l=C.merge(S,(m=n())!=null?m:h),i(l,!0),y)return g()}).then(()=>{f==null||f(l,void 0),l=n(),r=!0,s.forEach(p=>p(l))}).catch(p=>{f==null||f(void 0,p)})};return d.persist={setOptions:u=>{C={...C,...u},u.storage&&(a=u.storage)},clearStorage:()=>{a==null||a.removeItem(C.name)},getOptions:()=>C,rehydrate:()=>o(),hasHydrated:()=>r,onHydrate:u=>(x.add(u),()=>{x.delete(u)}),onFinishHydration:u=>(s.add(u),()=>{s.delete(u)})},C.skipHydration||o(),l||h},zo=MN,ee=Ir()(zo((e,t)=>({isNewbie:!0,setNewbieStatus:i=>{e({isNewbie:i})},isStarted:!1,gameKey:0,lastUpdate:Date.now(),setLastUpdate:i=>{e({lastUpdate:i})},setIsStarted:i=>{e({isStarted:i,isLoadingGame:!0}),e({gameKey:t().gameKey+1}),setTimeout(()=>{e({isLoadingGame:!1})},3*Dt)},isLoadingGame:!1,setIsLoadingGame:async i=>{e({isLoadingGame:i})},inventoryDummy:Xs.get("VITE_APP_ENV")==="dev"?[{id:"axe_001",name:"Rìu Gỗ",iconKey:"axe_wood",quantity:1,description:"Một chiếc rìu cơ bản để chặt cây nhỏ.",canShortcut:!0,type:"tool"},{id:"hoe_001",name:"Cuốc Đất Gỗ",iconKey:"hoe_wood",quantity:1,description:"Dụng cụ để cuốc đất chuẩn bị trồng trọt.",canShortcut:!0,type:"tool"},{id:"pickaxe_001",name:"Cuốc Đá Gỗ",iconKey:"pickaxe_wood",quantity:1,description:"Dùng để khai thác đá và quặng.",canShortcut:!0,type:"tool"},{id:"shovel_001",name:"Xẻng Gỗ",iconKey:"shovel_wood",quantity:1,description:"Dùng để xúc đất và đào hố.",canShortcut:!0,type:"tool"},{id:"sickle_001",name:"Lưỡi Liềm Gỗ",iconKey:"sickle_wood",quantity:1,description:"Dụng cụ thu hoạch cỏ hoặc lúa mì.",canShortcut:!0,type:"tool"},{id:"watering_001",name:"Bình Tưới Nước Gỗ",iconKey:"watering_can_wood",quantity:1,description:"Dùng để tưới nước cho cây trồng.",canShortcut:!0,type:"tool"},{id:"strawberry_001",name:"Hạt giống Dâu tây",iconKey:"strawberry",quantity:999,description:"Hạt giống dâu tây",canShortcut:!0,type:"seed"},{id:"onion_001",name:"Hạt giống hành tây",iconKey:"onion",quantity:999,description:"Hạt giống hành tây",canShortcut:!0,type:"seed"},{id:"potato_001",name:"Hạt giống Khoai tây",iconKey:"potato",quantity:999,description:"Hạt giống khoai tây",canShortcut:!0,type:"seed"},{id:"spring_onion_001",name:"Hạt giống Hành lá",iconKey:"spring_onion",quantity:999,description:"Hạt giống hành lá",canShortcut:!0,type:"seed"},{id:"carrot_001",name:"Hạt giống Cà rốt",iconKey:"carrot",quantity:999,description:"Hạt giống cà rốt",canShortcut:!0,type:"seed"},{id:"blueberry_001",name:"Hạt giống Việt quất",iconKey:"blueberry",quantity:999,description:"Hạt giống việt quất",canShortcut:!0,type:"seed"},{id:"parsnip_001",name:"Hạt giống Củ cải vàng",iconKey:"parsnip",quantity:999,description:"Hạt giống củ cải vàng",canShortcut:!0,type:"seed"},{id:"cabbage_001",name:"Hạt giống Bắp cải",iconKey:"cabbage",quantity:999,description:"Hạt giống bắp cải",canShortcut:!0,type:"seed"},{id:"broccoli_001",name:"Hạt giống bông cải xanh",iconKey:"broccoli",quantity:999,description:"Hạt giống bông cải xanh",canShortcut:!0,type:"seed"},{id:"rice_001",name:"Hạt giống Lúa",iconKey:"rice",quantity:999,description:"Hạt giống lúa",canShortcut:!0,type:"seed"},{id:"cauliflower_001",name:"Hạt giống Súp lơ",iconKey:"cauliflower",quantity:999,description:"Hạt giống súp lơ",canShortcut:!0,type:"seed"},{id:"tomato_001",name:"Hạt giống cà chua",iconKey:"tomato",quantity:999,description:"Hạt giống cà chua",canShortcut:!0,type:"seed-summer"},{id:"sunflower",name:"Hạt giống hoa hướng dương",iconKey:"sunflower",quantity:999,description:"Hạt giống hoa hướng dương",canShortcut:!0,type:"seed-summer"},{id:"hot-pepper",name:"Hạt giống ớt cay",iconKey:"hot-pepper",quantity:999,description:"Hạt giống ớt cay",canShortcut:!0,type:"seed-summer"},{id:"corn",name:"Hạt giống ngô",iconKey:"corn",quantity:999,description:"Hạt giống ngô",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-green",name:"Hạt giống ớt chuông xanh",iconKey:"bell-pepper-green",quantity:999,description:"Hạt giống ớt chuông xanh",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-red",name:"Hạt giống ớt chuông đỏ",iconKey:"bell-pepper-red",quantity:999,description:"Hạt giống ớt chuông đỏ",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-yellow",name:"Hạt giống ớt chuông vàng",iconKey:"bell-pepper-yellow",quantity:999,description:"Hạt giống ớt chuông vàng",canShortcut:!0,type:"seed-summer"},{id:"melon",name:"Hạt giống dưa gang",iconKey:"melon",quantity:999,description:"Hạt giống dưa gang",canShortcut:!0,type:"seed-summer"},{id:"watermelon",name:"Hạt giống dưa hấu",iconKey:"watermelon",quantity:999,description:"Hạt giống dưa hấu",canShortcut:!0,type:"seed-summer"},{id:"cucumber",name:"Hạt giống dưa chuột",iconKey:"cucumber",quantity:999,description:"Hạt giống dưa chuột",canShortcut:!0,type:"seed-summer"},{id:"eggplant",name:"Hạt giống cà tím",iconKey:"eggplant",quantity:999,description:"Hạt giống cà tím",canShortcut:!0,type:"seed-summer"},{id:"pineapple",name:"Hạt giống dứa",iconKey:"pineapple",quantity:999,description:"Hạt giống dứa",canShortcut:!0,type:"seed-summer"},{id:"green-beans",name:"Hạt giống đậu xanh",iconKey:"green-beans",quantity:999,description:"Hạt giống đậu xanh",canShortcut:!0,type:"seed-summer"},{id:"blackberry",name:"Hạt giống dâu đen",iconKey:"blackberry",quantity:999,description:"Hạt giống dâu đen",canShortcut:!0,type:"seed-summer"},{id:"wheat",name:"Hạt giống lúa mì",iconKey:"wheat",quantity:999,description:"Hạt giống lúa mì",canShortcut:!0,type:"seed-summer"},{id:"beetroot",name:"Hạt giống củ cải đường",iconKey:"beetroot",quantity:999,description:"Hạt giống củ cải đường",canShortcut:!0,type:"seed-fall"},{id:"pumpkin",name:"Hạt giống bí đỏ",iconKey:"pumpkin",quantity:999,description:"Hạt giống bí đỏ",canShortcut:!0,type:"seed-fall"},{id:"grapes",name:"Hạt giống nho",iconKey:"grapes",quantity:999,description:"Hạt giống nho",canShortcut:!0,type:"seed-fall"},{id:"bow_001",name:"Cung gỗ",iconKey:"bow_wood",quantity:1,description:"Cung gỗ sát thương thấp",canShortcut:!0,type:"weapon"},{id:"magic_001",name:"Gậy phép gỗ",iconKey:"magic_wood",quantity:1,description:"Gậy phép gỗ sát thương thấp",canShortcut:!0,type:"weapon"},{id:"arrow_001",name:"Mũi tên gỗ",iconKey:"arrow_wood",quantity:1,description:"Mũi tên gỗ sát thương thấp",canShortcut:!0,type:"weapon"},{id:"sword_001",name:"Kiếm gỗ",iconKey:"sword_wood",quantity:1,description:"Kiếm gỗ sát thương thấp",canShortcut:!0,type:"weapon"},{id:"fishing_rod_001",name:"Cần câu gỗ",iconKey:"fishing_rod_wood",quantity:1,description:"Cần câu gỗ câu cá nhỏ",canShortcut:!0,type:"tool"}]:[],storeDummy:Xs.get("VITE_APP_ENV")==="dev"?[{id:"axe_001",name:"Rìu Gỗ",iconKey:"axe_wood",quantity:1,description:"Một chiếc rìu cơ bản để chặt cây nhỏ.",canShortcut:!0,type:"tool"},{id:"hoe_001",name:"Cuốc Đất Gỗ",iconKey:"hoe_wood",quantity:1,description:"Dụng cụ để cuốc đất chuẩn bị trồng trọt.",canShortcut:!0,type:"tool"},{id:"pickaxe_001",name:"Cuốc Đá Gỗ",iconKey:"pickaxe_wood",quantity:1,description:"Dùng để khai thác đá và quặng.",canShortcut:!0,type:"tool"},{id:"shovel_001",name:"Xẻng Gỗ",iconKey:"shovel_wood",quantity:1,description:"Dùng để xúc đất và đào hố.",canShortcut:!0,type:"tool"},{id:"sickle_001",name:"Lưỡi Liềm Gỗ",iconKey:"sickle_wood",quantity:1,description:"Dụng cụ thu hoạch cỏ hoặc lúa mì.",canShortcut:!0,type:"tool"},{id:"watering_001",name:"Bình Tưới Nước Gỗ",iconKey:"watering_can_wood",quantity:1,description:"Dùng để tưới nước cho cây trồng.",canShortcut:!0,type:"tool"},{id:"strawberry_001",name:"Hạt giống Dâu tây",iconKey:"strawberry",quantity:999,description:"Hạt giống dâu tây",canShortcut:!0,type:"seed"},{id:"onion_001",name:"Hạt giống hành tây",iconKey:"onion",quantity:999,description:"Hạt giống hành tây",canShortcut:!0,type:"seed"},{id:"potato_001",name:"Hạt giống Khoai tây",iconKey:"potato",quantity:999,description:"Hạt giống khoai tây",canShortcut:!0,type:"seed"},{id:"spring_onion_001",name:"Hạt giống Hành lá",iconKey:"spring_onion",quantity:999,description:"Hạt giống hành lá",canShortcut:!0,type:"seed"},{id:"carrot_001",name:"Hạt giống Cà rốt",iconKey:"carrot",quantity:999,description:"Hạt giống cà rốt",canShortcut:!0,type:"seed"},{id:"blueberry_001",name:"Hạt giống Việt quất",iconKey:"blueberry",quantity:999,description:"Hạt giống việt quất",canShortcut:!0,type:"seed"},{id:"parsnip_001",name:"Hạt giống Củ cải vàng",iconKey:"parsnip",quantity:999,description:"Hạt giống củ cải vàng",canShortcut:!0,type:"seed"},{id:"cabbage_001",name:"Hạt giống Bắp cải",iconKey:"cabbage",quantity:999,description:"Hạt giống bắp cải",canShortcut:!0,type:"seed"},{id:"broccoli_001",name:"Hạt giống bông cải xanh",iconKey:"broccoli",quantity:999,description:"Hạt giống bông cải xanh",canShortcut:!0,type:"seed"},{id:"rice_001",name:"Hạt giống Lúa mì",iconKey:"rice",quantity:999,description:"Hạt giống lúa mì",canShortcut:!0,type:"seed"},{id:"cauliflower_001",name:"Hạt giống Súp lơ",iconKey:"cauliflower",quantity:999,description:"Hạt giống súp lơ",canShortcut:!0,type:"seed"},{id:"cow_black_male_001",name:"Vật nuôi bò đen (Đực)",iconKey:"cow_black_male",quantity:999,description:"Vật nuôi bò đen (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_black_female_001",name:"Vật nuôi bò đen (Cái)",iconKey:"cow_black_female",quantity:999,description:"Vật nuôi bò đen (Cái)",canShortcut:!1,type:"farm-animal"},{id:"cow_pink_male_001",name:"Vật nuôi bò hồng (Đực)",iconKey:"cow_pink_male",quantity:999,description:"Vật nuôi bò hồng (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_pink_female_001",name:"Vật nuôi bò hồng (Cái)",iconKey:"cow_pink_female",quantity:999,description:"Vật nuôi bò hồng (Cái)",canShortcut:!1,type:"farm-animal"},{id:"cow_brown_male_001",name:"Vật nuôi bò nâu (Đực)",iconKey:"cow_brown_male",quantity:999,description:"Vật nuôi bò nâu (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_brown_female_001",name:"Vật nuôi bò nâu (Cái)",iconKey:"cow_brown_female",quantity:999,description:"Vật nuôi bò nâu (Cái)",canShortcut:!1,type:"farm-animal"},{id:"cow_blonde_male_001",name:"Vật nuôi bò vàng (Đực)",iconKey:"cow_blonde_male",quantity:999,description:"Vật nuôi bò vàng (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_blonde_female_001",name:"Vật nuôi bò vàng (Cái)",iconKey:"cow_blonde_female",quantity:999,description:"Vật nuôi bò vàng (Cái)",canShortcut:!1,type:"farm-animal"},{id:"cow_hl_black_male_001",name:"Vật nuôi bò đen hiếm (Đực)",iconKey:"cow_highlighter-black_male",quantity:999,description:"Vật nuôi bò đen hiếm (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_hl_black_female_001",name:"Vật nuôi bò đen hiếm (Cái)",iconKey:"cow_highlighter-black_female",quantity:999,description:"Vật nuôi bò đen hiếm (Cái)",canShortcut:!1,type:"farm-animal"},{id:"cow_hl_brown_male_001",name:"Vật nuôi bò nâu hiếm (Đực)",iconKey:"cow_highlighter-brown_male",quantity:999,description:"Vật nuôi bò nâu hiếm (Đực)",canShortcut:!1,type:"farm-animal"},{id:"cow_hl_brown_female_001",name:"Vật nuôi bò nâu hiếm (Cái)",iconKey:"cow_highlighter-brown_female",quantity:999,description:"Vật nuôi bò nâu hiếm (Cái)",canShortcut:!1,type:"farm-animal"},{id:"duck_white_male_001",name:"Vật nuôi vịt trắng (Đực)",iconKey:"duck_white_male",quantity:999,description:"Vật nuôi vịt trắng (Đực)",canShortcut:!1,type:"farm-animal"},{id:"duck_white_female_001",name:"Vật nuôi vịt trắng (Cái)",iconKey:"duck_white_female",quantity:999,description:"Vật nuôi vịt trắng (Cái)",canShortcut:!1,type:"farm-animal"},{id:"duck_full-black_001",name:"Vật nuôi vịt đen",iconKey:"duck_black_male",quantity:999,description:"Vật nuôi vịt đen",canShortcut:!1,type:"farm-animal"},{id:"duck_full-yellow_001",name:"Vật nuôi vịt vàng",iconKey:"duck_yellow_male",quantity:999,description:"Vật nuôi vịt vàng",canShortcut:!1,type:"farm-animal"},{id:"duck_mallad-2_001",name:"Vật nuôi vịt mallad 2",iconKey:"duck_mallad-2_male",quantity:999,description:"Vật nuôi vịt mallad 2",canShortcut:!1,type:"farm-animal"},{id:"duck_mallad_male_001",name:"Vật nuôi vịt mallad (Đực)",iconKey:"duck_mallad_male",quantity:999,description:"Vật nuôi vịt mallad (Đực)",canShortcut:!1,type:"farm-animal"},{id:"duck_mallad_female_001",name:"Vật nuôi vịt mallad (Cái)",iconKey:"duck_mallad_female",quantity:999,description:"Vật nuôi vịt mallad (Cái)",canShortcut:!1,type:"farm-animal"},{id:"goat_black_male_001",name:"Vật nuôi dê đen (Đực)",iconKey:"goat_black_male",quantity:999,description:"Vật nuôi dê đen (Đực)",canShortcut:!1,type:"farm-animal"},{id:"goat_black_female_001",name:"Vật nuôi dê đen (Cái)",iconKey:"goat_black_female",quantity:999,description:"Vật nuôi dê đen (Cái)",canShortcut:!1,type:"farm-animal"},{id:"goat_blonde_male_001",name:"Vật nuôi dê vàng (Đực)",iconKey:"goat_blonde_male",quantity:999,description:"Vật nuôi dê vàng (Đực)",canShortcut:!1,type:"farm-animal"},{id:"goat_blonde_female_001",name:"Vật nuôi dê vàng (Cái)",iconKey:"goat_blonde_female",quantity:999,description:"Vật nuôi dê vàng (Cái)",canShortcut:!1,type:"farm-animal"},{id:"goat_pink_male_001",name:"Vật nuôi dê hồng (Đực)",iconKey:"goat_pink_male",quantity:999,description:"Vật nuôi dê hồng (Đực)",canShortcut:!1,type:"farm-animal"},{id:"goat_pink_female_001",name:"Vật nuôi dê hồng (Cái)",iconKey:"goat_pink_female",quantity:999,description:"Vật nuôi dê hồng (Cái)",canShortcut:!1,type:"farm-animal"},{id:"goat_brown_male_001",name:"Vật nuôi dê nâu (Đực)",iconKey:"goat_brown_male",quantity:999,description:"Vật nuôi dê nâu (Đực)",canShortcut:!1,type:"farm-animal"},{id:"goat_brown_female_001",name:"Vật nuôi dê nâu (Cái)",iconKey:"goat_brown_female",quantity:999,description:"Vật nuôi dê nâu (Cái)",canShortcut:!1,type:"farm-animal"},{id:"chicken_black-white_male_001",name:"Vật nuôi gà đen trắng",iconKey:"chicken_black-white_male",quantity:999,description:"Vật nuôi gà đen trắng",canShortcut:!1,type:"farm-animal"},{id:"chicken_black_male_001",name:"Vật nuôi gà đen",iconKey:"chicken_black_male",quantity:999,description:"Vật nuôi gà đen",canShortcut:!1,type:"farm-animal"},{id:"chicken_blonde-green_male_001",name:"Vật nuôi gà vàng xanh",iconKey:"chicken_blonde-green_male",quantity:999,description:"Vật nuôi gà vàng xanh",canShortcut:!1,type:"farm-animal"},{id:"chicken_blonde_male_001",name:"Vật nuôi gà vàng",iconKey:"chicken_blonde_male",quantity:999,description:"Vật nuôi gà vàng",canShortcut:!1,type:"farm-animal"},{id:"chicken_brown-black_male_001",name:"Vật nuôi gà nâu đen",iconKey:"chicken_brown-black_male",quantity:999,description:"Vật nuôi gà nâu đen",canShortcut:!1,type:"farm-animal"},{id:"chicken_brown-white_male_001",name:"Vật nuôi gà nâu trắng",iconKey:"chicken_brown-white_male",quantity:999,description:"Vật nuôi gà nâu trắng",canShortcut:!1,type:"farm-animal"},{id:"chicken_evil_male_001",name:"Vật nuôi gà evil",iconKey:"chicken_evil_male",quantity:999,description:"Vật nuôi gà evil",canShortcut:!1,type:"farm-animal"},{id:"chicken_full_male_001",name:"Vật nuôi gà đỏ",iconKey:"chicken_full_male",quantity:999,description:"Vật nuôi gà đỏ",canShortcut:!1,type:"farm-animal"},{id:"chicken_green_male_001",name:"Vật nuôi gà xanh lá",iconKey:"chicken_green_male",quantity:999,description:"Vật nuôi gà xanh lá",canShortcut:!1,type:"farm-animal"},{id:"chicken_pink_male_001",name:"Vật nuôi gà hồng",iconKey:"chicken_pink_male",quantity:999,description:"Vật nuôi gà hồng",canShortcut:!1,type:"farm-animal"},{id:"chicken_red_male_001",name:"Vật nuôi gà đỏ xanh",iconKey:"chicken_red_male",quantity:999,description:"Vật nuôi gà đỏ xanh",canShortcut:!1,type:"farm-animal"},{id:"chicken_universe_male_001",name:"Vật nuôi gà universe",iconKey:"chicken_universe_male",quantity:999,description:"Vật nuôi gà universe",canShortcut:!1,type:"farm-animal"},{id:"chicken_white_male_001",name:"Vật nuôi gà trắng",iconKey:"chicken_white_male",quantity:999,description:"Vật nuôi gà trắng",canShortcut:!1,type:"farm-animal"},{id:"horse_1_male_001",name:"Vật nuôi ngựa 1",iconKey:"horse_1_male",quantity:999,description:"Vật nuôi ngựa 1",canShortcut:!1,type:"farm-animal"},{id:"horse_2_male_001",name:"Vật nuôi ngựa 2",iconKey:"horse_2_male",quantity:999,description:"Vật nuôi ngựa 2",canShortcut:!1,type:"farm-animal"},{id:"horse_3_male_001",name:"Vật nuôi ngựa 3",iconKey:"horse_3_male",quantity:999,description:"Vật nuôi ngựa 3",canShortcut:!1,type:"farm-animal"},{id:"ostrich_black_male_001",name:"Vật nuôi đà điểu đen",iconKey:"ostrich_black_male",quantity:999,description:"Vật nuôi đà điểu đen",canShortcut:!1,type:"farm-animal"},{id:"ostrich_blue_male_001",name:"Vật nuôi đà điểu xanh",iconKey:"ostrich_blue_male",quantity:999,description:"Vật nuôi đà điểu xanh",canShortcut:!1,type:"farm-animal"},{id:"ostrich_brown_male_001",name:"Vật nuôi đà điểu nâu",iconKey:"ostrich_brown_male",quantity:999,description:"Vật nuôi đà điểu nâu",canShortcut:!1,type:"farm-animal"},{id:"sheep_1_male_001",name:"Vật nuôi cừu 1 (Đực)",iconKey:"sheep_1_male",quantity:999,description:"Vật nuôi cừu 1 (Đực)",canShortcut:!1,type:"farm-animal"},{id:"sheep_1_female_001",name:"Vật nuôi cừu 1 (Cái)",iconKey:"sheep_1_female",quantity:999,description:"Vật nuôi cừu 1 (Cái)",canShortcut:!1,type:"farm-animal"},{id:"sheep_2_male_001",name:"Vật nuôi cừu 2 (Đực)",iconKey:"sheep_2_male",quantity:999,description:"Vật nuôi cừu 2 (Đực)",canShortcut:!1,type:"farm-animal"},{id:"sheep_2_female_001",name:"Vật nuôi cừu 2 (Cái)",iconKey:"sheep_2_female",quantity:999,description:"Vật nuôi cừu 2 (Cái)",canShortcut:!1,type:"farm-animal"},{id:"pig_mud-pink_male_001",name:"Vật nuôi lợn bùn hồng",iconKey:"pig_mud-pink_male",quantity:999,description:"Vật nuôi lợn bùn hồng",canShortcut:!1,type:"farm-animal"},{id:"pig_pink_male_001",name:"Vật nuôi lợn hồng",iconKey:"pig_pink_male",quantity:999,description:"Vật nuôi lợn hồng",canShortcut:!1,type:"farm-animal"},{id:"tomato_001",name:"Hạt giống cà chua",iconKey:"tomato",quantity:999,description:"Hạt giống cà chua",canShortcut:!0,type:"seed-summer"},{id:"sunflower",name:"Hạt giống hoa hướng dương",iconKey:"sunflower",quantity:999,description:"Hạt giống hoa hướng dương",canShortcut:!0,type:"seed-summer"},{id:"hot-pepper",name:"Hạt giống ớt cay",iconKey:"hot-pepper",quantity:999,description:"Hạt giống ớt cay",canShortcut:!0,type:"seed-summer"},{id:"corn",name:"Hạt giống ngô",iconKey:"corn",quantity:999,description:"Hạt giống ngô",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-green",name:"Hạt giống ớt chuông xanh",iconKey:"bell-pepper-green",quantity:999,description:"Hạt giống ớt chuông xanh",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-red",name:"Hạt giống ớt chuông đỏ",iconKey:"bell-pepper-red",quantity:999,description:"Hạt giống ớt chuông đỏ",canShortcut:!0,type:"seed-summer"},{id:"bell-pepper-yellow",name:"Hạt giống ớt chuông vàng",iconKey:"bell-pepper-yellow",quantity:999,description:"Hạt giống ớt chuông vàng",canShortcut:!0,type:"seed-summer"},{id:"melon",name:"Hạt giống dưa gang",iconKey:"melon",quantity:999,description:"Hạt giống dưa gang",canShortcut:!0,type:"seed-summer"},{id:"watermelon",name:"Hạt giống dưa hấu",iconKey:"watermelon",quantity:999,description:"Hạt giống dưa hấu",canShortcut:!0,type:"seed-summer"},{id:"cucumber",name:"Hạt giống dưa chuột",iconKey:"cucumber",quantity:999,description:"Hạt giống dưa chuột",canShortcut:!0,type:"seed-summer"},{id:"eggplant",name:"Hạt giống cà tím",iconKey:"eggplant",quantity:999,description:"Hạt giống cà tím",canShortcut:!0,type:"seed-summer"},{id:"pineapple",name:"Hạt giống dứa",iconKey:"pineapple",quantity:999,description:"Hạt giống dứa",canShortcut:!0,type:"seed-summer"},{id:"green-beans",name:"Hạt giống đậu xanh",iconKey:"green-beans",quantity:999,description:"Hạt giống đậu xanh",canShortcut:!0,type:"seed-summer"},{id:"blackberry",name:"Hạt giống dâu đen",iconKey:"blackberry",quantity:999,description:"Hạt giống dâu đen",canShortcut:!0,type:"seed-summer"},{id:"wheat",name:"Hạt giống lúa mì",iconKey:"wheat",quantity:999,description:"Hạt giống lúa mì",canShortcut:!0,type:"seed-summer"},{id:"beetroot",name:"Hạt giống củ cải đường",iconKey:"beetroot",quantity:999,description:"Hạt giống củ cải đường",canShortcut:!0,type:"seed-fall"},{id:"pumpkin",name:"Hạt giống bí đỏ",iconKey:"pumpkin",quantity:999,description:"Hạt giống bí đỏ",canShortcut:!0,type:"seed-fall"},{id:"grapes",name:"Hạt giống nho",iconKey:"grapes",quantity:999,description:"Hạt giống nho",canShortcut:!0,type:"seed-fall"}]:[{id:_e(),iconKey:"watering_can_wood",name:"Bình tưới nước bằng gỗ",quantity:1,canShortcut:!0,description:"Bình tưới nước bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1},{id:_e(),iconKey:"hoe_wood",name:"Cuốc bằng gỗ",quantity:1,canShortcut:!0,description:"Cuốc bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1},{id:_e(),iconKey:"sickle_wood",name:"Liềm bằng gỗ",quantity:1,canShortcut:!0,description:"Liềm bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1},{id:_e(),name:"Hạt giống Dâu tây",iconKey:"strawberry",quantity:999,description:"Hạt giống dâu tây",canShortcut:!0,type:"seed",price:80,sellPrice:60,quality:"normal",levelRequired:6},{id:_e(),name:"Hạt giống hành tây",iconKey:"onion",quantity:999,description:"Hạt giống hành tây",canShortcut:!0,type:"seed",price:50,sellPrice:35,quality:"normal",levelRequired:2},{id:_e(),name:"Hạt giống Khoai tây",iconKey:"potato",quantity:999,description:"Hạt giống khoai tây",canShortcut:!0,type:"seed",price:60,sellPrice:45,quality:"normal",levelRequired:3},{id:_e(),name:"Hạt giống Hành lá",iconKey:"spring_onion",quantity:999,description:"Hạt giống hành lá",canShortcut:!0,type:"seed",price:40,sellPrice:28,quality:"normal",levelRequired:1},{id:_e(),name:"Hạt giống Cà rốt",iconKey:"carrot",quantity:999,description:"Hạt giống cà rốt",canShortcut:!0,type:"seed",price:50,sellPrice:35,quality:"normal",levelRequired:2},{id:_e(),name:"Hạt giống Việt quất",iconKey:"blueberry",quantity:999,description:"Hạt giống việt quất",canShortcut:!0,type:"seed",price:90,sellPrice:65,quality:"normal",levelRequired:8},{id:_e(),name:"Hạt giống Củ cải vàng",iconKey:"parsnip",quantity:999,description:"Hạt giống củ cải vàng",canShortcut:!0,type:"seed",price:55,sellPrice:40,quality:"normal",levelRequired:4},{id:_e(),name:"Hạt giống Bắp cải",iconKey:"cabbage",quantity:999,description:"Hạt giống bắp cải",canShortcut:!0,type:"seed",price:70,sellPrice:50,quality:"normal",levelRequired:5},{id:_e(),name:"Hạt giống bông cải xanh",iconKey:"broccoli",quantity:999,description:"Hạt giống bông cải xanh",canShortcut:!0,type:"seed",price:85,sellPrice:60,quality:"normal",levelRequired:7},{id:_e(),name:"Hạt giống Lúa",iconKey:"rice",quantity:999,description:"Hạt giống lúa",canShortcut:!0,type:"seed",price:45,sellPrice:32,quality:"normal",levelRequired:1},{id:_e(),name:"Hạt giống Súp lơ",iconKey:"cauliflower",quantity:999,description:"Hạt giống súp lơ",canShortcut:!0,type:"seed",price:75,sellPrice:55,quality:"normal",levelRequired:5},{id:_e(),name:"Vật nuôi gà vàng",iconKey:"chicken_blonde_male",quantity:999,description:"Vật nuôi gà vàng",canShortcut:!1,type:"farm-animal",price:5e3,sellPrice:3500,levelRequired:10,quality:"normal"},{id:_e(),name:"Vật nuôi gà trắng",iconKey:"chicken_white_male",quantity:999,description:"Vật nuôi gà trắng",canShortcut:!1,type:"farm-animal",price:5e3,sellPrice:3500,levelRequired:10,quality:"normal"},{id:_e(),name:"Vật nuôi bò đen (Đực)",iconKey:"cow_black_male",quantity:999,description:"Vật nuôi bò đen (Đực)",canShortcut:!1,type:"farm-animal",price:25e3,sellPrice:18e3,levelRequired:20,quality:"normal"},{id:_e(),name:"Vật nuôi bò đen (Cái)",iconKey:"cow_black_female",quantity:999,description:"Vật nuôi bò đen (Cái)",canShortcut:!1,type:"farm-animal",price:25e3,sellPrice:18e3,levelRequired:20,quality:"normal"}],hudSlotsDummy:Xs.get("VITE_APP_ENV")==="dev"?[{id:"axe_001",name:"Rìu Gỗ",iconKey:"axe_wood",quantity:1,description:"Một chiếc rìu cơ bản để chặt cây nhỏ.",canShortcut:!0,type:"tool"},{id:"hoe_001",name:"Cuốc Đất Gỗ",iconKey:"hoe_wood",quantity:1,description:"Dụng cụ để cuốc đất chuẩn bị trồng trọt.",canShortcut:!0,type:"tool"},{id:"pickaxe_001",name:"Cuốc Đá Gỗ",iconKey:"pickaxe_wood",quantity:1,description:"Dùng để khai thác đá và quặng.",canShortcut:!0,type:"tool"},{id:"shovel_001",name:"Xẻng Gỗ",iconKey:"shovel_wood",quantity:1,description:"Dùng để xúc đất và đào hố.",canShortcut:!0,type:"tool"},{id:"sickle_001",name:"Lưỡi Liềm Gỗ",iconKey:"sickle_wood",quantity:1,description:"Dụng cụ thu hoạch cỏ hoặc lúa mì.",canShortcut:!0,type:"tool"},{id:"watering_001",name:"Bình Tưới Nước Gỗ",iconKey:"watering_can_wood",quantity:1,description:"Dùng để tưới nước cho cây trồng.",canShortcut:!0,type:"tool"},{id:"strawberry_001",name:"Hạt giống Dâu tây",iconKey:"strawberry",quantity:999,description:"Hạt giống dâu tây",canShortcut:!0,type:"seed"},{id:"sword_001",name:"Kiếm gỗ",iconKey:"sword_wood",quantity:1,description:"Kiếm gỗ sát thương thấp",canShortcut:!0,type:"weapon"}]:[],inventoryItems:[],setInventoryItems(i){e({inventoryItems:i})},addInventoryItem:i=>{e(n=>{const d=n.inventoryItems.find(C=>C.iconKey===i.iconKey&&C.quality===i.quality);return d?{inventoryItems:n.inventoryItems.map(C=>C===d?{...C,quantity:C.quantity+i.quantity}:C)}:{inventoryItems:[...n.inventoryItems,i]}})},decreaseInventoryItem:(i,n,d)=>{e(C=>({inventoryItems:C.inventoryItems.map(x=>{if(x.iconKey===i&&x.quality===d){const s=x.quantity-n;return s>0?{...x,quantity:s}:null}return x}).filter(x=>x!==null)}))},increaseInventoryItem:(i,n,d)=>{e(C=>{const r=C.inventoryItems.findIndex(s=>s.iconKey===i&&s.quality===d);let x;return r!==-1?x=C.inventoryItems.map((s,a)=>a===r?{...s,quantity:s.quantity+n}:s):x=[...C.inventoryItems],{inventoryItems:x}})},shortcutItems:[],setShortcutItems(i){e({shortcutItems:i})},addItemToShortcut:i=>{e(n=>{if(n.shortcutItems.length>=8)return{shortcutItems:[...n.shortcutItems]};if(!n.inventoryItems.find(r=>r.iconKey===i.iconKey&&r.quality===i.quality))return n;const C=n.shortcutItems.find(r=>r.iconKey===i.iconKey&&r.quality===i.quality);return C?{shortcutItems:n.shortcutItems.map(r=>r===C?{...r,quantity:r.quantity+i.quantity}:r)}:{shortcutItems:[...n.shortcutItems,i]}})},decreaseShortcutItem:(i,n,d)=>{e(C=>({shortcutItems:C.shortcutItems.map(x=>{if(x.iconKey===i&&x.quality===d){const s=x.quantity-n;return s>0?{...x,quantity:s}:null}return x}).filter(x=>x!==null)}))},increaseShortcutItem:(i,n,d)=>{e(C=>{const r=C.shortcutItems.findIndex(s=>s.iconKey===i&&s.quality===d);let x;return r!==-1?x=C.shortcutItems.map((s,a)=>a===r?{...s,quantity:s.quantity+n}:s):x=[...C.shortcutItems],{shortcutItems:x}})},removeItemFromShortcut:i=>{e(n=>({shortcutItems:n.shortcutItems.filter(d=>!(d.iconKey===i.iconKey&&d.quality===i.quality))}))},removeItemFromInventory:i=>{e(n=>({inventoryItems:n.inventoryItems.filter(d=>!(d.iconKey===i.iconKey&&d.quality===i.quality))}))},version:1,setVersion:i=>{e({version:i})}}),{name:Bh,storage:PI,partialize:e=>({inventoryItems:e.inventoryItems,shortcutItems:e.shortcutItems,storeDummy:e.storeDummy,isNewbie:e.isNewbie,version:e.version,lastUpdate:e.lastUpdate})})),Ln=Ir()(zo((e,t)=>({token:null,provider:"local",setToken(i){e({token:i})},deviceId:_z(),setDeviceId:i=>e({deviceId:i}),loginOffline:async()=>{ee.getState().setIsStarted(!0)},loginGoogle:async i=>{try{ee.getState().setIsLoadingGame(!0);const n=await Zd.post("/api/google/login",{...i,deviceId:t().deviceId},{withCredentials:!0});e({token:n.data.accessToken,provider:"google"}),Tt.debug("Đăng nhập thành công")}catch(n){Tt.debug("Đăng nhập thất bại",n)}finally{ee.getState().setIsLoadingGame(!1)}},logout:()=>{ee.getState().setIsStarted(!1),e({token:null,provider:"local"}),setTimeout(()=>{window.location.reload()},1e3)},clearToken:()=>{e({token:null})}}),{name:Vh,storage:$I,partialize:e=>({token:e.token,provider:e.provider,deviceId:e.deviceId})}));var R0=(e=>(e.AXE="axe",e.HOE="hoe",e.PICKAXE="pickaxe",e.SHOVEL="shovel",e.SICKLE="sickle",e.WATERING_CAN="watering_can",e.BOW="bow",e.SWORD="sword",e.FISHING_ROD="fishing_rod",e.MAGIC="magic",e.ARROW="arrow",e))(R0||{}),Ms=(e=>(e.Empty="empty",e.Tilled="tilled",e.Watered="watered",e.Planted="planted",e))(Ms||{});const AN={chicken:{toBaby:480*60*Dt,toAdult:960*60*Dt},cow:{toBaby:600*60*Dt,toAdult:1200*60*Dt},duck:{toBaby:540*60*Dt,toAdult:1080*60*Dt},goat:{toBaby:660*60*Dt,toAdult:1320*60*Dt},horse:{toBaby:720*60*Dt,toAdult:1440*60*Dt},ostrich:{toBaby:720*60*Dt,toAdult:1440*60*Dt},pig:{toBaby:600*60*Dt,toAdult:1200*60*Dt},sheep:{toBaby:540*60*Dt,toAdult:1080*60*Dt}};var X4=(e=>(e.Cat="Cat",e.Dog="Dog",e))(X4||{}),ps=(e=>(e.Walk="Walk",e.Sit="Sit",e.Run="Run",e.Eat="Eat",e.Sleep="Sleep",e.LickPaw="LickPaw",e.InsideBox="InsideBox",e.GetPetted="GetPetted",e.TakeBath="TakeBath",e))(ps||{});const RN=["logging","mining","farming","breeding","fishing"],ON={logging:"Đốn củi",mining:"Khai thác",farming:"Trồng trọt",breeding:"Chăn nuôi",fishing:"Câu cá"},pi=["alex","josh","lyria","manu","tori"];class DN extends Error{}DN.prototype.name="InvalidTokenError";const ut=16,Un={GROUND:"Ground",DETAILS:"Details",DECORATIONS:"Decorations",TREES:"Trees",ENVIRONMENTS:"Environments",OBSTACLES:"Obstacles",COLLISIONS:"Collision Areas"},Ut={FARM_CROP:3,FARM_ANIMAL:9,PLAYER:10,TREES:11,ENVIRONMENTS:12,OBSTACLES:13,POPUP:1e3,POPUP_SHOP:300,PRIORITY:1,INVENTORY:1,CURSOR:2e3,CLOUD:2001,RAIN:2002,PETS:9,TOAST:9999,DIALOGUE:9999},Us={WIDTH:1920,HEIGHT:1080},Bt=2,k9=3,G9=2,hE=3,uE=3,dE=1,fE=1;var LN="0123456789abcdefghijklmnopqrstuvwxyz";function aa(e){return LN.charAt(e)}function FN(e,t){return e&t}function u3(e,t){return e|t}function cE(e,t){return e^t}function vE(e,t){return e&~t}function BN(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}function IN(e){for(var t=0;e!=0;)e&=e-1,++t;return t}var Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N9="=";function zd(e){var t,i,n="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),n+=Ah.charAt(i>>6)+Ah.charAt(i&63);for(t+1==e.length?(i=parseInt(e.substring(t,t+1),16),n+=Ah.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),n+=Ah.charAt(i>>2)+Ah.charAt((i&3)<<4));(n.length&3)>0;)n+=N9;return n}function pE(e){var t="",i,n=0,d=0;for(i=0;i<e.length&&e.charAt(i)!=N9;++i){var C=Ah.indexOf(e.charAt(i));C<0||(n==0?(t+=aa(C>>2),d=C&3,n=1):n==1?(t+=aa(d<<2|C>>4),d=C&15,n=2):n==2?(t+=aa(d),t+=aa(C>>2),d=C&3,n=3):(t+=aa(d<<2|C>>4),t+=aa(C&15),n=0))}return n==1&&(t+=aa(d<<2)),t}var $l,kN={decode:function(e){var t;if($l===void 0){var i="0123456789ABCDEF",n=` \f
\r	 \u2028\u2029`;for($l={},t=0;t<16;++t)$l[i.charAt(t)]=t;for(i=i.toLowerCase(),t=10;t<16;++t)$l[i.charAt(t)]=t;for(t=0;t<n.length;++t)$l[n.charAt(t)]=-1}var d=[],C=0,r=0;for(t=0;t<e.length;++t){var x=e.charAt(t);if(x=="=")break;if(x=$l[x],x!=-1){if(x===void 0)throw new Error("Illegal character at offset "+t);C|=x,++r>=2?(d[d.length]=C,C=0,r=0):C<<=4}}if(r)throw new Error("Hex encoding incomplete: 4 bits missing");return d}},u0,e4={decode:function(e){var t;if(u0===void 0){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=`= \f
\r	 \u2028\u2029`;for(u0=Object.create(null),t=0;t<64;++t)u0[i.charAt(t)]=t;for(u0["-"]=62,u0._=63,t=0;t<n.length;++t)u0[n.charAt(t)]=-1}var d=[],C=0,r=0;for(t=0;t<e.length;++t){var x=e.charAt(t);if(x=="=")break;if(x=u0[x],x!=-1){if(x===void 0)throw new Error("Illegal character at offset "+t);C|=x,++r>=4?(d[d.length]=C>>16,d[d.length]=C>>8&255,d[d.length]=C&255,C=0,r=0):C<<=6}}switch(r){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:d[d.length]=C>>10;break;case 3:d[d.length]=C>>16,d[d.length]=C>>8&255;break}return d},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=e4.re.exec(e);if(t)if(t[1])e=t[1];else if(t[2])e=t[2];else throw new Error("RegExp out of sync");return e4.decode(e)}},Kl=1e13,kd=(function(){function e(t){this.buf=[+t||0]}return e.prototype.mulAdd=function(t,i){var n=this.buf,d=n.length,C,r;for(C=0;C<d;++C)r=n[C]*t+i,r<Kl?i=0:(i=0|r/Kl,r-=i*Kl),n[C]=r;i>0&&(n[C]=i)},e.prototype.sub=function(t){var i=this.buf,n=i.length,d,C;for(d=0;d<n;++d)C=i[d]-t,C<0?(C+=Kl,t=1):t=0,i[d]=C;for(;i[i.length-1]===0;)i.pop()},e.prototype.toString=function(t){if((t||10)!=10)throw new Error("only base 10 is supported");for(var i=this.buf,n=i[i.length-1].toString(),d=i.length-2;d>=0;--d)n+=(Kl+i[d]).toString().substring(1);return n},e.prototype.valueOf=function(){for(var t=this.buf,i=0,n=t.length-1;n>=0;--n)i=i*Kl+t[n];return i},e.prototype.simplify=function(){var t=this.buf;return t.length==1?t[0]:this},e})(),V9="…",GN=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,NN=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function zh(e,t){return e.length>t&&(e=e.substring(0,t)+V9),e}var Gx=(function(){function e(t,i){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)}return e.prototype.get=function(t){if(t===void 0&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset ".concat(t," on a stream of length ").concat(this.enc.length));return typeof this.enc=="string"?this.enc.charCodeAt(t):this.enc[t]},e.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(t&15)},e.prototype.hexDump=function(t,i,n){for(var d="",C=t;C<i;++C)if(d+=this.hexByte(this.get(C)),n!==!0)switch(C&15){case 7:d+="  ";break;case 15:d+=`
`;break;default:d+=" "}return d},e.prototype.isASCII=function(t,i){for(var n=t;n<i;++n){var d=this.get(n);if(d<32||d>176)return!1}return!0},e.prototype.parseStringISO=function(t,i){for(var n="",d=t;d<i;++d)n+=String.fromCharCode(this.get(d));return n},e.prototype.parseStringUTF=function(t,i){for(var n="",d=t;d<i;){var C=this.get(d++);C<128?n+=String.fromCharCode(C):C>191&&C<224?n+=String.fromCharCode((C&31)<<6|this.get(d++)&63):n+=String.fromCharCode((C&15)<<12|(this.get(d++)&63)<<6|this.get(d++)&63)}return n},e.prototype.parseStringBMP=function(t,i){for(var n="",d,C,r=t;r<i;)d=this.get(r++),C=this.get(r++),n+=String.fromCharCode(d<<8|C);return n},e.prototype.parseTime=function(t,i,n){var d=this.parseStringISO(t,i),C=(n?GN:NN).exec(d);return C?(n&&(C[1]=+C[1],C[1]+=+C[1]<70?2e3:1900),d=C[1]+"-"+C[2]+"-"+C[3]+" "+C[4],C[5]&&(d+=":"+C[5],C[6]&&(d+=":"+C[6],C[7]&&(d+="."+C[7]))),C[8]&&(d+=" UTC",C[8]!="Z"&&(d+=C[8],C[9]&&(d+=":"+C[9]))),d):"Unrecognized time: "+d},e.prototype.parseInteger=function(t,i){for(var n=this.get(t),d=n>127,C=d?255:0,r,x="";n==C&&++t<i;)n=this.get(t);if(r=i-t,r===0)return d?-1:0;if(r>4){for(x=n,r<<=3;((+x^C)&128)==0;)x=+x<<1,--r;x="("+r+` bit)
`}d&&(n=n-256);for(var s=new kd(n),a=t+1;a<i;++a)s.mulAdd(256,this.get(a));return x+s.toString()},e.prototype.parseBitString=function(t,i,n){for(var d=this.get(t),C=(i-t-1<<3)-d,r="("+C+` bit)
`,x="",s=t+1;s<i;++s){for(var a=this.get(s),g=s==i-1?d:0,c=7;c>=g;--c)x+=a>>c&1?"1":"0";if(x.length>n)return r+zh(x,n)}return r+x},e.prototype.parseOctetString=function(t,i,n){if(this.isASCII(t,i))return zh(this.parseStringISO(t,i),n);var d=i-t,C="("+d+` byte)
`;n/=2,d>n&&(i=t+n);for(var r=t;r<i;++r)C+=this.hexByte(this.get(r));return d>n&&(C+=V9),C},e.prototype.parseOID=function(t,i,n){for(var d="",C=new kd,r=0,x=t;x<i;++x){var s=this.get(x);if(C.mulAdd(128,s&127),r+=7,!(s&128)){if(d==="")if(C=C.simplify(),C instanceof kd)C.sub(80),d="2."+C.toString();else{var a=C<80?C<40?0:1:2;d=a+"."+(C-a*40)}else d+="."+C.toString();if(d.length>n)return zh(d,n);C=new kd,r=0}}return r>0&&(d+=".incomplete"),d},e})(),VN=(function(){function e(t,i,n,d,C){if(!(d instanceof gE))throw new Error("Invalid tag value.");this.stream=t,this.header=i,this.length=n,this.tag=d,this.sub=C}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(t){if(this.tag===void 0)return null;t===void 0&&(t=1/0);var i=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return this.sub!==null?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+n,t);switch(this.tag.tagNumber){case 1:return this.stream.get(i)===0?"false":"true";case 2:return this.stream.parseInteger(i,i+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(i,i+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+n,t);case 6:return this.stream.parseOID(i,i+n,t);case 16:case 17:return this.sub!==null?"("+this.sub.length+" elem)":"(no elem)";case 12:return zh(this.stream.parseStringUTF(i,i+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return zh(this.stream.parseStringISO(i,i+n),t);case 30:return zh(this.stream.parseStringBMP(i,i+n),t);case 23:case 24:return this.stream.parseTime(i,i+n,this.tag.tagNumber==23)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub===null?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(t){t===void 0&&(t="");var i=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(i+="+"),i+=this.length,this.tag.tagConstructed?i+=" (constructed)":this.tag.isUniversal()&&(this.tag.tagNumber==3||this.tag.tagNumber==4)&&this.sub!==null&&(i+=" (encapsulates)"),i+=`
`,this.sub!==null){t+="  ";for(var n=0,d=this.sub.length;n<d;++n)i+=this.sub[n].toPrettyString(t)}return i},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(t){var i=t.get(),n=i&127;if(n==i)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(n===0)return null;i=0;for(var d=0;d<n;++d)i=i*256+t.get();return i},e.prototype.getHexStringValue=function(){var t=this.toHexString(),i=this.header*2,n=this.length*2;return t.substring(i,i+n)},e.decode=function(t){var i;t instanceof Gx?i=t:i=new Gx(t,0);var n=new Gx(i),d=new gE(i),C=e.decodeLength(i),r=i.pos,x=r-n.pos,s=null,a=function(){var c=[];if(C!==null){for(var h=r+C;i.pos<h;)c[c.length]=e.decode(i);if(i.pos!=h)throw new Error("Content size is not correct for container starting at offset "+r)}else try{for(;;){var l=e.decode(i);if(l.tag.isEOC())break;c[c.length]=l}C=r-i.pos}catch(o){throw new Error("Exception while decoding undefined length content: "+o)}return c};if(d.tagConstructed)s=a();else if(d.isUniversal()&&(d.tagNumber==3||d.tagNumber==4))try{if(d.tagNumber==3&&i.get()!=0)throw new Error("BIT STRINGs with unused bits cannot encapsulate.");s=a();for(var g=0;g<s.length;++g)if(s[g].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch{s=null}if(s===null){if(C===null)throw new Error("We can't skip over an invalid tag with undefined length at offset "+r);i.pos=r+Math.abs(C)}return new e(n,x,C,d,s)},e})(),gE=(function(){function e(t){var i=t.get();if(this.tagClass=i>>6,this.tagConstructed=(i&32)!==0,this.tagNumber=i&31,this.tagNumber==31){var n=new kd;do i=t.get(),n.mulAdd(128,i&127);while(i&128);this.tagNumber=n.simplify()}}return e.prototype.isUniversal=function(){return this.tagClass===0},e.prototype.isEOC=function(){return this.tagClass===0&&this.tagNumber===0},e})(),Do,zN=0xdeadbeefcafe,mE=(zN&16777215)==15715070,Ps=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],UN=(1<<26)/Ps[Ps.length-1],oe=(function(){function e(t,i,n){t!=null&&(typeof t=="number"?this.fromNumber(t,i,n):i==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,i))}return e.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(t==16)i=4;else if(t==8)i=3;else if(t==2)i=1;else if(t==32)i=5;else if(t==4)i=2;else return this.toRadix(t);var n=(1<<i)-1,d,C=!1,r="",x=this.t,s=this.DB-x*this.DB%i;if(x-- >0)for(s<this.DB&&(d=this[x]>>s)>0&&(C=!0,r=aa(d));x>=0;)s<i?(d=(this[x]&(1<<s)-1)<<i-s,d|=this[--x]>>(s+=this.DB-i)):(d=this[x]>>(s-=i)&n,s<=0&&(s+=this.DB,--x)),d>0&&(C=!0),C&&(r+=aa(d));return C?r:"0"},e.prototype.negate=function(){var t=Se();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(t){var i=this.s-t.s;if(i!=0)return i;var n=this.t;if(i=n-t.t,i!=0)return this.s<0?-i:i;for(;--n>=0;)if((i=this[n]-t[n])!=0)return i;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d3(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var i=Se();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i},e.prototype.modPowInt=function(t,i){var n;return t<256||i.isEven()?n=new xE(i):n=new yE(i),this.exp(t,n)},e.prototype.clone=function(){var t=Se();return this.copyTo(t),t},e.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var t=this.t,i=[];i[0]=this.s;var n=this.DB-t*this.DB%8,d,C=0;if(t-- >0)for(n<this.DB&&(d=this[t]>>n)!=(this.s&this.DM)>>n&&(i[C++]=d|this.s<<this.DB-n);t>=0;)n<8?(d=(this[t]&(1<<n)-1)<<8-n,d|=this[--t]>>(n+=this.DB-8)):(d=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),(d&128)!=0&&(d|=-256),C==0&&(this.s&128)!=(d&128)&&++C,(C>0||d!=this.s)&&(i[C++]=d);return i},e.prototype.equals=function(t){return this.compareTo(t)==0},e.prototype.min=function(t){return this.compareTo(t)<0?this:t},e.prototype.max=function(t){return this.compareTo(t)>0?this:t},e.prototype.and=function(t){var i=Se();return this.bitwiseTo(t,FN,i),i},e.prototype.or=function(t){var i=Se();return this.bitwiseTo(t,u3,i),i},e.prototype.xor=function(t){var i=Se();return this.bitwiseTo(t,cE,i),i},e.prototype.andNot=function(t){var i=Se();return this.bitwiseTo(t,vE,i),i},e.prototype.not=function(){for(var t=Se(),i=0;i<this.t;++i)t[i]=this.DM&~this[i];return t.t=this.t,t.s=~this.s,t},e.prototype.shiftLeft=function(t){var i=Se();return t<0?this.rShiftTo(-t,i):this.lShiftTo(t,i),i},e.prototype.shiftRight=function(t){var i=Se();return t<0?this.lShiftTo(-t,i):this.rShiftTo(t,i),i},e.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+BN(this[t]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var t=0,i=this.s&this.DM,n=0;n<this.t;++n)t+=IN(this[n]^i);return t},e.prototype.testBit=function(t){var i=Math.floor(t/this.DB);return i>=this.t?this.s!=0:(this[i]&1<<t%this.DB)!=0},e.prototype.setBit=function(t){return this.changeBit(t,u3)},e.prototype.clearBit=function(t){return this.changeBit(t,vE)},e.prototype.flipBit=function(t){return this.changeBit(t,cE)},e.prototype.add=function(t){var i=Se();return this.addTo(t,i),i},e.prototype.subtract=function(t){var i=Se();return this.subTo(t,i),i},e.prototype.multiply=function(t){var i=Se();return this.multiplyTo(t,i),i},e.prototype.divide=function(t){var i=Se();return this.divRemTo(t,i,null),i},e.prototype.remainder=function(t){var i=Se();return this.divRemTo(t,null,i),i},e.prototype.divideAndRemainder=function(t){var i=Se(),n=Se();return this.divRemTo(t,i,n),[i,n]},e.prototype.modPow=function(t,i){var n=t.bitLength(),d,C=lo(1),r;if(n<=0)return C;n<18?d=1:n<48?d=3:n<144?d=4:n<768?d=5:d=6,n<8?r=new xE(i):i.isEven()?r=new HN(i):r=new yE(i);var x=[],s=3,a=d-1,g=(1<<d)-1;if(x[1]=r.convert(this),d>1){var c=Se();for(r.sqrTo(x[1],c);s<=g;)x[s]=Se(),r.mulTo(c,x[s-2],x[s]),s+=2}var h=t.t-1,l,o=!0,u=Se(),v;for(n=d3(t[h])-1;h>=0;){for(n>=a?l=t[h]>>n-a&g:(l=(t[h]&(1<<n+1)-1)<<a-n,h>0&&(l|=t[h-1]>>this.DB+n-a)),s=d;(l&1)==0;)l>>=1,--s;if((n-=s)<0&&(n+=this.DB,--h),o)x[l].copyTo(C),o=!1;else{for(;s>1;)r.sqrTo(C,u),r.sqrTo(u,C),s-=2;s>0?r.sqrTo(C,u):(v=C,C=u,u=v),r.mulTo(u,x[l],C)}for(;h>=0&&(t[h]&1<<n)==0;)r.sqrTo(C,u),v=C,C=u,u=v,--n<0&&(n=this.DB-1,--h)}return r.revert(C)},e.prototype.modInverse=function(t){var i=t.isEven();if(this.isEven()&&i||t.signum()==0)return e.ZERO;for(var n=t.clone(),d=this.clone(),C=lo(1),r=lo(0),x=lo(0),s=lo(1);n.signum()!=0;){for(;n.isEven();)n.rShiftTo(1,n),i?((!C.isEven()||!r.isEven())&&(C.addTo(this,C),r.subTo(t,r)),C.rShiftTo(1,C)):r.isEven()||r.subTo(t,r),r.rShiftTo(1,r);for(;d.isEven();)d.rShiftTo(1,d),i?((!x.isEven()||!s.isEven())&&(x.addTo(this,x),s.subTo(t,s)),x.rShiftTo(1,x)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);n.compareTo(d)>=0?(n.subTo(d,n),i&&C.subTo(x,C),r.subTo(s,r)):(d.subTo(n,d),i&&x.subTo(C,x),s.subTo(r,s))}if(d.compareTo(e.ONE)!=0)return e.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s},e.prototype.pow=function(t){return this.exp(t,new XN)},e.prototype.gcd=function(t){var i=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(i.compareTo(n)<0){var d=i;i=n,n=d}var C=i.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return i;for(C<r&&(r=C),r>0&&(i.rShiftTo(r,i),n.rShiftTo(r,n));i.signum()>0;)(C=i.getLowestSetBit())>0&&i.rShiftTo(C,i),(C=n.getLowestSetBit())>0&&n.rShiftTo(C,n),i.compareTo(n)>=0?(i.subTo(n,i),i.rShiftTo(1,i)):(n.subTo(i,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n},e.prototype.isProbablePrime=function(t){var i,n=this.abs();if(n.t==1&&n[0]<=Ps[Ps.length-1]){for(i=0;i<Ps.length;++i)if(n[0]==Ps[i])return!0;return!1}if(n.isEven())return!1;for(i=1;i<Ps.length;){for(var d=Ps[i],C=i+1;C<Ps.length&&d<UN;)d*=Ps[C++];for(d=n.modInt(d);i<C;)if(d%Ps[i++]==0)return!1}return n.millerRabin(t)},e.prototype.copyTo=function(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s},e.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},e.prototype.fromString=function(t,i){var n;if(i==16)n=4;else if(i==8)n=3;else if(i==256)n=8;else if(i==2)n=1;else if(i==32)n=5;else if(i==4)n=2;else{this.fromRadix(t,i);return}this.t=0,this.s=0;for(var d=t.length,C=!1,r=0;--d>=0;){var x=n==8?+t[d]&255:CE(t,d);if(x<0){t.charAt(d)=="-"&&(C=!0);continue}C=!1,r==0?this[this.t++]=x:r+n>this.DB?(this[this.t-1]|=(x&(1<<this.DB-r)-1)<<r,this[this.t++]=x>>this.DB-r):this[this.t-1]|=x<<r,r+=n,r>=this.DB&&(r-=this.DB)}n==8&&(+t[0]&128)!=0&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),C&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},e.prototype.dlShiftTo=function(t,i){var n;for(n=this.t-1;n>=0;--n)i[n+t]=this[n];for(n=t-1;n>=0;--n)i[n]=0;i.t=this.t+t,i.s=this.s},e.prototype.drShiftTo=function(t,i){for(var n=t;n<this.t;++n)i[n-t]=this[n];i.t=Math.max(this.t-t,0),i.s=this.s},e.prototype.lShiftTo=function(t,i){for(var n=t%this.DB,d=this.DB-n,C=(1<<d)-1,r=Math.floor(t/this.DB),x=this.s<<n&this.DM,s=this.t-1;s>=0;--s)i[s+r+1]=this[s]>>d|x,x=(this[s]&C)<<n;for(var s=r-1;s>=0;--s)i[s]=0;i[r]=x,i.t=this.t+r+1,i.s=this.s,i.clamp()},e.prototype.rShiftTo=function(t,i){i.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t){i.t=0;return}var d=t%this.DB,C=this.DB-d,r=(1<<d)-1;i[0]=this[n]>>d;for(var x=n+1;x<this.t;++x)i[x-n-1]|=(this[x]&r)<<C,i[x-n]=this[x]>>d;d>0&&(i[this.t-n-1]|=(this.s&r)<<C),i.t=this.t-n,i.clamp()},e.prototype.subTo=function(t,i){for(var n=0,d=0,C=Math.min(t.t,this.t);n<C;)d+=this[n]-t[n],i[n++]=d&this.DM,d>>=this.DB;if(t.t<this.t){for(d-=t.s;n<this.t;)d+=this[n],i[n++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;n<t.t;)d-=t[n],i[n++]=d&this.DM,d>>=this.DB;d-=t.s}i.s=d<0?-1:0,d<-1?i[n++]=this.DV+d:d>0&&(i[n++]=d),i.t=n,i.clamp()},e.prototype.multiplyTo=function(t,i){var n=this.abs(),d=t.abs(),C=n.t;for(i.t=C+d.t;--C>=0;)i[C]=0;for(C=0;C<d.t;++C)i[C+n.t]=n.am(0,d[C],i,C,0,n.t);i.s=0,i.clamp(),this.s!=t.s&&e.ZERO.subTo(i,i)},e.prototype.squareTo=function(t){for(var i=this.abs(),n=t.t=2*i.t;--n>=0;)t[n]=0;for(n=0;n<i.t-1;++n){var d=i.am(n,i[n],t,2*n,0,1);(t[n+i.t]+=i.am(n+1,2*i[n],t,2*n+1,d,i.t-n-1))>=i.DV&&(t[n+i.t]-=i.DV,t[n+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(n,i[n],t,2*n,0,1)),t.s=0,t.clamp()},e.prototype.divRemTo=function(t,i,n){var d=t.abs();if(!(d.t<=0)){var C=this.abs();if(C.t<d.t){i!=null&&i.fromInt(0),n!=null&&this.copyTo(n);return}n==null&&(n=Se());var r=Se(),x=this.s,s=t.s,a=this.DB-d3(d[d.t-1]);a>0?(d.lShiftTo(a,r),C.lShiftTo(a,n)):(d.copyTo(r),C.copyTo(n));var g=r.t,c=r[g-1];if(c!=0){var h=c*(1<<this.F1)+(g>1?r[g-2]>>this.F2:0),l=this.FV/h,o=(1<<this.F1)/h,u=1<<this.F2,v=n.t,f=v-g,p=i??Se();for(r.dlShiftTo(f,p),n.compareTo(p)>=0&&(n[n.t++]=1,n.subTo(p,n)),e.ONE.dlShiftTo(g,p),p.subTo(r,r);r.t<g;)r[r.t++]=0;for(;--f>=0;){var m=n[--v]==c?this.DM:Math.floor(n[v]*l+(n[v-1]+u)*o);if((n[v]+=r.am(0,m,n,f,0,g))<m)for(r.dlShiftTo(f,p),n.subTo(p,n);n[v]<--m;)n.subTo(p,n)}i!=null&&(n.drShiftTo(g,i),x!=s&&e.ZERO.subTo(i,i)),n.t=g,n.clamp(),a>0&&n.rShiftTo(a,n),x<0&&e.ZERO.subTo(n,n)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var i=t&3;return i=i*(2-(t&15)*i)&15,i=i*(2-(t&255)*i)&255,i=i*(2-((t&65535)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i},e.prototype.isEven=function(){return(this.t>0?this[0]&1:this.s)==0},e.prototype.exp=function(t,i){if(t>4294967295||t<1)return e.ONE;var n=Se(),d=Se(),C=i.convert(this),r=d3(t)-1;for(C.copyTo(n);--r>=0;)if(i.sqrTo(n,d),(t&1<<r)>0)i.mulTo(d,C,n);else{var x=n;n=d,d=x}return i.revert(n)},e.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},e.prototype.toRadix=function(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var i=this.chunkSize(t),n=Math.pow(t,i),d=lo(n),C=Se(),r=Se(),x="";for(this.divRemTo(d,C,r);C.signum()>0;)x=(n+r.intValue()).toString(t).substring(1)+x,C.divRemTo(d,C,r);return r.intValue().toString(t)+x},e.prototype.fromRadix=function(t,i){this.fromInt(0),i==null&&(i=10);for(var n=this.chunkSize(i),d=Math.pow(i,n),C=!1,r=0,x=0,s=0;s<t.length;++s){var a=CE(t,s);if(a<0){t.charAt(s)=="-"&&this.signum()==0&&(C=!0);continue}x=i*x+a,++r>=n&&(this.dMultiply(d),this.dAddOffset(x,0),r=0,x=0)}r>0&&(this.dMultiply(Math.pow(i,r)),this.dAddOffset(x,0)),C&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,i,n){if(typeof i=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),u3,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var d=[],C=t&7;d.length=(t>>3)+1,i.nextBytes(d),C>0?d[0]&=(1<<C)-1:d[0]=0,this.fromString(d,256)}},e.prototype.bitwiseTo=function(t,i,n){var d,C,r=Math.min(t.t,this.t);for(d=0;d<r;++d)n[d]=i(this[d],t[d]);if(t.t<this.t){for(C=t.s&this.DM,d=r;d<this.t;++d)n[d]=i(this[d],C);n.t=this.t}else{for(C=this.s&this.DM,d=r;d<t.t;++d)n[d]=i(C,t[d]);n.t=t.t}n.s=i(this.s,t.s),n.clamp()},e.prototype.changeBit=function(t,i){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,i,n),n},e.prototype.addTo=function(t,i){for(var n=0,d=0,C=Math.min(t.t,this.t);n<C;)d+=this[n]+t[n],i[n++]=d&this.DM,d>>=this.DB;if(t.t<this.t){for(d+=t.s;n<this.t;)d+=this[n],i[n++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;n<t.t;)d+=t[n],i[n++]=d&this.DM,d>>=this.DB;d+=t.s}i.s=d<0?-1:0,d>0?i[n++]=d:d<-1&&(i[n++]=this.DV+d),i.t=n,i.clamp()},e.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(t,i){if(t!=0){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}},e.prototype.multiplyLowerTo=function(t,i,n){var d=Math.min(this.t+t.t,i);for(n.s=0,n.t=d;d>0;)n[--d]=0;for(var C=n.t-this.t;d<C;++d)n[d+this.t]=this.am(0,t[d],n,d,0,this.t);for(var C=Math.min(t.t,i);d<C;++d)this.am(0,t[d],n,d,0,i-d);n.clamp()},e.prototype.multiplyUpperTo=function(t,i,n){--i;var d=n.t=this.t+t.t-i;for(n.s=0;--d>=0;)n[d]=0;for(d=Math.max(i-this.t,0);d<t.t;++d)n[this.t+d-i]=this.am(i-d,t[d],n,0,0,this.t+d-i);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(t){if(t<=0)return 0;var i=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(i==0)n=this[0]%t;else for(var d=this.t-1;d>=0;--d)n=(i*n+this[d])%t;return n},e.prototype.millerRabin=function(t){var i=this.subtract(e.ONE),n=i.getLowestSetBit();if(n<=0)return!1;var d=i.shiftRight(n);t=t+1>>1,t>Ps.length&&(t=Ps.length);for(var C=Se(),r=0;r<t;++r){C.fromInt(Ps[Math.floor(Math.random()*Ps.length)]);var x=C.modPow(d,this);if(x.compareTo(e.ONE)!=0&&x.compareTo(i)!=0){for(var s=1;s++<n&&x.compareTo(i)!=0;)if(x=x.modPowInt(2,this),x.compareTo(e.ONE)==0)return!1;if(x.compareTo(i)!=0)return!1}}return!0},e.prototype.square=function(){var t=Se();return this.squareTo(t),t},e.prototype.gcda=function(t,i){var n=this.s<0?this.negate():this.clone(),d=t.s<0?t.negate():t.clone();if(n.compareTo(d)<0){var C=n;n=d,d=C}var r=n.getLowestSetBit(),x=d.getLowestSetBit();if(x<0){i(n);return}r<x&&(x=r),x>0&&(n.rShiftTo(x,n),d.rShiftTo(x,d));var s=function(){(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),(r=d.getLowestSetBit())>0&&d.rShiftTo(r,d),n.compareTo(d)>=0?(n.subTo(d,n),n.rShiftTo(1,n)):(d.subTo(n,d),d.rShiftTo(1,d)),n.signum()>0?setTimeout(s,0):(x>0&&d.lShiftTo(x,d),setTimeout(function(){i(d)},0))};setTimeout(s,10)},e.prototype.fromNumberAsync=function(t,i,n,d){if(typeof i=="number")if(t<2)this.fromInt(1);else{this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),u3,this),this.isEven()&&this.dAddOffset(1,0);var C=this,r=function(){C.dAddOffset(2,0),C.bitLength()>t&&C.subTo(e.ONE.shiftLeft(t-1),C),C.isProbablePrime(i)?setTimeout(function(){d()},0):setTimeout(r,0)};setTimeout(r,0)}else{var x=[],s=t&7;x.length=(t>>3)+1,i.nextBytes(x),s>0?x[0]&=(1<<s)-1:x[0]=0,this.fromString(x,256)}},e})(),XN=(function(){function e(){}return e.prototype.convert=function(t){return t},e.prototype.revert=function(t){return t},e.prototype.mulTo=function(t,i,n){t.multiplyTo(i,n)},e.prototype.sqrTo=function(t,i){t.squareTo(i)},e})(),xE=(function(){function e(t){this.m=t}return e.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},e.prototype.revert=function(t){return t},e.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},e.prototype.mulTo=function(t,i,n){t.multiplyTo(i,n),this.reduce(n)},e.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},e})(),yE=(function(){function e(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return e.prototype.convert=function(t){var i=Se();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(oe.ZERO)>0&&this.m.subTo(i,i),i},e.prototype.revert=function(t){var i=Se();return t.copyTo(i),this.reduce(i),i},e.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var n=t[i]&32767,d=n*this.mpl+((n*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=i+this.m.t,t[n]+=this.m.am(0,d,t,i,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},e.prototype.mulTo=function(t,i,n){t.multiplyTo(i,n),this.reduce(n)},e.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},e})(),HN=(function(){function e(t){this.m=t,this.r2=Se(),this.q3=Se(),oe.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return e.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var i=Se();return t.copyTo(i),this.reduce(i),i},e.prototype.revert=function(t){return t},e.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},e.prototype.mulTo=function(t,i,n){t.multiplyTo(i,n),this.reduce(n)},e.prototype.sqrTo=function(t,i){t.squareTo(i),this.reduce(i)},e})();function Se(){return new oe(null)}function Ci(e,t){return new oe(e,t)}var SE=typeof navigator<"u";SE&&mE&&navigator.appName=="Microsoft Internet Explorer"?(oe.prototype.am=function(t,i,n,d,C,r){for(var x=i&32767,s=i>>15;--r>=0;){var a=this[t]&32767,g=this[t++]>>15,c=s*a+g*x;a=x*a+((c&32767)<<15)+n[d]+(C&1073741823),C=(a>>>30)+(c>>>15)+s*g+(C>>>30),n[d++]=a&1073741823}return C},Do=30):SE&&mE&&navigator.appName!="Netscape"?(oe.prototype.am=function(t,i,n,d,C,r){for(;--r>=0;){var x=i*this[t++]+n[d]+C;C=Math.floor(x/67108864),n[d++]=x&67108863}return C},Do=26):(oe.prototype.am=function(t,i,n,d,C,r){for(var x=i&16383,s=i>>14;--r>=0;){var a=this[t]&16383,g=this[t++]>>14,c=s*a+g*x;a=x*a+((c&16383)<<14)+n[d]+C,C=(a>>28)+(c>>14)+s*g,n[d++]=a&268435455}return C},Do=28);oe.prototype.DB=Do;oe.prototype.DM=(1<<Do)-1;oe.prototype.DV=1<<Do;var H4=52;oe.prototype.FV=Math.pow(2,H4);oe.prototype.F1=H4-Do;oe.prototype.F2=2*Do-H4;var u2=[],qh,Dn;qh=48;for(Dn=0;Dn<=9;++Dn)u2[qh++]=Dn;qh=97;for(Dn=10;Dn<36;++Dn)u2[qh++]=Dn;qh=65;for(Dn=10;Dn<36;++Dn)u2[qh++]=Dn;function CE(e,t){var i=u2[e.charCodeAt(t)];return i??-1}function lo(e){var t=Se();return t.fromInt(e),t}function d3(e){var t=1,i;return(i=e>>>16)!=0&&(e=i,t+=16),(i=e>>8)!=0&&(e=i,t+=8),(i=e>>4)!=0&&(e=i,t+=4),(i=e>>2)!=0&&(e=i,t+=2),(i=e>>1)!=0&&(e=i,t+=1),t}oe.ZERO=lo(0);oe.ONE=lo(1);var YN=(function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(t){var i,n,d;for(i=0;i<256;++i)this.S[i]=i;for(n=0,i=0;i<256;++i)n=n+this.S[i]+t[i%t.length]&255,d=this.S[i],this.S[i]=this.S[n],this.S[n]=d;this.i=0,this.j=0},e.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},e})();function WN(){return new YN}var z9=256,f3,Ao=null,jn;if(Ao==null){Ao=[],jn=0;var c3=void 0;if(typeof window<"u"&&self.crypto&&self.crypto.getRandomValues){var Nx=new Uint32Array(256);for(self.crypto.getRandomValues(Nx),c3=0;c3<Nx.length;++c3)Ao[jn++]=Nx[c3]&255}var v3=0,p3=function(e){if(v3=v3||0,v3>=256||jn>=z9){self.removeEventListener?self.removeEventListener("mousemove",p3,!1):self.detachEvent&&self.detachEvent("onmousemove",p3);return}try{var t=e.x+e.y;Ao[jn++]=t&255,v3+=1}catch{}};typeof window<"u"&&(self.addEventListener?self.addEventListener("mousemove",p3,!1):self.attachEvent&&self.attachEvent("onmousemove",p3))}function $N(){if(f3==null){for(f3=WN();jn<z9;){var e=Math.floor(65536*Math.random());Ao[jn++]=e&255}for(f3.init(Ao),jn=0;jn<Ao.length;++jn)Ao[jn]=0;jn=0}return f3.next()}var kp=(function(){function e(){}return e.prototype.nextBytes=function(t){for(var i=0;i<t.length;++i)t[i]=$N()},e})();function i4(e){return ZN(iV(KN(e),e.length*8))}function TE(e){for(var t="0123456789abcdef",i="",n=0;n<e.length;n++){var d=e.charCodeAt(n);i+=t.charAt(d>>>4&15)+t.charAt(d&15)}return i}function KN(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<e.length*8;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<24-i%32;return t}function ZN(e){for(var t="",i=0;i<e.length*32;i+=8)t+=String.fromCharCode(e[i>>5]>>>24-i%32&255);return t}function Dr(e,t){return e>>>t|e<<32-t}function U9(e,t){return e>>>t}function JN(e,t,i){return e&t^~e&i}function QN(e,t,i){return e&t^e&i^t&i}function jN(e){return Dr(e,2)^Dr(e,13)^Dr(e,22)}function qN(e){return Dr(e,6)^Dr(e,11)^Dr(e,25)}function _N(e){return Dr(e,7)^Dr(e,18)^U9(e,3)}function tV(e){return Dr(e,17)^Dr(e,19)^U9(e,10)}var eV=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function iV(e,t){var i=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),n=new Array(64),d,C,r,x,s,a,g,c,h,l,o,u;for(e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t,h=0;h<e.length;h+=16){for(d=i[0],C=i[1],r=i[2],x=i[3],s=i[4],a=i[5],g=i[6],c=i[7],l=0;l<64;l++)l<16?n[l]=e[l+h]:n[l]=Ji(Ji(Ji(tV(n[l-2]),n[l-7]),_N(n[l-15])),n[l-16]),o=Ji(Ji(Ji(Ji(c,qN(s)),JN(s,a,g)),eV[l]),n[l]),u=Ji(jN(d),QN(d,C,r)),c=g,g=a,a=s,s=Ji(x,o),x=r,r=C,C=d,d=Ji(o,u);i[0]=Ji(d,i[0]),i[1]=Ji(C,i[1]),i[2]=Ji(r,i[2]),i[3]=Ji(x,i[3]),i[4]=Ji(s,i[4]),i[5]=Ji(a,i[5]),i[6]=Ji(g,i[6]),i[7]=Ji(c,i[7])}return i}function Ji(e,t){var i=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535}function sV(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var i=t-e.length-6,n="",d=0;d<i;d+=2)n+="ff";var C="0001"+n+"00"+e;return Ci(C,16)}function nV(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;for(var i=[],n=e.length-1;n>=0&&t>0;){var d=e.charCodeAt(n--);d<128?i[--t]=d:d>127&&d<2048?(i[--t]=d&63|128,i[--t]=d>>6|192):(i[--t]=d&63|128,i[--t]=d>>6&63|128,i[--t]=d>>12|224)}i[--t]=0;for(var C=new kp,r=[];t>2;){for(r[0]=0;r[0]==0;)C.nextBytes(r);i[--t]=r[0]}return i[--t]=2,i[--t]=0,new oe(i)}function bE(e,t,i){for(var n="",d=0;n.length<t;)n+=i(String.fromCharCode.apply(String,e.concat([(d&4278190080)>>24,(d&16711680)>>16,(d&65280)>>8,d&255]))),d+=1;return n}var rV=32;function aV(e,t){var i=rV,n=i4;if(e.length+2*i+2>t)throw"Message too long for RSA";var d="",C;for(C=0;C<t-e.length-2*i-2;C+=1)d+="\0";var r=n("")+d+""+e,x=new Array(i);new kp().nextBytes(x);var s=bE(x,r.length,n),a=[];for(C=0;C<r.length;C+=1)a[C]=r.charCodeAt(C)^s.charCodeAt(C);var g=bE(a,x.length,n),c=[0];for(C=0;C<x.length;C+=1)c[C+1]=x[C]^g.charCodeAt(C);return new oe(c.concat(a))}var oV=(function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(t){if(this.p==null||this.q==null)return t.modPow(this.d,this.n);for(var i=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);i.compareTo(n)<0;)i=i.add(this.p);return i.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},e.prototype.setPublic=function(t,i){t!=null&&i!=null&&t.length>0&&i.length>0?(this.n=Ci(t,16),this.e=parseInt(i,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(t,i){typeof i>"u"&&(i=nV);var n=this.n.bitLength()+7>>3,d=i(t,n);if(d==null)return null;var C=this.doPublic(d);if(C==null)return null;for(var r=C.toString(16),x=r.length,s=0;s<n*2-x;s++)r="0"+r;return r},e.prototype.setPrivate=function(t,i,n){t!=null&&i!=null&&t.length>0&&i.length>0?(this.n=Ci(t,16),this.e=parseInt(i,16),this.d=Ci(n,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(t,i,n,d,C,r,x,s){t!=null&&i!=null&&t.length>0&&i.length>0?(this.n=Ci(t,16),this.e=parseInt(i,16),this.d=Ci(n,16),this.p=Ci(d,16),this.q=Ci(C,16),this.dmp1=Ci(r,16),this.dmq1=Ci(x,16),this.coeff=Ci(s,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(t,i){var n=new kp,d=t>>1;this.e=parseInt(i,16);for(var C=new oe(i,16);;){for(;this.p=new oe(t-d,1,n),!(this.p.subtract(oe.ONE).gcd(C).compareTo(oe.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new oe(d,1,n),!(this.q.subtract(oe.ONE).gcd(C).compareTo(oe.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var x=this.p.subtract(oe.ONE),s=this.q.subtract(oe.ONE),a=x.multiply(s);if(a.gcd(C).compareTo(oe.ONE)==0){this.n=this.p.multiply(this.q),this.d=C.modInverse(a),this.dmp1=this.d.mod(x),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(t){var i=Ci(t,16),n=this.doPrivate(i);return n==null?null:lV(n,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(t,i,n){var d=new kp,C=t>>1;this.e=parseInt(i,16);var r=new oe(i,16),x=this,s=function(){var a=function(){if(x.p.compareTo(x.q)<=0){var h=x.p;x.p=x.q,x.q=h}var l=x.p.subtract(oe.ONE),o=x.q.subtract(oe.ONE),u=l.multiply(o);u.gcd(r).compareTo(oe.ONE)==0?(x.n=x.p.multiply(x.q),x.d=r.modInverse(u),x.dmp1=x.d.mod(l),x.dmq1=x.d.mod(o),x.coeff=x.q.modInverse(x.p),setTimeout(function(){n()},0)):setTimeout(s,0)},g=function(){x.q=Se(),x.q.fromNumberAsync(C,1,d,function(){x.q.subtract(oe.ONE).gcda(r,function(h){h.compareTo(oe.ONE)==0&&x.q.isProbablePrime(10)?setTimeout(a,0):setTimeout(g,0)})})},c=function(){x.p=Se(),x.p.fromNumberAsync(t-C,1,d,function(){x.p.subtract(oe.ONE).gcda(r,function(h){h.compareTo(oe.ONE)==0&&x.p.isProbablePrime(10)?setTimeout(g,0):setTimeout(c,0)})})};setTimeout(c,0)};setTimeout(s,0)},e.prototype.sign=function(t,i,n){var d=hV(n),C=d+i(t).toString(),r=this.n.bitLength()/4,x=sV(C,r);if(x==null)return null;var s=this.doPrivate(x);if(s==null)return null;for(var a=s.toString(16),g=a.length,c=0;c<r-g;c++)a="0"+a;return a},e.prototype.verify=function(t,i,n){var d=Ci(i,16),C=this.doPublic(d);if(C==null)return null;var r=C.toString(16).replace(/^1f+00/,""),x=uV(r);return x==n(t).toString()},e})();function lV(e,t){for(var i=e.toByteArray(),n=0;n<i.length&&i[n]==0;)++n;if(i.length-n!=t-1||i[n]!=2)return null;for(++n;i[n]!=0;)if(++n>=i.length)return null;for(var d="";++n<i.length;){var C=i[n]&255;C<128?d+=String.fromCharCode(C):C>191&&C<224?(d+=String.fromCharCode((C&31)<<6|i[n+1]&63),++n):(d+=String.fromCharCode((C&15)<<12|(i[n+1]&63)<<6|i[n+2]&63),n+=2)}return d}var Uv={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function hV(e){return Uv[e]||""}function uV(e){for(var t in Uv)if(Uv.hasOwnProperty(t)){var i=Uv[t],n=i.length;if(e.substring(0,n)==i)return e.substring(n)}return e}function Fi(e,t,i){if(!t||!e)throw new Error("extend failed, please check that all dependencies are included.");var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */var Ot={};(typeof Ot.asn1>"u"||!Ot.asn1)&&(Ot.asn1={});Ot.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if(t.substring(0,1)!="-")t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substring(1),n=i.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var d="",C=0;C<n;C++)d+="f";var r=new oe(d,16),x=r.xor(e).add(oe.ONE);t=x.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=Ot,i=t.asn1,n=i.DERBoolean,d=i.DERInteger,C=i.DERBitString,r=i.DEROctetString,x=i.DERNull,s=i.DERObjectIdentifier,a=i.DEREnumerated,g=i.DERUTF8String,c=i.DERNumericString,h=i.DERPrintableString,l=i.DERTeletexString,o=i.DERIA5String,u=i.DERUTCTime,v=i.DERGeneralizedTime,f=i.DERSequence,p=i.DERSet,m=i.DERTaggedObject,y=i.ASN1Util.newObject,S=Object.keys(e);if(S.length!=1)throw"key of param shall be only one.";var T=S[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":")==-1)throw"undefined key: "+T;if(T=="bool")return new n(e[T]);if(T=="int")return new d(e[T]);if(T=="bitstr")return new C(e[T]);if(T=="octstr")return new r(e[T]);if(T=="null")return new x(e[T]);if(T=="oid")return new s(e[T]);if(T=="enum")return new a(e[T]);if(T=="utf8str")return new g(e[T]);if(T=="numstr")return new c(e[T]);if(T=="prnstr")return new h(e[T]);if(T=="telstr")return new l(e[T]);if(T=="ia5str")return new o(e[T]);if(T=="utctime")return new u(e[T]);if(T=="gentime")return new v(e[T]);if(T=="seq"){for(var b=e[T],P=[],w=0;w<b.length;w++){var A=y(b[w]);P.push(A)}return new f({array:P})}if(T=="set"){for(var b=e[T],P=[],w=0;w<b.length;w++){var A=y(b[w]);P.push(A)}return new p({array:P})}if(T=="tag"){var R=e[T];if(Object.prototype.toString.call(R)==="[object Array]"&&R.length==3){var D=y(R[2]);return new m({tag:R[0],explicit:R[1],obj:D})}else{var L={};if(R.explicit!==void 0&&(L.explicit=R.explicit),R.tag!==void 0&&(L.tag=R.tag),R.obj===void 0)throw"obj shall be specified for 'tag'.";return L.obj=y(R.obj),new m(L)}}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}};Ot.asn1.ASN1Util.oidHexToInt=function(e){for(var d="",t=parseInt(e.substring(0,2),16),i=Math.floor(t/40),n=t%40,d=i+"."+n,C="",r=2;r<e.length;r+=2){var x=parseInt(e.substring(r,r+2),16),s=("00000000"+x.toString(2)).slice(-8);if(C=C+s.substring(1,8),s.substring(0,1)=="0"){var a=new oe(C,2);d=d+"."+a.toString(10),C=""}}return d};Ot.asn1.ASN1Util.oidIntToHex=function(e){var t=function(x){var s=x.toString(16);return s.length==1&&(s="0"+s),s},i=function(x){var s="",a=new oe(x,10),g=a.toString(2),c=7-g.length%7;c==7&&(c=0);for(var h="",l=0;l<c;l++)h+="0";g=h+g;for(var l=0;l<g.length-1;l+=7){var o=g.substring(l,l+7);l!=g.length-7&&(o="1"+o),s+=t(parseInt(o,2))}return s};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",d=e.split("."),C=parseInt(d[0])*40+parseInt(d[1]);n+=t(C),d.splice(0,2);for(var r=0;r<d.length;r++)n+=i(d[r]);return n};Ot.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,i=t.toString(16);if(i.length%2==1&&(i="0"+i),t<128)return i;var n=i.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var d=128+n;return d.toString(16)+i},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}};Ot.asn1.DERAbstractString=function(e){Ot.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"?this.setString(e):typeof e.str<"u"?this.setString(e.str):typeof e.hex<"u"&&this.setStringHex(e.hex))};Fi(Ot.asn1.DERAbstractString,Ot.asn1.ASN1Object);Ot.asn1.DERAbstractTime=function(e){Ot.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){utc=t.getTime()+t.getTimezoneOffset()*6e4;var i=new Date(utc);return i},this.formatDate=function(t,i,n){var d=this.zeroPadding,C=this.localDateToUTC(t),r=String(C.getFullYear());i=="utc"&&(r=r.substring(2,4));var x=d(String(C.getMonth()+1),2),s=d(String(C.getDate()),2),a=d(String(C.getHours()),2),g=d(String(C.getMinutes()),2),c=d(String(C.getSeconds()),2),h=r+x+s+a+g+c;if(n===!0){var l=C.getMilliseconds();if(l!=0){var o=d(String(l),3);o=o.replace(/[0]+$/,""),h=h+"."+o}}return h+"Z"},this.zeroPadding=function(t,i){return t.length>=i?t:new Array(i-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,i,n,d,C,r){var x=new Date(Date.UTC(t,i-1,n,d,C,r,0));this.setByDate(x)},this.getFreshValueHex=function(){return this.hV}};Fi(Ot.asn1.DERAbstractTime,Ot.asn1.ASN1Object);Ot.asn1.DERAbstractStructured=function(e){Ot.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,typeof e<"u"&&typeof e.array<"u"&&(this.asn1Array=e.array)};Fi(Ot.asn1.DERAbstractStructured,Ot.asn1.ASN1Object);Ot.asn1.DERBoolean=function(){Ot.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"};Fi(Ot.asn1.DERBoolean,Ot.asn1.ASN1Object);Ot.asn1.DERInteger=function(e){Ot.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Ot.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var i=new oe(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e.bigint<"u"?this.setByBigInteger(e.bigint):typeof e.int<"u"?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):typeof e.hex<"u"&&this.setValueHex(e.hex))};Fi(Ot.asn1.DERInteger,Ot.asn1.ASN1Object);Ot.asn1.DERBitString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=Ot.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}Ot.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(i){this.hTLV=null,this.isModified=!0,this.hV=i},this.setUnusedBitsAndHexValue=function(i,n){if(i<0||7<i)throw"unused bits shall be from 0 to 7: u = "+i;var d="0"+i;this.hTLV=null,this.isModified=!0,this.hV=d+n},this.setByBinaryString=function(i){i=i.replace(/0+$/,"");var n=8-i.length%8;n==8&&(n=0);for(var d=0;d<=n;d++)i+="0";for(var C="",d=0;d<i.length-1;d+=8){var r=i.substring(d,d+8),x=parseInt(r,2).toString(16);x.length==1&&(x="0"+x),C+=x}this.hTLV=null,this.isModified=!0,this.hV="0"+n+C},this.setByBooleanArray=function(i){for(var n="",d=0;d<i.length;d++)i[d]==!0?n+="1":n+="0";this.setByBinaryString(n)},this.newFalseArray=function(i){for(var n=new Array(i),d=0;d<i;d++)n[d]=!1;return n},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e=="string"&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):typeof e.hex<"u"?this.setHexValueIncludingUnusedBits(e.hex):typeof e.bin<"u"?this.setByBinaryString(e.bin):typeof e.array<"u"&&this.setByBooleanArray(e.array))};Fi(Ot.asn1.DERBitString,Ot.asn1.ASN1Object);Ot.asn1.DEROctetString=function(e){if(e!==void 0&&typeof e.obj<"u"){var t=Ot.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}Ot.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"};Fi(Ot.asn1.DEROctetString,Ot.asn1.DERAbstractString);Ot.asn1.DERNull=function(){Ot.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};Fi(Ot.asn1.DERNull,Ot.asn1.ASN1Object);Ot.asn1.DERObjectIdentifier=function(e){var t=function(n){var d=n.toString(16);return d.length==1&&(d="0"+d),d},i=function(n){var d="",C=new oe(n,10),r=C.toString(2),x=7-r.length%7;x==7&&(x=0);for(var s="",a=0;a<x;a++)s+="0";r=s+r;for(var a=0;a<r.length-1;a+=7){var g=r.substring(a,a+7);a!=r.length-7&&(g="1"+g),d+=t(parseInt(g,2))}return d};Ot.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueOidString=function(n){if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var d="",C=n.split("."),r=parseInt(C[0])*40+parseInt(C[1]);d+=t(r),C.splice(0,2);for(var x=0;x<C.length;x++)d+=i(C[x]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.setValueName=function(n){var d=Ot.asn1.x509.OID.name2oid(n);if(d!=="")this.setValueOidString(d);else throw"DERObjectIdentifier oidName undefined: "+n},this.getFreshValueHex=function(){return this.hV},e!==void 0&&(typeof e=="string"?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):e.oid!==void 0?this.setValueOidString(e.oid):e.hex!==void 0?this.setValueHex(e.hex):e.name!==void 0&&this.setValueName(e.name))};Fi(Ot.asn1.DERObjectIdentifier,Ot.asn1.ASN1Object);Ot.asn1.DEREnumerated=function(e){Ot.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Ot.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var i=new oe(String(t),10);this.setByBigInteger(i)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e.int<"u"?this.setByInteger(e.int):typeof e=="number"?this.setByInteger(e):typeof e.hex<"u"&&this.setValueHex(e.hex))};Fi(Ot.asn1.DEREnumerated,Ot.asn1.ASN1Object);Ot.asn1.DERUTF8String=function(e){Ot.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"};Fi(Ot.asn1.DERUTF8String,Ot.asn1.DERAbstractString);Ot.asn1.DERNumericString=function(e){Ot.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"};Fi(Ot.asn1.DERNumericString,Ot.asn1.DERAbstractString);Ot.asn1.DERPrintableString=function(e){Ot.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"};Fi(Ot.asn1.DERPrintableString,Ot.asn1.DERAbstractString);Ot.asn1.DERTeletexString=function(e){Ot.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"};Fi(Ot.asn1.DERTeletexString,Ot.asn1.DERAbstractString);Ot.asn1.DERIA5String=function(e){Ot.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"};Fi(Ot.asn1.DERIA5String,Ot.asn1.DERAbstractString);Ot.asn1.DERUTCTime=function(e){Ot.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return typeof this.date>"u"&&typeof this.s>"u"&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{12}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date))};Fi(Ot.asn1.DERUTCTime,Ot.asn1.DERAbstractTime);Ot.asn1.DERGeneralizedTime=function(e){Ot.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},e!==void 0&&(e.str!==void 0?this.setString(e.str):typeof e=="string"&&e.match(/^[0-9]{14}Z$/)?this.setString(e):e.hex!==void 0?this.setStringHex(e.hex):e.date!==void 0&&this.setByDate(e.date),e.millis===!0&&(this.withMillis=!0))};Fi(Ot.asn1.DERGeneralizedTime,Ot.asn1.DERAbstractTime);Ot.asn1.DERSequence=function(e){Ot.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var t="",i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];t+=n.getEncodedHex()}return this.hV=t,this.hV}};Fi(Ot.asn1.DERSequence,Ot.asn1.DERAbstractStructured);Ot.asn1.DERSet=function(e){Ot.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,i=0;i<this.asn1Array.length;i++){var n=this.asn1Array[i];t.push(n.getEncodedHex())}return this.sortFlag==!0&&t.sort(),this.hV=t.join(""),this.hV},typeof e<"u"&&typeof e.sortflag<"u"&&e.sortflag==!1&&(this.sortFlag=!1)};Fi(Ot.asn1.DERSet,Ot.asn1.DERAbstractStructured);Ot.asn1.DERTaggedObject=function(e){Ot.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,i,n){this.hT=i,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,i),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},typeof e<"u"&&(typeof e.tag<"u"&&(this.hT=e.tag),typeof e.explicit<"u"&&(this.isExplicit=e.explicit),typeof e.obj<"u"&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))};Fi(Ot.asn1.DERTaggedObject,Ot.asn1.ASN1Object);var dV=(function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,d){n.__proto__=d}||function(n,d){for(var C in d)Object.prototype.hasOwnProperty.call(d,C)&&(n[C]=d[C])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}})(),EE=(function(e){dV(t,e);function t(i){var n=e.call(this)||this;return i&&(typeof i=="string"?n.parseKey(i):(t.hasPrivateKeyProperty(i)||t.hasPublicKeyProperty(i))&&n.parsePropertiesFrom(i)),n}return t.prototype.parseKey=function(i){try{var n=0,d=0,C=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,r=C.test(i)?kN.decode(i):e4.unarmor(i),x=VN.decode(r);if(x.sub.length===3&&(x=x.sub[2].sub[0]),x.sub.length===9){n=x.sub[1].getHexStringValue(),this.n=Ci(n,16),d=x.sub[2].getHexStringValue(),this.e=parseInt(d,16);var s=x.sub[3].getHexStringValue();this.d=Ci(s,16);var a=x.sub[4].getHexStringValue();this.p=Ci(a,16);var g=x.sub[5].getHexStringValue();this.q=Ci(g,16);var c=x.sub[6].getHexStringValue();this.dmp1=Ci(c,16);var h=x.sub[7].getHexStringValue();this.dmq1=Ci(h,16);var l=x.sub[8].getHexStringValue();this.coeff=Ci(l,16)}else if(x.sub.length===2)if(x.sub[0].sub){var o=x.sub[1],u=o.sub[0];n=u.sub[0].getHexStringValue(),this.n=Ci(n,16),d=u.sub[1].getHexStringValue(),this.e=parseInt(d,16)}else n=x.sub[0].getHexStringValue(),this.n=Ci(n,16),d=x.sub[1].getHexStringValue(),this.e=parseInt(d,16);else return!1;return!0}catch{return!1}},t.prototype.getPrivateBaseKey=function(){var i={array:[new Ot.asn1.DERInteger({int:0}),new Ot.asn1.DERInteger({bigint:this.n}),new Ot.asn1.DERInteger({int:this.e}),new Ot.asn1.DERInteger({bigint:this.d}),new Ot.asn1.DERInteger({bigint:this.p}),new Ot.asn1.DERInteger({bigint:this.q}),new Ot.asn1.DERInteger({bigint:this.dmp1}),new Ot.asn1.DERInteger({bigint:this.dmq1}),new Ot.asn1.DERInteger({bigint:this.coeff})]},n=new Ot.asn1.DERSequence(i);return n.getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return zd(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var i=new Ot.asn1.DERSequence({array:[new Ot.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Ot.asn1.DERNull]}),n=new Ot.asn1.DERSequence({array:[new Ot.asn1.DERInteger({bigint:this.n}),new Ot.asn1.DERInteger({int:this.e})]}),d=new Ot.asn1.DERBitString({hex:"00"+n.getEncodedHex()}),C=new Ot.asn1.DERSequence({array:[i,d]});return C.getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return zd(this.getPublicBaseKey())},t.wordwrap=function(i,n){if(n=n||64,!i)return i;var d="(.{1,"+n+`})( +|$
?)|(.{1,`+n+"})";return i.match(RegExp(d,"g")).join(`
`)},t.prototype.getPrivateKey=function(){var i=`-----BEGIN RSA PRIVATE KEY-----
`;return i+=t.wordwrap(this.getPrivateBaseKeyB64())+`
`,i+="-----END RSA PRIVATE KEY-----",i},t.prototype.getPublicKey=function(){var i=`-----BEGIN PUBLIC KEY-----
`;return i+=t.wordwrap(this.getPublicBaseKeyB64())+`
`,i+="-----END PUBLIC KEY-----",i},t.hasPublicKeyProperty=function(i){return i=i||{},i.hasOwnProperty("n")&&i.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(i){return i=i||{},i.hasOwnProperty("n")&&i.hasOwnProperty("e")&&i.hasOwnProperty("d")&&i.hasOwnProperty("p")&&i.hasOwnProperty("q")&&i.hasOwnProperty("dmp1")&&i.hasOwnProperty("dmq1")&&i.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(i){this.n=i.n,this.e=i.e,i.hasOwnProperty("d")&&(this.d=i.d,this.p=i.p,this.q=i.q,this.dmp1=i.dmp1,this.dmq1=i.dmq1,this.coeff=i.coeff)},t})(oV),fV={},Vx,cV=typeof process<"u"?(Vx=fV)===null||Vx===void 0?void 0:Vx.npm_package_version:void 0,vV=(function(){function e(t){t===void 0&&(t={}),this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=t.key||null}return e.prototype.setKey=function(t){t?(this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new EE(t)):!this.key&&this.log&&console.error("A key was not set.")},e.prototype.setPrivateKey=function(t){this.setKey(t)},e.prototype.setPublicKey=function(t){this.setKey(t)},e.prototype.decrypt=function(t){try{return this.getKey().decrypt(pE(t))}catch{return!1}},e.prototype.encrypt=function(t){try{return zd(this.getKey().encrypt(t))}catch{return!1}},e.prototype.encryptOAEP=function(t){try{return zd(this.getKey().encrypt(t,aV))}catch{return!1}},e.prototype.sign=function(t,i,n){i===void 0&&(i=function(d){return d}),n===void 0&&(n="");try{return zd(this.getKey().sign(t,i,n))}catch{return!1}},e.prototype.signSha256=function(t){return this.sign(t,function(i){return TE(i4(i))},"sha256")},e.prototype.verify=function(t,i,n){n===void 0&&(n=function(d){return d});try{return this.getKey().verify(t,pE(i),n)}catch{return!1}},e.prototype.verifySha256=function(t,i){return this.verify(t,i,function(n){return TE(i4(n))})},e.prototype.getKey=function(t){if(!this.key){if(this.key=new EE,t&&{}.toString.call(t)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);return}this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=cV,e})(),Xv={exports:{}};function pV(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hv={exports:{}};const gV={},mV=Object.freeze(Object.defineProperty({__proto__:null,default:gV},Symbol.toStringTag,{value:"Module"})),xV=lI(mV);var yV=Hv.exports,wE;function Ee(){return wE||(wE=1,(function(e,t){(function(i,n){e.exports=n()})(yV,function(){var i=i||(function(n,d){var C;if(typeof window<"u"&&window.crypto&&(C=window.crypto),typeof self<"u"&&self.crypto&&(C=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(C=globalThis.crypto),!C&&typeof window<"u"&&window.msCrypto&&(C=window.msCrypto),!C&&typeof wx<"u"&&wx.crypto&&(C=wx.crypto),!C&&typeof pV=="function")try{C=xV}catch{}var r=function(){if(C){if(typeof C.getRandomValues=="function")try{return C.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof C.randomBytes=="function")try{return C.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||(function(){function p(){}return function(m){var y;return p.prototype=m,y=new p,p.prototype=null,y}})(),s={},a=s.lib={},g=a.Base=(function(){return{extend:function(p){var m=x(this);return p&&m.mixIn(p),(!m.hasOwnProperty("init")||this.init===m.init)&&(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var m in p)p.hasOwnProperty(m)&&(this[m]=p[m]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),c=a.WordArray=g.extend({init:function(p,m){p=this.words=p||[],m!=d?this.sigBytes=m:this.sigBytes=p.length*4},toString:function(p){return(p||l).stringify(this)},concat:function(p){var m=this.words,y=p.words,S=this.sigBytes,T=p.sigBytes;if(this.clamp(),S%4)for(var b=0;b<T;b++){var P=y[b>>>2]>>>24-b%4*8&255;m[S+b>>>2]|=P<<24-(S+b)%4*8}else for(var w=0;w<T;w+=4)m[S+w>>>2]=y[w>>>2];return this.sigBytes+=T,this},clamp:function(){var p=this.words,m=this.sigBytes;p[m>>>2]&=4294967295<<32-m%4*8,p.length=n.ceil(m/4)},clone:function(){var p=g.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var m=[],y=0;y<p;y+=4)m.push(r());return new c.init(m,p)}}),h=s.enc={},l=h.Hex={stringify:function(p){for(var m=p.words,y=p.sigBytes,S=[],T=0;T<y;T++){var b=m[T>>>2]>>>24-T%4*8&255;S.push((b>>>4).toString(16)),S.push((b&15).toString(16))}return S.join("")},parse:function(p){for(var m=p.length,y=[],S=0;S<m;S+=2)y[S>>>3]|=parseInt(p.substr(S,2),16)<<24-S%8*4;return new c.init(y,m/2)}},o=h.Latin1={stringify:function(p){for(var m=p.words,y=p.sigBytes,S=[],T=0;T<y;T++){var b=m[T>>>2]>>>24-T%4*8&255;S.push(String.fromCharCode(b))}return S.join("")},parse:function(p){for(var m=p.length,y=[],S=0;S<m;S++)y[S>>>2]|=(p.charCodeAt(S)&255)<<24-S%4*8;return new c.init(y,m)}},u=h.Utf8={stringify:function(p){try{return decodeURIComponent(escape(o.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return o.parse(unescape(encodeURIComponent(p)))}},v=a.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=u.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var m,y=this._data,S=y.words,T=y.sigBytes,b=this.blockSize,P=b*4,w=T/P;p?w=n.ceil(w):w=n.max((w|0)-this._minBufferSize,0);var A=w*b,R=n.min(A*4,T);if(A){for(var D=0;D<A;D+=b)this._doProcessBlock(S,D);m=S.splice(0,A),y.sigBytes-=R}return new c.init(m,R)},clone:function(){var p=g.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});a.Hasher=v.extend({cfg:g.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var m=this._doFinalize();return m},blockSize:16,_createHelper:function(p){return function(m,y){return new p.init(y).finalize(m)}},_createHmacHelper:function(p){return function(m,y){return new f.HMAC.init(p,y).finalize(m)}}});var f=s.algo={};return s})(Math);return i})})(Hv)),Hv.exports}var Yv={exports:{}},SV=Yv.exports,PE;function d2(){return PE||(PE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(SV,function(i){return(function(n){var d=i,C=d.lib,r=C.Base,x=C.WordArray,s=d.x64={};s.Word=r.extend({init:function(a,g){this.high=a,this.low=g}}),s.WordArray=r.extend({init:function(a,g){a=this.words=a||[],g!=n?this.sigBytes=g:this.sigBytes=a.length*8},toX32:function(){for(var a=this.words,g=a.length,c=[],h=0;h<g;h++){var l=a[h];c.push(l.high),c.push(l.low)}return x.create(c,this.sigBytes)},clone:function(){for(var a=r.clone.call(this),g=a.words=this.words.slice(0),c=g.length,h=0;h<c;h++)g[h]=g[h].clone();return a}})})(),i})})(Yv)),Yv.exports}var Wv={exports:{}},CV=Wv.exports,ME;function TV(){return ME||(ME=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(CV,function(i){return(function(){if(typeof ArrayBuffer=="function"){var n=i,d=n.lib,C=d.WordArray,r=C.init,x=C.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var a=s.byteLength,g=[],c=0;c<a;c++)g[c>>>2]|=s[c]<<24-c%4*8;r.call(this,g,a)}else r.apply(this,arguments)};x.prototype=C}})(),i.lib.WordArray})})(Wv)),Wv.exports}var $v={exports:{}},bV=$v.exports,AE;function EV(){return AE||(AE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(bV,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=n.enc;r.Utf16=r.Utf16BE={stringify:function(s){for(var a=s.words,g=s.sigBytes,c=[],h=0;h<g;h+=2){var l=a[h>>>2]>>>16-h%4*8&65535;c.push(String.fromCharCode(l))}return c.join("")},parse:function(s){for(var a=s.length,g=[],c=0;c<a;c++)g[c>>>1]|=s.charCodeAt(c)<<16-c%2*16;return C.create(g,a*2)}},r.Utf16LE={stringify:function(s){for(var a=s.words,g=s.sigBytes,c=[],h=0;h<g;h+=2){var l=x(a[h>>>2]>>>16-h%4*8&65535);c.push(String.fromCharCode(l))}return c.join("")},parse:function(s){for(var a=s.length,g=[],c=0;c<a;c++)g[c>>>1]|=x(s.charCodeAt(c)<<16-c%2*16);return C.create(g,a*2)}};function x(s){return s<<8&4278255360|s>>>8&16711935}})(),i.enc.Utf16})})($v)),$v.exports}var Kv={exports:{}},wV=Kv.exports,RE;function $0(){return RE||(RE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(wV,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=n.enc;r.Base64={stringify:function(s){var a=s.words,g=s.sigBytes,c=this._map;s.clamp();for(var h=[],l=0;l<g;l+=3)for(var o=a[l>>>2]>>>24-l%4*8&255,u=a[l+1>>>2]>>>24-(l+1)%4*8&255,v=a[l+2>>>2]>>>24-(l+2)%4*8&255,f=o<<16|u<<8|v,p=0;p<4&&l+p*.75<g;p++)h.push(c.charAt(f>>>6*(3-p)&63));var m=c.charAt(64);if(m)for(;h.length%4;)h.push(m);return h.join("")},parse:function(s){var a=s.length,g=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var h=0;h<g.length;h++)c[g.charCodeAt(h)]=h}var l=g.charAt(64);if(l){var o=s.indexOf(l);o!==-1&&(a=o)}return x(s,a,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(s,a,g){for(var c=[],h=0,l=0;l<a;l++)if(l%4){var o=g[s.charCodeAt(l-1)]<<l%4*2,u=g[s.charCodeAt(l)]>>>6-l%4*2,v=o|u;c[h>>>2]|=v<<24-h%4*8,h++}return C.create(c,h)}})(),i.enc.Base64})})(Kv)),Kv.exports}var Zv={exports:{}},PV=Zv.exports,OE;function MV(){return OE||(OE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(PV,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=n.enc;r.Base64url={stringify:function(s,a){a===void 0&&(a=!0);var g=s.words,c=s.sigBytes,h=a?this._safe_map:this._map;s.clamp();for(var l=[],o=0;o<c;o+=3)for(var u=g[o>>>2]>>>24-o%4*8&255,v=g[o+1>>>2]>>>24-(o+1)%4*8&255,f=g[o+2>>>2]>>>24-(o+2)%4*8&255,p=u<<16|v<<8|f,m=0;m<4&&o+m*.75<c;m++)l.push(h.charAt(p>>>6*(3-m)&63));var y=h.charAt(64);if(y)for(;l.length%4;)l.push(y);return l.join("")},parse:function(s,a){a===void 0&&(a=!0);var g=s.length,c=a?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var l=0;l<c.length;l++)h[c.charCodeAt(l)]=l}var o=c.charAt(64);if(o){var u=s.indexOf(o);u!==-1&&(g=u)}return x(s,g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(s,a,g){for(var c=[],h=0,l=0;l<a;l++)if(l%4){var o=g[s.charCodeAt(l-1)]<<l%4*2,u=g[s.charCodeAt(l)]>>>6-l%4*2,v=o|u;c[h>>>2]|=v<<24-h%4*8,h++}return C.create(c,h)}})(),i.enc.Base64url})})(Zv)),Zv.exports}var Jv={exports:{}},AV=Jv.exports,DE;function K0(){return DE||(DE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(AV,function(i){return(function(n){var d=i,C=d.lib,r=C.WordArray,x=C.Hasher,s=d.algo,a=[];(function(){for(var u=0;u<64;u++)a[u]=n.abs(n.sin(u+1))*4294967296|0})();var g=s.MD5=x.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(u,v){for(var f=0;f<16;f++){var p=v+f,m=u[p];u[p]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var y=this._hash.words,S=u[v+0],T=u[v+1],b=u[v+2],P=u[v+3],w=u[v+4],A=u[v+5],R=u[v+6],D=u[v+7],L=u[v+8],k=u[v+9],B=u[v+10],F=u[v+11],G=u[v+12],N=u[v+13],W=u[v+14],X=u[v+15],$=y[0],J=y[1],V=y[2],Y=y[3];$=c($,J,V,Y,S,7,a[0]),Y=c(Y,$,J,V,T,12,a[1]),V=c(V,Y,$,J,b,17,a[2]),J=c(J,V,Y,$,P,22,a[3]),$=c($,J,V,Y,w,7,a[4]),Y=c(Y,$,J,V,A,12,a[5]),V=c(V,Y,$,J,R,17,a[6]),J=c(J,V,Y,$,D,22,a[7]),$=c($,J,V,Y,L,7,a[8]),Y=c(Y,$,J,V,k,12,a[9]),V=c(V,Y,$,J,B,17,a[10]),J=c(J,V,Y,$,F,22,a[11]),$=c($,J,V,Y,G,7,a[12]),Y=c(Y,$,J,V,N,12,a[13]),V=c(V,Y,$,J,W,17,a[14]),J=c(J,V,Y,$,X,22,a[15]),$=h($,J,V,Y,T,5,a[16]),Y=h(Y,$,J,V,R,9,a[17]),V=h(V,Y,$,J,F,14,a[18]),J=h(J,V,Y,$,S,20,a[19]),$=h($,J,V,Y,A,5,a[20]),Y=h(Y,$,J,V,B,9,a[21]),V=h(V,Y,$,J,X,14,a[22]),J=h(J,V,Y,$,w,20,a[23]),$=h($,J,V,Y,k,5,a[24]),Y=h(Y,$,J,V,W,9,a[25]),V=h(V,Y,$,J,P,14,a[26]),J=h(J,V,Y,$,L,20,a[27]),$=h($,J,V,Y,N,5,a[28]),Y=h(Y,$,J,V,b,9,a[29]),V=h(V,Y,$,J,D,14,a[30]),J=h(J,V,Y,$,G,20,a[31]),$=l($,J,V,Y,A,4,a[32]),Y=l(Y,$,J,V,L,11,a[33]),V=l(V,Y,$,J,F,16,a[34]),J=l(J,V,Y,$,W,23,a[35]),$=l($,J,V,Y,T,4,a[36]),Y=l(Y,$,J,V,w,11,a[37]),V=l(V,Y,$,J,D,16,a[38]),J=l(J,V,Y,$,B,23,a[39]),$=l($,J,V,Y,N,4,a[40]),Y=l(Y,$,J,V,S,11,a[41]),V=l(V,Y,$,J,P,16,a[42]),J=l(J,V,Y,$,R,23,a[43]),$=l($,J,V,Y,k,4,a[44]),Y=l(Y,$,J,V,G,11,a[45]),V=l(V,Y,$,J,X,16,a[46]),J=l(J,V,Y,$,b,23,a[47]),$=o($,J,V,Y,S,6,a[48]),Y=o(Y,$,J,V,D,10,a[49]),V=o(V,Y,$,J,W,15,a[50]),J=o(J,V,Y,$,A,21,a[51]),$=o($,J,V,Y,G,6,a[52]),Y=o(Y,$,J,V,P,10,a[53]),V=o(V,Y,$,J,B,15,a[54]),J=o(J,V,Y,$,T,21,a[55]),$=o($,J,V,Y,L,6,a[56]),Y=o(Y,$,J,V,X,10,a[57]),V=o(V,Y,$,J,R,15,a[58]),J=o(J,V,Y,$,N,21,a[59]),$=o($,J,V,Y,w,6,a[60]),Y=o(Y,$,J,V,F,10,a[61]),V=o(V,Y,$,J,b,15,a[62]),J=o(J,V,Y,$,k,21,a[63]),y[0]=y[0]+$|0,y[1]=y[1]+J|0,y[2]=y[2]+V|0,y[3]=y[3]+Y|0},_doFinalize:function(){var u=this._data,v=u.words,f=this._nDataBytes*8,p=u.sigBytes*8;v[p>>>5]|=128<<24-p%32;var m=n.floor(f/4294967296),y=f;v[(p+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,v[(p+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,u.sigBytes=(v.length+1)*4,this._process();for(var S=this._hash,T=S.words,b=0;b<4;b++){var P=T[b];T[b]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return S},clone:function(){var u=x.clone.call(this);return u._hash=this._hash.clone(),u}});function c(u,v,f,p,m,y,S){var T=u+(v&f|~v&p)+m+S;return(T<<y|T>>>32-y)+v}function h(u,v,f,p,m,y,S){var T=u+(v&p|f&~p)+m+S;return(T<<y|T>>>32-y)+v}function l(u,v,f,p,m,y,S){var T=u+(v^f^p)+m+S;return(T<<y|T>>>32-y)+v}function o(u,v,f,p,m,y,S){var T=u+(f^(v|~p))+m+S;return(T<<y|T>>>32-y)+v}d.MD5=x._createHelper(g),d.HmacMD5=x._createHmacHelper(g)})(Math),i.MD5})})(Jv)),Jv.exports}var Qv={exports:{}},RV=Qv.exports,LE;function X9(){return LE||(LE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(RV,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=d.Hasher,x=n.algo,s=[],a=x.SHA1=r.extend({_doReset:function(){this._hash=new C.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,c){for(var h=this._hash.words,l=h[0],o=h[1],u=h[2],v=h[3],f=h[4],p=0;p<80;p++){if(p<16)s[p]=g[c+p]|0;else{var m=s[p-3]^s[p-8]^s[p-14]^s[p-16];s[p]=m<<1|m>>>31}var y=(l<<5|l>>>27)+f+s[p];p<20?y+=(o&u|~o&v)+1518500249:p<40?y+=(o^u^v)+1859775393:p<60?y+=(o&u|o&v|u&v)-1894007588:y+=(o^u^v)-899497514,f=v,v=u,u=o<<30|o>>>2,o=l,l=y}h[0]=h[0]+l|0,h[1]=h[1]+o|0,h[2]=h[2]+u|0,h[3]=h[3]+v|0,h[4]=h[4]+f|0},_doFinalize:function(){var g=this._data,c=g.words,h=this._nDataBytes*8,l=g.sigBytes*8;return c[l>>>5]|=128<<24-l%32,c[(l+64>>>9<<4)+14]=Math.floor(h/4294967296),c[(l+64>>>9<<4)+15]=h,g.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var g=r.clone.call(this);return g._hash=this._hash.clone(),g}});n.SHA1=r._createHelper(a),n.HmacSHA1=r._createHmacHelper(a)})(),i.SHA1})})(Qv)),Qv.exports}var jv={exports:{}},OV=jv.exports,FE;function Y4(){return FE||(FE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(OV,function(i){return(function(n){var d=i,C=d.lib,r=C.WordArray,x=C.Hasher,s=d.algo,a=[],g=[];(function(){function l(f){for(var p=n.sqrt(f),m=2;m<=p;m++)if(!(f%m))return!1;return!0}function o(f){return(f-(f|0))*4294967296|0}for(var u=2,v=0;v<64;)l(u)&&(v<8&&(a[v]=o(n.pow(u,1/2))),g[v]=o(n.pow(u,1/3)),v++),u++})();var c=[],h=s.SHA256=x.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(l,o){for(var u=this._hash.words,v=u[0],f=u[1],p=u[2],m=u[3],y=u[4],S=u[5],T=u[6],b=u[7],P=0;P<64;P++){if(P<16)c[P]=l[o+P]|0;else{var w=c[P-15],A=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,R=c[P-2],D=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;c[P]=A+c[P-7]+D+c[P-16]}var L=y&S^~y&T,k=v&f^v&p^f&p,B=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),F=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),G=b+F+L+g[P]+c[P],N=B+k;b=T,T=S,S=y,y=m+G|0,m=p,p=f,f=v,v=G+N|0}u[0]=u[0]+v|0,u[1]=u[1]+f|0,u[2]=u[2]+p|0,u[3]=u[3]+m|0,u[4]=u[4]+y|0,u[5]=u[5]+S|0,u[6]=u[6]+T|0,u[7]=u[7]+b|0},_doFinalize:function(){var l=this._data,o=l.words,u=this._nDataBytes*8,v=l.sigBytes*8;return o[v>>>5]|=128<<24-v%32,o[(v+64>>>9<<4)+14]=n.floor(u/4294967296),o[(v+64>>>9<<4)+15]=u,l.sigBytes=o.length*4,this._process(),this._hash},clone:function(){var l=x.clone.call(this);return l._hash=this._hash.clone(),l}});d.SHA256=x._createHelper(h),d.HmacSHA256=x._createHmacHelper(h)})(Math),i.SHA256})})(jv)),jv.exports}var qv={exports:{}},DV=qv.exports,BE;function LV(){return BE||(BE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),Y4())})(DV,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=n.algo,x=r.SHA256,s=r.SHA224=x.extend({_doReset:function(){this._hash=new C.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=x._doFinalize.call(this);return a.sigBytes-=4,a}});n.SHA224=x._createHelper(s),n.HmacSHA224=x._createHmacHelper(s)})(),i.SHA224})})(qv)),qv.exports}var _v={exports:{}},FV=_v.exports,IE;function H9(){return IE||(IE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),d2())})(FV,function(i){return(function(){var n=i,d=n.lib,C=d.Hasher,r=n.x64,x=r.Word,s=r.WordArray,a=n.algo;function g(){return x.create.apply(x,arguments)}var c=[g(1116352408,3609767458),g(1899447441,602891725),g(3049323471,3964484399),g(3921009573,2173295548),g(961987163,4081628472),g(1508970993,3053834265),g(2453635748,2937671579),g(2870763221,3664609560),g(3624381080,2734883394),g(310598401,1164996542),g(607225278,1323610764),g(1426881987,3590304994),g(1925078388,4068182383),g(2162078206,991336113),g(2614888103,633803317),g(3248222580,3479774868),g(3835390401,2666613458),g(4022224774,944711139),g(264347078,2341262773),g(604807628,2007800933),g(770255983,1495990901),g(1249150122,1856431235),g(1555081692,3175218132),g(1996064986,2198950837),g(2554220882,3999719339),g(2821834349,766784016),g(2952996808,2566594879),g(3210313671,3203337956),g(3336571891,1034457026),g(3584528711,2466948901),g(113926993,3758326383),g(338241895,168717936),g(666307205,1188179964),g(773529912,1546045734),g(1294757372,1522805485),g(1396182291,2643833823),g(1695183700,2343527390),g(1986661051,1014477480),g(2177026350,1206759142),g(2456956037,344077627),g(2730485921,1290863460),g(2820302411,3158454273),g(3259730800,3505952657),g(3345764771,106217008),g(3516065817,3606008344),g(3600352804,1432725776),g(4094571909,1467031594),g(275423344,851169720),g(430227734,3100823752),g(506948616,1363258195),g(659060556,3750685593),g(883997877,3785050280),g(958139571,3318307427),g(1322822218,3812723403),g(1537002063,2003034995),g(1747873779,3602036899),g(1955562222,1575990012),g(2024104815,1125592928),g(2227730452,2716904306),g(2361852424,442776044),g(2428436474,593698344),g(2756734187,3733110249),g(3204031479,2999351573),g(3329325298,3815920427),g(3391569614,3928383900),g(3515267271,566280711),g(3940187606,3454069534),g(4118630271,4000239992),g(116418474,1914138554),g(174292421,2731055270),g(289380356,3203993006),g(460393269,320620315),g(685471733,587496836),g(852142971,1086792851),g(1017036298,365543100),g(1126000580,2618297676),g(1288033470,3409855158),g(1501505948,4234509866),g(1607167915,987167468),g(1816402316,1246189591)],h=[];(function(){for(var o=0;o<80;o++)h[o]=g()})();var l=a.SHA512=C.extend({_doReset:function(){this._hash=new s.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(o,u){for(var v=this._hash.words,f=v[0],p=v[1],m=v[2],y=v[3],S=v[4],T=v[5],b=v[6],P=v[7],w=f.high,A=f.low,R=p.high,D=p.low,L=m.high,k=m.low,B=y.high,F=y.low,G=S.high,N=S.low,W=T.high,X=T.low,$=b.high,J=b.low,V=P.high,Y=P.low,z=w,K=A,H=R,Q=D,j=L,q=k,tt=B,st=F,nt=G,at=N,ot=W,mt=X,St=$,Ct=J,kt=V,Vt=Y,It=0;It<80;It++){var yt,Lt,Ft=h[It];if(It<16)Lt=Ft.high=o[u+It*2]|0,yt=Ft.low=o[u+It*2+1]|0;else{var $t=h[It-15],Jt=$t.high,jt=$t.low,Zt=(Jt>>>1|jt<<31)^(Jt>>>8|jt<<24)^Jt>>>7,Yt=(jt>>>1|Jt<<31)^(jt>>>8|Jt<<24)^(jt>>>7|Jt<<25),ke=h[It-2],ze=ke.high,ce=ke.low,Ae=(ze>>>19|ce<<13)^(ze<<3|ce>>>29)^ze>>>6,Re=(ce>>>19|ze<<13)^(ce<<3|ze>>>29)^(ce>>>6|ze<<26),Ve=h[It-7],Bi=Ve.high,Yi=Ve.low,ve=h[It-16],fi=ve.high,us=ve.low;yt=Yt+Yi,Lt=Zt+Bi+(yt>>>0<Yt>>>0?1:0),yt=yt+Re,Lt=Lt+Ae+(yt>>>0<Re>>>0?1:0),yt=yt+us,Lt=Lt+fi+(yt>>>0<us>>>0?1:0),Ft.high=Lt,Ft.low=yt}var ba=nt&ot^~nt&St,or=at&mt^~at&Ct,gg=z&H^z&j^H&j,Qf=K&Q^K&q^Q&q,jf=(z>>>28|K<<4)^(z<<30|K>>>2)^(z<<25|K>>>7),nl=(K>>>28|z<<4)^(K<<30|z>>>2)^(K<<25|z>>>7),ou=(nt>>>14|at<<18)^(nt>>>18|at<<14)^(nt<<23|at>>>9),qf=(at>>>14|nt<<18)^(at>>>18|nt<<14)^(at<<23|nt>>>9),_f=c[It],lr=_f.high,Ii=_f.low,Ye=Vt+qf,Cs=kt+ou+(Ye>>>0<Vt>>>0?1:0),Ye=Ye+or,Cs=Cs+ba+(Ye>>>0<or>>>0?1:0),Ye=Ye+Ii,Cs=Cs+lr+(Ye>>>0<Ii>>>0?1:0),Ye=Ye+yt,Cs=Cs+Lt+(Ye>>>0<yt>>>0?1:0),rl=nl+Qf,mg=jf+gg+(rl>>>0<nl>>>0?1:0);kt=St,Vt=Ct,St=ot,Ct=mt,ot=nt,mt=at,at=st+Ye|0,nt=tt+Cs+(at>>>0<st>>>0?1:0)|0,tt=j,st=q,j=H,q=Q,H=z,Q=K,K=Ye+rl|0,z=Cs+mg+(K>>>0<Ye>>>0?1:0)|0}A=f.low=A+K,f.high=w+z+(A>>>0<K>>>0?1:0),D=p.low=D+Q,p.high=R+H+(D>>>0<Q>>>0?1:0),k=m.low=k+q,m.high=L+j+(k>>>0<q>>>0?1:0),F=y.low=F+st,y.high=B+tt+(F>>>0<st>>>0?1:0),N=S.low=N+at,S.high=G+nt+(N>>>0<at>>>0?1:0),X=T.low=X+mt,T.high=W+ot+(X>>>0<mt>>>0?1:0),J=b.low=J+Ct,b.high=$+St+(J>>>0<Ct>>>0?1:0),Y=P.low=Y+Vt,P.high=V+kt+(Y>>>0<Vt>>>0?1:0)},_doFinalize:function(){var o=this._data,u=o.words,v=this._nDataBytes*8,f=o.sigBytes*8;u[f>>>5]|=128<<24-f%32,u[(f+128>>>10<<5)+30]=Math.floor(v/4294967296),u[(f+128>>>10<<5)+31]=v,o.sigBytes=u.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var o=C.clone.call(this);return o._hash=this._hash.clone(),o},blockSize:1024/32});n.SHA512=C._createHelper(l),n.HmacSHA512=C._createHmacHelper(l)})(),i.SHA512})})(_v)),_v.exports}var tp={exports:{}},BV=tp.exports,kE;function IV(){return kE||(kE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),d2(),H9())})(BV,function(i){return(function(){var n=i,d=n.x64,C=d.Word,r=d.WordArray,x=n.algo,s=x.SHA512,a=x.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var g=s._doFinalize.call(this);return g.sigBytes-=16,g}});n.SHA384=s._createHelper(a),n.HmacSHA384=s._createHmacHelper(a)})(),i.SHA384})})(tp)),tp.exports}var ep={exports:{}},kV=ep.exports,GE;function GV(){return GE||(GE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),d2())})(kV,function(i){return(function(n){var d=i,C=d.lib,r=C.WordArray,x=C.Hasher,s=d.x64,a=s.Word,g=d.algo,c=[],h=[],l=[];(function(){for(var v=1,f=0,p=0;p<24;p++){c[v+5*f]=(p+1)*(p+2)/2%64;var m=f%5,y=(2*v+3*f)%5;v=m,f=y}for(var v=0;v<5;v++)for(var f=0;f<5;f++)h[v+5*f]=f+(2*v+3*f)%5*5;for(var S=1,T=0;T<24;T++){for(var b=0,P=0,w=0;w<7;w++){if(S&1){var A=(1<<w)-1;A<32?P^=1<<A:b^=1<<A-32}S&128?S=S<<1^113:S<<=1}l[T]=a.create(b,P)}})();var o=[];(function(){for(var v=0;v<25;v++)o[v]=a.create()})();var u=g.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],f=0;f<25;f++)v[f]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,f){for(var p=this._state,m=this.blockSize/2,y=0;y<m;y++){var S=v[f+2*y],T=v[f+2*y+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360;var b=p[y];b.high^=T,b.low^=S}for(var P=0;P<24;P++){for(var w=0;w<5;w++){for(var A=0,R=0,D=0;D<5;D++){var b=p[w+5*D];A^=b.high,R^=b.low}var L=o[w];L.high=A,L.low=R}for(var w=0;w<5;w++)for(var k=o[(w+4)%5],B=o[(w+1)%5],F=B.high,G=B.low,A=k.high^(F<<1|G>>>31),R=k.low^(G<<1|F>>>31),D=0;D<5;D++){var b=p[w+5*D];b.high^=A,b.low^=R}for(var N=1;N<25;N++){var A,R,b=p[N],W=b.high,X=b.low,$=c[N];$<32?(A=W<<$|X>>>32-$,R=X<<$|W>>>32-$):(A=X<<$-32|W>>>64-$,R=W<<$-32|X>>>64-$);var J=o[h[N]];J.high=A,J.low=R}var V=o[0],Y=p[0];V.high=Y.high,V.low=Y.low;for(var w=0;w<5;w++)for(var D=0;D<5;D++){var N=w+5*D,b=p[N],z=o[N],K=o[(w+1)%5+5*D],H=o[(w+2)%5+5*D];b.high=z.high^~K.high&H.high,b.low=z.low^~K.low&H.low}var b=p[0],Q=l[P];b.high^=Q.high,b.low^=Q.low}},_doFinalize:function(){var v=this._data,f=v.words;this._nDataBytes*8;var p=v.sigBytes*8,m=this.blockSize*32;f[p>>>5]|=1<<24-p%32,f[(n.ceil((p+1)/m)*m>>>5)-1]|=128,v.sigBytes=f.length*4,this._process();for(var y=this._state,S=this.cfg.outputLength/8,T=S/8,b=[],P=0;P<T;P++){var w=y[P],A=w.high,R=w.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,b.push(R),b.push(A)}return new r.init(b,S)},clone:function(){for(var v=x.clone.call(this),f=v._state=this._state.slice(0),p=0;p<25;p++)f[p]=f[p].clone();return v}});d.SHA3=x._createHelper(u),d.HmacSHA3=x._createHmacHelper(u)})(Math),i.SHA3})})(ep)),ep.exports}var ip={exports:{}},NV=ip.exports,NE;function VV(){return NE||(NE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(NV,function(i){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(n){var d=i,C=d.lib,r=C.WordArray,x=C.Hasher,s=d.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),g=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=r.create([0,1518500249,1859775393,2400959708,2840853838]),o=r.create([1352829926,1548603684,1836072691,2053994217,0]),u=s.RIPEMD160=x.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(T,b){for(var P=0;P<16;P++){var w=b+P,A=T[w];T[w]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var R=this._hash.words,D=l.words,L=o.words,k=a.words,B=g.words,F=c.words,G=h.words,N,W,X,$,J,V,Y,z,K,H;V=N=R[0],Y=W=R[1],z=X=R[2],K=$=R[3],H=J=R[4];for(var Q,P=0;P<80;P+=1)Q=N+T[b+k[P]]|0,P<16?Q+=v(W,X,$)+D[0]:P<32?Q+=f(W,X,$)+D[1]:P<48?Q+=p(W,X,$)+D[2]:P<64?Q+=m(W,X,$)+D[3]:Q+=y(W,X,$)+D[4],Q=Q|0,Q=S(Q,F[P]),Q=Q+J|0,N=J,J=$,$=S(X,10),X=W,W=Q,Q=V+T[b+B[P]]|0,P<16?Q+=y(Y,z,K)+L[0]:P<32?Q+=m(Y,z,K)+L[1]:P<48?Q+=p(Y,z,K)+L[2]:P<64?Q+=f(Y,z,K)+L[3]:Q+=v(Y,z,K)+L[4],Q=Q|0,Q=S(Q,G[P]),Q=Q+H|0,V=H,H=K,K=S(z,10),z=Y,Y=Q;Q=R[1]+X+K|0,R[1]=R[2]+$+H|0,R[2]=R[3]+J+V|0,R[3]=R[4]+N+Y|0,R[4]=R[0]+W+z|0,R[0]=Q},_doFinalize:function(){var T=this._data,b=T.words,P=this._nDataBytes*8,w=T.sigBytes*8;b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.sigBytes=(b.length+1)*4,this._process();for(var A=this._hash,R=A.words,D=0;D<5;D++){var L=R[D];R[D]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return A},clone:function(){var T=x.clone.call(this);return T._hash=this._hash.clone(),T}});function v(T,b,P){return T^b^P}function f(T,b,P){return T&b|~T&P}function p(T,b,P){return(T|~b)^P}function m(T,b,P){return T&P|b&~P}function y(T,b,P){return T^(b|~P)}function S(T,b){return T<<b|T>>>32-b}d.RIPEMD160=x._createHelper(u),d.HmacRIPEMD160=x._createHmacHelper(u)})(),i.RIPEMD160})})(ip)),ip.exports}var sp={exports:{}},zV=sp.exports,VE;function W4(){return VE||(VE=1,(function(e,t){(function(i,n){e.exports=n(Ee())})(zV,function(i){(function(){var n=i,d=n.lib,C=d.Base,r=n.enc,x=r.Utf8,s=n.algo;s.HMAC=C.extend({init:function(a,g){a=this._hasher=new a.init,typeof g=="string"&&(g=x.parse(g));var c=a.blockSize,h=c*4;g.sigBytes>h&&(g=a.finalize(g)),g.clamp();for(var l=this._oKey=g.clone(),o=this._iKey=g.clone(),u=l.words,v=o.words,f=0;f<c;f++)u[f]^=1549556828,v[f]^=909522486;l.sigBytes=o.sigBytes=h,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var g=this._hasher,c=g.finalize(a);g.reset();var h=g.finalize(this._oKey.clone().concat(c));return h}})})()})})(sp)),sp.exports}var np={exports:{}},UV=np.exports,zE;function XV(){return zE||(zE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),Y4(),W4())})(UV,function(i){return(function(){var n=i,d=n.lib,C=d.Base,r=d.WordArray,x=n.algo,s=x.SHA256,a=x.HMAC,g=x.PBKDF2=C.extend({cfg:C.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var l=this.cfg,o=a.create(l.hasher,c),u=r.create(),v=r.create([1]),f=u.words,p=v.words,m=l.keySize,y=l.iterations;f.length<m;){var S=o.update(h).finalize(v);o.reset();for(var T=S.words,b=T.length,P=S,w=1;w<y;w++){P=o.finalize(P),o.reset();for(var A=P.words,R=0;R<b;R++)T[R]^=A[R]}u.concat(S),p[0]++}return u.sigBytes=m*4,u}});n.PBKDF2=function(c,h,l){return g.create(l).compute(c,h)}})(),i.PBKDF2})})(np)),np.exports}var rp={exports:{}},HV=rp.exports,UE;function Uo(){return UE||(UE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),X9(),W4())})(HV,function(i){return(function(){var n=i,d=n.lib,C=d.Base,r=d.WordArray,x=n.algo,s=x.MD5,a=x.EvpKDF=C.extend({cfg:C.extend({keySize:128/32,hasher:s,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,c){for(var h,l=this.cfg,o=l.hasher.create(),u=r.create(),v=u.words,f=l.keySize,p=l.iterations;v.length<f;){h&&o.update(h),h=o.update(g).finalize(c),o.reset();for(var m=1;m<p;m++)h=o.finalize(h),o.reset();u.concat(h)}return u.sigBytes=f*4,u}});n.EvpKDF=function(g,c,h){return a.create(h).compute(g,c)}})(),i.EvpKDF})})(rp)),rp.exports}var ap={exports:{}},YV=ap.exports,XE;function es(){return XE||(XE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),Uo())})(YV,function(i){i.lib.Cipher||(function(n){var d=i,C=d.lib,r=C.Base,x=C.WordArray,s=C.BufferedBlockAlgorithm,a=d.enc;a.Utf8;var g=a.Base64,c=d.algo,h=c.EvpKDF,l=C.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(A,R){return this.create(this._ENC_XFORM_MODE,A,R)},createDecryptor:function(A,R){return this.create(this._DEC_XFORM_MODE,A,R)},init:function(A,R,D){this.cfg=this.cfg.extend(D),this._xformMode=A,this._key=R,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function A(R){return typeof R=="string"?w:T}return function(R){return{encrypt:function(D,L,k){return A(L).encrypt(R,D,L,k)},decrypt:function(D,L,k){return A(L).decrypt(R,D,L,k)}}}})()});C.StreamCipher=l.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var o=d.mode={},u=C.BlockCipherMode=r.extend({createEncryptor:function(A,R){return this.Encryptor.create(A,R)},createDecryptor:function(A,R){return this.Decryptor.create(A,R)},init:function(A,R){this._cipher=A,this._iv=R}}),v=o.CBC=(function(){var A=u.extend();A.Encryptor=A.extend({processBlock:function(D,L){var k=this._cipher,B=k.blockSize;R.call(this,D,L,B),k.encryptBlock(D,L),this._prevBlock=D.slice(L,L+B)}}),A.Decryptor=A.extend({processBlock:function(D,L){var k=this._cipher,B=k.blockSize,F=D.slice(L,L+B);k.decryptBlock(D,L),R.call(this,D,L,B),this._prevBlock=F}});function R(D,L,k){var B,F=this._iv;F?(B=F,this._iv=n):B=this._prevBlock;for(var G=0;G<k;G++)D[L+G]^=B[G]}return A})(),f=d.pad={},p=f.Pkcs7={pad:function(A,R){for(var D=R*4,L=D-A.sigBytes%D,k=L<<24|L<<16|L<<8|L,B=[],F=0;F<L;F+=4)B.push(k);var G=x.create(B,L);A.concat(G)},unpad:function(A){var R=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=R}};C.BlockCipher=l.extend({cfg:l.cfg.extend({mode:v,padding:p}),reset:function(){var A;l.reset.call(this);var R=this.cfg,D=R.iv,L=R.mode;this._xformMode==this._ENC_XFORM_MODE?A=L.createEncryptor:(A=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,D&&D.words):(this._mode=A.call(L,this,D&&D.words),this._mode.__creator=A)},_doProcessBlock:function(A,R){this._mode.processBlock(A,R)},_doFinalize:function(){var A,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),R.unpad(A)),A},blockSize:128/32});var m=C.CipherParams=r.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),y=d.format={},S=y.OpenSSL={stringify:function(A){var R,D=A.ciphertext,L=A.salt;return L?R=x.create([1398893684,1701076831]).concat(L).concat(D):R=D,R.toString(g)},parse:function(A){var R,D=g.parse(A),L=D.words;return L[0]==1398893684&&L[1]==1701076831&&(R=x.create(L.slice(2,4)),L.splice(0,4),D.sigBytes-=16),m.create({ciphertext:D,salt:R})}},T=C.SerializableCipher=r.extend({cfg:r.extend({format:S}),encrypt:function(A,R,D,L){L=this.cfg.extend(L);var k=A.createEncryptor(D,L),B=k.finalize(R),F=k.cfg;return m.create({ciphertext:B,key:D,iv:F.iv,algorithm:A,mode:F.mode,padding:F.padding,blockSize:A.blockSize,formatter:L.format})},decrypt:function(A,R,D,L){L=this.cfg.extend(L),R=this._parse(R,L.format);var k=A.createDecryptor(D,L).finalize(R.ciphertext);return k},_parse:function(A,R){return typeof A=="string"?R.parse(A,this):A}}),b=d.kdf={},P=b.OpenSSL={execute:function(A,R,D,L,k){if(L||(L=x.random(64/8)),k)var B=h.create({keySize:R+D,hasher:k}).compute(A,L);else var B=h.create({keySize:R+D}).compute(A,L);var F=x.create(B.words.slice(R),D*4);return B.sigBytes=R*4,m.create({key:B,iv:F,salt:L})}},w=C.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:P}),encrypt:function(A,R,D,L){L=this.cfg.extend(L);var k=L.kdf.execute(D,A.keySize,A.ivSize,L.salt,L.hasher);L.iv=k.iv;var B=T.encrypt.call(this,A,R,k.key,L);return B.mixIn(k),B},decrypt:function(A,R,D,L){L=this.cfg.extend(L),R=this._parse(R,L.format);var k=L.kdf.execute(D,A.keySize,A.ivSize,R.salt,L.hasher);L.iv=k.iv;var B=T.decrypt.call(this,A,R,k.key,L);return B}})})()})})(ap)),ap.exports}var op={exports:{}},WV=op.exports,HE;function $V(){return HE||(HE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(WV,function(i){return i.mode.CFB=(function(){var n=i.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(C,r){var x=this._cipher,s=x.blockSize;d.call(this,C,r,s,x),this._prevBlock=C.slice(r,r+s)}}),n.Decryptor=n.extend({processBlock:function(C,r){var x=this._cipher,s=x.blockSize,a=C.slice(r,r+s);d.call(this,C,r,s,x),this._prevBlock=a}});function d(C,r,x,s){var a,g=this._iv;g?(a=g.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var c=0;c<x;c++)C[r+c]^=a[c]}return n})(),i.mode.CFB})})(op)),op.exports}var lp={exports:{}},KV=lp.exports,YE;function ZV(){return YE||(YE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(KV,function(i){return i.mode.CTR=(function(){var n=i.lib.BlockCipherMode.extend(),d=n.Encryptor=n.extend({processBlock:function(C,r){var x=this._cipher,s=x.blockSize,a=this._iv,g=this._counter;a&&(g=this._counter=a.slice(0),this._iv=void 0);var c=g.slice(0);x.encryptBlock(c,0),g[s-1]=g[s-1]+1|0;for(var h=0;h<s;h++)C[r+h]^=c[h]}});return n.Decryptor=d,n})(),i.mode.CTR})})(lp)),lp.exports}var hp={exports:{}},JV=hp.exports,WE;function QV(){return WE||(WE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(JV,function(i){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return i.mode.CTRGladman=(function(){var n=i.lib.BlockCipherMode.extend();function d(x){if((x>>24&255)===255){var s=x>>16&255,a=x>>8&255,g=x&255;s===255?(s=0,a===255?(a=0,g===255?g=0:++g):++a):++s,x=0,x+=s<<16,x+=a<<8,x+=g}else x+=1<<24;return x}function C(x){return(x[0]=d(x[0]))===0&&(x[1]=d(x[1])),x}var r=n.Encryptor=n.extend({processBlock:function(x,s){var a=this._cipher,g=a.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0),C(h);var l=h.slice(0);a.encryptBlock(l,0);for(var o=0;o<g;o++)x[s+o]^=l[o]}});return n.Decryptor=r,n})(),i.mode.CTRGladman})})(hp)),hp.exports}var up={exports:{}},jV=up.exports,$E;function qV(){return $E||($E=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(jV,function(i){return i.mode.OFB=(function(){var n=i.lib.BlockCipherMode.extend(),d=n.Encryptor=n.extend({processBlock:function(C,r){var x=this._cipher,s=x.blockSize,a=this._iv,g=this._keystream;a&&(g=this._keystream=a.slice(0),this._iv=void 0),x.encryptBlock(g,0);for(var c=0;c<s;c++)C[r+c]^=g[c]}});return n.Decryptor=d,n})(),i.mode.OFB})})(up)),up.exports}var dp={exports:{}},_V=dp.exports,KE;function tz(){return KE||(KE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(_V,function(i){return i.mode.ECB=(function(){var n=i.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(d,C){this._cipher.encryptBlock(d,C)}}),n.Decryptor=n.extend({processBlock:function(d,C){this._cipher.decryptBlock(d,C)}}),n})(),i.mode.ECB})})(dp)),dp.exports}var fp={exports:{}},ez=fp.exports,ZE;function iz(){return ZE||(ZE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(ez,function(i){return i.pad.AnsiX923={pad:function(n,d){var C=n.sigBytes,r=d*4,x=r-C%r,s=C+x-1;n.clamp(),n.words[s>>>2]|=x<<24-s%4*8,n.sigBytes+=x},unpad:function(n){var d=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=d}},i.pad.Ansix923})})(fp)),fp.exports}var cp={exports:{}},sz=cp.exports,JE;function nz(){return JE||(JE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(sz,function(i){return i.pad.Iso10126={pad:function(n,d){var C=d*4,r=C-n.sigBytes%C;n.concat(i.lib.WordArray.random(r-1)).concat(i.lib.WordArray.create([r<<24],1))},unpad:function(n){var d=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=d}},i.pad.Iso10126})})(cp)),cp.exports}var vp={exports:{}},rz=vp.exports,QE;function az(){return QE||(QE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(rz,function(i){return i.pad.Iso97971={pad:function(n,d){n.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(n,d)},unpad:function(n){i.pad.ZeroPadding.unpad(n),n.sigBytes--}},i.pad.Iso97971})})(vp)),vp.exports}var pp={exports:{}},oz=pp.exports,jE;function lz(){return jE||(jE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(oz,function(i){return i.pad.ZeroPadding={pad:function(n,d){var C=d*4;n.clamp(),n.sigBytes+=C-(n.sigBytes%C||C)},unpad:function(n){for(var d=n.words,C=n.sigBytes-1,C=n.sigBytes-1;C>=0;C--)if(d[C>>>2]>>>24-C%4*8&255){n.sigBytes=C+1;break}}},i.pad.ZeroPadding})})(pp)),pp.exports}var gp={exports:{}},hz=gp.exports,qE;function uz(){return qE||(qE=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(hz,function(i){return i.pad.NoPadding={pad:function(){},unpad:function(){}},i.pad.NoPadding})})(gp)),gp.exports}var mp={exports:{}},dz=mp.exports,_E;function fz(){return _E||(_E=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),es())})(dz,function(i){return(function(n){var d=i,C=d.lib,r=C.CipherParams,x=d.enc,s=x.Hex,a=d.format;a.Hex={stringify:function(g){return g.ciphertext.toString(s)},parse:function(g){var c=s.parse(g);return r.create({ciphertext:c})}}})(),i.format.Hex})})(mp)),mp.exports}var xp={exports:{}},cz=xp.exports,tw;function vz(){return tw||(tw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(cz,function(i){return(function(){var n=i,d=n.lib,C=d.BlockCipher,r=n.algo,x=[],s=[],a=[],g=[],c=[],h=[],l=[],o=[],u=[],v=[];(function(){for(var m=[],y=0;y<256;y++)y<128?m[y]=y<<1:m[y]=y<<1^283;for(var S=0,T=0,y=0;y<256;y++){var b=T^T<<1^T<<2^T<<3^T<<4;b=b>>>8^b&255^99,x[S]=b,s[b]=S;var P=m[S],w=m[P],A=m[w],R=m[b]*257^b*16843008;a[S]=R<<24|R>>>8,g[S]=R<<16|R>>>16,c[S]=R<<8|R>>>24,h[S]=R;var R=A*16843009^w*65537^P*257^S*16843008;l[b]=R<<24|R>>>8,o[b]=R<<16|R>>>16,u[b]=R<<8|R>>>24,v[b]=R,S?(S=P^m[m[m[A^P]]],T^=m[m[T]]):S=T=1}})();var f=[0,1,2,4,8,16,32,64,128,27,54],p=r.AES=C.extend({_doReset:function(){var m;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,S=y.words,T=y.sigBytes/4,b=this._nRounds=T+6,P=(b+1)*4,w=this._keySchedule=[],A=0;A<P;A++)A<T?w[A]=S[A]:(m=w[A-1],A%T?T>6&&A%T==4&&(m=x[m>>>24]<<24|x[m>>>16&255]<<16|x[m>>>8&255]<<8|x[m&255]):(m=m<<8|m>>>24,m=x[m>>>24]<<24|x[m>>>16&255]<<16|x[m>>>8&255]<<8|x[m&255],m^=f[A/T|0]<<24),w[A]=w[A-T]^m);for(var R=this._invKeySchedule=[],D=0;D<P;D++){var A=P-D;if(D%4)var m=w[A];else var m=w[A-4];D<4||A<=4?R[D]=m:R[D]=l[x[m>>>24]]^o[x[m>>>16&255]]^u[x[m>>>8&255]]^v[x[m&255]]}}},encryptBlock:function(m,y){this._doCryptBlock(m,y,this._keySchedule,a,g,c,h,x)},decryptBlock:function(m,y){var S=m[y+1];m[y+1]=m[y+3],m[y+3]=S,this._doCryptBlock(m,y,this._invKeySchedule,l,o,u,v,s);var S=m[y+1];m[y+1]=m[y+3],m[y+3]=S},_doCryptBlock:function(m,y,S,T,b,P,w,A){for(var R=this._nRounds,D=m[y]^S[0],L=m[y+1]^S[1],k=m[y+2]^S[2],B=m[y+3]^S[3],F=4,G=1;G<R;G++){var N=T[D>>>24]^b[L>>>16&255]^P[k>>>8&255]^w[B&255]^S[F++],W=T[L>>>24]^b[k>>>16&255]^P[B>>>8&255]^w[D&255]^S[F++],X=T[k>>>24]^b[B>>>16&255]^P[D>>>8&255]^w[L&255]^S[F++],$=T[B>>>24]^b[D>>>16&255]^P[L>>>8&255]^w[k&255]^S[F++];D=N,L=W,k=X,B=$}var N=(A[D>>>24]<<24|A[L>>>16&255]<<16|A[k>>>8&255]<<8|A[B&255])^S[F++],W=(A[L>>>24]<<24|A[k>>>16&255]<<16|A[B>>>8&255]<<8|A[D&255])^S[F++],X=(A[k>>>24]<<24|A[B>>>16&255]<<16|A[D>>>8&255]<<8|A[L&255])^S[F++],$=(A[B>>>24]<<24|A[D>>>16&255]<<16|A[L>>>8&255]<<8|A[k&255])^S[F++];m[y]=N,m[y+1]=W,m[y+2]=X,m[y+3]=$},keySize:256/32});n.AES=C._createHelper(p)})(),i.AES})})(xp)),xp.exports}var yp={exports:{}},pz=yp.exports,ew;function gz(){return ew||(ew=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(pz,function(i){return(function(){var n=i,d=n.lib,C=d.WordArray,r=d.BlockCipher,x=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],g=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=x.DES=r.extend({_doReset:function(){for(var f=this._key,p=f.words,m=[],y=0;y<56;y++){var S=s[y]-1;m[y]=p[S>>>5]>>>31-S%32&1}for(var T=this._subKeys=[],b=0;b<16;b++){for(var P=T[b]=[],w=g[b],y=0;y<24;y++)P[y/6|0]|=m[(a[y]-1+w)%28]<<31-y%6,P[4+(y/6|0)]|=m[28+(a[y+24]-1+w)%28]<<31-y%6;P[0]=P[0]<<1|P[0]>>>31;for(var y=1;y<7;y++)P[y]=P[y]>>>(y-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var A=this._invSubKeys=[],y=0;y<16;y++)A[y]=T[15-y]},encryptBlock:function(f,p){this._doCryptBlock(f,p,this._subKeys)},decryptBlock:function(f,p){this._doCryptBlock(f,p,this._invSubKeys)},_doCryptBlock:function(f,p,m){this._lBlock=f[p],this._rBlock=f[p+1],o.call(this,4,252645135),o.call(this,16,65535),u.call(this,2,858993459),u.call(this,8,16711935),o.call(this,1,1431655765);for(var y=0;y<16;y++){for(var S=m[y],T=this._lBlock,b=this._rBlock,P=0,w=0;w<8;w++)P|=c[w][((b^S[w])&h[w])>>>0];this._lBlock=b,this._rBlock=T^P}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,o.call(this,1,1431655765),u.call(this,8,16711935),u.call(this,2,858993459),o.call(this,16,65535),o.call(this,4,252645135),f[p]=this._lBlock,f[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function o(f,p){var m=(this._lBlock>>>f^this._rBlock)&p;this._rBlock^=m,this._lBlock^=m<<f}function u(f,p){var m=(this._rBlock>>>f^this._lBlock)&p;this._lBlock^=m,this._rBlock^=m<<f}n.DES=r._createHelper(l);var v=x.TripleDES=r.extend({_doReset:function(){var f=this._key,p=f.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=p.slice(0,2),y=p.length<4?p.slice(0,2):p.slice(2,4),S=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=l.createEncryptor(C.create(m)),this._des2=l.createEncryptor(C.create(y)),this._des3=l.createEncryptor(C.create(S))},encryptBlock:function(f,p){this._des1.encryptBlock(f,p),this._des2.decryptBlock(f,p),this._des3.encryptBlock(f,p)},decryptBlock:function(f,p){this._des3.decryptBlock(f,p),this._des2.encryptBlock(f,p),this._des1.decryptBlock(f,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=r._createHelper(v)})(),i.TripleDES})})(yp)),yp.exports}var Sp={exports:{}},mz=Sp.exports,iw;function xz(){return iw||(iw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(mz,function(i){return(function(){var n=i,d=n.lib,C=d.StreamCipher,r=n.algo,x=r.RC4=C.extend({_doReset:function(){for(var g=this._key,c=g.words,h=g.sigBytes,l=this._S=[],o=0;o<256;o++)l[o]=o;for(var o=0,u=0;o<256;o++){var v=o%h,f=c[v>>>2]>>>24-v%4*8&255;u=(u+l[o]+f)%256;var p=l[o];l[o]=l[u],l[u]=p}this._i=this._j=0},_doProcessBlock:function(g,c){g[c]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var g=this._S,c=this._i,h=this._j,l=0,o=0;o<4;o++){c=(c+1)%256,h=(h+g[c])%256;var u=g[c];g[c]=g[h],g[h]=u,l|=g[(g[c]+g[h])%256]<<24-o*8}return this._i=c,this._j=h,l}n.RC4=C._createHelper(x);var a=r.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var g=this.cfg.drop;g>0;g--)s.call(this)}});n.RC4Drop=C._createHelper(a)})(),i.RC4})})(Sp)),Sp.exports}var Cp={exports:{}},yz=Cp.exports,sw;function Sz(){return sw||(sw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(yz,function(i){return(function(){var n=i,d=n.lib,C=d.StreamCipher,r=n.algo,x=[],s=[],a=[],g=r.Rabbit=C.extend({_doReset:function(){for(var h=this._key.words,l=this.cfg.iv,o=0;o<4;o++)h[o]=(h[o]<<8|h[o]>>>24)&16711935|(h[o]<<24|h[o]>>>8)&4278255360;var u=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var o=0;o<4;o++)c.call(this);for(var o=0;o<8;o++)v[o]^=u[o+4&7];if(l){var f=l.words,p=f[0],m=f[1],y=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,S=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,T=y>>>16|S&4294901760,b=S<<16|y&65535;v[0]^=y,v[1]^=T,v[2]^=S,v[3]^=b,v[4]^=y,v[5]^=T,v[6]^=S,v[7]^=b;for(var o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(h,l){var o=this._X;c.call(this),x[0]=o[0]^o[5]>>>16^o[3]<<16,x[1]=o[2]^o[7]>>>16^o[5]<<16,x[2]=o[4]^o[1]>>>16^o[7]<<16,x[3]=o[6]^o[3]>>>16^o[1]<<16;for(var u=0;u<4;u++)x[u]=(x[u]<<8|x[u]>>>24)&16711935|(x[u]<<24|x[u]>>>8)&4278255360,h[l+u]^=x[u]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,l=this._C,o=0;o<8;o++)s[o]=l[o];l[0]=l[0]+1295307597+this._b|0,l[1]=l[1]+3545052371+(l[0]>>>0<s[0]>>>0?1:0)|0,l[2]=l[2]+886263092+(l[1]>>>0<s[1]>>>0?1:0)|0,l[3]=l[3]+1295307597+(l[2]>>>0<s[2]>>>0?1:0)|0,l[4]=l[4]+3545052371+(l[3]>>>0<s[3]>>>0?1:0)|0,l[5]=l[5]+886263092+(l[4]>>>0<s[4]>>>0?1:0)|0,l[6]=l[6]+1295307597+(l[5]>>>0<s[5]>>>0?1:0)|0,l[7]=l[7]+3545052371+(l[6]>>>0<s[6]>>>0?1:0)|0,this._b=l[7]>>>0<s[7]>>>0?1:0;for(var o=0;o<8;o++){var u=h[o]+l[o],v=u&65535,f=u>>>16,p=((v*v>>>17)+v*f>>>15)+f*f,m=((u&4294901760)*u|0)+((u&65535)*u|0);a[o]=p^m}h[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,h[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,h[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,h[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,h[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,h[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,h[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,h[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}n.Rabbit=C._createHelper(g)})(),i.Rabbit})})(Cp)),Cp.exports}var Tp={exports:{}},Cz=Tp.exports,nw;function Tz(){return nw||(nw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(Cz,function(i){return(function(){var n=i,d=n.lib,C=d.StreamCipher,r=n.algo,x=[],s=[],a=[],g=r.RabbitLegacy=C.extend({_doReset:function(){var h=this._key.words,l=this.cfg.iv,o=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],u=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var v=0;v<4;v++)c.call(this);for(var v=0;v<8;v++)u[v]^=o[v+4&7];if(l){var f=l.words,p=f[0],m=f[1],y=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,S=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,T=y>>>16|S&4294901760,b=S<<16|y&65535;u[0]^=y,u[1]^=T,u[2]^=S,u[3]^=b,u[4]^=y,u[5]^=T,u[6]^=S,u[7]^=b;for(var v=0;v<4;v++)c.call(this)}},_doProcessBlock:function(h,l){var o=this._X;c.call(this),x[0]=o[0]^o[5]>>>16^o[3]<<16,x[1]=o[2]^o[7]>>>16^o[5]<<16,x[2]=o[4]^o[1]>>>16^o[7]<<16,x[3]=o[6]^o[3]>>>16^o[1]<<16;for(var u=0;u<4;u++)x[u]=(x[u]<<8|x[u]>>>24)&16711935|(x[u]<<24|x[u]>>>8)&4278255360,h[l+u]^=x[u]},blockSize:128/32,ivSize:64/32});function c(){for(var h=this._X,l=this._C,o=0;o<8;o++)s[o]=l[o];l[0]=l[0]+1295307597+this._b|0,l[1]=l[1]+3545052371+(l[0]>>>0<s[0]>>>0?1:0)|0,l[2]=l[2]+886263092+(l[1]>>>0<s[1]>>>0?1:0)|0,l[3]=l[3]+1295307597+(l[2]>>>0<s[2]>>>0?1:0)|0,l[4]=l[4]+3545052371+(l[3]>>>0<s[3]>>>0?1:0)|0,l[5]=l[5]+886263092+(l[4]>>>0<s[4]>>>0?1:0)|0,l[6]=l[6]+1295307597+(l[5]>>>0<s[5]>>>0?1:0)|0,l[7]=l[7]+3545052371+(l[6]>>>0<s[6]>>>0?1:0)|0,this._b=l[7]>>>0<s[7]>>>0?1:0;for(var o=0;o<8;o++){var u=h[o]+l[o],v=u&65535,f=u>>>16,p=((v*v>>>17)+v*f>>>15)+f*f,m=((u&4294901760)*u|0)+((u&65535)*u|0);a[o]=p^m}h[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,h[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,h[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,h[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,h[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,h[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,h[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,h[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}n.RabbitLegacy=C._createHelper(g)})(),i.RabbitLegacy})})(Tp)),Tp.exports}var bp={exports:{}},bz=bp.exports,rw;function Ez(){return rw||(rw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),$0(),K0(),Uo(),es())})(bz,function(i){return(function(){var n=i,d=n.lib,C=d.BlockCipher,r=n.algo;const x=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var g={pbox:[],sbox:[]};function c(v,f){let p=f>>24&255,m=f>>16&255,y=f>>8&255,S=f&255,T=v.sbox[0][p]+v.sbox[1][m];return T=T^v.sbox[2][y],T=T+v.sbox[3][S],T}function h(v,f,p){let m=f,y=p,S;for(let T=0;T<x;++T)m=m^v.pbox[T],y=c(v,m)^y,S=m,m=y,y=S;return S=m,m=y,y=S,y=y^v.pbox[x],m=m^v.pbox[x+1],{left:m,right:y}}function l(v,f,p){let m=f,y=p,S;for(let T=x+1;T>1;--T)m=m^v.pbox[T],y=c(v,m)^y,S=m,m=y,y=S;return S=m,m=y,y=S,y=y^v.pbox[1],m=m^v.pbox[0],{left:m,right:y}}function o(v,f,p){for(let b=0;b<4;b++){v.sbox[b]=[];for(let P=0;P<256;P++)v.sbox[b][P]=a[b][P]}let m=0;for(let b=0;b<x+2;b++)v.pbox[b]=s[b]^f[m],m++,m>=p&&(m=0);let y=0,S=0,T=0;for(let b=0;b<x+2;b+=2)T=h(v,y,S),y=T.left,S=T.right,v.pbox[b]=y,v.pbox[b+1]=S;for(let b=0;b<4;b++)for(let P=0;P<256;P+=2)T=h(v,y,S),y=T.left,S=T.right,v.sbox[b][P]=y,v.sbox[b][P+1]=S;return!0}var u=r.Blowfish=C.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,f=v.words,p=v.sigBytes/4;o(g,f,p)}},encryptBlock:function(v,f){var p=h(g,v[f],v[f+1]);v[f]=p.left,v[f+1]=p.right},decryptBlock:function(v,f){var p=l(g,v[f],v[f+1]);v[f]=p.left,v[f+1]=p.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=C._createHelper(u)})(),i.Blowfish})})(bp)),bp.exports}var wz=Xv.exports,aw;function Pz(){return aw||(aw=1,(function(e,t){(function(i,n,d){e.exports=n(Ee(),d2(),TV(),EV(),$0(),MV(),K0(),X9(),Y4(),LV(),H9(),IV(),GV(),VV(),W4(),XV(),Uo(),es(),$V(),ZV(),QV(),qV(),tz(),iz(),nz(),az(),lz(),uz(),fz(),vz(),gz(),xz(),Sz(),Tz(),Ez())})(wz,function(i){return i})})(Xv)),Xv.exports}var Mz=Pz();const ow=W0(Mz);function Az(e){const t=e.split("_");return t.pop(),t.join("_")}function Z0(e){const t=e.split("_");return t[t.length-1]}function lw(e){return e>=9999999?"9999999":e.toString()}const Rz=new TextEncoder().encode("12345678901234567890123456789012"),Oz=new TextEncoder().encode("1234567890123456");async function $4(e){const t=await crypto.subtle.importKey("raw",Rz,{name:"AES-CBC"},!1,["decrypt"]);return await crypto.subtle.decrypt({name:"AES-CBC",iv:Oz},t,e)}async function Qt(e,t,i){const n=e.cache.binary.get(t);if(!n)throw new Error(`Không tìm thấy cache binary: "${t}"`);const d=await $4(n),C=await createImageBitmap(new Blob([d]));e.textures.addImage(i,C)}async function ct(e,t,i,n,d){const C=e.cache.binary.get(t);if(!C)throw new Error(`Không tìm thấy cache binary: "${t}"`);const r=await $4(C),x=await createImageBitmap(new Blob([r]));e.textures.addSpriteSheet(i,x,{frameWidth:n,frameHeight:d})}async function gr(e,t,i,n="audio/mp3"){const d=e.cache.binary.get(t);if(!d)throw new Error(`Không tìm thấy cache binary: "${t}"`);const C=await $4(d),r=new Blob([C],{type:n}),x=URL.createObjectURL(r);return new Promise((s,a)=>{e.load.audio(i,x),e.load.once(`filecomplete-audio-${i}`,()=>{URL.revokeObjectURL(x),s()}),e.load.once("loaderror",g=>{URL.revokeObjectURL(x),a(new Error(`Lỗi khi load audio: ${(g==null?void 0:g.key)||"unknown"}`))}),e.load.start()})}const Dz=["strawberry","broccoli","potato","onion","carrot","blueberry","parsnip","spring_onion","cabbage","spring_onion","rice","cauliflower","tomato","sunflower","hot-pepper","corn","bell-pepper-green","bell-pepper-red","bell-pepper-yellow","melon","watermelon","cucumber","eggplant","pineapple","green-beans","wheat","blackberry","beetroot","pumpkin","grapes"];function Lz(e){switch(e){case"axe_wood":return 5;case"hoe_wood":return 8;case"pickaxe_wood":return 3;case"shovel_wood":return 9;case"sickle_wood":return 10;case"watering_can_wood":return 2;case"fishing_rod_wood":return 12;default:return 0}}function Fz(e){switch(e){case"strawberry":return 46;case"onion":return 115;case"potato":return 92;case"spring_onion":return 69;case"carrot":return 138;case"blueberry":return 161;case"broccoli":return 207;case"parsnip":return 184;case"cabbage":return 230;case"rice":return 253;case"cauliflower":return 276;case"tomato":return 146;case"sunflower":return 169;case"hot-pepper":return 192;case"corn":return 215;case"bell-pepper-green":return 238;case"bell-pepper-red":return 261;case"bell-pepper-yellow":return 284;case"melon":return 307;case"watermelon":return 330;case"cucumber":return 353;case"eggplant":return 376;case"pineapple":return 399;case"green-beans":return 422;case"wheat":return 468;case"blackberry":return 445;case"beetroot":return 39;case"pumpkin":return 62;case"grapes":return 85;default:return 0}}function Bz(e){switch(e){case"sword_wood":return 4;case"arrow_wood":return 7;case"magic_wood":return 11;case"bow_wood":return 6;default:return 0}}function Iz(e){switch(e){case"cow_black_male":return 0;case"cow_pink_male":return 1;case"cow_brown_male":return 2;case"cow_blonde_male":return 3;case"cow_black_female":return 4;case"cow_pink_female":return 5;case"cow_brown_female":return 6;case"cow_blonde_female":return 7;case"cow_highlighter-black_male":return 9;case"cow_highlighter-black_female":return 11;case"cow_highlighter-brown_male":return 8;case"cow_highlighter-brown_female":return 10;case"duck_white_male":return 16;case"duck_white_female":return 17;case"duck_mallad_male":return 18;case"duck_mallad_female":return 19;case"duck_mallad-2_male":return 20;case"duck_yellow_male":return 21;case"duck_black_male":return 22;case"goat_black_male":return 40;case"goat_black_female":return 44;case"goat_blonde_male":return 43;case"goat_blonde_female":return 47;case"goat_brown_male":return 42;case"goat_brown_female":return 46;case"goat_pink_male":return 41;case"goat_pink_female":return 45;case"chicken_black-white_male":return 24;case"chicken_black_male":return 25;case"chicken_blonde-green_male":return 26;case"chicken_blonde_male":return 27;case"chicken_brown-black_male":return 28;case"chicken_brown-white_male":return 29;case"chicken_evil_male":return 30;case"chicken_full_male":return 31;case"chicken_green_male":return 32;case"chicken_pink_male":return 33;case"chicken_red_male":return 34;case"chicken_universe_male":return 35;case"chicken_white_male":return 36;case"horse_1_male":return 48;case"horse_2_male":return 49;case"horse_3_male":return 50;case"ostrich_black_male":return 52;case"ostrich_blue_male":return 53;case"ostrich_brown_male":return 51;case"pig_mud-pink_male":return 14;case"pig_pink_male":return 14;case"sheep_1_male":return 12;case"sheep_1_female":return 13;case"sheep_2_male":return 12;case"sheep_2_female":return 13;default:return 0}}function kz(e){switch(e){case"strawberry_dropped_normal":return 47;case"strawberry_dropped_silver":return 48;case"strawberry_dropped_gold":return 49;case"strawberry_dropped_diamond":return 50;case"onion_dropped_normal":return 116;case"onion_dropped_silver":return 117;case"onion_dropped_gold":return 118;case"onion_dropped_diamond":return 119;case"potato_dropped_normal":return 93;case"potato_dropped_silver":return 94;case"potato_dropped_gold":return 95;case"potato_dropped_diamond":return 96;case"spring_onion_dropped_normal":return 70;case"spring_onion_dropped_silver":return 71;case"spring_onion_dropped_gold":return 72;case"spring_onion_dropped_diamond":return 73;case"carrot_dropped_normal":return 139;case"carrot_dropped_silver":return 140;case"carrot_dropped_gold":return 141;case"carrot_dropped_diamond":return 142;case"blueberry_dropped_normal":return 162;case"blueberry_dropped_silver":return 163;case"blueberry_dropped_gold":return 164;case"blueberry_dropped_diamond":return 165;case"parsnip_dropped_normal":return 185;case"parsnip_dropped_silver":return 186;case"parsnip_dropped_gold":return 187;case"parsnip_dropped_diamond":return 188;case"broccoli_dropped_normal":return 208;case"broccoli_dropped_silver":return 209;case"broccoli_dropped_gold":return 210;case"broccoli_dropped_diamond":return 211;case"cabbage_dropped_normal":return 231;case"cabbage_dropped_silver":return 232;case"cabbage_dropped_gold":return 233;case"cabbage_dropped_diamond":return 234;case"rice_dropped_normal":return 254;case"rice_dropped_silver":return 255;case"rice_dropped_gold":return 256;case"rice_dropped_diamond":return 257;case"cauliflower_dropped_normal":return 277;case"cauliflower_dropped_silver":return 278;case"cauliflower_dropped_gold":return 279;case"cauliflower_dropped_diamond":return 280;default:return 0}}function zx(e){return Dz.includes(e)}const Y9=()=>Ln.getState().token||null;function ha(e,t){const i=new Phaser.Geom.Rectangle(t.scrollX,t.scrollY,t.width/t.zoom,t.height/t.zoom),n=e.getBounds(),d=Phaser.Geom.Intersects.RectangleToRectangle(i,n);e.setVisible(d),e.setActive(d)}const Gz=function(e){return e=e,e.add.image(0,0,"hud",139).setScale(Bt).setInteractive()};function hw(e,t,i={},n=Dt){e.cameras.main.fadeOut(n,0,0,0),e.cameras.main.once("camerafadeoutcomplete",()=>{e.scene.key===t?e.scene.restart(i):e.scene.start(t,i)})}function Rh(e,t,i,n=5,d=-1){e.anims.exists(t)||e.anims.create({key:t,frames:i,frameRate:n,repeat:d})}function Ws(e,t,i){if(e.anims.exists(t))return;const{start:n,end:d,textureKey:C,frameRate:r,repeat:x=-1}=i;e.anims.create({key:t,frames:e.anims.generateFrameNumbers(C,{start:n,end:d}),frameRate:r,repeat:x})}const Nz=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.ready;if("SyncManager"in window)try{await e.sync.register("sync-post-data"),Tt.debug("[PWA] Background Sync registered")}catch(t){Tt.error("[PWA] Background Sync register error:",t)}else Tt.warn("Background Sync not supported");if("periodicSync"in e)try{(await navigator.permissions.query({name:"periodic-background-sync"})).state==="granted"?(await e.periodicSync.register("periodic-fetch",{minInterval:720*60*Dt}),Tt.debug("[PWA] Periodic Sync registered")):Tt.warn("[PWA] Periodic Sync permission denied")}catch(t){Tt.error("[PWA] Periodic Sync register error:",t)}else Tt.warn("Periodic Sync not supported")}catch(e){Tt.error("Service Worker not ready or error:",e)}},Vz={1:[1,2,3,4,5,6,7],2:[1],3:[1,2],4:[1,2,3,4,5],5:[1,2,3,4],6:[1,2,3],7:[1],8:[1,2],9:[1,2,3,4,5,6]};function zz(e,t){for(const[i,n]of Object.entries(Vz)){const d=Number(i);for(const C of n){const r=`pet-dog-${d}-${C}`,x=`${t}/tiles/Pets/Dogs/Premade/${d}/${C}.png`;e.binary(r,x)}}}function Uz(e){return{up:24,"up-right":24,right:24,"down-right":24,down:24,"down-left":24,left:24,"up-left":24}[e]}function Xz(e){return e==="fire"?31:e==="water"?24:e==="poison"?73:0}function Hz(){const e=["heal","fire","poison","water"],t=Math.floor(Math.random()*e.length);return e[t]}function Oi(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Yz=[{suffix:"walk",w:32,h:32},{suffix:"axe",w:32,h:32},{suffix:"idle",w:32,h:32},{suffix:"hoe",w:32,h:32},{suffix:"shovel",w:32,h:32},{suffix:"sickle",w:32,h:32},{suffix:"pickaxe",w:32,h:32},{suffix:"watering",w:32,h:32},{suffix:"throwing_items",w:32,h:32},{suffix:"run",w:32,h:32},{suffix:"sitting",w:32,h:32},{suffix:"sleep",w:32,h:32},{suffix:"petting",w:32,h:32},{suffix:"sword",w:32,h:32},{suffix:"dead",w:32,h:32},{suffix:"damage",w:32,h:32},{suffix:"climbing",w:32,h:32},{suffix:"catching_insect",w:32,h:32},{suffix:"bow_and_arrow",w:32,h:32},{suffix:"magic_healer",w:32,h:32},{suffix:"magic_fire",w:32,h:32},{suffix:"magic_water",w:32,h:32},{suffix:"magic_poison",w:32,h:32},{suffix:"umbrella_idle",w:32,h:32},{suffix:"umbrella_run",w:32,h:32},{suffix:"umbrella_walk",w:32,h:32},{suffix:"horse_idle",w:32,h:48},{suffix:"horse_run",w:32,h:48},{suffix:"bear_anim",w:32,h:48},{suffix:"flute",w:32,h:32},{suffix:"bicycle_run",w:32,h:32},{suffix:"broomstick_run",w:32,h:32},{suffix:"coming_out_water",w:32,h:32},{suffix:"swim_idle",w:32,h:32},{suffix:"swim_submerged",w:32,h:32},{suffix:"swim",w:32,h:32},{suffix:"fishing_captured_no_fish",w:64,h:64},{suffix:"fishing_casting",w:64,h:64},{suffix:"fishing_fish",w:16,h:16},{suffix:"fishing_hooked",w:64,h:64},{suffix:"fishing_roll",w:64,h:64},{suffix:"fishing_wait_idle",w:64,h:64},{suffix:"pickup_items_idle",w:64,h:64},{suffix:"pickup_items_up",w:64,h:64},{suffix:"pickup_items_walk",w:64,h:64},{suffix:"pickup_items_run",w:64,h:64}],Uh=()=>Xs.get("VITE_APP_ENV")!=="dev",uw=["black","white","blonde","black-white","blonde-green","brown-black","brown-white","evil","full","green","pink","red","universe","yellow"],dw=["baby","adult"];function ko(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function Wz(e,t){if(t==="full"&&e==="baby")return"Baby Chicken Evil.png";if(t==="yellow"&&e==="adult")return"Chicken Blonde.png";if(e==="baby"&&t.includes("-")){const n=t.split("-")[0];return`Baby Chicken ${ko(n)}.png`}const i=ko(t);return e==="baby"?`Baby Chicken ${i}.png`:`Chicken ${i}.png`}const fw=["black","brown","pink","blonde","highlighter-black","highlighter-brown"],cw=["baby","male-adult","female-adult"];function $z(e){return e.startsWith("highlighter-")?{group:"highlighter",color:e.replace("highlighter-","")}:{group:"common",color:e}}function Kz(e,t,i){const n=ko(i);return t==="common"?`${e==="baby"?"Baby Cow":e==="male-adult"?"Male Cow":"Female Cow"} ${n}.png`:`${e==="baby"?"Baby highlighter":e==="male-adult"?"Male highlighter":"Female highlighter"} ${n}.png`}const vw=["black","yellow","mallad-2","mallad","white"],pw=["baby","male-adult","female-adult"];function Zz(e,t){if(t==="black"&&e==="male-adult"||t==="black"&&e==="female-adult")return"Duck Full Black.png";if(t==="yellow"&&e==="male-adult"||t==="yellow"&&e==="female-adult")return"Duck Full Yellow.png";if(t==="mallad-2"&&e==="baby"||t==="mallad"&&e==="baby")return"Baby Duck Green.png";if(t==="white"&&e==="baby")return"Baby Duck White.png";if(t==="white"&&e==="female-adult")return"Duck White 2.png";if(t==="white"&&e==="male-adult")return"Duck White.png";const i=ko(t);return e==="baby"?`Baby Duck ${i}.png`:`Duck ${i}.png`}const gw=["1","2"],mw=["baby","male-adult","female-adult"];function Jz(e,t){if((t==="1"||t==="2")&&e==="baby")return"Baby Sheep .png";if(t==="1"&&e==="male-adult")return"Sheep Male.png";if(t==="1"&&e==="female-adult")return"Sheep Female.png";if(t==="2"&&e==="male-adult")return"Sheep Male 2.png";if(t==="2"&&e==="female-adult")return"Sheep Female 2.png";const i=ko(t);return e==="baby"?"Baby Sheep .png":`Sheep ${i}.png`}const xw=["black","blue","brown"],yw=["baby","adult"];function Qz(e,t){const i=ko(t);return e==="baby"?`Ostrich Baby ${i}.png`:`Ostrich ${i}.png`}const Sw=["black","blonde","brown","pink"],Cw=["baby","male-adult","female-adult"];function jz(e,t){const i=ko(t);return e==="female-adult"?`Goat Female ${i}.png`:e==="male-adult"?`Goat Male ${i}.png`:e==="baby"?`Goat Baby ${i}.png`:`Goat ${i}.png`}const Tw=["pink","mud-pink"],bw=["baby","adult"];function qz(e,t){const i=ko(t);return e==="baby"?`Baby Pig ${i}.png`:`Pig ${i}.png`}function _z(){return crypto.randomUUID()}function _e(){return crypto.randomUUID()}function tU(){return RN.reduce((t,i)=>(t[i]={level:1,exp:0},t),{})}const eU=(e,t,i,n,d,C=5,r=-1)=>{Ws(e,t,{textureKey:i,start:n,end:d,frameRate:C,repeat:r})};function iU(e){return ON[e]??"Không rõ"}const sU=(e,t,i,n,d)=>{const C=[];for(let r=0;r<e;r++)for(let x=0;x<t;x++){const s=n+x*i,a=d+r*i,g=`${s}_${a}`;C.push({tileId:g,x:s,y:a,state:Ms.Empty,crop:null,unlocked:!1,plantedAt:null,wateredAt:null,harvestedAt:null,tilledAt:null})}return C};function nU(e){return{normal:"Thường",silver:"Hiếm",gold:"Cao cấp",diamond:"Cực phẩm"}[e]}function Ew(e){return{strawberry:{name:"Dâu tây",description:"Những trái dâu chín mọng, ngọt ngào sau mùa xuân."},onion:{name:"Hành tây",description:"Củ hành cay nồng, thường dùng trong nhiều món ăn."},rice:{name:"Lúa",description:"Hạt lúa vàng óng, lương thực chính của người nông dân."},spring_onion:{name:"Hành lá",description:"Hành non xanh mướt, gia vị quen thuộc trong bữa ăn."},potato:{name:"Khoai tây",description:"Củ khoai tây chắc ruột, có thể chế biến nhiều món ăn."},carrot:{name:"Cà rốt",description:"Củ cà rốt ngọt bùi, giàu vitamin A."},broccoli:{name:"Bông cải xanh",description:"Bông cải xanh giòn ngọt, rất tốt cho sức khỏe."},cauliflower:{name:"Súp lơ",description:"Bông súp lơ trắng muốt, bổ dưỡng."},parsnip:{name:"Củ cải vàng",description:"Loại củ cải ngọt nhẹ, thường dùng nấu canh."},cabbage:{name:"Bắp cải",description:"Lá bắp cải xanh tươi, có thể làm salad hoặc xào nấu."},blueberry:{name:"Việt quất",description:"Trái việt quất nhỏ bé nhưng giàu dinh dưỡng."},tomato:{name:"Cà chua",description:"Trái cà chua đỏ mọng, có vị chua ngọt tự nhiên."},sunflower:{name:"Hoa hướng dương",description:"Bông hướng dương rực rỡ, hạt có thể dùng làm thực phẩm."},"hot-pepper":{name:"Ớt cay",description:"Quả ớt đỏ rực, vị cay nồng."},corn:{name:"Ngô",description:"Bắp ngô vàng óng, ngọt thơm."},"bell-pepper-green":{name:"Ớt chuông xanh",description:"Ớt chuông xanh tươi, giòn ngọt."},"bell-pepper-red":{name:"Ớt chuông đỏ",description:"Ớt chuông đỏ rực rỡ, vị ngọt dịu."},"bell-pepper-yellow":{name:"Ớt chuông vàng",description:"Ớt chuông vàng tươi sáng, thơm ngon."},melon:{name:"Dưa lưới",description:"Trái dưa lưới thơm ngọt, mát lạnh."},watermelon:{name:"Dưa hấu",description:"Dưa hấu ngọt mát, giải khát mùa hè."},cucumber:{name:"Dưa leo",description:"Trái dưa leo giòn, dùng ăn sống hoặc muối chua."},eggplant:{name:"Cà tím",description:"Quả cà tím dài, vị bùi béo khi nướng hoặc xào."},pineapple:{name:"Dứa",description:"Trái dứa vàng ươm, chua ngọt hấp dẫn."},"green-beans":{name:"Đậu xanh",description:"Quả đậu xanh non, nhiều dinh dưỡng."},wheat:{name:"Lúa mì",description:"Bông lúa mì vàng, nguyên liệu làm bánh mì."},blackberry:{name:"Mâm xôi đen",description:"Trái mâm xôi đen mọng nước, vị ngọt xen lẫn chút chua."},beetroot:{name:"Củ dền",description:"Củ dền đỏ tươi, giàu chất dinh dưỡng."},pumpkin:{name:"Bí ngô",description:"Trái bí ngô vàng cam, có thể nấu chè, hầm, làm bánh."},grapes:{name:"Nho",description:"Chùm nho tím căng mọng, vị ngọt lịm."}}[e]}function rU(){let e=0;for(const t in localStorage)if(Object.prototype.hasOwnProperty.call(localStorage,t)){const i=localStorage.getItem(t)||"",n=(t.length+i.length)*2;e+=n}return Tt.debug(`Dung lượng localStorage hiện tại: ${e} bytes (${(e/1024).toFixed(2)} KB)`),e}function ww(e){return JSON.stringify(e).length*2}async function aU(e){return navigator.storage.estimate().then(({usage:t,quota:i})=>{Tt.debug(`Đã dùng: ${(t/1024/1024).toFixed(2)} MB`),Tt.debug(`Tổng dung lượng được cấp: ${(i/1024/1024).toFixed(2)} MB`)}),new Promise((t,i)=>{const n=indexedDB.open(e);n.onsuccess=async()=>{const d=n.result,C=Array.from(d.objectStoreNames);let r=0;const x=d.transaction(C,"readonly");let s=C.length;if(s===0){t(0);return}C.forEach(a=>{const c=x.objectStore(a).openCursor();c.onsuccess=h=>{const l=h.target.result;if(l){const o=ww(l.key),u=ww(l.value);r+=o+u,l.continue()}else s--,s===0&&(Tt.debug(`Dung lượng IndexedDB '${e}': ${r} bytes (${(r/1024).toFixed(2)} KB)`),t(r))},c.onerror=()=>{i(c.error)}})},n.onerror=()=>{i(n.error)}})}const oU={chicken:3500,cow:18e3,duck:4e3,goat:8e3,horse:3e4,ostrich:5e4,pig:12e3,sheep:9e3},lU={white:1,black:1.05,pink:1.2,blonde:1.1,brown:1,"highlighter-black":1.3,evil:1.5,"highlighter-brown":1.3,green:1.15,yellow:1.1,"mallad-2":1.2,mallad:1.15,"black-white":1.05,"blonde-green":1.25,"brown-black":1.05,"brown-white":1.05,red:1.2,full:1.5,universe:2,1:1,2:1.1,3:1.2,blue:1.15,"mud-pink":1.25};function hU(e,t){const i=oU[e]??0,n=lU[t]??1;return Math.floor(i*n)}function uU(e){const t=["normal","silver","gold","diamond"],i={normal:1,silver:1.25,gold:1.5,diamond:2},n=Math.floor(Math.random()*t.length),d=t[n]??"normal";let C=Math.floor(e*i[d]);return C<e&&(C=e),{quality:d,sellPrice:C}}function Pw(e,t=[]){if(!e)return{valid:!1,reason:"Tên không được để trống."};if(e=e.trim(),e.length<3)return{valid:!1,reason:"Tên phải có ít nhất 3 ký tự."};if(e.length>16)return{valid:!1,reason:"Tên không được dài quá 16 ký tự."};if(!/^[A-Za-z0-9 _]+$/.test(e))return{valid:!1,reason:"Tên chỉ được chứa chữ cái, số, khoảng trắng và dấu _."};if(/\s{2,}/.test(e))return{valid:!1,reason:"Tên không được có nhiều khoảng trắng liên tiếp."};if(/^\d+$/.test(e))return{valid:!1,reason:"Tên phải chứa ít nhất một chữ cái."};const i=e.toLowerCase();return t.some(n=>i.includes(n.toLowerCase()))?{valid:!1,reason:"Tên chứa từ không được phép."}:{valid:!0}}async function dU(){try{if(localStorage.clear(),sessionStorage.clear(),indexedDB&&indexedDB.databases){const e=await indexedDB.databases();for(const t of e)t.name&&indexedDB.deleteDatabase(t.name),t.name===Yd&&await WI(Yd)}else indexedDB.deleteDatabase("default");if("caches"in window){const e=await caches.keys();for(const t of e)await caches.delete(t)}Tt.log("✅ Đã xóa toàn bộ dữ liệu local!")}catch(e){Tt.error("❌ Lỗi khi xóa dữ liệu local:",e)}}let Ux=Promise.resolve();async function Xo(e){return Ux=Ux.then(e).catch(t=>Tt.error(t)),Ux}function fU(e){return e.charAt(0).toUpperCase()+e.slice(1)}const cU=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyt9Vzm2b55ppdWm4CaLk
bDFYpxM61awcqv6TZAypa/VeW97QJ3eCcTWV68JekoWGGqfj3Q/N6t02yBJvVi8l
E9tsSIrVrt6PbpRu9GFuc385lCrSDS+D2wVPwHNk5lMfxIFt6bzxYJ1C9BmPu8lf
lOUqpJ1NiyIv8pIXFtEdKoKBrFYuJYNjwlJlDRBwiMmhMXCI7aqRf2CWQC36Pd9Q
kUgK63847cs1dvt2XwbUB9IRQ8LgUNH9L3ngrP4fKNzpAXmw8bADjrrusMWQena5
NkcdpcHzScsoNRauLlOxBmK5HBBwSnEgnrCmBA933ndP2M7WNTUEy5+vKFb9z0oO
qQIDAQAB
-----END PUBLIC KEY-----
`;function K4(e){const t=JSON.stringify(e),i=ow.lib.WordArray.random(32).toString(),n=ow.AES.encrypt(t,i).toString(),d=new vV;return d.setPublicKey(cU),{encryptedKey:d.encrypt(i),encryptedData:n}}const Z4=Ir(e=>({isGameConfirmDialogOpen:!1,confirmDialogTitle:"",confirmDialogMessage:"",onConfirm:void 0,onCancel:void 0,showConfirm:({title:t,message:i,onConfirm:n,onCancel:d})=>e({isGameConfirmDialogOpen:!0,confirmDialogTitle:t,confirmDialogMessage:i,onConfirm:n,onCancel:d}),closeConfirm:()=>e({isGameConfirmDialogOpen:!1})}));function vU(e={}){const{nonce:t,onScriptLoadSuccess:i,onScriptLoadError:n}=e,[d,C]=dt.useState(!1),r=dt.useRef(i);r.current=i;const x=dt.useRef(n);return x.current=n,dt.useEffect(()=>{const s=document.createElement("script");return s.src="https://accounts.google.com/gsi/client",s.async=!0,s.defer=!0,s.nonce=t,s.onload=()=>{var a;C(!0),(a=r.current)===null||a===void 0||a.call(r)},s.onerror=()=>{var a;C(!1),(a=x.current)===null||a===void 0||a.call(x)},document.body.appendChild(s),()=>{document.body.removeChild(s)}},[t]),d}const W9=dt.createContext(null);function pU({clientId:e,nonce:t,onScriptLoadSuccess:i,onScriptLoadError:n,children:d}){const C=vU({nonce:t,onScriptLoadSuccess:i,onScriptLoadError:n}),r=dt.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:C}),[e,C]);return Ie.createElement(W9.Provider,{value:r},d)}function gU(){const e=dt.useContext(W9);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function mU(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const xU={large:40,medium:32,small:20};function yU({onSuccess:e,onError:t,useOneTap:i,promptMomentNotification:n,type:d="standard",theme:C="outline",size:r="large",text:x,shape:s,logo_alignment:a,width:g,locale:c,click_listener:h,containerProps:l,...o}){const u=dt.useRef(null),{clientId:v,scriptLoadedSuccessfully:f}=gU(),p=dt.useRef(e);p.current=e;const m=dt.useRef(t);m.current=t;const y=dt.useRef(n);return y.current=n,dt.useEffect(()=>{var S,T,b,P,w,A,R,D,L;if(f)return(b=(T=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||T===void 0?void 0:T.id)===null||b===void 0||b.initialize({client_id:v,callback:k=>{var B;if(!(k!=null&&k.credential))return(B=m.current)===null||B===void 0?void 0:B.call(m);const{credential:F,select_by:G}=k;p.current({credential:F,clientId:mU(k),select_by:G})},...o}),(A=(w=(P=window==null?void 0:window.google)===null||P===void 0?void 0:P.accounts)===null||w===void 0?void 0:w.id)===null||A===void 0||A.renderButton(u.current,{type:d,theme:C,size:r,text:x,shape:s,logo_alignment:a,width:g,locale:c,click_listener:h}),i&&((L=(D=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||D===void 0?void 0:D.id)===null||L===void 0||L.prompt(y.current)),()=>{var k,B,F;i&&((F=(B=(k=window==null?void 0:window.google)===null||k===void 0?void 0:k.accounts)===null||B===void 0?void 0:B.id)===null||F===void 0||F.cancel())}},[v,f,i,d,C,r,x,s,a,g,c]),Ie.createElement("div",{...l,ref:u,style:{height:xU[r],...l==null?void 0:l.style}})}function SU(){const{loginOffline:e,loginGoogle:t}=Ln(),{showConfirm:i}=Z4();return Nt.jsx("div",{className:"w-screen h-screen flex flex-col items-center justify-center gap-6 bg-cover bg-no-repeat bg-center text-xs",style:{backgroundImage:"url('/logo.png')"},children:Nt.jsxs("div",{className:"bg-[#3f3f74] text-white p-4 rounded-md shadow-lg border-4 border-black max-w-96",children:[Nt.jsxs("p",{className:"text-center mb-4",children:["Chào mừng đến với ",Nt.jsx("b",{children:"Nông trại cổ tích"})]}),Nt.jsx("button",{className:"w-full cursor-pointer px-4 py-2 mb-3 bg-[#6ec8a5] border-4 border-black text-white hover:bg-[#5ebf9b] active:translate-y-0.5 transition-all",onClick:e,children:"▶ Chơi ngay"}),Nt.jsx(pU,{clientId:Xs.get("VITE_GOOGLE_CLIENT_ID"),children:Nt.jsx(yU,{onSuccess:t,onError:()=>Tt.debug("Login google Failed"),theme:"filled_black",size:"medium"})}),Nt.jsx("button",{className:"w-full cursor-pointer px-4 py-2 mt-3 bg-[#fc3c3c] border-4 border-black text-white hover:bg-[#fc3c3c] active:translate-y-0.5 transition-all",onClick:()=>{i({title:"Bạn muốn xóa tất cả dữ liệu trò chơi không?",message:"Hành động này không thể hoàn tác.",onConfirm:async()=>{await dU().then(()=>{window.location.reload()})},onCancel:()=>Tt.debug("Đã hủy!")})},children:"Xóa dữ liệu"}),Nt.jsx("button",{className:"w-full cursor-pointer px-4 py-2 mt-3 bg-blue-500 border-4 border-black text-white hover:bg-blue-500 active:translate-y-0.5 transition-all",onClick:()=>{i({title:"Bạn muốn cập nhật phiên bản mới của trò chơi không?",message:"Hành động này không thể hoàn tác.",onConfirm:()=>{window.location.reload()},onCancel:()=>Tt.debug("Đã hủy!")})},children:"Cập nhật phiên bản mới"})]})})}function Lo(e,t,{checkForDefaultPrevented:i=!0}={}){return function(d){if(e==null||e(d),i===!1||!d.defaultPrevented)return t==null?void 0:t(d)}}function Mw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $9(...e){return t=>{let i=!1;const n=e.map(d=>{const C=Mw(d,t);return!i&&typeof C=="function"&&(i=!0),C});if(i)return()=>{for(let d=0;d<n.length;d++){const C=n[d];typeof C=="function"?C():Mw(e[d],null)}}}}function J0(...e){return dt.useCallback($9(...e),e)}function CU(e,t){const i=dt.createContext(t),n=C=>{const{children:r,...x}=C,s=dt.useMemo(()=>x,Object.values(x));return Nt.jsx(i.Provider,{value:s,children:r})};n.displayName=e+"Provider";function d(C){const r=dt.useContext(i);if(r)return r;if(t!==void 0)return t;throw new Error(`\`${C}\` must be used within \`${e}\``)}return[n,d]}function TU(e,t=[]){let i=[];function n(C,r){const x=dt.createContext(r),s=i.length;i=[...i,r];const a=c=>{var f;const{scope:h,children:l,...o}=c,u=((f=h==null?void 0:h[e])==null?void 0:f[s])||x,v=dt.useMemo(()=>o,Object.values(o));return Nt.jsx(u.Provider,{value:v,children:l})};a.displayName=C+"Provider";function g(c,h){var u;const l=((u=h==null?void 0:h[e])==null?void 0:u[s])||x,o=dt.useContext(l);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${C}\``)}return[a,g]}const d=()=>{const C=i.map(r=>dt.createContext(r));return function(x){const s=(x==null?void 0:x[e])||C;return dt.useMemo(()=>({[`__scope${e}`]:{...x,[e]:s}}),[x,s])}};return d.scopeName=e,[n,bU(d,...t)]}function bU(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const n=e.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(C){const r=n.reduce((x,{useScope:s,scopeName:a})=>{const c=s(C)[`__scope${a}`];return{...x,...c}},{});return dt.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return i.scopeName=t.scopeName,i}var Jd=globalThis!=null&&globalThis.document?dt.useLayoutEffect:()=>{},EU=JR[" useId ".trim().toString()]||(()=>{}),wU=0;function Xx(e){const[t,i]=dt.useState(EU());return Jd(()=>{i(n=>n??String(wU++))},[e]),e||(t?`radix-${t}`:"")}var PU=JR[" useInsertionEffect ".trim().toString()]||Jd;function MU({prop:e,defaultProp:t,onChange:i=()=>{},caller:n}){const[d,C,r]=AU({defaultProp:t,onChange:i}),x=e!==void 0,s=x?e:d;{const g=dt.useRef(e!==void 0);dt.useEffect(()=>{const c=g.current;c!==x&&console.warn(`${n} is changing from ${c?"controlled":"uncontrolled"} to ${x?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=x},[x,n])}const a=dt.useCallback(g=>{var c;if(x){const h=RU(g)?g(e):g;h!==e&&((c=r.current)==null||c.call(r,h))}else C(g)},[x,e,C,r]);return[s,a]}function AU({defaultProp:e,onChange:t}){const[i,n]=dt.useState(e),d=dt.useRef(i),C=dt.useRef(t);return PU(()=>{C.current=t},[t]),dt.useEffect(()=>{var r;d.current!==i&&((r=C.current)==null||r.call(C,i),d.current=i)},[i,d]),[i,n,C]}function RU(e){return typeof e=="function"}var K9=QR();const OU=W0(K9);function Z9(e){const t=DU(e),i=dt.forwardRef((n,d)=>{const{children:C,...r}=n,x=dt.Children.toArray(C),s=x.find(FU);if(s){const a=s.props.children,g=x.map(c=>c===s?dt.Children.count(a)>1?dt.Children.only(null):dt.isValidElement(a)?a.props.children:null:c);return Nt.jsx(t,{...r,ref:d,children:dt.isValidElement(a)?dt.cloneElement(a,void 0,g):null})}return Nt.jsx(t,{...r,ref:d,children:C})});return i.displayName=`${e}.Slot`,i}function DU(e){const t=dt.forwardRef((i,n)=>{const{children:d,...C}=i;if(dt.isValidElement(d)){const r=IU(d),x=BU(C,d.props);return d.type!==dt.Fragment&&(x.ref=n?$9(n,r):r),dt.cloneElement(d,x)}return dt.Children.count(d)>1?dt.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LU=Symbol("radix.slottable");function FU(e){return dt.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LU}function BU(e,t){const i={...t};for(const n in t){const d=e[n],C=t[n];/^on[A-Z]/.test(n)?d&&C?i[n]=(...x)=>{const s=C(...x);return d(...x),s}:d&&(i[n]=d):n==="style"?i[n]={...d,...C}:n==="className"&&(i[n]=[d,C].filter(Boolean).join(" "))}return{...e,...i}}function IU(e){var n,d;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(d=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:d.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var kU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ga=kU.reduce((e,t)=>{const i=Z9(`Primitive.${t}`),n=dt.forwardRef((d,C)=>{const{asChild:r,...x}=d,s=r?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Nt.jsx(s,{...x,ref:C})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function GU(e,t){e&&K9.flushSync(()=>e.dispatchEvent(t))}function Qd(e){const t=dt.useRef(e);return dt.useEffect(()=>{t.current=e}),dt.useMemo(()=>(...i)=>{var n;return(n=t.current)==null?void 0:n.call(t,...i)},[])}function NU(e,t=globalThis==null?void 0:globalThis.document){const i=Qd(e);dt.useEffect(()=>{const n=d=>{d.key==="Escape"&&i(d)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[i,t])}var VU="DismissableLayer",s4="dismissableLayer.update",zU="dismissableLayer.pointerDownOutside",UU="dismissableLayer.focusOutside",Aw,J9=dt.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Q9=dt.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:d,onFocusOutside:C,onInteractOutside:r,onDismiss:x,...s}=e,a=dt.useContext(J9),[g,c]=dt.useState(null),h=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,l]=dt.useState({}),o=J0(t,b=>c(b)),u=Array.from(a.layers),[v]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),f=u.indexOf(v),p=g?u.indexOf(g):-1,m=a.layersWithOutsidePointerEventsDisabled.size>0,y=p>=f,S=YU(b=>{const P=b.target,w=[...a.branches].some(A=>A.contains(P));!y||w||(d==null||d(b),r==null||r(b),b.defaultPrevented||x==null||x())},h),T=WU(b=>{const P=b.target;[...a.branches].some(A=>A.contains(P))||(C==null||C(b),r==null||r(b),b.defaultPrevented||x==null||x())},h);return NU(b=>{p===a.layers.size-1&&(n==null||n(b),!b.defaultPrevented&&x&&(b.preventDefault(),x()))},h),dt.useEffect(()=>{if(g)return i&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(Aw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(g)),a.layers.add(g),Rw(),()=>{i&&a.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Aw)}},[g,h,i,a]),dt.useEffect(()=>()=>{g&&(a.layers.delete(g),a.layersWithOutsidePointerEventsDisabled.delete(g),Rw())},[g,a]),dt.useEffect(()=>{const b=()=>l({});return document.addEventListener(s4,b),()=>document.removeEventListener(s4,b)},[]),Nt.jsx(ga.div,{...s,ref:o,style:{pointerEvents:m?y?"auto":"none":void 0,...e.style},onFocusCapture:Lo(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Lo(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Lo(e.onPointerDownCapture,S.onPointerDownCapture)})});Q9.displayName=VU;var XU="DismissableLayerBranch",HU=dt.forwardRef((e,t)=>{const i=dt.useContext(J9),n=dt.useRef(null),d=J0(t,n);return dt.useEffect(()=>{const C=n.current;if(C)return i.branches.add(C),()=>{i.branches.delete(C)}},[i.branches]),Nt.jsx(ga.div,{...e,ref:d})});HU.displayName=XU;function YU(e,t=globalThis==null?void 0:globalThis.document){const i=Qd(e),n=dt.useRef(!1),d=dt.useRef(()=>{});return dt.useEffect(()=>{const C=x=>{if(x.target&&!n.current){let s=function(){j9(zU,i,a,{discrete:!0})};const a={originalEvent:x};x.pointerType==="touch"?(t.removeEventListener("click",d.current),d.current=s,t.addEventListener("click",d.current,{once:!0})):s()}else t.removeEventListener("click",d.current);n.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",C)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",C),t.removeEventListener("click",d.current)}},[t,i]),{onPointerDownCapture:()=>n.current=!0}}function WU(e,t=globalThis==null?void 0:globalThis.document){const i=Qd(e),n=dt.useRef(!1);return dt.useEffect(()=>{const d=C=>{C.target&&!n.current&&j9(UU,i,{originalEvent:C},{discrete:!1})};return t.addEventListener("focusin",d),()=>t.removeEventListener("focusin",d)},[t,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Rw(){const e=new CustomEvent(s4);document.dispatchEvent(e)}function j9(e,t,i,{discrete:n}){const d=i.originalEvent.target,C=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&d.addEventListener(e,t,{once:!0}),n?GU(d,C):d.dispatchEvent(C)}var Hx="focusScope.autoFocusOnMount",Yx="focusScope.autoFocusOnUnmount",Ow={bubbles:!1,cancelable:!0},$U="FocusScope",q9=dt.forwardRef((e,t)=>{const{loop:i=!1,trapped:n=!1,onMountAutoFocus:d,onUnmountAutoFocus:C,...r}=e,[x,s]=dt.useState(null),a=Qd(d),g=Qd(C),c=dt.useRef(null),h=J0(t,u=>s(u)),l=dt.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;dt.useEffect(()=>{if(n){let u=function(m){if(l.paused||!x)return;const y=m.target;x.contains(y)?c.current=y:oo(c.current,{select:!0})},v=function(m){if(l.paused||!x)return;const y=m.relatedTarget;y!==null&&(x.contains(y)||oo(c.current,{select:!0}))},f=function(m){if(document.activeElement===document.body)for(const S of m)S.removedNodes.length>0&&oo(x)};document.addEventListener("focusin",u),document.addEventListener("focusout",v);const p=new MutationObserver(f);return x&&p.observe(x,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",v),p.disconnect()}}},[n,x,l.paused]),dt.useEffect(()=>{if(x){Lw.add(l);const u=document.activeElement;if(!x.contains(u)){const f=new CustomEvent(Hx,Ow);x.addEventListener(Hx,a),x.dispatchEvent(f),f.defaultPrevented||(KU(qU(_9(x)),{select:!0}),document.activeElement===u&&oo(x))}return()=>{x.removeEventListener(Hx,a),setTimeout(()=>{const f=new CustomEvent(Yx,Ow);x.addEventListener(Yx,g),x.dispatchEvent(f),f.defaultPrevented||oo(u??document.body,{select:!0}),x.removeEventListener(Yx,g),Lw.remove(l)},0)}}},[x,a,g,l]);const o=dt.useCallback(u=>{if(!i&&!n||l.paused)return;const v=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=document.activeElement;if(v&&f){const p=u.currentTarget,[m,y]=ZU(p);m&&y?!u.shiftKey&&f===y?(u.preventDefault(),i&&oo(m,{select:!0})):u.shiftKey&&f===m&&(u.preventDefault(),i&&oo(y,{select:!0})):f===p&&u.preventDefault()}},[i,n,l.paused]);return Nt.jsx(ga.div,{tabIndex:-1,...r,ref:h,onKeyDown:o})});q9.displayName=$U;function KU(e,{select:t=!1}={}){const i=document.activeElement;for(const n of e)if(oo(n,{select:t}),document.activeElement!==i)return}function ZU(e){const t=_9(e),i=Dw(t,e),n=Dw(t.reverse(),e);return[i,n]}function _9(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const d=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||d?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function Dw(e,t){for(const i of e)if(!JU(i,{upTo:t}))return i}function JU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QU(e){return e instanceof HTMLInputElement&&"select"in e}function oo(e,{select:t=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&QU(e)&&t&&e.select()}}var Lw=jU();function jU(){let e=[];return{add(t){const i=e[0];t!==i&&(i==null||i.pause()),e=Fw(e,t),e.unshift(t)},remove(t){var i;e=Fw(e,t),(i=e[0])==null||i.resume()}}}function Fw(e,t){const i=[...e],n=i.indexOf(t);return n!==-1&&i.splice(n,1),i}function qU(e){return e.filter(t=>t.tagName!=="A")}var _U="Portal",tO=dt.forwardRef((e,t)=>{var x;const{container:i,...n}=e,[d,C]=dt.useState(!1);Jd(()=>C(!0),[]);const r=i||d&&((x=globalThis==null?void 0:globalThis.document)==null?void 0:x.body);return r?OU.createPortal(Nt.jsx(ga.div,{...n,ref:t}),r):null});tO.displayName=_U;function tX(e,t){return dt.useReducer((i,n)=>t[i][n]??i,e)}var f2=e=>{const{present:t,children:i}=e,n=eX(t),d=typeof i=="function"?i({present:n.isPresent}):dt.Children.only(i),C=J0(n.ref,iX(d));return typeof i=="function"||n.isPresent?dt.cloneElement(d,{ref:C}):null};f2.displayName="Presence";function eX(e){const[t,i]=dt.useState(),n=dt.useRef(null),d=dt.useRef(e),C=dt.useRef("none"),r=e?"mounted":"unmounted",[x,s]=tX(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return dt.useEffect(()=>{const a=g3(n.current);C.current=x==="mounted"?a:"none"},[x]),Jd(()=>{const a=n.current,g=d.current;if(g!==e){const h=C.current,l=g3(a);e?s("MOUNT"):l==="none"||(a==null?void 0:a.display)==="none"?s("UNMOUNT"):s(g&&h!==l?"ANIMATION_OUT":"UNMOUNT"),d.current=e}},[e,s]),Jd(()=>{if(t){let a;const g=t.ownerDocument.defaultView??window,c=l=>{const u=g3(n.current).includes(CSS.escape(l.animationName));if(l.target===t&&u&&(s("ANIMATION_END"),!d.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",a=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=l=>{l.target===t&&(C.current=g3(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{g.clearTimeout(a),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(x),ref:dt.useCallback(a=>{n.current=a?getComputedStyle(a):null,i(a)},[])}}function g3(e){return(e==null?void 0:e.animationName)||"none"}function iX(e){var n,d;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(d=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:d.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var Wx=0;function sX(){dt.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bw()),document.body.insertAdjacentElement("beforeend",e[1]??Bw()),Wx++,()=>{Wx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wx--}},[])}function Bw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ar=function(){return Ar=Object.assign||function(t){for(var i,n=1,d=arguments.length;n<d;n++){i=arguments[n];for(var C in i)Object.prototype.hasOwnProperty.call(i,C)&&(t[C]=i[C])}return t},Ar.apply(this,arguments)};function eO(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,n=Object.getOwnPropertySymbols(e);d<n.length;d++)t.indexOf(n[d])<0&&Object.prototype.propertyIsEnumerable.call(e,n[d])&&(i[n[d]]=e[n[d]]);return i}function nX(e,t,i){if(i||arguments.length===2)for(var n=0,d=t.length,C;n<d;n++)(C||!(n in t))&&(C||(C=Array.prototype.slice.call(t,0,n)),C[n]=t[n]);return e.concat(C||Array.prototype.slice.call(t))}var Ep="right-scroll-bar-position",wp="width-before-scroll-bar",rX="with-scroll-bars-hidden",aX="--removed-body-scroll-bar-size";function $x(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oX(e,t){var i=dt.useState(function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(n){var d=i.value;d!==n&&(i.value=n,i.callback(n,d))}}}})[0];return i.callback=t,i.facade}var lX=typeof window<"u"?dt.useLayoutEffect:dt.useEffect,Iw=new WeakMap;function hX(e,t){var i=oX(null,function(n){return e.forEach(function(d){return $x(d,n)})});return lX(function(){var n=Iw.get(i);if(n){var d=new Set(n),C=new Set(e),r=i.current;d.forEach(function(x){C.has(x)||$x(x,null)}),C.forEach(function(x){d.has(x)||$x(x,r)})}Iw.set(i,e)},[e]),i}function uX(e){return e}function dX(e,t){t===void 0&&(t=uX);var i=[],n=!1,d={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(C){var r=t(C,n);return i.push(r),function(){i=i.filter(function(x){return x!==r})}},assignSyncMedium:function(C){for(n=!0;i.length;){var r=i;i=[],r.forEach(C)}i={push:function(x){return C(x)},filter:function(){return i}}},assignMedium:function(C){n=!0;var r=[];if(i.length){var x=i;i=[],x.forEach(C),r=i}var s=function(){var g=r;r=[],g.forEach(C)},a=function(){return Promise.resolve().then(s)};a(),i={push:function(g){r.push(g),a()},filter:function(g){return r=r.filter(g),i}}}};return d}function fX(e){e===void 0&&(e={});var t=dX(null);return t.options=Ar({async:!0,ssr:!1},e),t}var iO=function(e){var t=e.sideCar,i=eO(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return dt.createElement(n,Ar({},i))};iO.isSideCarExport=!0;function cX(e,t){return e.useMedium(t),iO}var sO=fX(),Kx=function(){},c2=dt.forwardRef(function(e,t){var i=dt.useRef(null),n=dt.useState({onScrollCapture:Kx,onWheelCapture:Kx,onTouchMoveCapture:Kx}),d=n[0],C=n[1],r=e.forwardProps,x=e.children,s=e.className,a=e.removeScrollBar,g=e.enabled,c=e.shards,h=e.sideCar,l=e.noRelative,o=e.noIsolation,u=e.inert,v=e.allowPinchZoom,f=e.as,p=f===void 0?"div":f,m=e.gapMode,y=eO(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,T=hX([i,t]),b=Ar(Ar({},y),d);return dt.createElement(dt.Fragment,null,g&&dt.createElement(S,{sideCar:sO,removeScrollBar:a,shards:c,noRelative:l,noIsolation:o,inert:u,setCallbacks:C,allowPinchZoom:!!v,lockRef:i,gapMode:m}),r?dt.cloneElement(dt.Children.only(x),Ar(Ar({},b),{ref:T})):dt.createElement(p,Ar({},b,{className:s,ref:T}),x))});c2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};c2.classNames={fullWidth:wp,zeroRight:Ep};var vX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vX();return t&&e.setAttribute("nonce",t),e}function gX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xX=function(){var e=0,t=null;return{add:function(i){e==0&&(t=pX())&&(gX(t,i),mX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yX=function(){var e=xX();return function(t,i){dt.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},nO=function(){var e=yX(),t=function(i){var n=i.styles,d=i.dynamic;return e(n,d),null};return t},SX={left:0,top:0,right:0,gap:0},Zx=function(e){return parseInt(e||"",10)||0},CX=function(e){var t=window.getComputedStyle(document.body),i=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],d=t[e==="padding"?"paddingRight":"marginRight"];return[Zx(i),Zx(n),Zx(d)]},TX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SX;var t=CX(e),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-i+t[2]-t[0])}},bX=nO(),Xh="data-scroll-locked",EX=function(e,t,i,n){var d=e.left,C=e.top,r=e.right,x=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(rX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(x,"px ").concat(n,`;
  }
  body[`).concat(Xh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),i==="margin"&&`
    padding-left: `.concat(d,`px;
    padding-top: `).concat(C,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(x,"px ").concat(n,`;
    `),i==="padding"&&"padding-right: ".concat(x,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ep,` {
    right: `).concat(x,"px ").concat(n,`;
  }
  
  .`).concat(wp,` {
    margin-right: `).concat(x,"px ").concat(n,`;
  }
  
  .`).concat(Ep," .").concat(Ep,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xh,`] {
    `).concat(aX,": ").concat(x,`px;
  }
`)},kw=function(){var e=parseInt(document.body.getAttribute(Xh)||"0",10);return isFinite(e)?e:0},wX=function(){dt.useEffect(function(){return document.body.setAttribute(Xh,(kw()+1).toString()),function(){var e=kw()-1;e<=0?document.body.removeAttribute(Xh):document.body.setAttribute(Xh,e.toString())}},[])},PX=function(e){var t=e.noRelative,i=e.noImportant,n=e.gapMode,d=n===void 0?"margin":n;wX();var C=dt.useMemo(function(){return TX(d)},[d]);return dt.createElement(bX,{styles:EX(C,!t,d,i?"":"!important")})},n4=!1;if(typeof window<"u")try{var m3=Object.defineProperty({},"passive",{get:function(){return n4=!0,!0}});window.addEventListener("test",m3,m3),window.removeEventListener("test",m3,m3)}catch{n4=!1}var Zl=n4?{passive:!1}:!1,MX=function(e){return e.tagName==="TEXTAREA"},rO=function(e,t){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[t]!=="hidden"&&!(i.overflowY===i.overflowX&&!MX(e)&&i[t]==="visible")},AX=function(e){return rO(e,"overflowY")},RX=function(e){return rO(e,"overflowX")},Gw=function(e,t){var i=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var d=aO(e,n);if(d){var C=oO(e,n),r=C[1],x=C[2];if(r>x)return!0}n=n.parentNode}while(n&&n!==i.body);return!1},OX=function(e){var t=e.scrollTop,i=e.scrollHeight,n=e.clientHeight;return[t,i,n]},DX=function(e){var t=e.scrollLeft,i=e.scrollWidth,n=e.clientWidth;return[t,i,n]},aO=function(e,t){return e==="v"?AX(t):RX(t)},oO=function(e,t){return e==="v"?OX(t):DX(t)},LX=function(e,t){return e==="h"&&t==="rtl"?-1:1},FX=function(e,t,i,n,d){var C=LX(e,window.getComputedStyle(t).direction),r=C*n,x=i.target,s=t.contains(x),a=!1,g=r>0,c=0,h=0;do{if(!x)break;var l=oO(e,x),o=l[0],u=l[1],v=l[2],f=u-v-C*o;(o||f)&&aO(e,x)&&(c+=f,h+=o);var p=x.parentNode;x=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!s&&x!==document.body||s&&(t.contains(x)||t===x));return(g&&Math.abs(c)<1||!g&&Math.abs(h)<1)&&(a=!0),a},x3=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nw=function(e){return[e.deltaX,e.deltaY]},Vw=function(e){return e&&"current"in e?e.current:e},BX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kX=0,Jl=[];function GX(e){var t=dt.useRef([]),i=dt.useRef([0,0]),n=dt.useRef(),d=dt.useState(kX++)[0],C=dt.useState(nO)[0],r=dt.useRef(e);dt.useEffect(function(){r.current=e},[e]),dt.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(d));var u=nX([e.lockRef.current],(e.shards||[]).map(Vw),!0).filter(Boolean);return u.forEach(function(v){return v.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),u.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(d))})}}},[e.inert,e.lockRef.current,e.shards]);var x=dt.useCallback(function(u,v){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!r.current.allowPinchZoom;var f=x3(u),p=i.current,m="deltaX"in u?u.deltaX:p[0]-f[0],y="deltaY"in u?u.deltaY:p[1]-f[1],S,T=u.target,b=Math.abs(m)>Math.abs(y)?"h":"v";if("touches"in u&&b==="h"&&T.type==="range")return!1;var P=Gw(b,T);if(!P)return!0;if(P?S=b:(S=b==="v"?"h":"v",P=Gw(b,T)),!P)return!1;if(!n.current&&"changedTouches"in u&&(m||y)&&(n.current=S),!S)return!0;var w=n.current||S;return FX(w,v,u,w==="h"?m:y)},[]),s=dt.useCallback(function(u){var v=u;if(!(!Jl.length||Jl[Jl.length-1]!==C)){var f="deltaY"in v?Nw(v):x3(v),p=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&BX(S.delta,f)})[0];if(p&&p.should){v.cancelable&&v.preventDefault();return}if(!p){var m=(r.current.shards||[]).map(Vw).filter(Boolean).filter(function(S){return S.contains(v.target)}),y=m.length>0?x(v,m[0]):!r.current.noIsolation;y&&v.cancelable&&v.preventDefault()}}},[]),a=dt.useCallback(function(u,v,f,p){var m={name:u,delta:v,target:f,should:p,shadowParent:NX(f)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(y){return y!==m})},1)},[]),g=dt.useCallback(function(u){i.current=x3(u),n.current=void 0},[]),c=dt.useCallback(function(u){a(u.type,Nw(u),u.target,x(u,e.lockRef.current))},[]),h=dt.useCallback(function(u){a(u.type,x3(u),u.target,x(u,e.lockRef.current))},[]);dt.useEffect(function(){return Jl.push(C),e.setCallbacks({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:h}),document.addEventListener("wheel",s,Zl),document.addEventListener("touchmove",s,Zl),document.addEventListener("touchstart",g,Zl),function(){Jl=Jl.filter(function(u){return u!==C}),document.removeEventListener("wheel",s,Zl),document.removeEventListener("touchmove",s,Zl),document.removeEventListener("touchstart",g,Zl)}},[]);var l=e.removeScrollBar,o=e.inert;return dt.createElement(dt.Fragment,null,o?dt.createElement(C,{styles:IX(d)}):null,l?dt.createElement(PX,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function NX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VX=cX(sO,GX);var lO=dt.forwardRef(function(e,t){return dt.createElement(c2,Ar({},e,{ref:t,sideCar:VX}))});lO.classNames=c2.classNames;var zX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ql=new WeakMap,y3=new WeakMap,S3={},Jx=0,hO=function(e){return e&&(e.host||hO(e.parentNode))},UX=function(e,t){return t.map(function(i){if(e.contains(i))return i;var n=hO(i);return n&&e.contains(n)?n:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},XX=function(e,t,i,n){var d=UX(t,Array.isArray(e)?e:[e]);S3[i]||(S3[i]=new WeakMap);var C=S3[i],r=[],x=new Set,s=new Set(d),a=function(c){!c||x.has(c)||(x.add(c),a(c.parentNode))};d.forEach(a);var g=function(c){!c||s.has(c)||Array.prototype.forEach.call(c.children,function(h){if(x.has(h))g(h);else try{var l=h.getAttribute(n),o=l!==null&&l!=="false",u=(Ql.get(h)||0)+1,v=(C.get(h)||0)+1;Ql.set(h,u),C.set(h,v),r.push(h),u===1&&o&&y3.set(h,!0),v===1&&h.setAttribute(i,"true"),o||h.setAttribute(n,"true")}catch(f){console.error("aria-hidden: cannot operate on ",h,f)}})};return g(t),x.clear(),Jx++,function(){r.forEach(function(c){var h=Ql.get(c)-1,l=C.get(c)-1;Ql.set(c,h),C.set(c,l),h||(y3.has(c)||c.removeAttribute(n),y3.delete(c)),l||c.removeAttribute(i)}),Jx--,Jx||(Ql=new WeakMap,Ql=new WeakMap,y3=new WeakMap,S3={})}},HX=function(e,t,i){i===void 0&&(i="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),d=zX(e);return d?(n.push.apply(n,Array.from(d.querySelectorAll("[aria-live], script"))),XX(n,d,i,"aria-hidden")):function(){return null}},v2="Dialog",[uO,sxt]=TU(v2),[YX,rr]=uO(v2),dO=e=>{const{__scopeDialog:t,children:i,open:n,defaultOpen:d,onOpenChange:C,modal:r=!0}=e,x=dt.useRef(null),s=dt.useRef(null),[a,g]=MU({prop:n,defaultProp:d??!1,onChange:C,caller:v2});return Nt.jsx(YX,{scope:t,triggerRef:x,contentRef:s,contentId:Xx(),titleId:Xx(),descriptionId:Xx(),open:a,onOpenChange:g,onOpenToggle:dt.useCallback(()=>g(c=>!c),[g]),modal:r,children:i})};dO.displayName=v2;var fO="DialogTrigger",WX=dt.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,d=rr(fO,i),C=J0(t,d.triggerRef);return Nt.jsx(ga.button,{type:"button","aria-haspopup":"dialog","aria-expanded":d.open,"aria-controls":d.contentId,"data-state":j4(d.open),...n,ref:C,onClick:Lo(e.onClick,d.onOpenToggle)})});WX.displayName=fO;var J4="DialogPortal",[$X,cO]=uO(J4,{forceMount:void 0}),vO=e=>{const{__scopeDialog:t,forceMount:i,children:n,container:d}=e,C=rr(J4,t);return Nt.jsx($X,{scope:t,forceMount:i,children:dt.Children.map(n,r=>Nt.jsx(f2,{present:i||C.open,children:Nt.jsx(tO,{asChild:!0,container:d,children:r})}))})};vO.displayName=J4;var Gp="DialogOverlay",pO=dt.forwardRef((e,t)=>{const i=cO(Gp,e.__scopeDialog),{forceMount:n=i.forceMount,...d}=e,C=rr(Gp,e.__scopeDialog);return C.modal?Nt.jsx(f2,{present:n||C.open,children:Nt.jsx(ZX,{...d,ref:t})}):null});pO.displayName=Gp;var KX=Z9("DialogOverlay.RemoveScroll"),ZX=dt.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,d=rr(Gp,i);return Nt.jsx(lO,{as:KX,allowPinchZoom:!0,shards:[d.contentRef],children:Nt.jsx(ga.div,{"data-state":j4(d.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),U0="DialogContent",gO=dt.forwardRef((e,t)=>{const i=cO(U0,e.__scopeDialog),{forceMount:n=i.forceMount,...d}=e,C=rr(U0,e.__scopeDialog);return Nt.jsx(f2,{present:n||C.open,children:C.modal?Nt.jsx(JX,{...d,ref:t}):Nt.jsx(QX,{...d,ref:t})})});gO.displayName=U0;var JX=dt.forwardRef((e,t)=>{const i=rr(U0,e.__scopeDialog),n=dt.useRef(null),d=J0(t,i.contentRef,n);return dt.useEffect(()=>{const C=n.current;if(C)return HX(C)},[]),Nt.jsx(mO,{...e,ref:d,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Lo(e.onCloseAutoFocus,C=>{var r;C.preventDefault(),(r=i.triggerRef.current)==null||r.focus()}),onPointerDownOutside:Lo(e.onPointerDownOutside,C=>{const r=C.detail.originalEvent,x=r.button===0&&r.ctrlKey===!0;(r.button===2||x)&&C.preventDefault()}),onFocusOutside:Lo(e.onFocusOutside,C=>C.preventDefault())})}),QX=dt.forwardRef((e,t)=>{const i=rr(U0,e.__scopeDialog),n=dt.useRef(!1),d=dt.useRef(!1);return Nt.jsx(mO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:C=>{var r,x;(r=e.onCloseAutoFocus)==null||r.call(e,C),C.defaultPrevented||(n.current||(x=i.triggerRef.current)==null||x.focus(),C.preventDefault()),n.current=!1,d.current=!1},onInteractOutside:C=>{var s,a;(s=e.onInteractOutside)==null||s.call(e,C),C.defaultPrevented||(n.current=!0,C.detail.originalEvent.type==="pointerdown"&&(d.current=!0));const r=C.target;((a=i.triggerRef.current)==null?void 0:a.contains(r))&&C.preventDefault(),C.detail.originalEvent.type==="focusin"&&d.current&&C.preventDefault()}})}),mO=dt.forwardRef((e,t)=>{const{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:d,onCloseAutoFocus:C,...r}=e,x=rr(U0,i),s=dt.useRef(null),a=J0(t,s);return sX(),Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(q9,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:d,onUnmountAutoFocus:C,children:Nt.jsx(Q9,{role:"dialog",id:x.contentId,"aria-describedby":x.descriptionId,"aria-labelledby":x.titleId,"data-state":j4(x.open),...r,ref:a,onDismiss:()=>x.onOpenChange(!1)})}),Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(qX,{titleId:x.titleId}),Nt.jsx(tH,{contentRef:s,descriptionId:x.descriptionId})]})]})}),Q4="DialogTitle",xO=dt.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,d=rr(Q4,i);return Nt.jsx(ga.h2,{id:d.titleId,...n,ref:t})});xO.displayName=Q4;var yO="DialogDescription",SO=dt.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,d=rr(yO,i);return Nt.jsx(ga.p,{id:d.descriptionId,...n,ref:t})});SO.displayName=yO;var CO="DialogClose",jX=dt.forwardRef((e,t)=>{const{__scopeDialog:i,...n}=e,d=rr(CO,i);return Nt.jsx(ga.button,{type:"button",...n,ref:t,onClick:Lo(e.onClick,()=>d.onOpenChange(!1))})});jX.displayName=CO;function j4(e){return e?"open":"closed"}var TO="DialogTitleWarning",[nxt,bO]=CU(TO,{contentName:U0,titleName:Q4,docsSlug:"dialog"}),qX=({titleId:e})=>{const t=bO(TO),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return dt.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},_X="DialogDescriptionWarning",tH=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bO(_X).contentName}}.`;return dt.useEffect(()=>{var C;const d=(C=e.current)==null?void 0:C.getAttribute("aria-describedby");t&&d&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},EO=dO,wO=vO,PO=pO,MO=gO,AO=xO,RO=SO;function eH(){const{isGameConfirmDialogOpen:e,confirmDialogTitle:t,confirmDialogMessage:i,onConfirm:n,onCancel:d,closeConfirm:C}=Z4(),r=()=>{n==null||n(),C()},x=()=>{d==null||d(),C()};return Nt.jsx(EO,{open:e,onOpenChange:s=>!s&&C(),children:Nt.jsxs(wO,{children:[Nt.jsx(PO,{className:"fixed inset-0 bg-black/80"}),Nt.jsxs(MO,{className:"fixed z-50 left-1/2 top-1/2 w-[90%] max-w-xs -translate-x-1/2 -translate-y-1/2 border-4 border-yellow-300 bg-[#1c1c1c] p-4 font-roboto text-white shadow-lg",children:[Nt.jsx(AO,{className:"text-base mb-2 text-yellow-300",children:t}),Nt.jsx(RO,{className:"text-xs text-white",children:i}),Nt.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[Nt.jsx("button",{onClick:x,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 text-xs border-2 border-white",children:"Hủy"}),Nt.jsx("button",{onClick:r,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 text-xs border-2 border-white",children:"Đồng ý"})]})]})]})})}function iH(){const{showConfirm:e}=Z4();return dt.useEffect(()=>{(async()=>{if(Xs.get("VITE_APP_ENV")==="production")try{const i=await(await fetch("/meta.json",{cache:"no-store"})).json();Tt.debug(i,"1.11.0"),i.version!=="1.11.0"&&e({title:"Đã có phiên bản mới. Bạn có muốn tải lại trang không?",message:"Hành động này không thể hoàn tác.",onConfirm:async()=>{window.location.reload()},onCancel:()=>Tt.debug("Đã hủy!")})}catch(t){Tt.error("Lỗi kiểm tra phiên bản:",t)}})()},[]),null}var sH={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function OO(e){if(typeof e=="number")return{value:e,unit:"px"};var t,i=(e.match(/^[0-9.]*/)||"").toString();i.includes(".")?t=parseFloat(i):t=parseInt(i,10);var n=(e.match(/[^0-9]*$/)||"").toString();return sH[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function C3(e){var t=OO(e);return"".concat(t.value).concat(t.unit)}var r4=function(e,t,i){var n="react-spinners-".concat(e,"-").concat(i);if(typeof window>"u"||!window.document)return n;var d=document.createElement("style");document.head.appendChild(d);var C=d.sheet,r=`
    @keyframes `.concat(n,` {
      `).concat(t,`
    }
  `);return C&&C.insertRule(r,0),n},Np=function(){return Np=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},Np.apply(this,arguments)},nH=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,n=Object.getOwnPropertySymbols(e);d<n.length;d++)t.indexOf(n[d])<0&&Object.prototype.propertyIsEnumerable.call(e,n[d])&&(i[n[d]]=e[n[d]]);return i},rH=[r4("PacmanLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(-44deg)}","pacman-1"),r4("PacmanLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(44deg)}","pacman-2")];function aH(e){var t=e.loading,i=t===void 0?!0:t,n=e.color,d=n===void 0?"#000000":n,C=e.speedMultiplier,r=C===void 0?1:C,x=e.cssOverride,s=x===void 0?{}:x,a=e.size,g=a===void 0?25:a,c=e.margin,h=c===void 0?2:c,l=nH(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),o=OO(g),u=o.value,v=o.unit,f=Np({display:"inherit",position:"relative",fontSize:0,height:"".concat(u*2).concat(v),width:"".concat(u*2).concat(v)},s),p=r4("PacmanLoader",`75% {opacity: 0.7}
    100% {transform: translate(`.concat("".concat(-4*u).concat(v),", ").concat("".concat(-u/4).concat(v),")}"),"ball"),m=function(w){return{width:"".concat(u/3).concat(v),height:"".concat(u/3).concat(v),backgroundColor:d,margin:C3(h),borderRadius:"100%",transform:"translate(0, ".concat("".concat(-u/4).concat(v),")"),position:"absolute",top:"".concat(u).concat(v),left:"".concat(u*4).concat(v),animation:"".concat(p," ").concat(1/r,"s ").concat(w*.25,"s infinite linear"),animationFillMode:"both"}},y="".concat(C3(g)," solid transparent"),S="".concat(C3(g)," solid ").concat(d),T=function(w){return{width:0,height:0,borderRight:y,borderTop:w===0?y:S,borderLeft:S,borderBottom:w===0?S:y,borderRadius:C3(g),position:"absolute",animation:"".concat(rH[w]," ").concat(.8/r,"s infinite ease-in-out"),animationFillMode:"both"}},b=T(0),P=T(1);return i?dt.createElement("span",Np({style:f},l),dt.createElement("span",{style:b}),dt.createElement("span",{style:P}),dt.createElement("span",{style:m(2)}),dt.createElement("span",{style:m(3)}),dt.createElement("span",{style:m(4)}),dt.createElement("span",{style:m(5)})):null}function oH({loading:e}){return e?Nt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:Nt.jsxs("div",{className:"rounded-lg border-2 border-yellow-400 bg-[#1e1e1e] px-6 py-4 font-roboto text-[10px] text-white shadow-xl",children:[Nt.jsx("div",{className:"mb-3 text-center",children:"Đang tải dữ liệu..."}),Nt.jsx("div",{className:"flex justify-center",children:Nt.jsx(aH,{color:"#facc15",size:16})})]})}):null}const Ht={LOADING:"LoadingScene",BASE:"BaseScene",UI:"UIScene",DEBUG:"DebugScene",CURSOR:"CursorScene",HOUSE:"HouseScene",GLOBAL:"GlobalScene",CHARACTER:"CharacterScene"},lH=10,T3=20,hH=100,uH=.5*Dt,jd=515,qd=260,dH=100,fH=1080,cH=120,vH=1e3,pH=jd-8*ut,gH=qd-4*ut;var Pp={exports:{}},mH=Pp.exports,zw;function xH(){return zw||(zw=1,(function(e,t){(function(n,d){e.exports=d()})(mH,()=>(()=>{var i={50792:(r=>{var x=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function g(o,u,v){this.fn=o,this.context=u,this.once=v||!1}function c(o,u,v,f,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var m=new g(v,f||o,p),y=s?s+u:u;return o._events[y]?o._events[y].fn?o._events[y]=[o._events[y],m]:o._events[y].push(m):(o._events[y]=m,o._eventsCount++),o}function h(o,u){--o._eventsCount===0?o._events=new a:delete o._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],v,f;if(this._eventsCount===0)return u;for(f in v=this._events)x.call(v,f)&&u.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(v)):u},l.prototype.listeners=function(u){var v=s?s+u:u,f=this._events[v];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},l.prototype.listenerCount=function(u){var v=s?s+u:u,f=this._events[v];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,v,f,p,m,y){var S=s?s+u:u;if(!this._events[S])return!1;var T=this._events[S],b=arguments.length,P,w;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),b){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,f),!0;case 4:return T.fn.call(T.context,v,f,p),!0;case 5:return T.fn.call(T.context,v,f,p,m),!0;case 6:return T.fn.call(T.context,v,f,p,m,y),!0}for(w=1,P=new Array(b-1);w<b;w++)P[w-1]=arguments[w];T.fn.apply(T.context,P)}else{var A=T.length,R;for(w=0;w<A;w++)switch(T[w].once&&this.removeListener(u,T[w].fn,void 0,!0),b){case 1:T[w].fn.call(T[w].context);break;case 2:T[w].fn.call(T[w].context,v);break;case 3:T[w].fn.call(T[w].context,v,f);break;case 4:T[w].fn.call(T[w].context,v,f,p);break;default:if(!P)for(R=1,P=new Array(b-1);R<b;R++)P[R-1]=arguments[R];T[w].fn.apply(T[w].context,P)}}return!0},l.prototype.on=function(u,v,f){return c(this,u,v,f,!1)},l.prototype.once=function(u,v,f){return c(this,u,v,f,!0)},l.prototype.removeListener=function(u,v,f,p){var m=s?s+u:u;if(!this._events[m])return this;if(!v)return h(this,m),this;var y=this._events[m];if(y.fn)y.fn===v&&(!p||y.once)&&(!f||y.context===f)&&h(this,m);else{for(var S=0,T=[],b=y.length;S<b;S++)(y[S].fn!==v||p&&!y[S].once||f&&y[S].context!==f)&&T.push(y[S]);T.length?this._events[m]=T.length===1?T[0]:T:h(this,m)}return this},l.prototype.removeAllListeners=function(u){var v;return u?(v=s?s+u:u,this._events[v]&&h(this,v)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,r.exports=l}),11517:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38829),g=function(c,h,l,o){for(var u=c[0],v=1;v<c.length;v++){var f=c[v];a(f,u,h,l,o),u=f}return c};r.exports=g}),80318:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"angle",h,l,o,u)};r.exports=g}),60757:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var c=0;c<s.length;c++){var h=s[c];a.call(g,h)}return s};r.exports=x}),69927:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=0);for(var c=g;c<s.length;c++){var h=s[c],l=!0;for(var o in a)h[o]!==a[o]&&(l=!1);if(l)return h}return null};r.exports=x}),32265:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=0);for(var c=s.length-1;c>=g;c--){var h=s[c],l=!0;for(var o in a)h[o]!==a[o]&&(l=!1);if(l)return h}return null};r.exports=x}),94420:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(11879),g=s(60461),c=s(95540),h=s(29747),l=s(41481),o=new l({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),u=function(v,f){f===void 0&&(f={});var p=f.hasOwnProperty("width"),m=f.hasOwnProperty("height"),y=c(f,"width",-1),S=c(f,"height",-1),T=c(f,"cellWidth",1),b=c(f,"cellHeight",T),P=c(f,"position",g.TOP_LEFT),w=c(f,"x",0),A=c(f,"y",0),R=0,D=0,L=y*T,k=S*b;o.setPosition(w,A),o.setSize(T,b);for(var B=0;B<v.length;B++)if(a(v[B],o,P),p&&y===-1)o.x+=T;else if(m&&S===-1)o.y+=b;else if(m&&!p){if(D+=b,o.y+=b,D===k&&(D=0,R+=T,o.y=A,o.x+=T,R===L))break}else if(R+=T,o.x+=T,R===L&&(R=0,D+=b,o.x=w,o.y+=b,D===k))break;return v};r.exports=u}),41721:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"alpha",h,l,o,u)};r.exports=g}),67285:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"x",h,l,o,u)};r.exports=g}),9074:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"x",h,o,v,f),a(c,"y",l,u,v,f)};r.exports=g}),75222:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"y",h,l,o,u)};r.exports=g}),22983:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g===void 0&&(g=0),c===void 0&&(c=6.28);for(var h=g,l=(c-g)/s.length,o=a.x,u=a.y,v=a.radius,f=0;f<s.length;f++)s[f].x=o+v*Math.cos(h),s[f].y=u+v*Math.sin(h),h+=l;return s};r.exports=x}),95253:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g===void 0&&(g=0),c===void 0&&(c=6.28);for(var h=g,l=(c-g)/s.length,o=a.width/2,u=a.height/2,v=0;v<s.length;v++)s[v].x=a.x+o*Math.cos(h),s[v].y=a.y+u*Math.sin(h),h+=l;return s};r.exports=x}),88505:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15258),g=s(26708),c=function(h,l,o){var u;o?u=g(l,o,h.length):u=a(l,h.length);for(var v=0;v<h.length;v++){var f=h[v],p=u[v];f.x=p.x,f.y=p.y}return h};r.exports=c}),41346:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14649),g=s(86003),c=s(49498),h=function(l,o,u){u===void 0&&(u=0);var v=a(o,!1,l.length);u>0?g(v,u):u<0&&c(v,Math.abs(u));for(var f=0;f<l.length;f++)l[f].x=v[f].x,l[f].y=v[f].y;return l};r.exports=h}),11575:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84993),g=function(c,h,l){var o=a({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},l),u=a({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},l),v=a({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},l);o.pop(),u.pop(),v.pop(),o=o.concat(u,v);for(var f=o.length/c.length,p=0,m=0;m<c.length;m++){var y=c[m],S=o[Math.floor(p)];y.x=S.x,y.y=S.y,p+=f}return c};r.exports=g}),29953:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var c=0;c<s.length;c++){var h=s[c];h.anims&&h.anims.play(a,g)}return s};r.exports=x}),66979:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l){c===void 0&&(c=0),h===void 0&&(h=0),l===void 0&&(l=1);var o,u=0,v=s.length;if(l===1)for(o=h;o<v;o++)s[o][a]+=g+u*c,u++;else for(o=h;o>=0;o--)s[o][a]+=g+u*c,u++;return s};r.exports=x}),43967:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l){c===void 0&&(c=0),h===void 0&&(h=0),l===void 0&&(l=1);var o,u=0,v=s.length;if(l===1)for(o=h;o<v;o++)s[o][a]=g+u*c,u++;else for(o=h;o>=0;o--)s[o][a]=g+u*c,u++;return s};r.exports=x}),88926:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28176),g=function(c,h){for(var l=0;l<c.length;l++)a(h,c[l]);return c};r.exports=g}),33286:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(24820),g=function(c,h){for(var l=0;l<c.length;l++)a(h,c[l]);return c};r.exports=g}),96e3:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65822),g=function(c,h){for(var l=0;l<c.length;l++)a(h,c[l]);return c};r.exports=g}),28789:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26597),g=function(c,h){for(var l=0;l<c.length;l++)a(h,c[l]);return c};r.exports=g}),97154:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90260),g=function(c,h){for(var l=0;l<c.length;l++)a(h,c[l]);return c};r.exports=g}),20510:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"rotation",h,l,o,u)};r.exports=g}),91051:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1163),g=s(20339),c=function(h,l,o){for(var u=l.x,v=l.y,f=0;f<h.length;f++){var p=h[f];a(p,u,v,o,Math.max(1,g(p.x,p.y,u,v)))}return h};r.exports=c}),76332:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1163),g=function(c,h,l,o){var u=h.x,v=h.y;if(o===0)return c;for(var f=0;f<c.length;f++)a(c[f],u,v,l,o);return c};r.exports=g}),61619:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"scaleX",h,l,o,u)};r.exports=g}),94868:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"scaleX",h,o,v,f),a(c,"scaleY",l,u,v,f)};r.exports=g}),95532:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(c,h,l,o,u){return a(c,"scaleY",h,l,o,u)};r.exports=g}),8689:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"alpha",h,l,o,u)};r.exports=g}),2645:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o){return a(c,"blendMode",h,0,l,o)};r.exports=g}),32372:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"depth",h,l,o,u)};r.exports=g}),85373:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var c=0;c<s.length;c++)s[c].setInteractive(a,g);return s};r.exports=x}),81583:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"originX",h,o,v,f),a(c,"originY",l,u,v,f),c.forEach(function(p){p.updateDisplayOrigin()}),c};r.exports=g}),79939:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"rotation",h,l,o,u)};r.exports=g}),2699:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"scaleX",h,o,v,f),a(c,"scaleY",l,u,v,f)};r.exports=g}),98739:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"scaleX",h,l,o,u)};r.exports=g}),98476:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"scaleY",h,l,o,u)};r.exports=g}),6207:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"scrollFactorX",h,o,v,f),a(c,"scrollFactorY",l,u,v,f)};r.exports=g}),6607:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"scrollFactorX",h,l,o,u)};r.exports=g}),72248:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"scrollFactorY",h,l,o,u)};r.exports=g}),14036:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){for(var l=0;l<s.length;l++)s[l].setTint(a,g,c,h);return s};r.exports=x}),50159:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o){return a(c,"visible",h,0,l,o)};r.exports=g}),77597:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"x",h,l,o,u)};r.exports=g}),83194:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u,v,f){return l==null&&(l=h),a(c,"x",h,o,v,f),a(c,"y",l,u,v,f)};r.exports=g}),67678:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(c,h,l,o,u){return a(c,"y",h,l,o,u)};r.exports=g}),35850:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u){o===void 0&&(o=0),u===void 0&&(u=new a);var v,f,p=c.length;if(p===1)v=c[0].x,f=c[0].y,c[0].x=h,c[0].y=l;else{var m=1,y=0;o===0&&(y=p-1,m=p-2),v=c[y].x,f=c[y].y,c[y].x=h,c[y].y=l;for(var S=0;S<p;S++)if(!(m>=p||m===-1)){var T=c[m],b=T.x,P=T.y;T.x=v,T.y=f,v=b,f=P,o===0?m--:m++}}return u.x=v,u.y=f,u};r.exports=g}),8628:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33680),g=function(c){return a(c)};r.exports=g}),21837:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7602),g=function(c,h,l,o,u){u===void 0&&(u=!1);var v=Math.abs(o-l)/c.length,f;if(u)for(f=0;f<c.length;f++)c[f][h]+=a(f*v,l,o);else for(f=0;f<c.length;f++)c[f][h]=a(f*v,l,o);return c};r.exports=g}),21910:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54261),g=function(c,h,l,o,u){u===void 0&&(u=!1);var v=Math.abs(o-l)/c.length,f;if(u)for(f=0;f<c.length;f++)c[f][h]+=a(f*v,l,o);else for(f=0;f<c.length;f++)c[f][h]=a(f*v,l,o);return c};r.exports=g}),62054:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){if(h===void 0&&(h=!1),s.length===0)return s;if(s.length===1)return h?s[0][a]+=(c+g)/2:s[0][a]=(c+g)/2,s;var l=Math.abs(c-g)/(s.length-1),o;if(h)for(o=0;o<s.length;o++)s[o][a]+=o*l+g;else for(o=0;o<s.length;o++)s[o][a]=o*l+g;return s};r.exports=x}),79815:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0;a<s.length;a++)s[a].visible=!s[a].visible;return s};r.exports=x}),39665:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(c,h,l){l===void 0&&(l=0);for(var o=0;o<c.length;o++){var u=c[o];u.x=a(u.x,h.left-l,h.right+l),u.y=a(u.y,h.top-l,h.bottom+l)}return c};r.exports=g}),61061:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}}),42099:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(74943),h=s(81957),l=s(41138),o=s(35154),u=s(90126),v=new g({initialize:function(p,m,y){this.manager=p,this.key=m,this.type="frame",this.frames=this.getFrames(p.textureManager,o(y,"frames",[]),o(y,"defaultTextureKey",null),o(y,"sortFrames",!0)),this.frameRate=o(y,"frameRate",null),this.duration=o(y,"duration",null),this.msPerFrame,this.skipMissedFrames=o(y,"skipMissedFrames",!0),this.delay=o(y,"delay",0),this.repeat=o(y,"repeat",0),this.repeatDelay=o(y,"repeatDelay",0),this.yoyo=o(y,"yoyo",!1),this.showBeforeDelay=o(y,"showBeforeDelay",!1),this.showOnStart=o(y,"showOnStart",!1),this.hideOnComplete=o(y,"hideOnComplete",!1),this.randomFrame=o(y,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(f,p,m,y){m===null&&y===null?(f.frameRate=24,f.duration=24/p*1e3):m&&y===null?(f.duration=m,f.frameRate=p/(m/1e3)):(f.frameRate=y,f.duration=p/y*1e3),f.msPerFrame=1e3/f.frameRate},addFrame:function(f){return this.addFrameAt(this.frames.length,f)},addFrameAt:function(f,p){var m=this.getFrames(this.manager.textureManager,p);if(m.length>0){if(f===0)this.frames=m.concat(this.frames);else if(f===this.frames.length)this.frames=this.frames.concat(m);else{var y=this.frames.slice(0,f),S=this.frames.slice(f);this.frames=y.concat(m,S)}this.updateFrameSequence()}return this},checkFrame:function(f){return f>=0&&f<this.frames.length},getFirstTick:function(f){f.accumulator=0,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},getFrameAt:function(f){return this.frames[f]},getFrames:function(f,p,m,y){y===void 0&&(y=!0);var S=[],T,b,P=1,w,A;if(typeof p=="string"){if(A=p,!f.exists(A))return console.warn('Texture "%s" not found',A),S;var R=f.get(A),D=R.getFrameNames();y&&u(D),p=[],D.forEach(function(N){p.push({key:A,frame:N})})}if(!Array.isArray(p)||p.length===0)return S;for(w=0;w<p.length;w++){var L=p[w],k=o(L,"key",m);if(k){var B=o(L,"frame",0),F=f.getFrame(k,B);if(!F){console.warn('Texture "%s" not found',k);continue}b=new l(k,B,P,F),b.duration=o(L,"duration",0),b.isFirst=!T,T&&(T.nextFrame=b,b.prevFrame=T),S.push(b),T=b,P++}}if(S.length>0){b.isLast=!0,b.nextFrame=S[0],S[0].prevFrame=b;var G=1/(S.length-1);for(w=0;w<S.length;w++)S[w].progress=w*G}return S},getNextTick:function(f){f.accumulator-=f.nextTick,f.nextTick=f.frameRate===f.currentAnim.frameRate&&f.currentFrame.duration||f.msPerFrame},getFrameByProgress:function(f){return f=a(f,0,1),h(f,this.frames,"progress")},nextFrame:function(f){var p=f.currentFrame;p.isLast?f.yoyo?this.handleYoyoFrame(f,!1):f.repeatCounter>0?f.inReverse&&f.forward?f.forward=!1:this.repeatAnimation(f):f.complete():this.updateAndGetNextTick(f,p.nextFrame)},handleYoyoFrame:function(f,p){if(p||(p=!1),f.inReverse===!p&&f.repeatCounter>0){(f.repeatDelay===0||f.pendingRepeat)&&(f.forward=p),this.repeatAnimation(f);return}if(f.inReverse!==p&&f.repeatCounter===0){f.complete();return}f.forward=p;var m=p?f.currentFrame.nextFrame:f.currentFrame.prevFrame;this.updateAndGetNextTick(f,m)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(f){var p=f.currentFrame;p.isFirst?f.yoyo?this.handleYoyoFrame(f,!0):f.repeatCounter>0?f.inReverse&&!f.forward?this.repeatAnimation(f):(f.forward=!0,this.repeatAnimation(f)):f.complete():this.updateAndGetNextTick(f,p.prevFrame)},updateAndGetNextTick:function(f,p){f.setCurrentFrame(p),this.getNextTick(f)},removeFrame:function(f){var p=this.frames.indexOf(f);return p!==-1&&this.removeFrameAt(p),this},removeFrameAt:function(f){return this.frames.splice(f,1),this.updateFrameSequence(),this},repeatAnimation:function(f){if(f._pendingStop===2){if(f._pendingStopValue===0)return f.stop();f._pendingStopValue--}f.repeatDelay>0&&!f.pendingRepeat?(f.pendingRepeat=!0,f.accumulator-=f.nextTick,f.nextTick+=f.repeatDelay):(f.repeatCounter--,f.forward?f.setCurrentFrame(f.currentFrame.nextFrame):f.setCurrentFrame(f.currentFrame.prevFrame),f.isPlaying&&(this.getNextTick(f),f.handleRepeat()))},toJSON:function(){var f={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){f.frames.push(p.toJSON())}),f},updateFrameSequence:function(){for(var f=this.frames.length,p=1/(f-1),m,y=0;y<f;y++)m=this.frames[y],m.index=y+1,m.isFirst=!1,m.isLast=!1,m.progress=y*p,y===0?(m.isFirst=!0,f===1?(m.isLast=!0,m.nextFrame=m,m.prevFrame=m):(m.isLast=!1,m.prevFrame=this.frames[f-1],m.nextFrame=this.frames[y+1])):y===f-1&&f>1?(m.isLast=!0,m.prevFrame=this.frames[f-2],m.nextFrame=this.frames[0]):f>1&&(m.prevFrame=this.frames[y-1],m.nextFrame=this.frames[y+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var f=0;f<this.frames.length;f++)this.frames[f].destroy();this.frames=[],this.manager=null}});r.exports=v}),41138:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u,v){v===void 0&&(v=!1),this.textureKey=h,this.textureFrame=l,this.index=o,this.frame=u,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=g}),60848:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42099),g=s(83419),c=s(90330),h=s(50792),l=s(74943),o=s(8443),u=s(95540),v=s(35154),f=s(36383),p=s(20283),m=s(41836),y=new g({Extends:h,initialize:function(T){h.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",T.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(S,T,b){var P=this.anims,w=this.mixes,A=typeof S=="string"?S:S.key,R=typeof T=="string"?T:T.key;if(P.has(A)&&P.has(R)){var D=w.get(A);D||(D={}),D[R]=b,w.set(A,D)}return this},removeMix:function(S,T){var b=this.mixes,P=typeof S=="string"?S:S.key,w=b.get(P);if(w)if(T){var A=typeof T=="string"?T:T.key;w.hasOwnProperty(A)&&delete w[A]}else T||b.delete(P);return this},getMix:function(S,T){var b=this.mixes,P=typeof S=="string"?S:S.key,w=typeof T=="string"?T:T.key,A=b.get(P);return A&&A.hasOwnProperty(w)?A[w]:0},add:function(S,T){return this.anims.has(S)?(console.warn("Animation key exists: "+S),this):(T.key=S,this.anims.set(S,T),this.emit(l.ADD_ANIMATION,S,T),this)},exists:function(S){return this.anims.has(S)},createFromAseprite:function(S,T,b){var P=[],w=this.game.cache.json.get(S);if(!w)return console.warn("No Aseprite data found for: "+S),P;var A=this,R=v(w,"meta",null),D=v(w,"frames",null);if(R&&D){var L=v(R,"frameTags",[]);L.forEach(function(k){var B=[],F=u(k,"name",null),G=u(k,"from",0),N=u(k,"to",0),W=u(k,"direction","forward");if(F&&(!T||T&&T.indexOf(F)>-1)){for(var X=0,$=G;$<=N;$++){var J=$.toString(),V=D[J];if(V){var Y=u(V,"duration",f.MAX_SAFE_INTEGER);B.push({key:S,frame:J,duration:Y}),X+=Y}}W==="reverse"&&(B=B.reverse());var z={key:F,frames:B,duration:X,yoyo:W==="pingpong"},K;b?b.anims&&(K=b.anims.create(z)):K=A.create(z),K&&P.push(K)}})}return P},create:function(S){var T=S.key,b=!1;return T&&(b=this.get(T),b?console.warn("AnimationManager key already exists: "+T):(b=new a(this,T,S),this.anims.set(T,b),this.emit(l.ADD_ANIMATION,T,b))),b},fromJSON:function(S,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof S=="string"&&(S=JSON.parse(S));var b=[];if(S.hasOwnProperty("anims")&&Array.isArray(S.anims)){for(var P=0;P<S.anims.length;P++)b.push(this.create(S.anims[P]));S.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=S.globalTimeScale)}else S.hasOwnProperty("key")&&S.type==="frame"&&b.push(this.create(S));return b},generateFrameNames:function(S,T){var b=v(T,"prefix",""),P=v(T,"start",0),w=v(T,"end",0),A=v(T,"suffix",""),R=v(T,"zeroPad",0),D=v(T,"outputArray",[]),L=v(T,"frames",!1);if(!this.textureManager.exists(S))return console.warn('Texture "%s" not found',S),D;var k=this.textureManager.get(S);if(!k)return D;var B;if(T)for(L||(L=p(P,w)),B=0;B<L.length;B++){var F=b+m(L[B],R,"0",1)+A;k.has(F)?D.push({key:S,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,S)}else for(L=k.getFrameNames(),B=0;B<L.length;B++)D.push({key:S,frame:L[B]});return D},generateFrameNumbers:function(S,T){var b=v(T,"start",0),P=v(T,"end",-1),w=v(T,"first",!1),A=v(T,"outputArray",[]),R=v(T,"frames",!1);if(!this.textureManager.exists(S))return console.warn('Texture "%s" not found',S),A;var D=this.textureManager.get(S);if(!D)return A;w&&D.has(w)&&A.push({key:S,frame:w}),R||(P===-1&&(P=D.frameTotal-2),R=p(b,P));for(var L=0;L<R.length;L++){var k=R[L];D.has(k)?A.push({key:S,frame:k}):console.warn('Frame "%s" not found in texture "%s"',k,S)}return A},get:function(S){return this.anims.get(S)},getAnimsFromTexture:function(S){for(var T=this.textureManager.get(S),b=T.key,P=this.anims.getArray(),w=[],A=0;A<P.length;A++)for(var R=P[A],D=R.frames,L=0;L<D.length;L++)if(D[L].textureKey===b){w.push(R.key);break}return w},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(S,T){Array.isArray(T)||(T=[T]);for(var b=0;b<T.length;b++)T[b].anims.play(S);return this},staggerPlay:function(S,T,b,P){b===void 0&&(b=0),P===void 0&&(P=!0),Array.isArray(T)||(T=[T]);var w=T.length;P||w--;for(var A=0;A<T.length;A++){var R=b<0?Math.abs(b)*(w-A):b*A;T[A].anims.playAfterDelay(S,R)}return this},remove:function(S){var T=this.get(S);return T&&(this.emit(l.REMOVE_ANIMATION,S,T),this.anims.delete(S),this.removeMix(S)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(S){var T={anims:[],globalTimeScale:this.globalTimeScale};return S!==void 0&&S!==""?T.anims.push(this.anims.get(S).toJSON()):this.anims.each(function(b,P){T.anims.push(P.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=y}),9674:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42099),g=s(30976),c=s(83419),h=s(90330),l=s(74943),o=s(95540),u=new c({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var f=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var m=v[p];this.nextAnim?this.nextAnimsQueue.push(m):this.nextAnim=m}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var f=this.animationManager,p=typeof v=="string"?v:o(v,"key",null),m=this.exists(p)?this.get(p):f.get(p);if(!m)console.warn("Missing animation: "+p);else{this.currentAnim=m;var y=m.getTotalFrames(),S=o(v,"frameRate",m.frameRate),T=o(v,"duration",m.duration);m.calculateDuration(this,y,T,S),this.delay=o(v,"delay",m.delay),this.repeat=o(v,"repeat",m.repeat),this.repeatDelay=o(v,"repeatDelay",m.repeatDelay),this.yoyo=o(v,"yoyo",m.yoyo),this.showBeforeDelay=o(v,"showBeforeDelay",m.showBeforeDelay),this.showOnStart=o(v,"showOnStart",m.showOnStart),this.hideOnComplete=o(v,"hideOnComplete",m.hideOnComplete),this.skipMissedFrames=o(v,"skipMissedFrames",m.skipMissedFrames),this.randomFrame=o(v,"randomFrame",m.randomFrame),this.timeScale=o(v,"timeScale",this.timeScale);var b=o(v,"startFrame",0);b>y&&(b=0),this.randomFrame&&(b=g(0,y-1));var P=m.frames[b];b===0&&!this.forward&&(P=m.getLastFrame()),this.currentFrame=P}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,f){if(!this.isPlaying)this.delayCounter=f,this.play(v,!0);else{var p=this.nextAnim,m=this.nextAnimsQueue;p&&m.unshift(p),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(v,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(v);else{var p=this.nextAnim,m=this.nextAnimsQueue;p&&m.unshift(p),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(v,f){f===void 0&&(f=!1);var p=this.currentAnim,m=this.parent,y=typeof v=="string"?v:v.key;if(f&&this.isPlaying&&p.key===y)return m;if(p&&this.isPlaying){var S=this.animationManager.getMix(p.key,v);if(S>0)return this.playAfterDelay(v,S)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,f){f===void 0&&(f=!1);var p=typeof v=="string"?v:v.key;return f&&this.isPlaying&&this.currentAnim.key===p?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var f=this.currentAnim,p=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,f){var p=this.currentAnim;if(p){var m=this.currentFrame,y=this.parent,S=m.textureFrame;y.emit(v,p,m,y,S),f&&y.emit(f+p.key,p,m,y,S)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var f=v.progress;return this.inReverse&&(f*=-1),f},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,f){v===void 0&&(v=!1),f===void 0&&(f=!1);var p=this.currentAnim,m=this.parent;return p?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):m},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,f){var p=this.currentAnim;if(!(!this.isPlaying||!p||p.paused)){if(this.accumulator+=f*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var m=0;do this.forward?p.nextFrame(this):p.previousFrame(this),m++;while(this.isPlaying&&this.accumulator>this.nextTick&&m<60)}}},setCurrentFrame:function(v){var f=this.parent;return this.currentFrame=v,f.texture=v.frame.texture,f.frame=v.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),v.setAlpha&&(f.alpha=v.alpha),f.setSizeToFrame(),f._originComponent&&(v.frame.customPivot?f.setOrigin(v.frame.pivotX,v.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var f=v.key,p=!1;return f&&(p=this.get(f),p?console.warn("Animation key already exists: "+f):(p=new a(this,f,v),this.anims||(this.anims=new h),this.anims.set(f,p))),p},createFromAseprite:function(v,f){return this.animationManager.createFromAseprite(v,f,this.parent)},generateFrameNames:function(v,f){return this.animationManager.generateFrameNames(v,f)},generateFrameNumbers:function(v,f){return this.animationManager.generateFrameNumbers(v,f)},remove:function(v){var f=this.get(v);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(v)),f},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=u}),57090:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"}),25312:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"}),89580:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"}),52860:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"}),63850:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"}),99085:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"}),28087:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"}),1794:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"}),52562:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"}),57953:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"}),68339:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"}),74943:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}}),60421:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}}),2161:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(90330),c=s(50792),h=s(24736),l=new a({initialize:function(){this.entries=new g,this.events=new c},add:function(o,u){return this.entries.set(o,u),this.events.emit(h.ADD,this,o,u),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var u=this.get(o);return u&&(this.entries.delete(o),this.events.emit(h.REMOVE,this,o,u.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=l}),24047:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2161),g=s(83419),c=s(8443),h=new g({initialize:function(o){this.game=o,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new a),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<l.length;o++)this[l[o]].destroy(),this[l[o]]=null;for(var u in this.custom)this.custom[u].destroy();this.custom=null,this.game=null}});r.exports=h}),51464:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"}),59261:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"}),24736:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(51464),REMOVE:s(59261)}}),83388:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}}),71911:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(39506),h=s(50792),l=s(19715),o=s(87841),u=s(61340),v=s(80333),f=s(26099),p=new a({Extends:h,Mixins:[g.AlphaSingle,g.Visible],initialize:function(y,S,T,b){y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=0),b===void 0&&(b=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=y,this._y=S,this._width=T,this._height=b,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new u,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new f(T/2,b/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(m){this.renderList.push(m)},setOrigin:function(m,y){return m===void 0&&(m=.5),y===void 0&&(y=m),this.originX=m,this.originY=y,this},getScroll:function(m,y,S){S===void 0&&(S=new f);var T=this.width*.5,b=this.height*.5;return S.x=m-T,S.y=y-b,this.useBounds&&(S.x=this.clampX(S.x),S.y=this.clampY(S.y)),S},centerOnX:function(m){var y=this.width*.5;return this.midPoint.x=m,this.scrollX=m-y,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(m){var y=this.height*.5;return this.midPoint.y=m,this.scrollY=m-y,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(m,y){return this.centerOnX(m),this.centerOnY(y),this},centerToBounds:function(){if(this.useBounds){var m=this._bounds,y=this.width*.5,S=this.height*.5;this.midPoint.set(m.centerX,m.centerY),this.scrollX=m.centerX-y,this.scrollY=m.centerY-S}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(m){if(this.disableCull)return m;var y=this.matrix.matrix,S=y[0],T=y[1],b=y[2],P=y[3],w=S*P-T*b;if(!w)return m;var A=y[4],R=y[5],D=this.scrollX,L=this.scrollY,k=this.width,B=this.height,F=this.y,G=F+B,N=this.x,W=N+k,X=this.culledObjects,$=m.length;w=1/w,X.length=0;for(var J=0;J<$;++J){var V=m[J];if(!V.hasOwnProperty("width")||V.parentContainer){X.push(V);continue}var Y=V.width,z=V.height,K=V.x-D*V.scrollFactorX-Y*V.originX,H=V.y-L*V.scrollFactorY-z*V.originY,Q=K*S+H*b+A,j=K*T+H*P+R,q=(K+Y)*S+(H+z)*b+A,tt=(K+Y)*T+(H+z)*P+R;q>N&&Q<W&&tt>F&&j<G&&X.push(V)}return X},getWorldPoint:function(m,y,S){S===void 0&&(S=new f);var T=this.matrix.matrix,b=T[0],P=T[1],w=T[2],A=T[3],R=T[4],D=T[5],L=b*A-P*w;if(!L)return S.x=m,S.y=y,S;L=1/L;var k=A*L,B=-P*L,F=-w*L,G=b*L,N=(w*D-A*R)*L,W=(P*R-b*D)*L,X=Math.cos(this.rotation),$=Math.sin(this.rotation),J=this.zoomX,V=this.zoomY,Y=this.scrollX,z=this.scrollY,K=m+(Y*X-z*$)*J,H=y+(Y*$+z*X)*V;return S.x=K*k+H*F+N,S.y=K*B+H*G+W,S},ignore:function(m){var y=this.id;Array.isArray(m)||(m=[m]);for(var S=0;S<m.length;S++){var T=m[S];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=y}return this},clampX:function(m){var y=this._bounds,S=this.displayWidth,T=y.x+(S-this.width)/2,b=Math.max(T,T+y.width-S);return m<T?m=T:m>b&&(m=b),m},clampY:function(m){var y=this._bounds,S=this.displayHeight,T=y.y+(S-this.height)/2,b=Math.max(T,T+y.height-S);return m<T?m=T:m>b&&(m=b),m},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(m){return m===void 0&&(m=0),this.rotation=c(m),this},setBackgroundColor:function(m){return m===void 0&&(m="rgba(0,0,0,0)"),this.backgroundColor=v(m),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(m,y,S,T,b){return b===void 0&&(b=!1),this._bounds.setTo(m,y,S,T),this.dirty=!0,this.useBounds=!0,b?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(m){m===void 0&&(m=new o);var y=this._bounds;return m.setTo(y.x,y.y,y.width,y.height),m},setName:function(m){return m===void 0&&(m=""),this.name=m,this},setPosition:function(m,y){return y===void 0&&(y=m),this.x=m,this.y=y,this},setRotation:function(m){return m===void 0&&(m=0),this.rotation=m,this},setRoundPixels:function(m){return this.roundPixels=m,this},setScene:function(m,y){y===void 0&&(y=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=m,this.isSceneCamera=y;var S=m.sys;return this.sceneManager=S.game.scene,this.scaleManager=S.scale,this.cameraManager=S.cameras,this.updateSystem(),this},setScroll:function(m,y){return y===void 0&&(y=m),this.scrollX=m,this.scrollY=y,this},setSize:function(m,y){return y===void 0&&(y=m),this.width=m,this.height=y,this},setViewport:function(m,y,S,T){return this.x=m,this.y=y,this.width=S,this.height=T,this},setZoom:function(m,y){return m===void 0&&(m=1),y===void 0&&(y=m),m===0&&(m=.001),y===0&&(y=.001),this.zoomX=m,this.zoomY=y,this},setMask:function(m,y){return y===void 0&&(y=!0),this.mask=m,this._maskCamera=y?this.cameraManager.default:this,this},clearMask:function(m){return m===void 0&&(m=!1),m&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var m={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(m.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),m},update:function(){},setIsSceneCamera:function(m){return this.isSceneCamera=m,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var m=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,y=this.sceneManager;m&&!this._customViewport?y.customViewports++:!m&&this._customViewport&&y.customViewports--,this.dirty=!0,this._customViewport=m}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(m){this._x=m,this.updateSystem()}},y:{get:function(){return this._y},set:function(m){this._y=m,this.updateSystem()}},width:{get:function(){return this._width},set:function(m){this._width=m,this.updateSystem()}},height:{get:function(){return this._height},set:function(m){this._height=m,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(m){m!==this._scrollX&&(this._scrollX=m,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(m){m!==this._scrollY&&(this._scrollY=m,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(m){this._zoomX=m,this._zoomY=m,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(m){this._zoomX=m,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(m){this._zoomY=m,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(m){this._rotation=m,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=p}),38058:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71911),g=s(67502),c=s(45319),h=s(83419),l=s(31401),o=s(20052),u=s(19715),v=s(28915),f=s(87841),p=s(26099),m=new h({Extends:a,Mixins:[l.PostPipeline],initialize:function(S,T,b,P){a.call(this,S,T,b,P),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},setDeadzone:function(y,S){if(y===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=y,this.deadzone.height=S):this.deadzone=new f(0,0,y,S),this._follow){var T=this.width/2,b=this.height/2,P=this._follow.x-this.followOffset.x,w=this._follow.y-this.followOffset.y;this.midPoint.set(P,w),this.scrollX=P-T,this.scrollY=w-b}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(y,S,T,b,P,w){return this.fadeEffect.start(!1,y,S,T,b,!0,P,w)},fadeOut:function(y,S,T,b,P,w){return this.fadeEffect.start(!0,y,S,T,b,!0,P,w)},fadeFrom:function(y,S,T,b,P,w,A){return this.fadeEffect.start(!1,y,S,T,b,P,w,A)},fade:function(y,S,T,b,P,w,A){return this.fadeEffect.start(!0,y,S,T,b,P,w,A)},flash:function(y,S,T,b,P,w,A){return this.flashEffect.start(y,S,T,b,P,w,A)},shake:function(y,S,T,b,P){return this.shakeEffect.start(y,S,T,b,P)},pan:function(y,S,T,b,P,w,A){return this.panEffect.start(y,S,T,b,P,w,A)},rotateTo:function(y,S,T,b,P,w,A){return this.rotateToEffect.start(y,S,T,b,P,w,A)},zoomTo:function(y,S,T,b,P,w){return this.zoomEffect.start(y,S,T,b,P,w)},preRender:function(){this.renderList.length=0;var y=this.width,S=this.height,T=y*.5,b=S*.5,P=this.zoomX,w=this.zoomY,A=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(P)&&Number.isInteger(w);var R=y*this.originX,D=S*this.originY,L=this._follow,k=this.deadzone,B=this.scrollX,F=this.scrollY;k&&g(k,this.midPoint.x,this.midPoint.y);var G=!1;if(L&&!this.panEffect.isRunning){var N=this.lerp,W=L.x-this.followOffset.x,X=L.y-this.followOffset.y;k?(W<k.x?B=v(B,B-(k.x-W),N.x):W>k.right&&(B=v(B,B+(W-k.right),N.x)),X<k.y?F=v(F,F-(k.y-X),N.y):X>k.bottom&&(F=v(F,F+(X-k.bottom),N.y))):(B=v(B,W-R,N.x),F=v(F,X-D,N.y)),G=!0}this.roundPixels&&(B=Math.floor(B),F=Math.floor(F)),this.useBounds&&(B=this.clampX(B),F=this.clampY(F)),this.scrollX=B,this.scrollY=F;var $=B+T,J=F+b;this.midPoint.set($,J);var V=Math.floor(y/P+.5),Y=Math.floor(S/w+.5),z=Math.floor($-V/2+.5),K=Math.floor(J-Y/2+.5);this.worldView.setTo(z,K,V,Y),A.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+D+.5),this.rotation,P,w),A.translate(-R,-D),this.shakeEffect.preRender(),G&&this.emit(u.FOLLOW_UPDATE,this,L)},setLerp:function(y,S){return y===void 0&&(y=1),S===void 0&&(S=y),this.lerp.set(y,S),this},setFollowOffset:function(y,S){return y===void 0&&(y=0),S===void 0&&(S=0),this.followOffset.set(y,S),this},startFollow:function(y,S,T,b,P,w){S===void 0&&(S=!1),T===void 0&&(T=1),b===void 0&&(b=T),P===void 0&&(P=0),w===void 0&&(w=P),this._follow=y,this.roundPixels=S,T=c(T,0,1),b=c(b,0,1),this.lerp.set(T,b),this.followOffset.set(P,w);var A=this.width/2,R=this.height/2,D=y.x-P,L=y.y-w;return this.midPoint.set(D,L),this.scrollX=D-A,this.scrollY=L-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(y,S){this.visible&&(this.rotateToEffect.update(y,S),this.panEffect.update(y,S),this.zoomEffect.update(y,S),this.shakeEffect.update(y,S),this.flashEffect.update(y,S),this.fadeEffect.update(y,S))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=m}),32743:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38058),g=s(83419),c=s(95540),h=s(37277),l=s(37303),o=s(97480),u=s(44594),v=new g({initialize:function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,p.sys.events.once(u.BOOT,this.boot,this),p.sys.events.on(u.START,this.start,this)},boot:function(){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,f.scale.width,f.scale.height).setScene(this.scene),f.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){if(!this.main){var f=this.systems;f.settings.cameras?this.fromJSON(f.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(u.UPDATE,this.update,this),p.once(u.SHUTDOWN,this.shutdown,this)},add:function(f,p,m,y,S,T){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),S===void 0&&(S=!1),T===void 0&&(T="");var b=new a(f,p,m,y);return b.setName(T),b.setScene(this.scene),b.setRoundPixels(this.roundPixels),b.id=this.getNextID(),this.cameras.push(b),S&&(this.main=b),b},addExisting:function(f,p){p===void 0&&(p=!1);var m=this.cameras.indexOf(f);return m===-1?(f.id=this.getNextID(),f.setRoundPixels(this.roundPixels),this.cameras.push(f),p&&(this.main=f),f):null},getNextID:function(){for(var f=this.cameras,p=1,m=0;m<32;m++){for(var y=!1,S=0;S<f.length;S++){var T=f[S];if(T&&T.id===p){y=!0;continue}}if(y)p=p<<1;else return p}return 0},getTotal:function(f){f===void 0&&(f=!1);for(var p=0,m=this.cameras,y=0;y<m.length;y++){var S=m[y];(!f||f&&S.visible)&&p++}return p},fromJSON:function(f){Array.isArray(f)||(f=[f]);for(var p=this.scene.sys.scale.width,m=this.scene.sys.scale.height,y=0;y<f.length;y++){var S=f[y],T=c(S,"x",0),b=c(S,"y",0),P=c(S,"width",p),w=c(S,"height",m),A=this.add(T,b,P,w);A.name=c(S,"name",""),A.zoom=c(S,"zoom",1),A.rotation=c(S,"rotation",0),A.scrollX=c(S,"scrollX",0),A.scrollY=c(S,"scrollY",0),A.roundPixels=c(S,"roundPixels",!1),A.visible=c(S,"visible",!0);var R=c(S,"backgroundColor",!1);R&&A.setBackgroundColor(R);var D=c(S,"bounds",null);if(D){var L=c(D,"x",0),k=c(D,"y",0),B=c(D,"width",p),F=c(D,"height",m);A.setBounds(L,k,B,F)}}return this},getCamera:function(f){for(var p=this.cameras,m=0;m<p.length;m++)if(p[m].name===f)return p[m];return null},getCamerasBelowPointer:function(f){for(var p=this.cameras,m=f.x,y=f.y,S=[],T=0;T<p.length;T++){var b=p[T];b.visible&&b.inputEnabled&&l(b,m,y)&&S.unshift(b)}return S},remove:function(f,p){p===void 0&&(p=!0),Array.isArray(f)||(f=[f]);for(var m=0,y=this.cameras,S=0;S<f.length;S++){var T=y.indexOf(f[S]);T!==-1&&(p?y[T].destroy():y[T].renderList=[],y.splice(T,1),m++)}return!this.main&&y[0]&&(this.main=y[0]),m},render:function(f,p){for(var m=this.scene,y=this.cameras,S=0;S<y.length;S++){var T=y[S];if(T.visible&&T.alpha>0){T.preRender();var b=this.getVisibleChildren(p.getChildren(),T);f.render(m,b,T)}}},getVisibleChildren:function(f,p){return f.filter(function(m){return m.willRender(p)})},resetAll:function(){for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(f,p){for(var m=0;m<this.cameras.length;m++)this.cameras[m].update(f,p)},onResize:function(f,p,m,y,S){for(var T=0;T<this.cameras.length;T++){var b=this.cameras[T];b._x===0&&b._y===0&&b._width===y&&b._height===S&&b.setSize(p.width,p.height)}},resize:function(f,p){for(var m=0;m<this.cameras.length;m++)this.cameras[m].setSize(f,p)},shutdown:function(){this.main=void 0;for(var f=0;f<this.cameras.length;f++)this.cameras[f].destroy();this.cameras=[];var p=this.systems.events;p.off(u.UPDATE,this.update,this),p.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(u.START,this.start,this),this.systems.events.off(u.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",v,"cameras"),r.exports=v}),5020:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(19715),h=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,o,u,v,f,p,m,y){if(l===void 0&&(l=!0),o===void 0&&(o=1e3),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene),!p&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=l,this.progress=0,this.red=u,this.green=v,this.blue=f,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y;var S=l?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(S,this.camera,this,o,u,v,f),this.camera},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning&&!this.isComplete)return!1;var u=this.camera,v=this.red/255,f=this.green/255,p=this.blue/255;return l.drawFillRect(u.x,u.y,u.width,u.height,o(p,f,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=h}),10662:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(19715),h=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,o,u,v,f,p,m){return l===void 0&&(l=250),o===void 0&&(o=255),u===void 0&&(u=255),v===void 0&&(v=255),f===void 0&&(f=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=o,this.green=u,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.camera.emit(c.FLASH_START,this.camera,this,l,o,u,v),this.camera)},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning)return!1;var u=this.camera,v=this.red/255,f=this.green/255,p=this.blue/255;return l.drawFillRect(u.x,u.y,u.width,u.height,o(p,f,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=h}),20359:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(62640),h=s(19715),l=s(26099),o=new g({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(u,v,f,p,m,y,S){f===void 0&&(f=1e3),p===void 0&&(p=c.Linear),m===void 0&&(m=!1),y===void 0&&(y=null),S===void 0&&(S=this.camera.scene);var T=this.camera;return!m&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(u,v),T.getScroll(u,v,this.current),typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=S,this.camera.emit(h.PAN_START,this.camera,this,f,u,v)),T},update:function(u,v){if(this.isRunning){this._elapsed+=v;var f=a(this._elapsed/this.duration,0,1);this.progress=f;var p=this.camera;if(this._elapsed<this.duration){var m=this.ease(f);p.getScroll(this.destination.x,this.destination.y,this.current);var y=this.source.x+(this.current.x-this.source.x)*m,S=this.source.y+(this.current.y-this.source.y)*m;p.setScroll(y,S),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,f,y,S)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,f,p.scrollX,p.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=o}),34208:((r,x,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=s(45319),g=s(83419),c=s(19715),h=s(62640),l=new g({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,u,v,f,p,m,y){v===void 0&&(v=1e3),f===void 0&&(f=h.Linear),p===void 0&&(p=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene),u===void 0&&(u=!1),this.shortestPath=u;var S=o;o<0?(S=-1*o,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;S=S-Math.floor(S/T)*T;var b=this.camera;if(!p&&this.isRunning)return b;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=b.rotation,this.destination=S,typeof f=="string"&&h.hasOwnProperty(f)?this.ease=h[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y,this.shortestPath){var P=0,w=0;this.destination>this.source?P=Math.abs(this.destination-this.source):P=Math.abs(this.destination+T)-this.source,this.source>this.destination?w=Math.abs(this.source-this.destination):w=Math.abs(this.source+T)-this.destination,P<w?this.clockwise=!0:P>w&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,v,S),b},update:function(o,u){if(this.isRunning){this._elapsed+=u;var v=a(this._elapsed/this.duration,0,1);this.progress=v;var f=this.camera;if(this._elapsed<this.duration){var p=this.ease(v);this.current=f.rotation;var m=0,y=360*Math.PI/180,S=this.destination,T=this.current;this.clockwise===!1&&(S=this.current,T=this.destination),S>=T?m=Math.abs(S-T):m=Math.abs(S+y)-T;var b=0;this.clockwise?b=f.rotation+m*p:b=f.rotation-m*p,f.rotation=b,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,b)}else f.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,f,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=l}),30330:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(19715),h=s(26099),l=new g({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,u,v,f,p){return o===void 0&&(o=100),u===void 0&&(u=.05),v===void 0&&(v=!1),f===void 0&&(f=null),p===void 0&&(p=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof u=="number"?this.intensity.set(u):this.intensity.set(u.x,u.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=f,this._onUpdateScope=p,this.camera.emit(c.SHAKE_START,this.camera,this,o,u),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,u){if(this.isRunning)if(this._elapsed+=u,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,f=this.camera.width,p=this.camera.height,m=this.camera.zoom;this._offsetX=(Math.random()*v.x*f*2-v.x*f)*m,this._offsetY=(Math.random()*v.y*p*2-v.y*p)*m,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=l}),45641:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(62640),h=s(19715),l=new g({initialize:function(u){this.camera=u,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,u,v,f,p,m){u===void 0&&(u=1e3),v===void 0&&(v=c.Linear),f===void 0&&(f=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene);var y=this.camera;return!f&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source=y.zoom,this.destination=o,typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.camera.emit(h.ZOOM_START,this.camera,this,u,o)),y},update:function(o,u){this.isRunning&&(this._elapsed+=u,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=l}),20052:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}}),16438:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"}),32726:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"}),87807:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"}),45917:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"}),95666:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"}),47056:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"}),91261:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"}),45047:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"}),81927:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"}),74264:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"}),54419:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"}),79330:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"}),93183:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"}),80112:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"}),62252:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"}),86017:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"}),539:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"}),51892:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"}),19715:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}}),87969:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}}),63091:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),c=new a({initialize:function(l){this.camera=g(l,"camera",null),this.left=g(l,"left",null),this.right=g(l,"right",null),this.up=g(l,"up",null),this.down=g(l,"down",null),this.zoomIn=g(l,"zoomIn",null),this.zoomOut=g(l,"zoomOut",null),this.zoomSpeed=g(l,"zoomSpeed",.01),this.minZoom=g(l,"minZoom",.001),this.maxZoom=g(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=g(l,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=g(l,"speed.x",0),this.speedY=g(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c}),58818:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),c=new a({initialize:function(l){this.camera=g(l,"camera",null),this.left=g(l,"left",null),this.right=g(l,"right",null),this.up=g(l,"up",null),this.down=g(l,"down",null),this.zoomIn=g(l,"zoomIn",null),this.zoomOut=g(l,"zoomOut",null),this.zoomSpeed=g(l,"zoomSpeed",.01),this.minZoom=g(l,"minZoom",.001),this.maxZoom=g(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=g(l,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=g(l,"acceleration.x",0),this.accelY=g(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var u=g(l,"drag",null);typeof u=="number"?(this.dragX=u,this.dragY=u):(this.dragX=g(l,"drag.x",0),this.dragY=g(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=g(l,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=g(l,"maxSpeed.x",0),this.maxSpeedY=g(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*h|0),this._speedY!==0&&(l.scrollY-=this._speedY*h|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c}),38865:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}}),26638:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:s(38865),Scene2D:s(87969)}}),8054:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=a}),69547:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8054),c=s(42363),h=s(82264),l=s(95540),o=s(35154),u=s(41212),v=s(29747),f=s(75508),p=s(36060),m=s(80333),y=new a({initialize:function(T){T===void 0&&(T={});var b=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],P="#ffffff",w=o(T,"scale",null);this.width=o(w,"width",1024,T),this.height=o(w,"height",768,T),this.zoom=o(w,"zoom",1,T),this.parent=o(w,"parent",void 0,T),this.scaleMode=o(w,w?"mode":"scaleMode",0,T),this.expandParent=o(w,"expandParent",!0,T),this.autoRound=o(w,"autoRound",!1,T),this.autoCenter=o(w,"autoCenter",0,T),this.resizeInterval=o(w,"resizeInterval",500,T),this.fullscreenTarget=o(w,"fullscreenTarget",null,T),this.minWidth=o(w,"min.width",0,T),this.maxWidth=o(w,"max.width",0,T),this.minHeight=o(w,"min.height",0,T),this.maxHeight=o(w,"max.height",0,T),this.snapWidth=o(w,"snap.width",0,T),this.snapHeight=o(w,"snap.height",0,T),this.renderType=o(T,"type",g.AUTO),this.canvas=o(T,"canvas",null),this.context=o(T,"context",null),this.canvasStyle=o(T,"canvasStyle",null),this.customEnvironment=o(T,"customEnvironment",!1),this.sceneConfig=o(T,"scene",null),this.seed=o(T,"seed",[(Date.now()*Math.random()).toString()]),f.RND=new f.RandomDataGenerator(this.seed),this.gameTitle=o(T,"title",""),this.gameURL=o(T,"url","https://phaser.io/"+g.LOG_VERSION),this.gameVersion=o(T,"version",""),this.autoFocus=o(T,"autoFocus",!0),this.stableSort=o(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=o(T,"dom.createContainer",!1),this.domPointerEvents=o(T,"dom.pointerEvents","none"),this.inputKeyboard=o(T,"input.keyboard",!0),this.inputKeyboardEventTarget=o(T,"input.keyboard.target",window),this.inputKeyboardCapture=o(T,"input.keyboard.capture",[]),this.inputMouse=o(T,"input.mouse",!0),this.inputMouseEventTarget=o(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(T,"input.touch",h.input.touch),this.inputTouchEventTarget=o(T,"input.touch.target",null),this.inputTouchCapture=o(T,"input.touch.capture",!0),this.inputActivePointers=o(T,"input.activePointers",1),this.inputSmoothFactor=o(T,"input.smoothFactor",0),this.inputWindowEvents=o(T,"input.windowEvents",!0),this.inputGamepad=o(T,"input.gamepad",!1),this.inputGamepadEventTarget=o(T,"input.gamepad.target",window),this.disableContextMenu=o(T,"disableContextMenu",!1),this.audio=o(T,"audio",{}),this.hideBanner=o(T,"banner",null)===!1,this.hidePhaser=o(T,"banner.hidePhaser",!1),this.bannerTextColor=o(T,"banner.text",P),this.bannerBackgroundColor=o(T,"banner.background",b),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(T,"fps",null),this.disablePreFX=o(T,"disablePreFX",!1),this.disablePostFX=o(T,"disablePostFX",!1);var A=o(T,"render",null);this.pipeline=o(A,"pipeline",null,T),this.autoMobilePipeline=o(A,"autoMobilePipeline",!0,T),this.defaultPipeline=o(A,"defaultPipeline",p.MULTI_PIPELINE,T),this.antialias=o(A,"antialias",!0,T),this.antialiasGL=o(A,"antialiasGL",!0,T),this.mipmapFilter=o(A,"mipmapFilter","",T),this.desynchronized=o(A,"desynchronized",!1,T),this.roundPixels=o(A,"roundPixels",!1,T),this.pixelArt=o(A,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(A,"transparent",!1,T),this.clearBeforeRender=o(A,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=o(A,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=o(A,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=o(A,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=o(A,"powerPreference","default",T),this.batchSize=o(A,"batchSize",4096,T),this.maxTextures=o(A,"maxTextures",-1,T),this.maxLights=o(A,"maxLights",10,T);var R=o(T,"backgroundColor",0);this.backgroundColor=m(R),this.transparent&&(this.backgroundColor=m(0),this.backgroundColor.alpha=0),this.preBoot=o(T,"callbacks.preBoot",v),this.postBoot=o(T,"callbacks.postBoot",v),this.physics=o(T,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(T,"loader.baseURL",""),this.loaderPath=o(T,"loader.path",""),this.loaderMaxParallelDownloads=o(T,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=o(T,"loader.crossOrigin",void 0),this.loaderResponseType=o(T,"loader.responseType",""),this.loaderAsync=o(T,"loader.async",!0),this.loaderUser=o(T,"loader.user",""),this.loaderPassword=o(T,"loader.password",""),this.loaderTimeout=o(T,"loader.timeout",0),this.loaderMaxRetries=o(T,"loader.maxRetries",2),this.loaderWithCredentials=o(T,"loader.withCredentials",!1),this.loaderImageLoadType=o(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(T,"fx.glow.quality",.1),this.glowFXDistance=o(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var D=o(T,"plugins",null),L=c.DefaultScene;D&&(Array.isArray(D)?this.defaultPlugins=D:u(D)&&(this.installGlobalPlugins=l(D,"global",[]),this.installScenePlugins=l(D,"scene",[]),Array.isArray(D.default)?L=D.default:Array.isArray(D.defaultMerge)&&(L=L.concat(D.defaultMerge)))),this.defaultPlugins=L;var k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(T,"images.default",k+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(T,"images.missing",k+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});r.exports=y}),86054:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20623),g=s(27919),c=s(8054),h=s(89357),l=function(o){var u=o.config;if((u.customEnvironment||u.canvas)&&u.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!u.customEnvironment&&!u.canvas&&u.renderType!==c.HEADLESS)if(u.renderType===c.AUTO&&(u.renderType=h.webGL?c.WEBGL:c.CANVAS),u.renderType===c.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(u.renderType===c.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+u.renderType);u.antialias||g.disableSmoothing();var v=o.scale.baseSize,f=v.width,p=v.height;if(u.canvas?(o.canvas=u.canvas,o.canvas.width=f,o.canvas.height=p):o.canvas=g.create(o,f,p,u.renderType),u.canvasStyle&&(o.canvas.style=u.canvasStyle),u.antialias||a.setCrisp(o.canvas),u.renderType!==c.HEADLESS){var m,y;m=s(68627),y=s(74797),u.renderType===c.WEBGL?o.renderer=new y(o):(o.renderer=new m(o),o.context=o.renderer.gameContext)}};r.exports=l}),96391:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8054),g=function(c){var h=c.config;if(!h.hideBanner){var l="WebGL";h.renderType===a.CANVAS?l="Canvas":h.renderType===a.HEADLESS&&(l="Headless");var o=h.audio,u=c.device.audio,v;if(u.webAudio&&!o.disableWebAudio?v="Web Audio":o.noAudio||!u.webAudio&&!u.audioData?v="No Audio":v="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var f="",p=[f];if(Array.isArray(h.bannerBackgroundColor)){var m;h.bannerBackgroundColor.forEach(function(S){f=f.concat("%c "),p.push("background: "+S),m=S}),p[p.length-1]="color: "+h.bannerTextColor+"; background: "+m}else f=f.concat("%c "),p.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);p.push("background: transparent"),h.gameTitle&&(f=f.concat(h.gameTitle),h.gameVersion&&(f=f.concat(" v"+h.gameVersion)),h.hidePhaser||(f=f.concat(" / ")));var y="";h.hidePhaser||(f=f.concat("Phaser v"+a.VERSION+y+" ("+l+" | "+v+")")),f=f.concat(" %c "+h.gameURL),p[0]=f,console.log.apply(console,p)}}};r.exports=g}),50127:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=s(60848),c=s(24047),h=s(27919),l=s(83419),o=s(69547),u=s(83719),v=s(86054),f=s(45893),p=s(96391),m=s(82264),y=s(57264),S=s(50792),T=s(8443),b=s(7003),P=s(37277),w=s(77332),A=s(76531),R=s(60903),D=s(69442),L=s(17130),k=s(65898),B=s(51085),F=s(14747),G=new l({initialize:function(W){this.config=new o(W),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new S,this.anims=new g(this),this.textures=new L(this),this.cache=new c(this),this.registry=new f(this,new S),this.input=new b(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=m,this.scale=new A(this,this.config),this.sound=null,this.sound=F.create(this),this.loop=new k(this,this.config.fps),this.plugins=new w(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,y(this.boot.bind(this))},boot:function(){if(!P.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),u(this),p(this),a(this.canvas,this.config.parent),this.textures.once(D.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),B(this);var N=this.events;N.on(T.HIDDEN,this.onHidden,this),N.on(T.VISIBLE,this.onVisible,this),N.on(T.BLUR,this.onBlur,this),N.on(T.FOCUS,this.onFocus,this)},step:function(N,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(T.PRE_STEP,N,W),X.emit(T.STEP,N,W),this.scene.update(N,W),X.emit(T.POST_STEP,N,W);var $=this.renderer;$.preRender(),X.emit(T.PRE_RENDER,$,N,W),this.scene.render($),$.postRender(),X.emit(T.POST_RENDER,$,N,W)}},headlessStep:function(N,W){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(T.PRE_STEP,N,W),X.emit(T.STEP,N,W),this.scene.update(N,W),X.emit(T.POST_STEP,N,W),this.scene.isProcessing=!1,X.emit(T.PRE_RENDER,null,N,W),X.emit(T.POST_RENDER,null,N,W)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var N=this.isPaused;this.isPaused=!0,N||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME,this.loop.pauseDuration)},resume:function(){var N=this.isPaused;this.isPaused=!1,N&&this.events.emit(T.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(N,W){W===void 0&&(W=!1),this.pendingDestroy=!0,this.removeCanvas=N,this.noReturn=W},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=G}),65898:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),c=s(29747),h=s(43092),l=new a({initialize:function(u,v){this.game=u,this.raf=new h,this.started=!1,this.running=!1,this.minFps=g(v,"min",5),this.targetFps=g(v,"target",60),this.fpsLimit=g(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=g(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(v,"deltaHistory",10),this.panicMax=g(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=Math.min(this._target,this.deltaHistory[u]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var u=0;u<this.deltaSmoothingMax;u++)this.deltaHistory[u]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var u=this.deltaIndex,v=this.deltaHistory,f=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=v[u],o=Math.min(o,this._min)),v[u]=o,this.deltaIndex++,this.deltaIndex>=f&&(this.deltaIndex=0);for(var p=0,m=0;m<f;m++)p+=v[m];return p/=f,p},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var u=Math.max(0,o-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta+=u,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var u=Math.max(0,o-this.lastTime);this.rawDelta=u,this.time+=this.rawDelta,this.smoothStep&&(u=this.smoothDelta(u)),this.delta=u,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,u),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var u=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+u));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=u+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=l}),51085:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8443),g=function(c){var h,l=c.events;if(document.hidden!==void 0)h="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},h=v+"visibilitychange")})}var u=function(v){document.hidden||v.type==="pause"?l.emit(a.HIDDEN):l.emit(a.VISIBLE)};h&&document.addEventListener(h,u,!1),window.onblur=function(){l.emit(a.BLUR)},window.onfocus=function(){l.emit(a.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()};r.exports=g}),97217:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"}),47548:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"}),19814:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"}),68446:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),41700:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"}),25432:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"}),65942:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),59211:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"}),47789:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"}),39066:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"}),460:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"}),16175:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"}),42331:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),11966:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"}),32969:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"}),94830:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"}),8443:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}}),42857:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}}),99584:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(5290),g=s(27919),c=s(35154),h=function(l){var o=c(l,"data",[]),u=c(l,"canvas",null),v=c(l,"palette",a),f=c(l,"pixelWidth",1),p=c(l,"pixelHeight",f),m=c(l,"resizeCanvas",!0),y=c(l,"clearCanvas",!0),S=c(l,"preRender",null),T=c(l,"postRender",null),b=Math.floor(Math.abs(o[0].length*f)),P=Math.floor(Math.abs(o.length*p));u||(u=g.create2D(this,b,P),m=!1,y=!1),m&&(u.width=b,u.height=P);var w=u.getContext("2d",{willReadFrequently:!0});y&&w.clearRect(0,0,b,P),S&&S(u,w);for(var A=0;A<o.length;A++)for(var R=o[A],D=0;D<R.length;D++){var L=R[D];L!=="."&&L!==" "&&(w.fillStyle=v[L],w.fillRect(D*f,A*p,f,p))}return T&&T(u,w),u};r.exports=h}),15822:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:s(99584),Palettes:s(57763)}}),5290:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}}),23816:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}}),9866:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}}),77552:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}}),92259:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}}),57763:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}}),46728:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36316),c=s(80021),h=s(26099),l=new a({Extends:c,initialize:function(u,v,f,p){c.call(this,"CubicBezierCurve"),Array.isArray(u)&&(p=new h(u[6],u[7]),f=new h(u[4],u[5]),v=new h(u[2],u[3]),u=new h(u[0],u[1])),this.p0=u,this.p1=v,this.p2=f,this.p3=p},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,u){u===void 0&&(u=new h);var v=this.p0,f=this.p1,p=this.p2,m=this.p3;return u.set(g(o,v.x,f.x,p.x,m.x),g(o,v.y,f.y,p.y,m.y))},draw:function(o,u){u===void 0&&(u=32);var v=this.getPoints(u);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)o.lineTo(v[f].x,v[f].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(o){var u=o.points,v=new h(u[0],u[1]),f=new h(u[2],u[3]),p=new h(u[4],u[5]),m=new h(u[6],u[7]);return new l(v,f,p,m)},r.exports=l}),80021:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(19217),c=s(87841),h=s(26099),l=new a({initialize:function(u){this.type=u,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(o,u){return u===void 0&&(u=32),o.strokePoints(this.getPoints(u))},getBounds:function(o,u){o||(o=new c),u===void 0&&(u=16);var v=this.getLength();u>v&&(u=v/2);var f=Math.max(1,Math.round(v/u));return g(this.getSpacedPoints(f),o)},getDistancePoints:function(o){var u=this.getLength(),v=Math.max(1,u/o);return this.getSpacedPoints(v)},getEndPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var u=[],v,f=this.getPoint(0,this._tmpVec2A),p=0;u.push(0);for(var m=1;m<=o;m++)v=this.getPoint(m/o,this._tmpVec2B),p+=v.distance(f),u.push(p),f.copy(v);return this.cacheArcLengths=u,u},getPointAt:function(o,u){var v=this.getUtoTmapping(o);return this.getPoint(v,u)},getPoints:function(o,u,v){v===void 0&&(v=[]),o||(u?o=this.getLength()/u:o=this.defaultDivisions);for(var f=0;f<=o;f++)v.push(this.getPoint(f/o));return v},getRandomPoint:function(o){return o===void 0&&(o=new h),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,u,v){v===void 0&&(v=[]),o||(u?o=this.getLength()/u:o=this.defaultDivisions);for(var f=0;f<=o;f++){var p=this.getUtoTmapping(f/o,null,o);v.push(this.getPoint(p))}return v},getStartPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(0,o)},getTangent:function(o,u){u===void 0&&(u=new h);var v=1e-4,f=o-v,p=o+v;return f<0&&(f=0),p>1&&(p=1),this.getPoint(f,this._tmpVec2A),this.getPoint(p,u),u.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,u){var v=this.getUtoTmapping(o);return this.getTangent(v,u)},getTFromDistance:function(o,u){return o<=0?0:this.getUtoTmapping(0,o,u)},getUtoTmapping:function(o,u,v){var f=this.getLengths(v),p=0,m=f.length,y;u?y=Math.min(u,f[m-1]):y=o*f[m-1];for(var S=0,T=m-1,b;S<=T;)if(p=Math.floor(S+(T-S)/2),b=f[p]-y,b<0)S=p+1;else if(b>0)T=p-1;else{T=p;break}if(p=T,f[p]===y)return p/(m-1);var P=f[p],w=f[p+1],A=w-P,R=(y-P)/A;return(p+R)/(m-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=l}),73825:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),c=s(39506),h=s(35154),l=s(43396),o=s(26099),u=new a({Extends:g,initialize:function(f,p,m,y,S,T,b,P){if(typeof f=="object"){var w=f;f=h(w,"x",0),p=h(w,"y",0),m=h(w,"xRadius",0),y=h(w,"yRadius",m),S=h(w,"startAngle",0),T=h(w,"endAngle",360),b=h(w,"clockwise",!1),P=h(w,"rotation",0)}else y===void 0&&(y=m),S===void 0&&(S=0),T===void 0&&(T=360),b===void 0&&(b=!1),P===void 0&&(P=0);g.call(this,"EllipseCurve"),this.p0=new o(f,p),this._xRadius=m,this._yRadius=y,this._startAngle=c(S),this._endAngle=c(T),this._clockwise=b,this._rotation=c(P)},getStartPoint:function(v){return v===void 0&&(v=new o),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,f){f===void 0&&(f=new o);for(var p=Math.PI*2,m=this._endAngle-this._startAngle,y=Math.abs(m)<Number.EPSILON;m<0;)m+=p;for(;m>p;)m-=p;m<Number.EPSILON&&(y?m=0:m=p),this._clockwise&&!y&&(m===p?m=-p:m=m-p);var S=this._startAngle+v*m,T=this.p0.x+this._xRadius*Math.cos(S),b=this.p0.y+this._yRadius*Math.sin(S);if(this._rotation!==0){var P=Math.cos(this._rotation),w=Math.sin(this._rotation),A=T-this.p0.x,R=b-this.p0.y;T=A*P-R*w+this.p0.x,b=A*w+R*P+this.p0.y}return f.set(T,b)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return l(this._startAngle)},set:function(v){this._startAngle=c(v)}},endAngle:{get:function(){return l(this._endAngle)},set:function(v){this._endAngle=c(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return l(this._rotation)},set:function(v){this._rotation=c(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});u.fromJSON=function(v){return new u(v)},r.exports=u}),33951:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),c=s(19217),h=s(87841),l=s(26099),o=new a({Extends:g,initialize:function(v,f){g.call(this,"LineCurve"),Array.isArray(v)&&(f=new l(v[2],v[3]),v=new l(v[0],v[1])),this.p0=v,this.p1=f,this.arcLengthDivisions=1},getBounds:function(u){return u===void 0&&(u=new h),c([this.p0,this.p1],u)},getStartPoint:function(u){return u===void 0&&(u=new l),u.copy(this.p0)},getResolution:function(u){return u===void 0&&(u=1),u},getPoint:function(u,v){return v===void 0&&(v=new l),u===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(u).add(this.p0),v)},getPointAt:function(u,v){return this.getPoint(u,v)},getTangent:function(u,v){return v===void 0&&(v=new l),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(u,v,f){var p;if(v){var m=this.getLengths(f),y=m[m.length-1],S=Math.min(v,y);p=S/y}else p=u;return p},draw:function(u){return u.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),u},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(u){var v=u.points,f=new l(v[0],v[1]),p=new l(v[2],v[3]);return new o(f,p)},r.exports=o}),14744:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),c=s(32112),h=s(26099),l=new a({Extends:g,initialize:function(u,v,f){g.call(this,"QuadraticBezierCurve"),Array.isArray(u)&&(f=new h(u[4],u[5]),v=new h(u[2],u[3]),u=new h(u[0],u[1])),this.p0=u,this.p1=v,this.p2=f},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,u){u===void 0&&(u=new h);var v=this.p0,f=this.p1,p=this.p2;return u.set(c(o,v.x,f.x,p.x),c(o,v.y,f.y,p.y))},draw:function(o,u){u===void 0&&(u=32);var v=this.getPoints(u);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var f=1;f<v.length;f++)o.lineTo(v[f].x,v[f].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(o){var u=o.points,v=new h(u[0],u[1]),f=new h(u[2],u[3]),p=new h(u[4],u[5]);return new l(v,f,p)},r.exports=l}),42534:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87842),g=s(83419),c=s(80021),h=s(26099),l=new g({Extends:c,initialize:function(u){u===void 0&&(u=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(u)},addPoints:function(o){for(var u=0;u<o.length;u++){var v=new h;typeof o[u]=="number"?(v.x=o[u],v.y=o[u+1],u++):Array.isArray(o[u])?(v.x=o[u][0],v.y=o[u][1]):(v.x=o[u].x,v.y=o[u].y),this.points.push(v)}return this},addPoint:function(o,u){var v=new h(o,u);return this.points.push(v),v},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,u){u===void 0&&(u=new h);var v=this.points,f=(v.length-1)*o,p=Math.floor(f),m=f-p,y=v[p===0?p:p-1],S=v[p],T=v[p>v.length-2?v.length-1:p+1],b=v[p>v.length-3?v.length-1:p+2];return u.set(a(m,y.x,S.x,T.x,b.x),a(m,y.y,S.y,T.y,b.y))},toJSON:function(){for(var o=[],u=0;u<this.points.length;u++)o.push(this.points[u].x),o.push(this.points[u].y);return{type:this.type,points:o}}});l.fromJSON=function(o){return new l(o.points)},r.exports=l}),25410:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}}),68618:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),c=new a({initialize:function(l,o){this.active=!1,this.p0=new g(l,o)},getPoint:function(h,l){return l===void 0&&(l=new g),l.copy(this.p0)},getPointAt:function(h,l){return this.getPoint(h,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=c}),46669:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(46728),c=s(73825),h=s(39429),l=s(33951),o=s(68618),u=s(14744),v=s(87841),f=s(42534),p=s(26099),m=s(36383),y=new a({initialize:function(T,b){T===void 0&&(T=0),b===void 0&&(b=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,b)},add:function(S){return this.curves.push(S),this},circleTo:function(S,T,b){return T===void 0&&(T=!1),this.ellipseTo(S,S,0,360,T,b)},closePath:function(){var S=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return S.equals(T)||this.curves.push(new l(T,S)),this},cubicBezierTo:function(S,T,b,P,w,A){var R=this.getEndPoint(),D,L,k;return S instanceof p?(D=S,L=T,k=b):(D=new p(b,P),L=new p(w,A),k=new p(S,T)),this.add(new g(R,D,L,k))},quadraticBezierTo:function(S,T,b,P){var w=this.getEndPoint(),A,R;return S instanceof p?(A=S,R=T):(A=new p(b,P),R=new p(S,T)),this.add(new u(w,A,R))},draw:function(S,T){for(var b=0;b<this.curves.length;b++){var P=this.curves[b];P.active&&P.draw(S,T)}return S},ellipseTo:function(S,T,b,P,w,A){var R=new c(0,0,S,T,b,P,w,A),D=this.getEndPoint(this._tmpVec2A),L=R.getStartPoint(this._tmpVec2B);return D.subtract(L),R.x=D.x,R.y=D.y,this.add(R)},fromJSON:function(S){this.curves=[],this.cacheLengths=[],this.startPoint.set(S.x,S.y),this.autoClose=S.autoClose;for(var T=0;T<S.curves.length;T++){var b=S.curves[T];switch(b.type){case"LineCurve":this.add(l.fromJSON(b));break;case"EllipseCurve":this.add(c.fromJSON(b));break;case"SplineCurve":this.add(f.fromJSON(b));break;case"CubicBezierCurve":this.add(g.fromJSON(b));break;case"QuadraticBezierCurve":this.add(u.fromJSON(b));break}}return this},getBounds:function(S,T){S===void 0&&(S=new v),T===void 0&&(T=16),S.x=Number.MAX_VALUE,S.y=Number.MAX_VALUE;for(var b=new v,P=m.MIN_SAFE_INTEGER,w=m.MIN_SAFE_INTEGER,A=0;A<this.curves.length;A++){var R=this.curves[A];R.active&&(R.getBounds(b,T),S.x=Math.min(S.x,b.x),S.y=Math.min(S.y,b.y),P=Math.max(P,b.right),w=Math.max(w,b.bottom))}return S.right=P,S.bottom=w,S},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var S=[],T=0,b=0;b<this.curves.length;b++)T+=this.curves[b].getLength(),S.push(T);return this.cacheLengths=S,S},getCurveAt:function(S){for(var T=S*this.getLength(),b=this.getCurveLengths(),P=0;P<b.length;){if(b[P]>=T)return this.curves[P];P++}return null},getEndPoint:function(S){return S===void 0&&(S=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,S):S.copy(this.startPoint),S},getLength:function(){var S=this.getCurveLengths();return S[S.length-1]},getPoint:function(S,T){T===void 0&&(T=new p);for(var b=S*this.getLength(),P=this.getCurveLengths(),w=0;w<P.length;){if(P[w]>=b){var A=P[w]-b,R=this.curves[w],D=R.getLength(),L=D===0?0:1-A/D;return R.getPointAt(L,T)}w++}return null},getPoints:function(S,T){!S&&!T&&(S=this.defaultDivisions);for(var b=[],P,w=0;w<this.curves.length;w++){var A=this.curves[w];if(A.active)for(var R=A.getResolution(S),D=A.getPoints(R,T),L=0;L<D.length;L++){var k=D[L];P&&P.equals(k)||(b.push(k),P=k)}}return this.autoClose&&b.length>1&&!b[b.length-1].equals(b[0])&&b.push(b[0]),b},getRandomPoint:function(S){return S===void 0&&(S=new p),this.getPoint(Math.random(),S)},getSpacedPoints:function(S){S===void 0&&(S=40);for(var T=[],b=0;b<=S;b++)T.push(this.getPoint(b/S));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(S){return S===void 0&&(S=new p),S.copy(this.startPoint)},getTangent:function(S,T){T===void 0&&(T=new p);for(var b=S*this.getLength(),P=this.getCurveLengths(),w=0;w<P.length;){if(P[w]>=b){var A=P[w]-b,R=this.curves[w],D=R.getLength(),L=D===0?0:1-A/D;return R.getTangentAt(L,T)}w++}return null},lineTo:function(S,T){S instanceof p?this._tmpVec2B.copy(S):typeof S=="object"?this._tmpVec2B.setFromObject(S):this._tmpVec2B.set(S,T);var b=this.getEndPoint(this._tmpVec2A);return this.add(new l([b.x,b.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(S){return S.unshift(this.getEndPoint()),this.add(new f(S))},moveTo:function(S,T){return S instanceof p?this.add(new o(S.x,S.y)):this.add(new o(S,T))},toJSON:function(){for(var S=[],T=0;T<this.curves.length;T++)S.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:S}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(S,T){return new y(S,T)}),r.exports=y}),45893:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(24882),c=new a({initialize:function(l,o){this.parent=l,this.events=o,o||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(h){var l=this.list;if(Array.isArray(h)){for(var o=[],u=0;u<h.length;u++)o.push(l[h[u]]);return o}else return l[h]},getAll:function(){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&(h[l]=this.list[l]);return h},query:function(h){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(h)&&(l[o]=this.list[o]);return l},set:function(h,l){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,l);for(var o in h)this.setValue(o,h[o]);return this},inc:function(h,l){if(this._frozen)return this;l===void 0&&(l=1);var o=this.get(h);return o===void 0&&(o=0),this.set(h,o+l),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,l){if(this._frozen)return this;if(this.has(h))this.values[h]=l;else{var o=this,u=this.list,v=this.events,f=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return u[h]},set:function(p){if(!o._frozen){var m=u[h];u[h]=p,v.emit(g.CHANGE_DATA,f,h,p,m),v.emit(g.CHANGE_DATA_KEY+h,f,p,m)}}}),u[h]=l,v.emit(g.SET_DATA,f,h,l)}return this},each:function(h,l){for(var o=[this.parent,null,void 0],u=1;u<arguments.length;u++)o.push(arguments[u]);for(var v in this.list)o[1]=v,o[2]=this.list[v],h.apply(l,o);return this},merge:function(h,l){l===void 0&&(l=!0);for(var o in h)h.hasOwnProperty(o)&&(l||!l&&!this.has(o))&&this.setValue(o,h[o]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var l=0;l<h.length;l++)this.removeValue(h[l]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var l=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(g.REMOVE_DATA,this.parent,h,l)}return this},pop:function(h){var l=void 0;return!this._frozen&&this.has(h)&&(l=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(g.REMOVE_DATA,this.parent,h,l)),l},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var l in this.list)this.list[l]!==void 0&&h++;return h}}});r.exports=c}),63646:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45893),c=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(u){g.call(this,u,u.sys.events),this.scene=u,this.systems=u.sys,u.sys.events.once(h.BOOT,this.boot,this),u.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});c.register("DataManagerPlugin",l,"data"),r.exports=l}),10700:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"}),93608:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"}),60883:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),69780:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"}),22166:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"}),24882:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}}),44965:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}}),7098:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),l=!!h.canPlayType;try{if(l){var o=function(f,p){var m=h.canPlayType("audio/"+f).replace(/^no$/,"");return p?!!(m||h.canPlayType("audio/"+p).replace(/^no$/,"")):!!m};if(g.ogg=o('ogg; codecs="vorbis"'),g.opus=o('ogg; codecs="opus"',"opus"),g.mp3=o("mpeg"),g.wav=o("wav"),g.m4a=o("x-m4a"),g.aac=o("aac"),g.flac=o("flac","x-flac"),g.webm=o('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)g.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var u=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(u===10&&v>=11||u>10)&&(g.dolby=!0)}}}}catch{}return g}r.exports=c()}),84148:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(g.edge=!0,g.es2019=!0):/OPR/.test(h)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(h)&&!a.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&a.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!a.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(g.silk=!0),g}r.exports=c()}),89289:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",u="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var f=new Image;f.onload=function(){var p=a.create2D(f,6),m=p.getContext("2d",{willReadFrequently:!0});if(m.globalCompositeOperation="multiply",m.drawImage(v,0,0),m.drawImage(f,2,0),!m.getImageData(2,0,1,1))return!1;var y=m.getImageData(2,0,1,1).data;a.remove(f),g.supportNewBlendModes=y[0]===255&&y[1]===0&&y[2]===0},f.src=o+"/wCKxvRF"+u},v.src=o+"AP804Oa6"+u,!1}function h(){var o=a.create2D(this,2),u=o.getContext("2d",{willReadFrequently:!0});u.fillStyle="rgba(10, 20, 30, 0.5)",u.fillRect(0,0,1,1);var v=u.getImageData(0,0,1,1);if(v===null)return!1;u.putImageData(v,1,0);var f=u.getImageData(1,0,1,1),p=f.data[0]===v.data[0]&&f.data[1]===v.data[1]&&f.data[2]===v.data[2]&&f.data[3]===v.data[3];return a.remove(this),p}function l(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=c(),g.supportInverseAlpha=h()),g}r.exports=l()}),89357:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g=s(84148),c=s(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var u=new ArrayBuffer(4),v=new Uint8Array(u),f=new Uint32Array(u);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,f[0]===3569595041?!0:f[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var u=!1,v=function(){if(window.WebGLRenderingContext)try{var f=c.createWebGL(this),p=f.getContext("webgl")||f.getContext("experimental-webgl"),m=c.create2D(this),y=m.getContext("2d",{willReadFrequently:!0}),S=y.createImageData(1,1);return u=S.data instanceof Uint8ClampedArray,c.remove(f),c.remove(m),!!p}catch{return!1}return!1};return h.webGL=v(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(h.getUserMedia=!1),!a.iOS&&(g.ie||g.firefox||g.chrome)&&(h.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=l()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&h.littleEndian!==null&&u,h}r.exports=o()}),91639:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return x;var a,g="Fullscreen",c="FullScreen",h=["request"+g,"request"+c,"webkitRequest"+g,"webkitRequest"+c,"msRequest"+g,"msRequest"+c,"mozRequest"+c,"mozRequest"+g];for(a=0;a<h.length;a++)if(document.documentElement[h[a]]){x.available=!0,x.request=h[a];break}var l=["cancel"+c,"exit"+g,"webkitCancel"+c,"webkitExit"+g,"msCancel"+c,"msExit"+g,"mozCancel"+c,"mozExit"+g];if(x.available){for(a=0;a<l.length;a++)if(document[l[a]]){x.cancel=l[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}r.exports=s()}),31784:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}r.exports=c()}),25892:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var g=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!g||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}r.exports=s()}),43267:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return g;var h=document.createElement("video"),l=!!h.canPlayType,o=/^no$/;try{l&&(h.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(g.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(g.h264=!0,g.mp4=!0),h.canPlayType("video/x-m4v").replace(o,"")&&(g.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(g.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(g.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(g.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),g.getVideoURL=function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var f=a(u[v],"url",u[v]);if(f.indexOf("blob:")===0)return{url:f,type:""};var p;if(f.indexOf("data:")===0?p=f.split(",")[0].match(/\/(.*?);/):p=f.match(/\.([a-zA-Z0-9]+)($|\?)/),p=a(u[v],"type",p?p[1]:"").toLowerCase(),g[p])return{url:f,type:p}}return null},g}r.exports=c()}),82264:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}}),89422:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new Float32Array(20),c=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],l)},saturate:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h*2/3+1,u=(o-1)*-.5;return this.multiply([o,u,u,0,0,u,o,u,0,0,u,u,o,0,0,0,0,0,1,0],l)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1),h=h/180*Math.PI;var o=Math.cos(h),u=Math.sin(h),v=.213,f=.715,p=.072;return this.multiply([v+o*(1-v)+u*-v,f+o*-f+u*-f,p+o*-p+u*(1-p),0,0,v+o*-v+u*.143,f+o*(1-f)+u*.14,p+o*-p+u*-.283,0,0,v+o*-v+u*-.787,f+o*-f+u*f,p+o*(1-p)+u*p,0,0,0,0,0,1,0],l)},grayscale:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=!1),this.saturate(-h,l)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(c.BLACK_WHITE,h)},contrast:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h+1,u=-.5*(o-1);return this.multiply([o,0,0,0,u,0,o,0,0,u,0,0,o,0,u,0,0,0,1,0],l)},negative:function(h){return h===void 0&&(h=!1),this.multiply(c.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(c.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(c.SEPIA,h)},night:function(h,l){return h===void 0&&(h=.1),l===void 0&&(l=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],l)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(c.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(c.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(c.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(c.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(c.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(c.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(c.SHIFT_BGR,h)},multiply:function(h,l){l===void 0&&(l=!1),l||this.reset();var o=this._matrix,u=g;return u.set(o),o.set([u[0]*h[0]+u[1]*h[5]+u[2]*h[10]+u[3]*h[15],u[0]*h[1]+u[1]*h[6]+u[2]*h[11]+u[3]*h[16],u[0]*h[2]+u[1]*h[7]+u[2]*h[12]+u[3]*h[17],u[0]*h[3]+u[1]*h[8]+u[2]*h[13]+u[3]*h[18],u[0]*h[4]+u[1]*h[9]+u[2]*h[14]+u[3]*h[19]+u[4],u[5]*h[0]+u[6]*h[5]+u[7]*h[10]+u[8]*h[15],u[5]*h[1]+u[6]*h[6]+u[7]*h[11]+u[8]*h[16],u[5]*h[2]+u[6]*h[7]+u[7]*h[12]+u[8]*h[17],u[5]*h[3]+u[6]*h[8]+u[7]*h[13]+u[8]*h[18],u[5]*h[4]+u[6]*h[9]+u[7]*h[14]+u[8]*h[19]+u[9],u[10]*h[0]+u[11]*h[5]+u[12]*h[10]+u[13]*h[15],u[10]*h[1]+u[11]*h[6]+u[12]*h[11]+u[13]*h[16],u[10]*h[2]+u[11]*h[7]+u[12]*h[12]+u[13]*h[17],u[10]*h[3]+u[11]*h[8]+u[12]*h[13]+u[13]*h[18],u[10]*h[4]+u[11]*h[9]+u[12]*h[14]+u[13]*h[19]+u[14],u[15]*h[0]+u[16]*h[5]+u[17]*h[10]+u[18]*h[15],u[15]*h[1]+u[16]*h[6]+u[17]*h[11]+u[18]*h[16],u[15]*h[2]+u[16]*h[7]+u[17]*h[12]+u[18]*h[17],u[15]*h[3]+u[16]*h[8]+u[17]*h[13]+u[18]*h[18],u[15]*h[4]+u[16]*h[9]+u[17]*h[14]+u[18]*h[19]+u[19]]),this._dirty=!0,this}});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=c}),51767:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(29747),c=new a({initialize:function(l,o,u){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(l,o,u)},set:function(h,l,o){return h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=0),this._rgb=[h,l,o],this.onChange(),this},equals:function(h,l,o){var u=this._rgb;return u[0]===h&&u[1]===l&&u[2]===o},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=c}),60461:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=x}),54312:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(35893),c=s(86327),h=s(88417),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)+v),c(o,a(u)+f),o};r.exports=l}),46768:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),c=s(86327),h=s(385),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)-v),c(o,a(u)+f),o};r.exports=l}),35827:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),c=s(86327),h=s(40136),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)+v),c(o,a(u)+f),o};r.exports=l}),46871:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66786),g=s(35893),c=s(7702),h=function(l,o,u,v){return u===void 0&&(u=0),v===void 0&&(v=0),a(l,g(o)+u,c(o)+v),l};r.exports=h}),5198:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(26541),c=s(20786),h=s(385),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)-v),c(o,a(u)+f),o};r.exports=l}),11879:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=[];g[a.BOTTOM_CENTER]=s(54312),g[a.BOTTOM_LEFT]=s(46768),g[a.BOTTOM_RIGHT]=s(35827),g[a.CENTER]=s(46871),g[a.LEFT_CENTER]=s(5198),g[a.RIGHT_CENTER]=s(80503),g[a.TOP_CENTER]=s(89698),g[a.TOP_LEFT]=s(922),g[a.TOP_RIGHT]=s(21373),g[a.LEFT_BOTTOM]=g[a.BOTTOM_LEFT],g[a.LEFT_TOP]=g[a.TOP_LEFT],g[a.RIGHT_BOTTOM]=g[a.BOTTOM_RIGHT],g[a.RIGHT_TOP]=g[a.TOP_RIGHT];var c=function(h,l,o,u,v){return g[o](h,l,u,v)};r.exports=c}),80503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(54380),c=s(20786),h=s(40136),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)+v),c(o,a(u)+f),o};r.exports=l}),89698:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35893),g=s(17717),c=s(88417),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,a(u)+v),h(o,g(u)-f),o};r.exports=l}),922:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),c=s(385),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,a(u)-v),h(o,g(u)-f),o};r.exports=l}),21373:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),c=s(40136),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,a(u)+v),h(o,g(u)-f),o};r.exports=l}),91660:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}}),71926:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=s(79291),c={In:s(91660),To:s(16694)};c=g(!1,c,a),r.exports=c}),21578:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(35893),c=s(88417),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,g(u)+v),h(o,a(u)+f),o};r.exports=l}),10210:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),c=s(385),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,g(u)-v),h(o,a(u)+f),o};r.exports=l}),82341:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),c=s(40136),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,g(u)+v),h(o,a(u)+f),o};r.exports=l}),87958:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),c=s(86327),h=s(40136),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)-v),c(o,a(u)+f),o};r.exports=l}),40080:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(26541),c=s(20786),h=s(40136),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)-v),c(o,a(u)+f),o};r.exports=l}),88466:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),c=s(40136),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,a(u)-v),h(o,g(u)-f),o};r.exports=l}),38829:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=[];g[a.BOTTOM_CENTER]=s(21578),g[a.BOTTOM_LEFT]=s(10210),g[a.BOTTOM_RIGHT]=s(82341),g[a.LEFT_BOTTOM]=s(87958),g[a.LEFT_CENTER]=s(40080),g[a.LEFT_TOP]=s(88466),g[a.RIGHT_BOTTOM]=s(19211),g[a.RIGHT_CENTER]=s(34609),g[a.RIGHT_TOP]=s(48741),g[a.TOP_CENTER]=s(49440),g[a.TOP_LEFT]=s(81288),g[a.TOP_RIGHT]=s(61323);var c=function(h,l,o,u,v){return g[o](h,l,u,v)};r.exports=c}),19211:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),c=s(86327),h=s(385),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)+v),c(o,a(u)+f),o};r.exports=l}),34609:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(54380),c=s(20786),h=s(385),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,g(u)+v),c(o,a(u)+f),o};r.exports=l}),48741:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),c=s(385),h=s(66737),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),c(o,a(u)+v),h(o,g(u)-f),o};r.exports=l}),49440:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35893),g=s(17717),c=s(86327),h=s(88417),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,a(u)+v),c(o,g(u)-f),o};r.exports=l}),81288:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),c=s(86327),h=s(385),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,a(u)-v),c(o,g(u)-f),o};r.exports=l}),61323:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),c=s(86327),h=s(40136),l=function(o,u,v,f){return v===void 0&&(v=0),f===void 0&&(f=0),h(o,a(u)+v),c(o,g(u)-f),o};r.exports=l}),16694:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}}),66786:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(88417),g=s(20786),c=function(h,l,o){return a(h,l),g(h,o)};r.exports=c}),62235:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y+s.height-s.height*s.originY};r.exports=x}),72873:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),c=s(54380),h=s(17717),l=s(87841),o=function(u,v){v===void 0&&(v=new l);var f=g(u),p=h(u);return v.x=f,v.y=p,v.width=c(u)-f,v.height=a(u)-p,v};r.exports=o}),35893:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x-s.width*s.originX+s.width*.5};r.exports=x}),7702:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y-s.height*s.originY+s.height*.5};r.exports=x}),26541:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x-s.width*s.originX};r.exports=x}),87431:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.width*s.originX};r.exports=x}),46928:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.height*s.originY};r.exports=x}),54380:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x+s.width-s.width*s.originX};r.exports=x}),17717:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y-s.height*s.originY};r.exports=x}),86327:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.y=a-s.height+s.height*s.originY,s};r.exports=x}),88417:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.width*s.originX;return s.x=a+g-s.width*.5,s};r.exports=x}),20786:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.height*s.originY;return s.y=a+g-s.height*.5,s};r.exports=x}),385:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x=a+s.width*s.originX,s};r.exports=x}),40136:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x=a-s.width+s.width*s.originX,s};r.exports=x}),66737:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.y=a+s.height*s.originY,s};r.exports=x}),58724:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}}),20623:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(s){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(g){s.style["image-rendering"]=g}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};r.exports=x}),27919:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8054),g=s(68703),c=[],h=!1,l=function(){var o=function(b,P,w,A,R){P===void 0&&(P=1),w===void 0&&(w=1),A===void 0&&(A=a.CANVAS),R===void 0&&(R=!1);var D,L=f(A);return L===null?(L={parent:b,canvas:document.createElement("canvas"),type:A},A===a.CANVAS&&c.push(L),D=L.canvas):(L.parent=b,D=L.canvas),R&&(L.parent=D),D.width=P,D.height=w,h&&A===a.CANVAS&&g.disable(D.getContext("2d",{willReadFrequently:!1})),D},u=function(b,P,w){return o(b,P,w,a.CANVAS)},v=function(b,P,w){return o(b,P,w,a.WEBGL)},f=function(b){if(b===void 0&&(b=a.CANVAS),b===a.WEBGL)return null;for(var P=0;P<c.length;P++){var w=c[P];if(!w.parent&&w.type===b)return w}return null},p=function(b){var P=b instanceof HTMLCanvasElement;c.forEach(function(w){(P&&w.canvas===b||!P&&w.parent===b)&&(w.parent=null,w.canvas.width=1,w.canvas.height=1)})},m=function(){var b=0;return c.forEach(function(P){P.parent&&b++}),b},y=function(){return c.length-m()},S=function(){h=!0},T=function(){h=!1};return{create2D:u,create:o,createWebGL:v,disableSmoothing:S,enableSmoothing:T,first:f,free:y,pool:c,remove:p,total:m}};r.exports=l()}),68703:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",s=function(){var a=function(l){for(var o=["i","webkitI","msI","mozI","oI"],u=0;u<o.length;u++){var v=o[u]+"mageSmoothingEnabled";if(v in l)return v}return null},g=function(l){return x===""&&(x=a(l)),x&&(l[x]=!0),l},c=function(l){return x===""&&(x=a(l)),x&&(l[x]=!1),l},h=function(l){return x!==null?l[x]:null};return{disable:c,enable:g,getPrefix:a,isEnabled:h}};r.exports=s()}),65208:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a="none"),s.style.msTouchAction=a,s.style["ms-touch-action"]=a,s.style["touch-action"]=a,s};r.exports=x}),91610:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(c){s.style[c+"user-select"]=a}),s.style["-webkit-touch-callout"]=a,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};r.exports=x}),26253:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}}),40987:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37589),c=s(1e3),h=s(7537),l=s(87837),o=new a({initialize:function(v,f,p,m){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,f,p,m)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(u,v,f,p,m){return p===void 0&&(p=255),m===void 0&&(m=!0),this._locked=!0,this.red=u,this.green=v,this.blue=f,this.alpha=p,this._locked=!1,this.update(m)},setGLTo:function(u,v,f,p){return p===void 0&&(p=1),this._locked=!0,this.redGL=u,this.greenGL=v,this.blueGL=f,this.alphaGL=p,this._locked=!1,this.update(!0)},setFromRGB:function(u){return this._locked=!0,this.red=u.r,this.green=u.g,this.blue=u.b,u.hasOwnProperty("a")&&(this.alpha=u.a),this._locked=!1,this.update(!0)},setFromHSV:function(u,v,f){return h(u,v,f,this)},update:function(u){if(u===void 0&&(u=!1),this._locked)return this;var v=this.r,f=this.g,p=this.b,m=this.a;return this._color=g(v,f,p),this._color32=c(v,f,p,m),this._rgba="rgba("+v+","+f+","+p+","+m/255+")",u&&l(v,f,p,this),this},updateHSV:function(){var u=this.r,v=this.g,f=this.b;return l(u,v,f,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(u){return this.setTo(u,u,u)},random:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var f=Math.floor(u+Math.random()*(v-u)),p=Math.floor(u+Math.random()*(v-u)),m=Math.floor(u+Math.random()*(v-u));return this.setTo(f,p,m)},randomGray:function(u,v){u===void 0&&(u=0),v===void 0&&(v=255);var f=Math.floor(u+Math.random()*(v-u));return this.setTo(f,f,f)},saturate:function(u){return this.s+=u/100,this},desaturate:function(u){return this.s-=u/100,this},lighten:function(u){return this.v+=u/100,this},darken:function(u){return this.v-=u/100,this},brighten:function(u){var v=this.r,f=this.g,p=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(u/100)))),f=Math.max(0,Math.min(255,f-Math.round(255*-(u/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(u/100)))),this.setTo(v,f,p)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(u){this.gl[0]=Math.min(Math.abs(u),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(u){this.gl[1]=Math.min(Math.abs(u),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(u){this.gl[2]=Math.min(Math.abs(u),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(u){this.gl[3]=Math.min(Math.abs(u),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(u){u=Math.floor(Math.abs(u)),this.r=Math.min(u,255),this.gl[0]=u/255,this.update(!0)}},green:{get:function(){return this.g},set:function(u){u=Math.floor(Math.abs(u)),this.g=Math.min(u,255),this.gl[1]=u/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(u){u=Math.floor(Math.abs(u)),this.b=Math.min(u,255),this.gl[2]=u/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(u){u=Math.floor(Math.abs(u)),this.a=Math.min(u,255),this.gl[3]=u/255,this.update()}},h:{get:function(){return this._h},set:function(u){this._h=u,h(u,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(u){this._s=u,h(this._h,u,this._v,this)}},v:{get:function(){return this._v},set:function(u){this._v=u,h(this._h,this._s,u,this)}}});r.exports=o}),92728:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589),g=function(c){c===void 0&&(c=1024);var h=[],l=255,o,u=255,v=0,f=0;for(o=0;o<=l;o++)h.push({r:u,g:o,b:f,color:a(u,o,f)});for(v=255,o=l;o>=0;o--)h.push({r:o,g:v,b:f,color:a(o,v,f)});for(u=0,o=0;o<=l;o++,v--)h.push({r:u,g:v,b:o,color:a(u,v,o)});for(v=0,f=255,o=0;o<=l;o++,f--,u++)h.push({r:u,g:v,b:f,color:a(u,v,f)});if(c===1024)return h;var p=[],m=0,y=1024/c;for(o=0;o<c;o++)p.push(h[Math.floor(m)]),m+=y;return p};r.exports=g}),91588:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(a.a=s>>>24),a};r.exports=x}),62957:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.toString(16);return a.length===1?"0"+a:a};r.exports=x}),37589:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s<<16|a<<8|g};r.exports=x}),1e3:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return c<<24|s<<16|a<<8|g};r.exports=x}),62183:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=s(89528),c=function(h,l,o){var u=o,v=o,f=o;if(l!==0){var p=o<.5?o*(1+l):o+l-o*l,m=2*o-p;u=g(m,p,h+1/3),v=g(m,p,h),f=g(m,p,h-1/3)}var y=new a;return y.setGLTo(u,v,f,1)};r.exports=c}),27939:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7537),g=function(c,h){c===void 0&&(c=1),h===void 0&&(h=1);for(var l=[],o=0;o<=359;o++)l.push(a(o/359,c,h));return l};r.exports=g}),7537:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589);function g(h,l,o,u){var v=(h+l*6)%6,f=Math.min(v,4-v,1);return Math.round(255*(u-u*o*Math.max(0,f)))}var c=function(h,l,o,u){l===void 0&&(l=1),o===void 0&&(o=1);var v=g(5,h,l,o),f=g(3,h,l,o),p=g(1,h,l,o);return u?u.setTo?u.setTo(v,f,p,u.alpha,!0):(u.r=v,u.g=f,u.b=p,u.color=a(v,f,p),u):{r:v,g:f,b:p,color:a(v,f,p)}};r.exports=c}),70238:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(c){var h=new a;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(f,p,m,y){return p+p+m+m+y+y});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(l){var o=parseInt(l[1],16),u=parseInt(l[2],16),v=parseInt(l[3],16);h.setTo(o,u,v)}return h};r.exports=g}),89528:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?s+(a-s)*6*g:g<.5?a:g<.6666666666666666?s+(a-s)*(.6666666666666666-g)*6:s};r.exports=x}),30100:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=s(90664),c=function(h){var l=g(h);return new a(l.r,l.g,l.b,l.a)};r.exports=c}),90664:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};r.exports=x}),13699:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28915),g=s(37589),c=function(o,u,v,f,p,m,y,S){y===void 0&&(y=100),S===void 0&&(S=0);var T=S/y,b=a(o,f,T),P=a(u,p,T),w=a(v,m,T);return{r:b,g:P,b:w,a:255,color:g(b,P,w)}},h=function(o,u,v,f){return v===void 0&&(v=100),f===void 0&&(f=0),c(o.r,o.g,o.b,u.r,u.g,u.b,v,f)},l=function(o,u,v,f,p,m){return p===void 0&&(p=100),m===void 0&&(m=0),c(o.r,o.g,o.b,u,v,f,p,m)};r.exports={RGBWithRGB:c,ColorWithRGB:l,ColorWithColor:h}}),68957:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(c){return new a(c.r,c.g,c.b,c.a)};r.exports=g}),87388:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(c){var h=new a,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(l){var o=parseInt(l[1],10),u=parseInt(l[2],10),v=parseInt(l[3],10),f=l[4]!==void 0?parseFloat(l[4]):1;h.setTo(o,u,v,f*255)}return h};r.exports=g}),87837:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){c===void 0&&(c={h:0,s:0,v:0}),s/=255,a/=255,g/=255;var h=Math.min(s,a,g),l=Math.max(s,a,g),o=l-h,u=0,v=l===0?0:o/l,f=l;return l!==h&&(l===s?u=(a-g)/o+(a<g?6:0):l===a?u=(g-s)/o+2:l===g&&(u=(s-a)/o+4),u/=6),c.hasOwnProperty("_h")?(c._h=u,c._s=v,c._v=f):(c.h=u,c.s=v,c.v=f),c};r.exports=x}),75723:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62957),g=function(c,h,l,o,u){return o===void 0&&(o=255),u===void 0&&(u="#"),u==="#"?"#"+((1<<24)+(c<<16)+(h<<8)+l).toString(16).slice(1,7):"0x"+a(o)+a(c)+a(h)+a(l)};r.exports=g}),85386:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(40987),c=function(h,l){return h===void 0&&(h=0),l===void 0&&(l=255),new g(a(h,l),a(h,l),a(h,l))};r.exports=c}),80333:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70238),g=s(30100),c=s(68957),h=s(87388),l=function(o){var u=typeof o;switch(u){case"string":return o.substr(0,3).toLowerCase()==="rgb"?h(o):a(o);case"number":return g(o);case"object":return c(o)}};r.exports=l}),3956:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987);a.ColorSpectrum=s(92728),a.ColorToRGBA=s(91588),a.ComponentToHex=s(62957),a.GetColor=s(37589),a.GetColor32=s(1e3),a.HexStringToColor=s(70238),a.HSLToColor=s(62183),a.HSVColorWheel=s(27939),a.HSVToRGB=s(7537),a.HueToComponent=s(89528),a.IntegerToColor=s(30100),a.IntegerToRGB=s(90664),a.Interpolate=s(13699),a.ObjectToColor=s(68957),a.RandomRGB=s(85386),a.RGBStringToColor=s(87388),a.RGBToHSV=s(87837),a.RGBToString=s(75723),a.ValueToColor=s(80333),r.exports=a}),27460:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}}),6858:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39429),c=new a({initialize:function(l,o,u,v,f,p){o||(o=l.sys.make.image({x:u,y:v,key:f,frame:p,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,l,o){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,o)},postRenderWebGL:function(h,l,o){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(h,l,o,u,v){return new c(this.scene,h,l,o,u,v)}),r.exports=c}),80661:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(c){return this.geometryMask=c,this},setInvertAlpha:function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},preRenderWebGL:function(c,h,l){var o=c.gl;c.flush(),c.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:l}),this.applyStencil(c,l,!0),c.maskCount++},applyStencil:function(c,h,l){var o=c.gl,u=this.geometryMask,v=c.maskCount,f=255;o.colorMask(!1,!1,!1,!1),l?(o.stencilFunc(o.EQUAL,v,f),o.stencilOp(o.KEEP,o.KEEP,o.INCR),v++):(o.stencilFunc(o.EQUAL,v+1,f),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=v,u.renderWebGL(c,u,h),c.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,v,f):o.stencilFunc(o.EQUAL,v,f)},postRenderWebGL:function(c){var h=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var l=c.currentMask;if(c.maskStack.length===0)l.mask=null,h.disable(h.STENCIL_TEST);else{var o=c.maskStack[c.maskStack.length-1];o.mask.applyStencil(c,o.camera,!1),c.currentCameraMask.mask!==o.mask?(l.mask=o.mask,l.camera=o.camera):l.mask=null}},preRenderCanvas:function(c,h,l){var o=this.geometryMask;c.currentContext.save(),o.renderCanvas(c,o,l,null,null,!0),c.currentContext.clip()},postRenderCanvas:function(c){c.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=g}),69781:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:s(6858),GeometryMask:s(80661)}}),73894:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),u===void 0&&(u=null),this.key=h,this.fragmentSrc=l,this.vertexSrc=o,this.uniforms=u}});r.exports=g}),40366:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g;if(a)typeof a=="string"?g=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(g=a);else if(s.parentElement||a===null)return s;return g||(g=document.body),g.appendChild(s),s};r.exports=x}),83719:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=function(c){var h=c.config;if(!(!h.parent||!h.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=l,a(l,h.parent)}};r.exports=g}),57264:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g=function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),c()};document.body?a.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};r.exports=g}),57811:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!s)return window.innerHeight;var a=Math.abs(window.orientation),g={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),g.w=a===90?c.offsetHeight:window.innerWidth,g.h=a===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?g.h:g.w};r.exports=x}),45818:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13560),g=function(c,h){var l=window.screen,o=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return h>c?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};r.exports=g}),74403:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a;return s!==""&&(typeof s=="string"?a=document.getElementById(s):s&&s.nodeType===1&&(a=s)),a||(a=document.body),a};r.exports=x}),56836:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a="";try{if(window.DOMParser){var g=new DOMParser;a=g.parseFromString(s,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(s)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};r.exports=x}),35846:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){s.parentNode&&s.parentNode.removeChild(s)};r.exports=x}),43092:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(29747),c=new a({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function o(u){l.callback(u),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){l.isRunning&&(l.timeOutID=window.setTimeout(o,l.delay)),l.callback(window.performance.now())}},start:function(h,l,o){this.isRunning||(this.callback=h,this.isSetTimeOut=l,this.delay=o,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});r.exports=c}),84902:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};r.exports=a}),47565:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(37277),h=new a({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});c.register("EventEmitter",h,"events"),r.exports=h}),93055:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:s(47565)}}),20122:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u){u===void 0&&(u=1),g.call(this,c.BARREL,o),this.amount=u}});r.exports=h}),32251:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y){v===void 0&&(v=1),f===void 0&&(f=1),p===void 0&&(p=1),m===void 0&&(m=1),y===void 0&&(y=4),g.call(this,c.BLOOM,o),this.steps=y,this.offsetX=v,this.offsetY=f,this.blurStrength=p,this.strength=m,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});r.exports=h}),9047:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y){u===void 0&&(u=0),v===void 0&&(v=2),f===void 0&&(f=2),p===void 0&&(p=1),y===void 0&&(y=4),g.call(this,c.BLUR,o),this.quality=u,this.x=v,this.y=f,this.steps=y,this.strength=p,this.glcolor=[1,1,1],m!=null&&(this.color=m)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});r.exports=h}),27885:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y,S){u===void 0&&(u=.5),v===void 0&&(v=1),f===void 0&&(f=.2),p===void 0&&(p=!1),m===void 0&&(m=1),y===void 0&&(y=1),S===void 0&&(S=1),g.call(this,c.BOKEH,o),this.radius=u,this.amount=v,this.contrast=f,this.isTiltShift=p,this.strength=S,this.blurX=m,this.blurY=y}});r.exports=h}),12578:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m){u===void 0&&(u=8),p===void 0&&(p=1),m===void 0&&(m=.005),g.call(this,c.CIRCLE,o),this.scale=p,this.feather=m,this.thickness=u,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),f!=null&&(this.backgroundColor=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor2;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});r.exports=h}),15802:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89422),c=s(14811),h=new a({Extends:g,initialize:function(o){g.call(this),this.type=c.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=h}),72898:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.type=h,this.gameObject=l,this.active=!0},setActive:function(c){return this.active=c,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=g}),44553:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f){u===void 0&&(u="__WHITE"),v===void 0&&(v=.005),f===void 0&&(f=.005),g.call(this,c.DISPLACEMENT,o),this.x=v,this.y=f,this.glTexture,this.setTexture(u)},setTexture:function(l){var o=this.gameObject.scene.sys.textures.getFrame(l);return o&&(this.glTexture=o.glTexture),this}});r.exports=h}),68531:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p){v===void 0&&(v=4),f===void 0&&(f=0),p===void 0&&(p=!1),g.call(this,c.GLOW,o),this.outerStrength=v,this.innerStrength=f,this.knockout=p,this.glcolor=[1,1,1,1],u!==void 0&&(this.color=u)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});r.exports=h}),37102:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y,S,T){f===void 0&&(f=.2),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=1),T===void 0&&(T=0),g.call(this,c.GRADIENT,o),this.alpha=f,this.size=T,this.fromX=p,this.fromY=m,this.toX=y,this.toY=S,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],u!=null&&(this.color1=u),v!=null&&(this.color2=v)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor1;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor2;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}}});r.exports=h}),86886:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u){u===void 0&&(u=1),g.call(this,c.PIXELATE,o),this.amount=u}});r.exports=h}),92322:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y,S){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=.1),p===void 0&&(p=1),y===void 0&&(y=6),S===void 0&&(S=1),g.call(this,c.SHADOW,o),this.x=u,this.y=v,this.decay=f,this.power=p,this.glcolor=[0,0,0,1],this.samples=y,this.intensity=S,m!==void 0&&(this.color=m)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});r.exports=h}),39563:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p){u===void 0&&(u=.5),v===void 0&&(v=.5),f===void 0&&(f=3),p===void 0&&(p=!1),g.call(this,c.SHINE,o),this.speed=u,this.lineWidth=v,this.gradient=f,this.reveal=p}});r.exports=h}),56448:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p){u===void 0&&(u=.5),v===void 0&&(v=.5),f===void 0&&(f=.5),p===void 0&&(p=.5),g.call(this,c.VIGNETTE,o),this.x=u,this.y=v,this.radius=f,this.strength=p}});r.exports=h}),38433:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),c=s(14811),h=new a({Extends:g,initialize:function(o,u,v,f,p){u===void 0&&(u=.1),v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=!1),g.call(this,c.WIPE,o),this.progress=0,this.wipeWidth=u,this.direction=v,this.axis=f,this.reveal=p}});r.exports=h}),14811:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=x}),66064:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(14811),c={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};c=a(!1,c,g),r.exports=c}),25305:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(23568),c=function(h,l,o){l.x=g(o,"x",0),l.y=g(o,"y",0),l.depth=g(o,"depth",0),l.flipX=g(o,"flipX",!1),l.flipY=g(o,"flipY",!1);var u=g(o,"scale",null);typeof u=="number"?l.setScale(u):u!==null&&(l.scaleX=g(u,"x",1),l.scaleY=g(u,"y",1));var v=g(o,"scrollFactor",null);typeof v=="number"?l.setScrollFactor(v):v!==null&&(l.scrollFactorX=g(v,"x",1),l.scrollFactorY=g(v,"y",1)),l.rotation=g(o,"rotation",0);var f=g(o,"angle",null);f!==null&&(l.angle=f),l.alpha=g(o,"alpha",1);var p=g(o,"origin",null);if(typeof p=="number")l.setOrigin(p);else if(p!==null){var m=g(p,"x",.5),y=g(p,"y",.5);l.setOrigin(m,y)}l.blendMode=g(o,"blendMode",a.NORMAL),l.visible=g(o,"visible",!0);var S=g(o,"add",!0);return S&&h.sys.displayList.add(l),l.preUpdate&&h.sys.updateList.add(l),l};r.exports=c}),13059:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23568),g=function(c,h){var l=a(h,"anims",null);if(l===null)return c;if(typeof l=="string")c.anims.play(l);else if(typeof l=="object"){var o=c.anims,u=a(l,"key",void 0);if(u){var v=a(l,"startFrame",void 0),f=a(l,"delay",0),p=a(l,"repeat",0),m=a(l,"repeatDelay",0),y=a(l,"yoyo",!1),S=a(l,"play",!1),T=a(l,"delayedPlay",0),b={key:u,delay:f,repeat:p,repeatDelay:m,yoyo:y,startFrame:v};S?o.play(b):T>0?o.playAfterDelay(b,T):o.load(b)}}return c};r.exports=g}),8050:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(73162),c=s(37277),h=s(51708),l=s(44594),o=s(19186),u=new a({Extends:g,initialize:function(f){g.call(this,f),this.sortChildrenFlag=!1,this.scene=f,this.systems=f.sys,this.events=f.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(h.ADDED_TO_SCENE,v,this.scene),this.events.emit(l.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(h.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,f){return v._depth-f._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list,f=v.length;f--;)v[f]&&v[f].destroy(!0);v.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});c.register("DisplayList",u,"displayList"),r.exports=u}),95643:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(53774),c=s(45893),h=s(50792),l=s(51708),o=s(44594),u=new a({Extends:h,initialize:function(f,p){h.call(this),this.scene=f,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),f.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new c(this)),this},setData:function(v,f){return this.data||(this.data=new c(this)),this.data.set(v,f),this},incData:function(v,f){return this.data||(this.data=new c(this)),this.data.inc(v,f),this},toggleData:function(v){return this.data||(this.data=new c(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new c(this)),this.data.get(v)},setInteractive:function(v,f,p){return this.scene.sys.input.enable(this,v,f,p),this},disableInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.disable(this,v),this},removeInteractive:function(v){return v===void 0&&(v=!1),this.scene.sys.input.clear(this),v&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(v){var f=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!f||u.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,f=this.parentContainer,p=[];f&&(p.unshift(f.getIndex(v)),v=f,f.parentContainer);)f=f.parentContainer;return this.displayList?p.unshift(this.displayList.getIndex(v)):p.unshift(this.scene.sys.displayList.getIndex(v)),p},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var v=null;return this.parentContainer?v=this.parentContainer.list:this.displayList&&(v=this.displayList.list),v},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});u.RENDER_MASK=15,r.exports=u}),44603:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),c=s(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,o){h.prototype.hasOwnProperty(l)||(h.prototype[l]=o)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},g.register("GameObjectCreator",h,"make"),r.exports=h}),39429:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),c=s(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,o){h.prototype.hasOwnProperty(l)||(h.prototype[l]=o)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},g.register("GameObjectFactory",h,"add"),r.exports=h}),91296:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=new a,c=new a,h=new a,l={camera:g,sprite:c,calc:h},o=function(u,v,f){var p=g,m=c,y=h;return m.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),p.copyFrom(v.matrix),f?(p.multiplyWithOffset(f,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),m.e=u.x,m.f=u.y):(m.e-=v.scrollX*u.scrollFactorX,m.f-=v.scrollY*u.scrollFactorY),p.multiply(m,y),l};r.exports=o}),45027:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(25774),c=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(u){g.call(this),this.checkQueue=!0,this.scene=u,this.systems=u.sys,u.sys.events.once(h.BOOT,this.boot,this),u.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(h.PRE_UPDATE,this.update,this),o.on(h.UPDATE,this.sceneUpdate,this),o.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,u){for(var v=this._active,f=v.length,p=0;p<f;p++){var m=v[p];m.active&&m.preUpdate.call(m,o,u)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var u=this.systems.events;u.off(h.PRE_UPDATE,this.update,this),u.off(h.UPDATE,this.sceneUpdate,this),u.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});c.register("UpdateList",l,"updateList"),r.exports=l}),3217:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l,o,u,v,f,p,m,y,S,T){var b=g.x-a.displayOriginX+h,P=g.y-a.displayOriginY+l,w=b+g.w,A=P+g.h,R=o.a,D=o.b,L=o.c,k=o.d,B=o.e,F=o.f,G=b*R+P*L+B,N=b*D+P*k+F,W=b*R+A*L+B,X=b*D+A*k+F,$=w*R+A*L+B,J=w*D+A*k+F,V=w*R+P*L+B,Y=w*D+P*k+F;u&&(G=Math.round(G),N=Math.round(N),W=Math.round(W),X=Math.round(X),$=Math.round($),J=Math.round(J),V=Math.round(V),Y=Math.round(Y)),s.batchQuad(a,G,N,W,X,$,J,V,Y,c.u0,c.v0,c.u1,c.v1,v,f,p,m,y,S,T)};r.exports=x}),53048:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){if(g===void 0&&(g=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var h=s.text,l=h.length,o=s.maxWidth,u=s.wordWrapCharCode,v=Number.MAX_VALUE,f=Number.MAX_VALUE,p=0,m=0,y=s.fontData.chars,S=s.fontData.lineHeight,T=s.letterSpacing,b=s.lineSpacing,P=0,w=0,A=0,R=null,D=s._align,L=0,k=0,B=s.fontSize/s.fontData.size,F=B*s.scaleX,G=B*s.scaleY,N=null,W=0,X=[],$=Number.MAX_VALUE,J=0,V=0,Y=0,z,K,H,Q=[],j=[],q=null,tt=function(ke,ze){for(var ce=0,Ae=0;Ae<ke.length;Ae++){var Re=ke.charCodeAt(Ae),Ve=ze.chars[Re];Ve&&(ce+=Ve.xAdvance)}return ce*F};if(o>0){H=h.split(`
`);var st=[];for(z=0;z<H.length;z++){var nt=H[z],at="",ot="",mt="",St="";for(K=0;K<nt.length;K++)if(A=nt.charCodeAt(K),at+=nt[K],A===u||K===nt.length-1){St=mt+at;var Ct=tt(St,s.fontData);Ct<=o?mt=St:(ot=ot.slice(0,-1),ot+=(ot?`
`:"")+mt,mt=at),at=""}ot=ot.slice(0,-1),ot+=(ot?`
`:"")+mt,st.push(ot)}h=st.join(`
`),c.wrappedText=h,l=h.length}var kt=0;for(z=0;z<l;z++){if(A=h.charCodeAt(z),A===10){q!==null&&(Q.push({word:q.word,i:q.i,x:q.x*F,y:q.y*G,w:q.w*F,h:q.h*G}),q=null),N=null,X[V]=Y,Y>J&&(J=Y),Y<$&&($=Y),V++,Y=0,P=0,w=(S+b)*V;continue}if(R=y[A],!!R){if(L=P,k=w,N!==null){var Vt=R.kerning[W];L+=Vt!==void 0?Vt:0}v>L&&(v=L),f>k&&(f=k);var It=L+R.xAdvance,yt=k+S;p<It&&(p=It),m<yt&&(m=yt);var Lt=R.xOffset+R.xAdvance+(Vt!==void 0?Vt:0);A===u?q!==null&&(Q.push({word:q.word,i:q.i,x:q.x*F,y:q.y*G,w:q.w*F,h:q.h*G}),q=null):(q===null&&(q={word:"",i:kt,x:P,y:w,w:0,h:S}),q.word=q.word.concat(h[z]),q.w+=Lt),j.push({i:kt,idx:z,char:h[z],code:A,x:(R.xOffset+L)*B,y:(R.yOffset+w)*B,w:R.width*B,h:R.height*B,t:w*B,r:It*B,b:S*B,line:V,glyph:R}),P+=R.xAdvance+T+(Vt!==void 0?Vt:0),N=R,W=A,Y=It*B,kt++}}if(q!==null&&Q.push({word:q.word,i:q.i,x:q.x*F,y:q.y*G,w:q.w*F,h:q.h*G}),X[V]=Y,Y>J&&(J=Y),Y<$&&($=Y),D>0)for(var Ft=0;Ft<j.length;Ft++){var $t=j[Ft];if(D===1){var Jt=(J-X[$t.line])/2;$t.x+=Jt,$t.r+=Jt}else if(D===2){var jt=J-X[$t.line];$t.x+=jt,$t.r+=jt}}var Zt=c.local,Yt=c.global;return H=c.lines,Zt.x=v*B,Zt.y=f*B,Zt.width=p*B,Zt.height=m*B,Yt.x=s.x-s._displayOriginX+v*F,Yt.y=s.y-s._displayOriginY+f*G,Yt.width=p*F,Yt.height=m*G,H.shortest=$,H.longest=J,H.lengths=X,a&&(Zt.x=Math.ceil(Zt.x),Zt.y=Math.ceil(Zt.y),Zt.width=Math.ceil(Zt.width),Zt.height=Math.ceil(Zt.height),Yt.x=Math.ceil(Yt.x),Yt.y=Math.ceil(Yt.y),Yt.width=Math.ceil(Yt.width),Yt.height=Math.ceil(Yt.height),H.shortest=Math.ceil($),H.longest=Math.ceil(J)),g&&(s._displayOriginX=s.originX*Zt.width,s._displayOriginY=s.originY*Zt.height,Yt.x=s.x-s._displayOriginX*s.scaleX,Yt.y=s.y-s._displayOriginY*s.scaleY,a&&(Yt.x=Math.ceil(Yt.x),Yt.y=Math.ceil(Yt.y))),c.words=Q,c.characters=j,c.lines.height=S,c.scale=B,c.scaleX=s.scaleX,c.scaleY=s.scaleY,c};r.exports=x}),61327:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21859),g=function(c,h,l,o,u,v,f){var p=c.sys.textures.get(l),m=p.get(o),y=c.sys.cache.xml.get(u);if(m&&y){var S=a(y,m,v,f,p);return c.sys.cache.bitmapFont.add(h,{data:S,texture:l,frame:o,fromAtlas:!0}),!0}else return!1};r.exports=g}),6925:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=function(c,h){var l=h.width,o=h.height,u=Math.floor(l/2),v=Math.floor(o/2),f=a(h,"chars","");if(f!==""){var p=a(h,"image",""),m=c.sys.textures.getFrame(p),y=m.cutX,S=m.cutY,T=m.source.width,b=m.source.height,P=a(h,"offset.x",0),w=a(h,"offset.y",0),A=a(h,"spacing.x",0),R=a(h,"spacing.y",0),D=a(h,"lineSpacing",0),L=a(h,"charsPerRow",null);L===null&&(L=T/l,L>f.length&&(L=f.length));for(var k=P,B=w,F={retroFont:!0,font:p,size:l,lineHeight:o+D,chars:{}},G=0,N=0;N<f.length;N++){var W=f.charCodeAt(N),X=(y+k)/T,$=(S+B)/b,J=(y+k+l)/T,V=(S+B+o)/b;F.chars[W]={x:k,y:B,width:l,height:o,centerX:u,centerY:v,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:X,v0:$,u1:J,v1:V},G++,G===L?(G=0,k=P,B+=o+R):k+=l+A}var Y={data:F,frame:null,texture:p};return Y}};r.exports=g}),21859:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,g){return parseInt(a.getAttribute(g),10)}var s=function(a,g,c,h,l){c===void 0&&(c=0),h===void 0&&(h=0);var o=g.cutX,u=g.cutY,v=g.source.width,f=g.source.height,p=g.sourceIndex,m={},y=a.getElementsByTagName("info")[0],S=a.getElementsByTagName("common")[0];m.font=y.getAttribute("face"),m.size=x(y,"size"),m.lineHeight=x(S,"lineHeight")+h,m.chars={};var T=a.getElementsByTagName("char"),b=g!==void 0&&g.trimmed;if(b)var P=g.height,w=g.width;for(var A=0;A<T.length;A++){var R=T[A],D=x(R,"id"),L=String.fromCharCode(D),k=x(R,"x"),B=x(R,"y"),F=x(R,"width"),G=x(R,"height");b&&(k<w&&(w=k),B<P&&(P=B)),b&&P!==0&&w!==0&&(k-=g.x,B-=g.y);var N=(o+k)/v,W=(u+B)/f,X=(o+k+F)/v,$=(u+B+G)/f;if(m.chars[D]={x:k,y:B,width:F,height:G,centerX:Math.floor(F/2),centerY:Math.floor(G/2),xOffset:x(R,"xoffset"),yOffset:x(R,"yoffset"),xAdvance:x(R,"xadvance")+c,data:{},kerning:{},u0:N,v0:W,u1:X,v1:$},l&&F!==0&&G!==0){var J=l.add(L,p,k,B,F,G);J&&J.setUVs(F,G,N,W,X,$)}}var V=a.getElementsByTagName("kerning");for(A=0;A<V.length;A++){var Y=V[A],z=x(Y,"first"),K=x(Y,"second"),H=x(Y,"amount");m.chars[K].kerning[z]=H}return m};r.exports=s}),196:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87662),g=s(79291),c={Parse:s(6925)};c=g(!1,c,a),r.exports=c}),87662:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=x}),2638:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(83419),c=s(12310),h=new g({Extends:a,Mixins:[c],initialize:function(o,u,v,f,p,m,y){a.call(this,o,u,v,f,p,m,y),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,o){return this.cropWidth=l,this.cropHeight=o,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});r.exports=h}),86741:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20926),g=function(c,h,l,o){var u=h._text,v=u.length,f=c.currentContext;if(!(v===0||!a(c,f,h,l,o))){l.addToRenderList(h);var p=h.fromAtlas?h.frame:h.texture.frames.__BASE,m=h.displayCallback,y=h.callbackData,S=h.fontData.chars,T=h.fontData.lineHeight,b=h._letterSpacing,P=0,w=0,A=0,R=null,D=0,L=0,k=0,B=0,F=0,G=0,N=null,W=0,X=h.frame.source.image,$=p.cutX,J=p.cutY,V=0,Y=0,z=h._fontSize/h.fontData.size,K=h._align,H=0,Q=0;h.getTextBounds(!1);var j=h._bounds.lines;K===1?Q=(j.longest-j.lengths[0])/2:K===2&&(Q=j.longest-j.lengths[0]),f.translate(-h.displayOriginX,-h.displayOriginY);var q=l.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(f.beginPath(),f.rect(0,0,h.cropWidth,h.cropHeight),f.clip());for(var tt=0;tt<v;tt++){if(Y=z,V=0,A=u.charCodeAt(tt),A===10){H++,K===1?Q=(j.longest-j.lengths[H])/2:K===2&&(Q=j.longest-j.lengths[H]),P=0,w+=T,N=null;continue}if(R=S[A],!!R){if(D=$+R.x,L=J+R.y,k=R.width,B=R.height,F=R.xOffset+P-h.scrollX,G=R.yOffset+w-h.scrollY,N!==null){var st=R.kerning[W];F+=st!==void 0?st:0}if(m){y.index=tt,y.charCode=A,y.x=F,y.y=G,y.scale=Y,y.rotation=V,y.data=R.data;var nt=m(y);F=nt.x,G=nt.y,Y=nt.scale,V=nt.rotation}F*=Y,G*=Y,F+=Q,P+=R.xAdvance+b+(st!==void 0?st:0),N=R,W=A,!(k===0||B===0||A===32)&&(q&&(F=Math.round(F),G=Math.round(G)),f.save(),f.translate(F,G),f.rotate(V),f.scale(Y,Y),f.drawImage(X,D,L,k,B,0,0,k,B),f.restore())}}f.restore()}};r.exports=g}),11164:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2638),g=s(25305),c=s(44603),h=s(23568);c.register("dynamicBitmapText",function(l,o){l===void 0&&(l={});var u=h(l,"font",""),v=h(l,"text",""),f=h(l,"size",!1),p=new a(this.scene,0,0,u,v,f);return o!==void 0&&(l.add=o),g(this.scene,p,l),p})}),72566:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2638),g=s(39429);g.register("dynamicBitmapText",function(c,h,l,o,u){return this.displayList.add(new a(this.scene,c,h,l,o,u))})}),12310:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(73482),c=s(86741),r.exports={renderWebGL:g,renderCanvas:c}}),73482:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(61340),c=s(70554),h=new g,l=function(o,u,v,f){var p=u.text,m=p.length;if(m!==0){v.addToRenderList(u);var y=o.pipelines.set(u.pipeline,u),S=a(u,v,f);o.pipelines.preBatch(u);var T=S.sprite,b=S.calc,P=h,w=u.cropWidth>0||u.cropHeight>0;w&&(y.flush(),o.pushScissor(b.tx,b.ty,u.cropWidth*b.scaleX,u.cropHeight*b.scaleY));var A=u.frame,R=A.glTexture,D=u.tintFill,L=c.getTintAppendFloatAlpha(u.tintTopLeft,v.alpha*u._alphaTL),k=c.getTintAppendFloatAlpha(u.tintTopRight,v.alpha*u._alphaTR),B=c.getTintAppendFloatAlpha(u.tintBottomLeft,v.alpha*u._alphaBL),F=c.getTintAppendFloatAlpha(u.tintBottomRight,v.alpha*u._alphaBR),G=y.setGameObject(u),N=0,W=0,X=0,$=0,J=u.letterSpacing,V,Y=0,z=0,K,H=u.scrollX,Q=u.scrollY,j=u.fontData,q=j.chars,tt=j.lineHeight,st=u.fontSize/j.size,nt=0,at=u._align,ot=0,mt=0,St=u.getTextBounds(!1);u.maxWidth>0&&(p=St.wrappedText,m=p.length);var Ct=u._bounds.lines;at===1?mt=(Ct.longest-Ct.lengths[0])/2:at===2&&(mt=Ct.longest-Ct.lengths[0]);for(var kt=v.roundPixels,Vt=u.displayCallback,It=u.callbackData,yt=0;yt<m;yt++){if(X=p.charCodeAt(yt),X===10){ot++,at===1?mt=(Ct.longest-Ct.lengths[ot])/2:at===2&&(mt=Ct.longest-Ct.lengths[ot]),N=0,W+=tt,K=null;continue}if(V=q[X],!!V){Y=V.width,z=V.height;var Lt=V.xOffset+N-H,Ft=V.yOffset+W-Q;if(K!==null){var $t=V.kerning[$]||0;Lt+=$t,N+=$t}if(N+=V.xAdvance+J,K=V,$=X,!(Y===0||z===0||X===32)){if(st=u.fontSize/u.fontData.size,nt=0,Vt){It.color=0,It.tint.topLeft=L,It.tint.topRight=k,It.tint.bottomLeft=B,It.tint.bottomRight=F,It.index=yt,It.charCode=X,It.x=Lt,It.y=Ft,It.scale=st,It.rotation=nt,It.data=V.data;var Jt=Vt(It);Lt=Jt.x,Ft=Jt.y,st=Jt.scale,nt=Jt.rotation,Jt.color?(L=Jt.color,k=Jt.color,B=Jt.color,F=Jt.color):(L=Jt.tint.topLeft,k=Jt.tint.topRight,B=Jt.tint.bottomLeft,F=Jt.tint.bottomRight),L=c.getTintAppendFloatAlpha(L,v.alpha*u._alphaTL),k=c.getTintAppendFloatAlpha(k,v.alpha*u._alphaTR),B=c.getTintAppendFloatAlpha(B,v.alpha*u._alphaBL),F=c.getTintAppendFloatAlpha(F,v.alpha*u._alphaBR)}Lt*=st,Ft*=st,Lt-=u.displayOriginX,Ft-=u.displayOriginY,Lt+=mt,P.applyITRS(Lt,Ft,nt,st,st),b.multiply(P,T);var jt=V.u0,Zt=V.v0,Yt=V.u1,ke=V.v1,ze=Y,ce=z,Ae=T.e,Re=T.f,Ve=ce*T.c+T.e,Bi=ce*T.d+T.f,Yi=ze*T.a+ce*T.c+T.e,ve=ze*T.b+ce*T.d+T.f,fi=ze*T.a+T.e,us=ze*T.b+T.f;kt&&(Ae=Math.round(Ae),Re=Math.round(Re),Ve=Math.round(Ve),Bi=Math.round(Bi),Yi=Math.round(Yi),ve=Math.round(ve),fi=Math.round(fi),us=Math.round(us)),y.shouldFlush(6)&&(y.flush(),G=y.setGameObject(u)),y.batchQuad(u,Ae,Re,Ve,Bi,Yi,ve,fi,us,jt,Zt,Yt,ke,L,k,B,F,D,R,G)}}}w&&(y.flush(),o.popScissor()),o.pipelines.postBatch(u)}};r.exports=l}),22186:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),c=s(31401),h=s(95643),l=s(53048),o=s(61327),u=s(21859),v=s(87841),f=s(18658),p=new a({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,f],initialize:function(y,S,T,b,P,w,A){P===void 0&&(P=""),A===void 0&&(A=0),h.call(this,y,"BitmapText"),this.font=b;var R=this.scene.sys.cache.bitmapFont.get(b);if(!R)throw new Error("Invalid BitmapText key: "+b);this.fontData=R.data,this._text="",this._fontSize=w||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=A,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(S,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(P)},setLeftAlign:function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(m){return this._fontSize=m,this._dirty=!0,this},setLetterSpacing:function(m){return m===void 0&&(m=0),this._letterSpacing=m,this._dirty=!0,this},setLineSpacing:function(m){return m===void 0&&(m=0),this.lineSpacing=m,this},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this.text&&(this._text=m.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(m,y,S,T){return m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=.5),this.dropShadowX=m,this.dropShadowY=y,this.dropShadowColor=S,this.dropShadowAlpha=T,this},setCharacterTint:function(m,y,S,T,b,P,w){m===void 0&&(m=0),y===void 0&&(y=1),S===void 0&&(S=!1),T===void 0&&(T=-1),b===void 0&&(b=T,P=T,w=T);var A=this.text.length;y===-1&&(y=A),m<0&&(m=A+m),m=g(m,0,A-1);for(var R=g(m+y,m,A),D=this.charColors,L=m;L<R;L++){var k=D[L];if(T===-1)D[L]=null;else{var B=S?1:0;k?(k.tintEffect=B,k.tintTL=T,k.tintTR=b,k.tintBL=P,k.tintBR=w):D[L]={tintEffect:B,tintTL:T,tintTR:b,tintBL:P,tintBR:w}}}return this},setWordTint:function(m,y,S,T,b,P,w){y===void 0&&(y=1);for(var A=this.getTextBounds(),R=A.words,D=typeof m=="number",L=0,k=0;k<R.length;k++){var B=R[k];if((D&&k===m||!D&&B.word===m)&&(this.setCharacterTint(B.i,B.word.length,S,T,b,P,w),L++,L===y))return this}return this},getTextBounds:function(m){var y=this._bounds;return(this._dirty||m||this.scaleX!==y.scaleX||this.scaleY!==y.scaleY)&&(l(this,m,!0,y),this._dirty=!1),y},getCharacterAt:function(m,y,S){for(var T=this.getLocalPoint(m,y,null,S),b=this.getTextBounds(),P=b.characters,w=new v,A=0;A<P.length;A++){var R=P[A];if(w.setTo(R.x,R.t,R.r-R.x,R.b),w.contains(T.x,T.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(m,y,S){y===void 0&&(y=this._fontSize),S===void 0&&(S=this._align);var T=this.scene.sys.cache.bitmapFont.get(m);return T&&(this.font=m,this.fontData=T.data,this._fontSize=y,this._align=S,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(m,y){return this._maxWidth=m,this._dirty=!0,y!==void 0&&(this.wordWrapCharCode=y),this},setDisplaySize:function(m,y){this.setScale(1,1),this.getTextBounds(!1);var S=m/this.width,T=y/this.height;return this.setScale(S,T),this},align:{set:function(m){this._align=m,this._dirty=!0},get:function(){return this._align}},text:{set:function(m){this.setText(m)},get:function(){return this._text}},fontSize:{set:function(m){this._fontSize=m,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(m){this._letterSpacing=m,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(m){this._lineSpacing=m,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(m){this._maxWidth=m,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(m){this.setScaleX(1),this.getTextBounds(!1);var y=m/this.width;this.setScaleX(y)},get:function(){return this.width}},displayHeight:{set:function(m){this.setScaleY(1),this.getTextBounds(!1);var y=m/this.height;this.setScaleY(y)},get:function(){return this.height}},toJSON:function(){var m=c.ToJSON(this),y={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return m.data=y,m},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=o,p.ParseXMLBitmapFont=u,r.exports=p}),37289:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20926),g=function(c,h,l,o){var u=h._text,v=u.length,f=c.currentContext;if(!(v===0||!a(c,f,h,l,o))){l.addToRenderList(h);var p=h.fromAtlas?h.frame:h.texture.frames.__BASE,m=h.fontData.chars,y=h.fontData.lineHeight,S=h._letterSpacing,T=h._lineSpacing,b=0,P=0,w=0,A=null,R=0,D=0,L=0,k=0,B=0,F=0,G=null,N=0,W=p.source.image,X=p.cutX,$=p.cutY,J=h._fontSize/h.fontData.size,V=h._align,Y=0,z=0,K=h.getTextBounds(!1);h.maxWidth>0&&(u=K.wrappedText,v=u.length);var H=h._bounds.lines;V===1?z=(H.longest-H.lengths[0])/2:V===2&&(z=H.longest-H.lengths[0]),f.translate(-h.displayOriginX,-h.displayOriginY);for(var Q=l.roundPixels,j=0;j<v;j++){if(w=u.charCodeAt(j),w===10){Y++,V===1?z=(H.longest-H.lengths[Y])/2:V===2&&(z=H.longest-H.lengths[Y]),b=0,P+=y+T,G=null;continue}if(A=m[w],!!A){if(R=X+A.x,D=$+A.y,L=A.width,k=A.height,B=A.xOffset+b,F=A.yOffset+P,G!==null){var q=A.kerning[N];B+=q!==void 0?q:0}B*=J,F*=J,B+=z,b+=A.xAdvance+S+(q!==void 0?q:0),G=A,N=w,!(L===0||k===0||w===32)&&(Q&&(B=Math.round(B),F=Math.round(F)),f.save(),f.translate(B,F),f.scale(J,J),f.drawImage(W,R,D,L,k,0,0,L,k),f.restore())}}f.restore()}};r.exports=g}),57336:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(25305),c=s(44603),h=s(23568),l=s(35154);c.register("bitmapText",function(o,u){o===void 0&&(o={});var v=l(o,"font",""),f=h(o,"text",""),p=h(o,"size",!1),m=l(o,"align",0),y=new a(this.scene,0,0,v,f,p,m);return u!==void 0&&(o.add=u),g(this.scene,y,o),y})}),34914:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(39429);g.register("bitmapText",function(c,h,l,o,u,v){return this.displayList.add(new a(this.scene,c,h,l,o,u,v))})}),18658:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(33590),c=s(37289),r.exports={renderWebGL:g,renderCanvas:c}}),33590:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3217),g=s(91296),c=s(70554),h=function(l,o,u,v){var f=o._text,p=f.length;if(p!==0){u.addToRenderList(o);var m=l.pipelines.set(o.pipeline,o),y=g(o,u,v).calc;l.pipelines.preBatch(o);var S=u.roundPixels,T=u.alpha,b=o.charColors,P=o.tintFill,w=c.getTintAppendFloatAlpha,A=w(o.tintTopLeft,T*o._alphaTL),R=w(o.tintTopRight,T*o._alphaTR),D=w(o.tintBottomLeft,T*o._alphaBL),L=w(o.tintBottomRight,T*o._alphaBR),k=o.frame.glTexture,B=m.setGameObject(o),F=o.getTextBounds(!1),G,N,W,X=F.characters,$=o.dropShadowX,J=o.dropShadowY,V=$!==0||J!==0;if(V){var Y=o.dropShadowColor,z=o.dropShadowAlpha,K=w(Y,T*z*o._alphaTL),H=w(Y,T*z*o._alphaTR),Q=w(Y,T*z*o._alphaBL),j=w(Y,T*z*o._alphaBR);for(G=0;G<X.length;G++)N=X[G],W=N.glyph,!(N.code===32||W.width===0||W.height===0)&&a(m,o,N,W,$,J,y,S,K,H,Q,j,1,k,B)}for(G=0;G<X.length;G++)if(N=X[G],W=N.glyph,!(N.code===32||W.width===0||W.height===0))if(m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(o)),b[N.i]){var q=b[N.i],tt=q.tintEffect,st=w(q.tintTL,T*o._alphaTL),nt=w(q.tintTR,T*o._alphaTR),at=w(q.tintBL,T*o._alphaBL),ot=w(q.tintBR,T*o._alphaBR);a(m,o,N,W,0,0,y,S,st,nt,at,ot,tt,k,B)}else a(m,o,N,W,0,0,y,S,A,R,D,L,P,k,B);l.pipelines.postBatch(o)}};r.exports=h}),6107:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(48011),g=s(46590),c=s(83419),h=s(31401),l=s(4327),o=s(95643),u=s(73162),v=new c({Extends:o,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,a],initialize:function(p,m,y,S,T){o.call(this,p,"Blitter"),this.setTexture(S,T),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(),this.children=new u,this.renderList=[],this.dirty=!1},create:function(f,p,m,y,S){y===void 0&&(y=!0),S===void 0&&(S=this.children.length),m===void 0?m=this.frame:m instanceof l||(m=this.texture.get(m));var T=new g(this,f,p,m,y);return this.children.addAt(T,S,!1),this.dirty=!0,T},createFromCallback:function(f,p,m,y){for(var S=this.createMultiple(p,m,y),T=0;T<S.length;T++){var b=S[T];f.call(this,b,T)}return S},createMultiple:function(f,p,m){p===void 0&&(p=this.frame.name),m===void 0&&(m=!0),Array.isArray(p)||(p=[p]);var y=[],S=this;return p.forEach(function(T){for(var b=0;b<f;b++)y.push(S.create(0,0,T,m))}),y},childCanRender:function(f){return f.visible&&f.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=v}),72396:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=a.getRenderList();if(h.length!==0){var l=s.currentContext,o=g.alpha*a.alpha;if(o!==0){g.addToRenderList(a),l.globalCompositeOperation=s.blendModes[a.blendMode],l.imageSmoothingEnabled=!a.frame.source.scaleMode;var u=a.x-g.scrollX*a.scrollFactorX,v=a.y-g.scrollY*a.scrollFactorY;l.save(),c&&c.copyToContext(l);for(var f=g.roundPixels,p=0;p<h.length;p++){var m=h[p],y=m.flipX||m.flipY,S=m.frame,T=S.canvasData,b=S.x,P=S.y,w=1,A=1,R=m.alpha*o;R!==0&&(l.globalAlpha=R,y?(m.flipX&&(w=-1,b-=T.width),m.flipY&&(A=-1,P-=T.height),T.width>0&&T.height>0&&(l.save(),l.translate(m.x+u,m.y+v),l.scale(w,A),l.drawImage(S.source.image,T.x,T.y,T.width,T.height,b,P,T.width,T.height),l.restore())):(f&&(b=Math.round(b),P=Math.round(P)),T.width>0&&T.height>0&&l.drawImage(S.source.image,T.x,T.y,T.width,T.height,b+m.x+u,P+m.y+v,T.width,T.height)))}l.restore()}}};r.exports=x}),9403:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6107),g=s(25305),c=s(44603),h=s(23568);c.register("blitter",function(l,o){l===void 0&&(l={});var u=h(l,"key",null),v=h(l,"frame",null),f=new a(this.scene,0,0,u,v);return o!==void 0&&(l.add=o),g(this.scene,f,l),f})}),12709:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6107),g=s(39429);g.register("blitter",function(c,h,l,o){return this.displayList.add(new a(this.scene,c,h,l,o))})}),48011:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(99485),c=s(72396),r.exports={renderWebGL:g,renderCanvas:c}}),99485:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=s(70554),c=new a,h=function(l,o,u,v){var f=o.getRenderList(),p=u.alpha*o.alpha;if(!(f.length===0||p===0)){u.addToRenderList(o);var m=l.pipelines.set(this.pipeline,o),y=u.scrollX*o.scrollFactorX,S=u.scrollY*o.scrollFactorY,T=c.copyFrom(u.matrix);v&&(T.multiplyWithOffset(v,-y,-S),y=0,S=0);var b=o.x-y,P=o.y-S,w=-1,A=!1,R=u.roundPixels;l.pipelines.preBatch(o);for(var D=0;D<f.length;D++){var L=f[D],k=L.frame,B=L.alpha*p;if(B!==0){var F=k.width,G=k.height,N=b+L.x+k.x,W=P+L.y+k.y;L.flipX&&(F*=-1,N+=k.width),L.flipY&&(G*=-1,W+=k.height);var X=T.setQuad(N,W,N+F,W+G,R),$=g.getTintAppendFloatAlpha(L.tint,B);if(k.sourceIndex!==w){var J=m.setGameObject(o,k);w=k.sourceIndex}m.batchQuad(o,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],k.u0,k.v0,k.u1,k.v1,$,$,$,$,A,k.glTexture,J)&&(w=-1)}}l.pipelines.postBatch(o)}};r.exports=h}),46590:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(4327),c=new a({initialize:function(l,o,u,v,f){this.parent=l,this.x=o,this.y=u,this.frame=v,this.data={},this.tint=16777215,this._visible=f,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof g&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,l,o){return this.x=h,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(h,l){return this.x=h,this.y=l,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,l){return this.flipX=h,this.flipY=l,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});r.exports=c}),16005:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,l,o,u){return h===void 0&&(h=1),l===void 0?this.alpha=h:(this._alphaTL=a(h,0,1),this._alphaTR=a(l,0,1),this._alphaBL=a(o,0,1),this._alphaBR=a(u,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var l=a(h,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~g:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var l=a(h,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var l=a(h,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var l=a(h,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var l=a(h,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=g)}}};r.exports=c}),88509:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=2,c={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var l=a(h,0,1);this._alpha=l,l===0?this.renderFlags&=~g:this.renderFlags|=g}}};r.exports=c}),90065:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(c){typeof c=="string"&&(c=a[c]),c|=0,c>=-1&&(this._blendMode=c)}},setBlendMode:function(c){return this.blendMode=c,this}};r.exports=g}),94215:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,a){return this.width=s,this.height=a,this},setDisplaySize:function(s,a){return this.displayWidth=s,this.displayHeight=a,this}};r.exports=x}),61683:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(s,a,g,c){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,a,g,c,this.flipX,this.flipY);else{var h=s;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=x}),89272:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37105),g={_depth:0,depth:{get:function(){return this._depth},set:function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c}},setDepth:function(c){return c===void 0&&(c=0),this.depth=c,this},setToTop:function(){var c=this.getDisplayList();return c&&a.BringToTop(c,this),this},setToBack:function(){var c=this.getDisplayList();return c&&a.SendToBack(c,this),this},setAbove:function(c){var h=this.getDisplayList();return h&&c&&a.MoveAbove(h,this,c),this},setBelow:function(c){var h=this.getDisplayList();return h&&c&&a.MoveBelow(h,this,c),this}};r.exports=g}),47059:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(66064),c=s(19133),h=new a({initialize:function(o,u){this.gameObject=o,this.isPost=u,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,o=0;o<l.length;o++)l[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var o;if(this.isPost){var u=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(u)||(u=[u]),o=0;o<u.length;o++){var v=u[o];if(v.controller===l){this.gameObject.removePostPipeline(v),l.destroy();break}}}else{var f=this.list;for(o=0;o<f.length;o++)f[o]===l&&(c(f,o),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,o){if(this.isPost){var u=String(l.type);this.gameObject.setPostPipeline(u,o);var v=this.gameObject.getPostPipeline(u);if(v)return Array.isArray(v)&&(v=v.pop()),v&&(v.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,o,u,v,f,p){return this.add(new g.Glow(this.gameObject,l,o,u,v),{quality:f,distance:p})},addShadow:function(l,o,u,v,f,p,m){return this.add(new g.Shadow(this.gameObject,l,o,u,v,f,p,m))},addPixelate:function(l){return this.add(new g.Pixelate(this.gameObject,l))},addVignette:function(l,o,u,v){return this.add(new g.Vignette(this.gameObject,l,o,u,v))},addShine:function(l,o,u,v){return this.add(new g.Shine(this.gameObject,l,o,u,v))},addBlur:function(l,o,u,v,f,p){return this.add(new g.Blur(this.gameObject,l,o,u,v,f,p))},addGradient:function(l,o,u,v,f,p,m,y){return this.add(new g.Gradient(this.gameObject,l,o,u,v,f,p,m,y))},addBloom:function(l,o,u,v,f,p){return this.add(new g.Bloom(this.gameObject,l,o,u,v,f,p))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(l,o,u,v,f){return this.add(new g.Circle(this.gameObject,l,o,u,v,f))},addBarrel:function(l){return this.add(new g.Barrel(this.gameObject,l))},addDisplacement:function(l,o,u){return this.add(new g.Displacement(this.gameObject,l,o,u))},addWipe:function(l,o,u){return this.add(new g.Wipe(this.gameObject,l,o,u))},addReveal:function(l,o,u){return this.add(new g.Wipe(this.gameObject,l,o,u,!0))},addBokeh:function(l,o,u){return this.add(new g.Bokeh(this.gameObject,l,o,u))},addTiltShift:function(l,o,u,v,f,p){return this.add(new g.Bokeh(this.gameObject,l,o,u,!0,v,f,p))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=h}),54434:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,a){return this.flipX=s,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=x}),8004:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(11520),c=s(26099),h={prepareBoundsOutput:function(l,o){if(o===void 0&&(o=!1),this.rotation!==0&&g(l,this.x,this.y,this.rotation),o&&this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();u.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,o){return l===void 0&&(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getTopLeft:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopCenter:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopRight:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getLeftCenter:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getRightCenter:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getBottomLeft:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomCenter:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomRight:function(l,o){return l||(l=new c),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBounds:function(l){l===void 0&&(l=new a);var o,u,v,f,p,m,y,S;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),T.transformPoint(l.x,l.y,l),o=l.x,u=l.y,this.getTopRight(l),T.transformPoint(l.x,l.y,l),v=l.x,f=l.y,this.getBottomLeft(l),T.transformPoint(l.x,l.y,l),p=l.x,m=l.y,this.getBottomRight(l),T.transformPoint(l.x,l.y,l),y=l.x,S=l.y}else this.getTopLeft(l),o=l.x,u=l.y,this.getTopRight(l),v=l.x,f=l.y,this.getBottomLeft(l),p=l.x,m=l.y,this.getBottomRight(l),y=l.x,S=l.y;return l.x=Math.min(o,v,p,y),l.y=Math.min(u,f,m,S),l.width=Math.max(o,v,p,y)-l.x,l.height=Math.max(u,f,m,S)-l.y,l}};r.exports=h}),8573:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6858),g=s(80661),c={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,l,o,u,v){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new a(this.scene,h,l,o,u,v)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new g(this.scene,h)}};r.exports=c}),27387:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,a){return s===void 0&&(s=.5),a===void 0&&(a=s),this.originX=s,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,a){return s===void 0&&(s=0),a===void 0&&(a=s),this.displayOriginX=s,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=x}),37640:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39506),g=s(57355),c=s(35154),h=s(86353),l=s(26099),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(u,v){v===void 0&&(v=this.pathConfig);var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this.path=u,v&&this.startFollow(v),this},setRotateToPath:function(u,v){return v===void 0&&(v=0),this.rotateToPath=u,this.pathRotationOffset=v,this},isFollowing:function(){var u=this.pathTween;return u&&u.isPlaying()},startFollow:function(u,v){u===void 0&&(u={}),v===void 0&&(v=0);var f=this.pathTween;f&&f.isPlaying()&&f.stop(),typeof u=="number"&&(u={duration:u}),u.from=c(u,"from",0),u.to=c(u,"to",1);var p=g(u,"positionOnPath",!1);this.rotateToPath=g(u,"rotateToPath",!1),this.pathRotationOffset=c(u,"rotationOffset",0);var m=c(u,"startAt",v);if(m&&(u.onStart=function(S){var T=S.data[0];T.progress=m,T.elapsed=T.duration*m;var b=T.ease(T.progress);T.current=T.start+(T.end-T.start)*b,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),u.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(u),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var y=this.path.getPoint(.1);this.rotation=Math.atan2(y.y-this.y,y.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=u,this},pauseFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.pause(),this},resumeFollow:function(){var u=this.pathTween;return u&&u.isPaused()&&u.resume(),this},stopFollow:function(){var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this},pathUpdate:function(){var u=this.pathTween;if(u&&u.data){var v=u.data[0],f=this.pathDelta,p=this.pathVector;if(f.copy(p).negate(),v.state===h.COMPLETE){this.path.getPoint(v.end,p),f.add(p),p.add(this.pathOffset),this.setPosition(p.x,p.y);return}else if(v.state!==h.PLAYING_FORWARD&&v.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(u.getValue(),p),f.add(p),p.add(this.pathOffset);var m=this.x,y=this.y;this.setPosition(p.x,p.y);var S=this.x-m,T=this.y-y;if(S===0&&T===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,S)+a(this.pathRotationOffset))}}};r.exports=o}),72699:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(c){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var l=h.pipelines;if(l){c===void 0&&(c=l.default);var o=l.get(c);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(c,h,l){var o=this.scene.sys.renderer;if(!o)return this;var u=o.pipelines;if(u){var v=u.get(c);v&&(this.pipeline=v),h&&(this.pipelineData=l?a(h):h)}return this},setPipelineData:function(c,h){var l=this.pipelineData;return h===void 0?delete l[c]:l[c]=h,this},resetPipeline:function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};r.exports=g}),17581:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g=s(47059),c=s(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),l&&(this.preFX=new g(this,!1))},setPostPipeline:function(l,o,u){var v=this.scene.sys.renderer;if(!v)return this;var f=v.pipelines;if(f){Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++){var m=f.getPostPipeline(l[p],this,o);m&&this.postPipelines.push(m)}o&&(this.postPipelineData=u?a(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,o){var u=this.postPipelineData;return o===void 0?delete u[l]:u[l]=o,this},getPostPipeline:function(l){for(var o=typeof l=="string",u=this.postPipelines,v=[],f=0;f<u.length;f++){var p=u[f];(o&&p.name===l||!o&&p instanceof l)&&v.push(p)}return v.length===1?v[0]:v},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var o=this.postPipelines,u=0;u<o.length;u++)o[u].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var o=typeof l=="string",u=this.postPipelines,v=u.length-1;v>=0;v--){var f=u[v];(o&&f.name===l||!o&&f===l)&&(f.destroy(),c(u,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=h}),80227:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,a){return a===void 0&&(a=s),this.scrollFactorX=s,this.scrollFactorY=a,this}};r.exports=x}),16736:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(s,a){return this.width=s,this.height=a,this},setDisplaySize:function(s,a){return this.displayWidth=s,this.displayHeight=a,this}};r.exports=x}),37726:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4327),g=8,c={texture:null,frame:null,isCropped:!1,setTexture:function(h,l,o,u){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l,o,u)},setFrame:function(h,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=c}),79812:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4327),g=8,c={texture:null,frame:null,isCropped:!1,setCrop:function(h,l,o,u){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,l,o,u,this.flipX,this.flipY);else{var v=h;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,l){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=c}),27472:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,a,g,c){return s===void 0&&(s=16777215),a===void 0&&(a=s,g=s,c=s),this.tintTopLeft=s,this.tintTopRight=a,this.tintBottomLeft=g,this.tintBottomRight=c,this.tintFill=!1,this},setTintFill:function(s,a,g,c){return this.setTint(s,a,g,c),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};r.exports=x}),53774:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(a.textureKey=s.texture.key,a.frameKey=s.frame.name),a};r.exports=x}),16901:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(61340),c=s(85955),h=s(86554),l=s(30954),o=s(26099),u=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this._scaleX=f,this._scaleY=f,f===0?this.renderFlags&=~u:this.renderFlags|=u}},scaleX:{get:function(){return this._scaleX},set:function(f){this._scaleX=f,f===0?this.renderFlags&=~u:this._scaleY!==0&&(this.renderFlags|=u)}},scaleY:{get:function(){return this._scaleY},set:function(f){this._scaleY=f,f===0?this.renderFlags&=~u:this._scaleX!==0&&(this.renderFlags|=u)}},angle:{get:function(){return l(this._rotation*a.RAD_TO_DEG)},set:function(f){this.rotation=l(f)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=h(f)}},setPosition:function(f,p,m,y){return f===void 0&&(f=0),p===void 0&&(p=f),m===void 0&&(m=0),y===void 0&&(y=0),this.x=f,this.y=p,this.z=m,this.w=y,this},copyPosition:function(f){return f.x!==void 0&&(this.x=f.x),f.y!==void 0&&(this.y=f.y),f.z!==void 0&&(this.z=f.z),f.w!==void 0&&(this.w=f.w),this},setRandomPosition:function(f,p,m,y){return f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=this.scene.sys.scale.width),y===void 0&&(y=this.scene.sys.scale.height),this.x=f+Math.random()*m,this.y=p+Math.random()*y,this},setRotation:function(f){return f===void 0&&(f=0),this.rotation=f,this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,this},setScale:function(f,p){return f===void 0&&(f=1),p===void 0&&(p=f),this.scaleX=f,this.scaleY=p,this},setX:function(f){return f===void 0&&(f=0),this.x=f,this},setY:function(f){return f===void 0&&(f=0),this.y=f,this},setZ:function(f){return f===void 0&&(f=0),this.z=f,this},setW:function(f){return f===void 0&&(f=0),this.w=f,this},getLocalTransformMatrix:function(f){return f===void 0&&(f=new g),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(f,p){f===void 0&&(f=new g);var m=this.parentContainer;if(!m)return this.getLocalTransformMatrix(f);var y=!1;for(p||(p=new g,y=!0),f.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);m;)p.applyITRS(m.x,m.y,m._rotation,m._scaleX,m._scaleY),p.multiply(f,f),m=m.parentContainer;return y&&p.destroy(),f},getLocalPoint:function(f,p,m,y){m||(m=new o),y||(y=this.scene.sys.cameras.main);var S=y.scrollX,T=y.scrollY,b=f+S*this.scrollFactorX-S,P=p+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(b,P,m):c(b,P,this.x,this.y,this.rotation,this.scaleX,this.scaleY,m),this._originComponent&&(m.x+=this._displayOriginX,m.y+=this._displayOriginY),m},getWorldPoint:function(f,p,m){f===void 0&&(f=new o);var y=this.parentContainer;if(!y)return f.x=this.x,f.y=this.y,f;var S=this.getWorldTransformMatrix(p,m);return f.x=S.tx,f.y=S.ty,f},getParentRotation:function(){for(var f=0,p=this.parentContainer;p;)f+=p.rotation,p=p.parentContainer;return f}};r.exports=v}),61340:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36383),c=s(26099),h=new a({initialize:function(o,u,v,f,p,m){o===void 0&&(o=1),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=1),p===void 0&&(p=0),m===void 0&&(m=0),this.matrix=new Float32Array([o,u,v,f,p,m,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,o=l[0],u=l[1],v=l[2],f=l[3];return o||u?u>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):v||f?g.TAU-(f>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,o){var u=this.matrix;return u[4]=u[0]*l+u[2]*o+u[4],u[5]=u[1]*l+u[3]*o+u[5],this},scale:function(l,o){var u=this.matrix;return u[0]*=l,u[1]*=l,u[2]*=o,u[3]*=o,this},rotate:function(l){var o=Math.sin(l),u=Math.cos(l),v=this.matrix,f=v[0],p=v[1],m=v[2],y=v[3];return v[0]=f*u+m*o,v[1]=p*u+y*o,v[2]=f*-o+m*u,v[3]=p*-o+y*u,this},multiply:function(l,o){var u=this.matrix,v=l.matrix,f=u[0],p=u[1],m=u[2],y=u[3],S=u[4],T=u[5],b=v[0],P=v[1],w=v[2],A=v[3],R=v[4],D=v[5],L=o===void 0?u:o.matrix;return L[0]=b*f+P*m,L[1]=b*p+P*y,L[2]=w*f+A*m,L[3]=w*p+A*y,L[4]=R*f+D*m+S,L[5]=R*p+D*y+T,L},multiplyWithOffset:function(l,o,u){var v=this.matrix,f=l.matrix,p=v[0],m=v[1],y=v[2],S=v[3],T=v[4],b=v[5],P=o*p+u*y+T,w=o*m+u*S+b,A=f[0],R=f[1],D=f[2],L=f[3],k=f[4],B=f[5];return v[0]=A*p+R*y,v[1]=A*m+R*S,v[2]=D*p+L*y,v[3]=D*m+L*S,v[4]=k*p+B*y+P,v[5]=k*m+B*S+w,this},transform:function(l,o,u,v,f,p){var m=this.matrix,y=m[0],S=m[1],T=m[2],b=m[3],P=m[4],w=m[5];return m[0]=l*y+o*T,m[1]=l*S+o*b,m[2]=u*y+v*T,m[3]=u*S+v*b,m[4]=f*y+p*T+P,m[5]=f*S+p*b+w,this},transformPoint:function(l,o,u){u===void 0&&(u={x:0,y:0});var v=this.matrix,f=v[0],p=v[1],m=v[2],y=v[3],S=v[4],T=v[5];return u.x=l*f+o*m+S,u.y=l*p+o*y+T,u},invert:function(){var l=this.matrix,o=l[0],u=l[1],v=l[2],f=l[3],p=l[4],m=l[5],y=o*f-u*v;return l[0]=f/y,l[1]=-u/y,l[2]=-v/y,l[3]=o/y,l[4]=(v*m-f*p)/y,l[5]=-(o*m-u*p)/y,this},copyFrom:function(l){var o=this.matrix;return o[0]=l.a,o[1]=l.b,o[2]=l.c,o[3]=l.d,o[4]=l.e,o[5]=l.f,this},copyFromArray:function(l){var o=this.matrix;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],this},copyToContext:function(l){var o=this.matrix;return l.transform(o[0],o[1],o[2],o[3],o[4],o[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var o=this.matrix;return l===void 0?l=[o[0],o[1],o[2],o[3],o[4],o[5]]:(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5]),l},setTransform:function(l,o,u,v,f,p){var m=this.matrix;return m[0]=l,m[1]=o,m[2]=u,m[3]=v,m[4]=f,m[5]=p,this},decomposeMatrix:function(){var l=this.decomposedMatrix,o=this.matrix,u=o[0],v=o[1],f=o[2],p=o[3],m=u*p-v*f;if(l.translateX=o[4],l.translateY=o[5],u||v){var y=Math.sqrt(u*u+v*v);l.rotation=v>0?Math.acos(u/y):-Math.acos(u/y),l.scaleX=y,l.scaleY=m/y}else if(f||p){var S=Math.sqrt(f*f+p*p);l.rotation=Math.PI*.5-(p>0?Math.acos(-f/S):-Math.acos(f/S)),l.scaleX=m/S,l.scaleY=S}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,o,u,v,f){var p=this.matrix,m=Math.sin(u),y=Math.cos(u);return p[4]=l,p[5]=o,p[0]=y*v,p[1]=m*v,p[2]=-m*f,p[3]=y*f,this},applyInverse:function(l,o,u){u===void 0&&(u=new c);var v=this.matrix,f=v[0],p=v[1],m=v[2],y=v[3],S=v[4],T=v[5],b=1/(f*y+m*-p);return u.x=y*b*l+-m*b*o+(T*m-S*y)*b,u.y=f*b*o+-p*b*l+(-T*f+S*p)*b,u},setQuad:function(l,o,u,v,f,p){f===void 0&&(f=!1),p===void 0&&(p=this.quad);var m=this.matrix,y=m[0],S=m[1],T=m[2],b=m[3],P=m[4],w=m[5],A=l*y+o*T+P,R=l*S+o*b+w,D=l*y+v*T+P,L=l*S+v*b+w,k=u*y+v*T+P,B=u*S+v*b+w,F=u*y+o*T+P,G=u*S+o*b+w;if(f){var N=Math.floor(A+.5),W=Math.floor(R+.5),X=N-A,$=W-R;p[0]=N,p[1]=W,p[2]=D+X,p[3]=L+$,p[4]=k+X,p[5]=B+$,p[6]=F+X,p[7]=G+$}else p[0]=A,p[1]=R,p[2]=D,p[3]=L,p[4]=k,p[5]=B,p[6]=F,p[7]=G;return p},getX:function(l,o){return l*this.a+o*this.c+this.e},getY:function(l,o){return l*this.b+o*this.d+this.f},getXRound:function(l,o,u){var v=this.getX(l,o);return u&&(v=Math.floor(v+.5)),v},getYRound:function(l,o,u){var v=this.getY(l,o);return u&&(v=Math.floor(v+.5)),v},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=h}),59715:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};r.exports=s}),31401:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}}),31559:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37105),g=s(10312),c=s(83419),h=s(31401),l=s(51708),o=s(95643),u=s(87841),v=s(29959),f=s(36899),p=s(26099),m=new h.TransformMatrix,y=new c({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,v],initialize:function(T,b,P,w){o.call(this,T,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this._sortKey="",this._sysEvents=T.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(b,P),this.setBlendMode(g.SKIP_CHECK),w&&this.add(w)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(S){return S===void 0&&(S=!0),this.exclusive=S,this},getBounds:function(S){if(S===void 0&&(S=new u),S.setTo(this.x,this.y,0,0),this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix(),b=T.transformPoint(this.x,this.y);S.setTo(b.x,b.y,0,0)}if(this.list.length>0){var P=this.list,w=new u,A=!1;S.setEmpty();for(var R=0;R<P.length;R++){var D=P[R];D.getBounds&&(D.getBounds(w),A?f(w,S,S):(S.setTo(w.x,w.y,w.width,w.height),A=!0))}}return S},addHandler:function(S){S.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(S.parentContainer&&S.parentContainer.remove(S),S.parentContainer=this,S.removeFromDisplayList(),S.addedToScene())},removeHandler:function(S){S.off(l.DESTROY,this.remove,this),this.exclusive&&(S.parentContainer=null,S.removedFromScene(),S.addToDisplayList())},pointToContainer:function(S,T){T===void 0&&(T=new p),this.parentContainer?this.parentContainer.pointToContainer(S,T):(T.x=S.x,T.y=S.y);var b=m;return b.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),b.invert(),b.transformPoint(S.x,S.y,T),T},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(m,this.localTransform)},add:function(S){return a.Add(this.list,S,this.maxSize,this.addHandler,this),this},addAt:function(S,T){return a.AddAt(this.list,S,T,this.maxSize,this.addHandler,this),this},getAt:function(S){return this.list[S]},getIndex:function(S){return this.list.indexOf(S)},sort:function(S,T){return S?(T===void 0&&(T=function(b,P){return b[S]-P[S]}),a.StableSort(this.list,T),this):this},getByName:function(S){return a.GetFirst(this.list,"name",S)},getRandom:function(S,T){return a.GetRandom(this.list,S,T)},getFirst:function(S,T,b,P){return a.GetFirst(this.list,S,T,b,P)},getAll:function(S,T,b,P){return a.GetAll(this.list,S,T,b,P)},count:function(S,T,b,P){return a.CountAllMatching(this.list,S,T,b,P)},swap:function(S,T){return a.Swap(this.list,S,T),this},moveTo:function(S,T){return a.MoveTo(this.list,S,T),this},moveAbove:function(S,T){return a.MoveAbove(this.list,S,T),this},moveBelow:function(S,T){return a.MoveBelow(this.list,S,T),this},remove:function(S,T){var b=a.Remove(this.list,S,this.removeHandler,this);if(T&&b){Array.isArray(b)||(b=[b]);for(var P=0;P<b.length;P++)b[P].destroy()}return this},removeAt:function(S,T){var b=a.RemoveAt(this.list,S,this.removeHandler,this);return T&&b&&b.destroy(),this},removeBetween:function(S,T,b){var P=a.RemoveBetween(this.list,S,T,this.removeHandler,this);if(b)for(var w=0;w<P.length;w++)P[w].destroy();return this},removeAll:function(S){var T=this.list;if(S){for(var b=0;b<T.length;b++)T[b]&&T[b].scene&&(T[b].off(l.DESTROY,this.onChildDestroyed,this),T[b].destroy());this.list=[]}else a.RemoveBetween(T,0,T.length,this.removeHandler,this);return this},bringToTop:function(S){return a.BringToTop(this.list,S),this},sendToBack:function(S){return a.SendToBack(this.list,S),this},moveUp:function(S){return a.MoveUp(this.list,S),this},moveDown:function(S){return a.MoveDown(this.list,S),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(S,T,b){var P=a.Replace(this.list,S,T);return P&&(this.addHandler(T),this.removeHandler(S),b&&S.destroy()),this},exists:function(S){return this.list.indexOf(S)>-1},setAll:function(S,T,b,P){return a.SetAll(this.list,S,T,b,P),this},each:function(S,T){var b=[null],P,w=this.list.slice(),A=w.length;for(P=2;P<arguments.length;P++)b.push(arguments[P]);for(P=0;P<A;P++)b[0]=w[P],S.apply(T,b);return this},iterate:function(S,T){var b=[null],P;for(P=2;P<arguments.length;P++)b.push(arguments[P]);for(P=0;P<this.list.length;P++)b[0]=this.list[P],S.apply(T,b);return this},setScrollFactor:function(S,T,b){return T===void 0&&(T=S),b===void 0&&(b=!1),this.scrollFactorX=S,this.scrollFactorY=T,b&&(a.SetAll(this.list,"scrollFactorX",S),a.SetAll(this.list,"scrollFactorY",T)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(S){a.Remove(this.list,S),this.exclusive&&(S.parentContainer=null,S.removedFromScene())}});r.exports=y}),53584:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a);var h=a.list;if(h.length!==0){var l=a.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(a.x,a.y),l.rotate(a.rotation),l.scale(a.scaleX,a.scaleY)):l.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var o=a.blendMode!==-1;o||s.setBlendMode(0);var u=a._alpha,v=a.scrollFactorX,f=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(s,null,g);for(var p=0;p<h.length;p++){var m=h[p];if(m.willRender(g)){var y=m.alpha,S=m.scrollFactorX,T=m.scrollFactorY;!o&&m.blendMode!==s.currentBlendMode&&s.setBlendMode(m.blendMode),m.setScrollFactor(S*v,T*f),m.setAlpha(y*u),m.renderCanvas(s,m,g,l),m.setAlpha(y),m.setScrollFactor(S,T)}}a.mask&&a.mask.postRenderCanvas(s)}};r.exports=x}),77143:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(31559),c=s(44603),h=s(23568),l=s(95540);c.register("container",function(o,u){o===void 0&&(o={});var v=h(o,"x",0),f=h(o,"y",0),p=l(o,"children",null),m=new g(this.scene,v,f,p);return u!==void 0&&(o.add=u),a(this.scene,m,o),m})}),24961:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31559),g=s(39429);g.register("container",function(c,h,l){return this.displayList.add(new a(this.scene,c,h,l))})}),29959:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(72249),c=s(53584),r.exports={renderWebGL:g,renderCanvas:c}}),72249:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a);var h=a.list,l=h.length;if(l!==0){var o=a.localTransform;c?(o.loadIdentity(),o.multiply(c),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),s.pipelines.preBatch(a);var u=a.blendMode!==-1;u||s.setBlendMode(0);for(var v=a.alpha,f=a.scrollFactorX,p=a.scrollFactorY,m=0;m<l;m++){var y=h[m];if(y.willRender(g)){var S,T,b,P;if(y.alphaTopLeft!==void 0)S=y.alphaTopLeft,T=y.alphaTopRight,b=y.alphaBottomLeft,P=y.alphaBottomRight;else{var w=y.alpha;S=w,T=w,b=w,P=w}var A=y.scrollFactorX,R=y.scrollFactorY;!u&&y.blendMode!==s.currentBlendMode&&s.setBlendMode(y.blendMode);var D=y.mask;D&&D.preRenderWebGL(s,y,g);var L=y.type;L!==s.currentType&&(s.newType=!0,s.currentType=L),s.nextTypeMatch=m<l-1?h[m+1].type===s.currentType:!1,y.setScrollFactor(A*f,R*p),y.setAlpha(S*v,T*v,b*v,P*v),y.renderWebGL(s,y,g,o,a),y.setAlpha(S,T,b,P),y.setScrollFactor(A,R),D&&D.postRenderWebGL(s,g),s.newType=!1}}s.pipelines.postBatch(a)}};r.exports=x}),47407:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}),3069:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(441),h=s(95643),l=s(41212),o=s(35846),u=s(44594),v=s(61369),f=new a({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,c],initialize:function(m,y,S,T,b,P){if(h.call(this,m,"DOMElement"),this.parent=m.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=m.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(y,S),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),b,P):this.createElement(T,b,P):T&&this.setElement(T,b,P),m.sys.events.on(u.SLEEP,this.handleSceneEvent,this),m.sys.events.on(u.WAKE,this.handleSceneEvent,this),m.sys.events.on(u.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(p){var m=this.node,y=m.style;m&&(y.display=p.settings.visible?"block":"none")},setSkew:function(p,m){return p===void 0&&(p=0),m===void 0&&(m=p),this.skewX=p,this.skewY=m,this},setPerspective:function(p){return this.parent.style.perspective=p+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(p){this.parent.style.perspective=p+"px"}},addListener:function(p){if(this.node){p=p.split(" ");for(var m=0;m<p.length;m++)this.node.addEventListener(p[m],this.handler,!1)}return this},removeListener:function(p){if(this.node){p=p.split(" ");for(var m=0;m<p.length;m++)this.node.removeEventListener(p[m],this.handler)}return this},dispatchNativeEvent:function(p){this.emit(p.type,p)},createElement:function(p,m,y){return this.setElement(document.createElement(p),m,y)},setElement:function(p,m,y){this.removeElement();var S;if(typeof p=="string"?(p[0]==="#"&&(p=p.substr(1)),S=document.getElementById(p)):typeof p=="object"&&p.nodeType===1&&(S=p),!S)return this;if(this.node=S,m&&l(m))for(var T in m)S.style[T]=m[T];else typeof m=="string"&&(S.style=m);return S.style.zIndex="0",S.style.display="inline",S.style.position="absolute",S.phaser=this,this.parent.appendChild(S),y&&(S.innerText=y),this.updateSize()},createFromCache:function(p,m){var y=this.cache.get(p);return y&&this.createFromHTML(y,m),this},createFromHTML:function(p,m){m===void 0&&(m="div"),this.removeElement();var y=document.createElement(m);return this.node=y,y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent.appendChild(y),y.innerHTML=p,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var p=this.node;return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(p,m){if(this.node){for(var y=this.node.querySelectorAll("*"),S=0;S<y.length;S++)if(y[S][p]===m)return y[S]}return null},getChildByID:function(p){return this.getChildByProperty("id",p)},getChildByName:function(p){return this.getChildByProperty("name",p)},setClassName:function(p){return this.node&&(this.node.className=p,this.updateSize()),this},setText:function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},setHTML:function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},preRender:function(){var p=this.parentContainer,m=this.node;m&&p&&!p.willRender()&&(m.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(u.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(u.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(u.PRE_RENDER,this.preRender,this)}});r.exports=f}),49381:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(47407),g=s(95643),c=s(61340),h=new c,l=new c,o=new c,u=function(v,f,p,m){if(f.node){var y=f.node.style,S=f.scene.sys.settings;if(!y||!S.visible||g.RENDER_MASK!==f.renderFlags||f.cameraFilter!==0&&f.cameraFilter&p.id||f.parentContainer&&!f.parentContainer.willRender()){y.display="none";return}var T=f.parentContainer,b=p.alpha*f.alpha;T&&(b*=T.alpha);var P=h,w=l,A=o,R=0,D=0,L="0%",k="0%";m?(R=f.width*f.scaleX*f.originX,D=f.height*f.scaleY*f.originY,w.applyITRS(f.x-R,f.y-D,f.rotation,f.scaleX,f.scaleY),P.copyFrom(p.matrix),P.multiplyWithOffset(m,-p.scrollX*f.scrollFactorX,-p.scrollY*f.scrollFactorY),w.e=f.x-R,w.f=f.y-D,P.multiply(w,A)):(R=f.width*f.originX,D=f.height*f.originY,w.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),P.copyFrom(p.matrix),L=100*f.originX+"%",k=100*f.originY+"%",w.e-=p.scrollX*f.scrollFactorX,w.f-=p.scrollY*f.scrollFactorY,P.multiply(w,A),A.e-=R,A.f-=D),f.transformOnly||(y.display="block",y.opacity=b,y.zIndex=f._depth,y.pointerEvents=f.pointerEvents,y.mixBlendMode=a[f._blendMode]),y.transform=A.getCSSMatrix()+" skew("+f.skewX+"rad, "+f.skewY+"rad) rotate3d("+f.rotate3d.x+","+f.rotate3d.y+","+f.rotate3d.z+","+f.rotate3d.w+f.rotate3dAngle+")",y.transformOrigin=L+" "+k}};r.exports=u}),2611:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3069),g=s(39429);g.register("dom",function(c,h,l,o,u){var v=new a(this.scene,c,h,l,o,u);return this.displayList.add(v),v})}),441:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(49381),c=s(49381),r.exports={renderWebGL:g,renderCanvas:c}}),62980:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"}),41337:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),44947:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"}),49358:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),35163:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"}),97249:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"}),19483:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"}),56059:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"}),26772:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="metadata"}),64437:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"}),83411:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"}),75780:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"}),67799:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"}),63500:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"}),55541:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"}),53208:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"}),4992:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"}),12:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"}),51708:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}}),42421:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(64993),l=new a({Extends:c,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,h],initialize:function(u){c.call(this,u,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=l}),70217:(()=>{}),56315:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42421),g=s(39429);g.register("extern",function(){var c=new a(this.scene);return this.displayList.add(c),c})}),64993:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(80287),c=s(70217),r.exports={renderWebGL:g,renderCanvas:c}}),80287:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(c,h,l,o){c.pipelines.clear();var u=a(h,l,o).calc;h.render.call(h,c,l,u),c.pipelines.rebind()};r.exports=g}),85592:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}}),43831:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71911),g=s(83419),c=s(85592),h=s(31401),l=s(8497),o=s(95643),u=s(95540),v=s(35154),f=s(36383),p=s(84503),m=new g({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,p],initialize:function(S,T){var b=v(T,"x",0),P=v(T,"y",0);o.call(this,S,"Graphics"),this.setPosition(b,P),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(y){return v(y,"lineStyle",null)&&(this.defaultStrokeWidth=v(y,"lineStyle.width",1),this.defaultStrokeColor=v(y,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(y,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(y,"fillStyle",null)&&(this.defaultFillColor=v(y,"fillStyle.color",16777215),this.defaultFillAlpha=v(y,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(y,S,T){return T===void 0&&(T=1),this.commandBuffer.push(c.LINE_STYLE,y,S,T),this._lineWidth=y,this},fillStyle:function(y,S){return S===void 0&&(S=1),this.commandBuffer.push(c.FILL_STYLE,y,S),this},fillGradientStyle:function(y,S,T,b,P,w,A,R){return P===void 0&&(P=1),w===void 0&&(w=P),A===void 0&&(A=P),R===void 0&&(R=P),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,P,w,A,R,y,S,T,b),this},lineGradientStyle:function(y,S,T,b,P,w){return w===void 0&&(w=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,y,w,S,T,b,P),this},beginPath:function(){return this.commandBuffer.push(c.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(c.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(c.FILL_PATH),this},fill:function(){return this.commandBuffer.push(c.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(c.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(c.STROKE_PATH),this},fillCircleShape:function(y){return this.fillCircle(y.x,y.y,y.radius)},strokeCircleShape:function(y){return this.strokeCircle(y.x,y.y,y.radius)},fillCircle:function(y,S,T){return this.beginPath(),this.arc(y,S,T,0,f.PI2),this.fillPath(),this},strokeCircle:function(y,S,T){return this.beginPath(),this.arc(y,S,T,0,f.PI2),this.strokePath(),this},fillRectShape:function(y){return this.fillRect(y.x,y.y,y.width,y.height)},strokeRectShape:function(y){return this.strokeRect(y.x,y.y,y.width,y.height)},fillRect:function(y,S,T,b){return this.commandBuffer.push(c.FILL_RECT,y,S,T,b),this},strokeRect:function(y,S,T,b){var P=this._lineWidth/2,w=y-P,A=y+P;return this.beginPath(),this.moveTo(y,S),this.lineTo(y,S+b),this.strokePath(),this.beginPath(),this.moveTo(y+T,S),this.lineTo(y+T,S+b),this.strokePath(),this.beginPath(),this.moveTo(w,S),this.lineTo(A+T,S),this.strokePath(),this.beginPath(),this.moveTo(w,S+b),this.lineTo(A+T,S+b),this.strokePath(),this},fillRoundedRect:function(y,S,T,b,P){P===void 0&&(P=20);var w=P,A=P,R=P,D=P;typeof P!="number"&&(w=u(P,"tl",20),A=u(P,"tr",20),R=u(P,"bl",20),D=u(P,"br",20));var L=w>=0,k=A>=0,B=R>=0,F=D>=0;return w=Math.abs(w),A=Math.abs(A),R=Math.abs(R),D=Math.abs(D),this.beginPath(),this.moveTo(y+w,S),this.lineTo(y+T-A,S),k?this.arc(y+T-A,S+A,A,-f.TAU,0):this.arc(y+T,S,A,Math.PI,f.TAU,!0),this.lineTo(y+T,S+b-D),F?this.arc(y+T-D,S+b-D,D,0,f.TAU):this.arc(y+T,S+b,D,-f.TAU,Math.PI,!0),this.lineTo(y+R,S+b),B?this.arc(y+R,S+b-R,R,f.TAU,Math.PI):this.arc(y,S+b,R,0,-f.TAU,!0),this.lineTo(y,S+w),L?this.arc(y+w,S+w,w,-Math.PI,-f.TAU):this.arc(y,S,w,f.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(y,S,T,b,P){P===void 0&&(P=20);var w=P,A=P,R=P,D=P,L=Math.min(T,b)/2;typeof P!="number"&&(w=u(P,"tl",20),A=u(P,"tr",20),R=u(P,"bl",20),D=u(P,"br",20));var k=w>=0,B=A>=0,F=R>=0,G=D>=0;return w=Math.min(Math.abs(w),L),A=Math.min(Math.abs(A),L),R=Math.min(Math.abs(R),L),D=Math.min(Math.abs(D),L),this.beginPath(),this.moveTo(y+w,S),this.lineTo(y+T-A,S),this.moveTo(y+T-A,S),B?this.arc(y+T-A,S+A,A,-f.TAU,0):this.arc(y+T,S,A,Math.PI,f.TAU,!0),this.lineTo(y+T,S+b-D),this.moveTo(y+T,S+b-D),G?this.arc(y+T-D,S+b-D,D,0,f.TAU):this.arc(y+T,S+b,D,-f.TAU,Math.PI,!0),this.lineTo(y+R,S+b),this.moveTo(y+R,S+b),F?this.arc(y+R,S+b-R,R,f.TAU,Math.PI):this.arc(y,S+b,R,0,-f.TAU,!0),this.lineTo(y,S+w),this.moveTo(y,S+w),k?this.arc(y+w,S+w,w,-Math.PI,-f.TAU):this.arc(y,S,w,f.TAU,0,!0),this.strokePath(),this},fillPointShape:function(y,S){return this.fillPoint(y.x,y.y,S)},fillPoint:function(y,S,T){return!T||T<1?T=1:(y-=T/2,S-=T/2),this.commandBuffer.push(c.FILL_RECT,y,S,T,T),this},fillTriangleShape:function(y){return this.fillTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},strokeTriangleShape:function(y){return this.strokeTriangle(y.x1,y.y1,y.x2,y.y2,y.x3,y.y3)},fillTriangle:function(y,S,T,b,P,w){return this.commandBuffer.push(c.FILL_TRIANGLE,y,S,T,b,P,w),this},strokeTriangle:function(y,S,T,b,P,w){return this.commandBuffer.push(c.STROKE_TRIANGLE,y,S,T,b,P,w),this},strokeLineShape:function(y){return this.lineBetween(y.x1,y.y1,y.x2,y.y2)},lineBetween:function(y,S,T,b){return this.beginPath(),this.moveTo(y,S),this.lineTo(T,b),this.strokePath(),this},lineTo:function(y,S){return this.commandBuffer.push(c.LINE_TO,y,S),this},moveTo:function(y,S){return this.commandBuffer.push(c.MOVE_TO,y,S),this},strokePoints:function(y,S,T,b){S===void 0&&(S=!1),T===void 0&&(T=!1),b===void 0&&(b=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var P=1;P<b;P++)this.lineTo(y[P].x,y[P].y);return S&&this.lineTo(y[0].x,y[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(y,S,T,b){S===void 0&&(S=!1),T===void 0&&(T=!1),b===void 0&&(b=y.length),this.beginPath(),this.moveTo(y[0].x,y[0].y);for(var P=1;P<b;P++)this.lineTo(y[P].x,y[P].y);return S&&this.lineTo(y[0].x,y[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(y,S){S===void 0&&(S=32);var T=y.getPoints(S);return this.strokePoints(T,!0)},strokeEllipse:function(y,S,T,b,P){P===void 0&&(P=32);var w=new l(y,S,T,b),A=w.getPoints(P);return this.strokePoints(A,!0)},fillEllipseShape:function(y,S){S===void 0&&(S=32);var T=y.getPoints(S);return this.fillPoints(T,!0)},fillEllipse:function(y,S,T,b,P){P===void 0&&(P=32);var w=new l(y,S,T,b),A=w.getPoints(P);return this.fillPoints(A,!0)},arc:function(y,S,T,b,P,w,A){return w===void 0&&(w=!1),A===void 0&&(A=0),this.commandBuffer.push(c.ARC,y,S,T,b,P,w,A),this},slice:function(y,S,T,b,P,w,A){return w===void 0&&(w=!1),A===void 0&&(A=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,y,S),this.commandBuffer.push(c.ARC,y,S,T,b,P,w,A),this.commandBuffer.push(c.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(c.SAVE),this},restore:function(){return this.commandBuffer.push(c.RESTORE),this},translateCanvas:function(y,S){return this.commandBuffer.push(c.TRANSLATE,y,S),this},scaleCanvas:function(y,S){return this.commandBuffer.push(c.SCALE,y,S),this},rotateCanvas:function(y){return this.commandBuffer.push(c.ROTATE,y),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(y,S,T){var b=this.scene.sys,P=b.game.renderer;S===void 0&&(S=b.scale.width),T===void 0&&(T=b.scale.height),m.TargetCamera.setScene(this.scene),m.TargetCamera.setViewport(0,0,S,T),m.TargetCamera.scrollX=this.x,m.TargetCamera.scrollY=this.y;var w,A,R={willReadFrequently:!0};if(typeof y=="string")if(b.textures.exists(y)){w=b.textures.get(y);var D=w.getSourceImage();D instanceof HTMLCanvasElement&&(A=D.getContext("2d",R))}else w=b.textures.createCanvas(y,S,T),A=w.getSourceImage().getContext("2d",R);else y instanceof HTMLCanvasElement&&(A=y.getContext("2d",R));return A&&(this.renderCanvas(P,this,m.TargetCamera,null,A,!1),w&&w.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});m.TargetCamera=new a,r.exports=m}),32768:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85592),g=s(20926),c=function(h,l,o,u,v,f){var p=l.commandBuffer,m=p.length,y=v||h.currentContext;if(!(m===0||!g(h,y,l,o,u))){o.addToRenderList(l);var S=1,T=1,b=0,P=0,w=1,A=0,R=0,D=0;y.beginPath();for(var L=0;L<m;++L){var k=p[L];switch(k){case a.ARC:y.arc(p[L+1],p[L+2],p[L+3],p[L+4],p[L+5],p[L+6]),L+=7;break;case a.LINE_STYLE:w=p[L+1],b=p[L+2],S=p[L+3],A=(b&16711680)>>>16,R=(b&65280)>>>8,D=b&255,y.strokeStyle="rgba("+A+","+R+","+D+","+S+")",y.lineWidth=w,L+=3;break;case a.FILL_STYLE:P=p[L+1],T=p[L+2],A=(P&16711680)>>>16,R=(P&65280)>>>8,D=P&255,y.fillStyle="rgba("+A+","+R+","+D+","+T+")",L+=2;break;case a.BEGIN_PATH:y.beginPath();break;case a.CLOSE_PATH:y.closePath();break;case a.FILL_PATH:f||y.fill();break;case a.STROKE_PATH:f||y.stroke();break;case a.FILL_RECT:f?y.rect(p[L+1],p[L+2],p[L+3],p[L+4]):y.fillRect(p[L+1],p[L+2],p[L+3],p[L+4]),L+=4;break;case a.FILL_TRIANGLE:y.beginPath(),y.moveTo(p[L+1],p[L+2]),y.lineTo(p[L+3],p[L+4]),y.lineTo(p[L+5],p[L+6]),y.closePath(),f||y.fill(),L+=6;break;case a.STROKE_TRIANGLE:y.beginPath(),y.moveTo(p[L+1],p[L+2]),y.lineTo(p[L+3],p[L+4]),y.lineTo(p[L+5],p[L+6]),y.closePath(),f||y.stroke(),L+=6;break;case a.LINE_TO:y.lineTo(p[L+1],p[L+2]),L+=2;break;case a.MOVE_TO:y.moveTo(p[L+1],p[L+2]),L+=2;break;case a.LINE_FX_TO:y.lineTo(p[L+1],p[L+2]),L+=5;break;case a.MOVE_FX_TO:y.moveTo(p[L+1],p[L+2]),L+=5;break;case a.SAVE:y.save();break;case a.RESTORE:y.restore();break;case a.TRANSLATE:y.translate(p[L+1],p[L+2]),L+=2;break;case a.SCALE:y.scale(p[L+1],p[L+2]),L+=2;break;case a.ROTATE:y.rotate(p[L+1]),L+=1;break;case a.GRADIENT_FILL_STYLE:L+=5;break;case a.GRADIENT_LINE_STYLE:L+=6;break}}y.restore()}};r.exports=c}),87079:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(43831);a.register("graphics",function(c,h){c===void 0&&(c={}),h!==void 0&&(c.add=h);var l=new g(this.scene,c);return c.add&&this.scene.sys.displayList.add(l),l})}),1201:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43831),g=s(39429);g.register("graphics",function(c){return this.displayList.add(new a(this.scene,c))})}),84503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(77545),c=s(32768),c=s(32768),r.exports={renderWebGL:g,renderCanvas:c}}),77545:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85592),g=s(91296),c=s(61340),h=s(70554),l=function(p,m,y){this.x=p,this.y=m,this.width=y},o=function(p,m,y){this.points=[],this.pointsLength=1,this.points[0]=new l(p,m,y)},u=[],v=new c,f=function(p,m,y,S){if(m.commandBuffer.length!==0){y.addToRenderList(m);var T=p.pipelines.set(m.pipeline,m);p.pipelines.preBatch(m);for(var b=g(m,y,S).calc,P=v.loadIdentity(),w=m.commandBuffer,A=y.alpha*m.alpha,R=1,D=T.fillTint,L=T.strokeTint,k=0,B=0,F=0,G=.01,N=Math.PI*2,W,X=[],$=0,J=!0,V=null,Y=h.getTintAppendFloatAlpha,z=0;z<w.length;z++)switch(W=w[z],W){case a.BEGIN_PATH:{X.length=0,V=null,J=!0;break}case a.CLOSE_PATH:{J=!1,V&&V.points.length&&V.points.push(V.points[0]);break}case a.FILL_PATH:{for($=0;$<X.length;$++)T.batchFillPath(X[$].points,P,b);break}case a.STROKE_PATH:{for($=0;$<X.length;$++)T.batchStrokePath(X[$].points,R,J,P,b);break}case a.LINE_STYLE:{R=w[++z];var K=w[++z],H=w[++z]*A,Q=Y(K,H);L.TL=Q,L.TR=Q,L.BL=Q,L.BR=Q;break}case a.FILL_STYLE:{var j=w[++z],q=w[++z]*A,tt=Y(j,q);D.TL=tt,D.TR=tt,D.BL=tt,D.BR=tt;break}case a.GRADIENT_FILL_STYLE:{var st=w[++z]*A,nt=w[++z]*A,at=w[++z]*A,ot=w[++z]*A;D.TL=Y(w[++z],st),D.TR=Y(w[++z],nt),D.BL=Y(w[++z],at),D.BR=Y(w[++z],ot);break}case a.GRADIENT_LINE_STYLE:{R=w[++z];var mt=w[++z]*A;L.TL=Y(w[++z],mt),L.TR=Y(w[++z],mt),L.BL=Y(w[++z],mt),L.BR=Y(w[++z],mt);break}case a.ARC:{var St=0,Ct=w[++z],kt=w[++z],Vt=w[++z],It=w[++z],yt=w[++z],Lt=w[++z],Ft=w[++z];for(yt-=It,Lt?yt<-N?yt=-N:yt>0&&(yt=-N+yt%N):yt>N?yt=N:yt<0&&(yt=N+yt%N),V===null&&(V=new o(Ct+Math.cos(It)*Vt,kt+Math.sin(It)*Vt,R),X.push(V),St+=G);St<1+Ft;)F=yt*St+It,k=Ct+Math.cos(F)*Vt,B=kt+Math.sin(F)*Vt,V.points.push(new l(k,B,R)),St+=G;F=yt+It,k=Ct+Math.cos(F)*Vt,B=kt+Math.sin(F)*Vt,V.points.push(new l(k,B,R));break}case a.FILL_RECT:{T.batchFillRect(w[++z],w[++z],w[++z],w[++z],P,b);break}case a.FILL_TRIANGLE:{T.batchFillTriangle(w[++z],w[++z],w[++z],w[++z],w[++z],w[++z],P,b);break}case a.STROKE_TRIANGLE:{T.batchStrokeTriangle(w[++z],w[++z],w[++z],w[++z],w[++z],w[++z],R,P,b);break}case a.LINE_TO:{V!==null?V.points.push(new l(w[++z],w[++z],R)):(V=new o(w[++z],w[++z],R),X.push(V));break}case a.MOVE_TO:{V=new o(w[++z],w[++z],R),X.push(V);break}case a.SAVE:{u.push(P.copyToArray());break}case a.RESTORE:{P.copyFromArray(u.pop());break}case a.TRANSLATE:{Ct=w[++z],kt=w[++z],P.translate(Ct,kt);break}case a.SCALE:{Ct=w[++z],kt=w[++z],P.scale(Ct,kt);break}case a.ROTATE:{P.rotate(w[++z]);break}}p.pipelines.postBatch(m)}};r.exports=f}),26479:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61061),g=s(83419),c=s(51708),h=s(50792),l=s(46710),o=s(95540),u=s(35154),v=s(97022),f=s(41212),p=s(88492),m=s(35072),y=s(68287),S=new g({Extends:h,initialize:function(b,P,w){h.call(this),w?P&&!Array.isArray(P)&&(P=[P]):Array.isArray(P)?f(P[0])&&(w=P,P=null):f(P)&&(w=P,P=null),this.scene=b,this.children=new m,this.isParent=!0,this.type="Group",this.classType=o(w,"classType",y),this.name=o(w,"name",""),this.active=o(w,"active",!0),this.maxSize=o(w,"maxSize",-1),this.defaultKey=o(w,"defaultKey",null),this.defaultFrame=o(w,"defaultFrame",null),this.runChildUpdate=o(w,"runChildUpdate",!1),this.createCallback=o(w,"createCallback",null),this.removeCallback=o(w,"removeCallback",null),this.createMultipleCallback=o(w,"createMultipleCallback",null),this.internalCreateCallback=o(w,"internalCreateCallback",null),this.internalRemoveCallback=o(w,"internalRemoveCallback",null),P&&this.addMultiple(P),w&&this.createMultiple(w),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,b,P,w,A,R){if(T===void 0&&(T=0),b===void 0&&(b=0),P===void 0&&(P=this.defaultKey),w===void 0&&(w=this.defaultFrame),A===void 0&&(A=!0),R===void 0&&(R=!0),this.isFull())return null;var D=new this.classType(this.scene,T,b,P,w);return D.addToDisplayList(this.scene.sys.displayList),D.addToUpdateList(),D.visible=A,D.setActive(R),this.add(D),D},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var b=[];if(T[0].key)for(var P=0;P<T.length;P++){var w=this.createFromConfig(T[P]);b=b.concat(w)}return b},createFromConfig:function(T){if(this.isFull())return[];this.classType=o(T,"classType",this.classType);var b=o(T,"key",void 0),P=o(T,"frame",null),w=o(T,"visible",!0),A=o(T,"active",!0),R=[];if(b===void 0)return R;Array.isArray(b)||(b=[b]),Array.isArray(P)||(P=[P]);var D=o(T,"repeat",0),L=o(T,"randomKey",!1),k=o(T,"randomFrame",!1),B=o(T,"yoyo",!1),F=o(T,"quantity",!1),G=o(T,"frameQuantity",1),N=o(T,"max",0),W=p(b,P,{max:N,qty:F||G,random:L,randomB:k,repeat:D,yoyo:B});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var X=0;X<W.length;X++){var $=this.create(0,0,W[X].a,W[X].b,w,A);if(!$)break;R.push($)}if(v(T,"setXY")){var J=u(T,"setXY.x",0),V=u(T,"setXY.y",0),Y=u(T,"setXY.stepX",0),z=u(T,"setXY.stepY",0);a.SetXY(R,J,V,Y,z)}if(v(T,"setRotation")){var K=u(T,"setRotation.value",0),H=u(T,"setRotation.step",0);a.SetRotation(R,K,H)}if(v(T,"setScale")){var Q=u(T,"setScale.x",1),j=u(T,"setScale.y",Q),q=u(T,"setScale.stepX",0),tt=u(T,"setScale.stepY",0);a.SetScale(R,Q,j,q,tt)}if(v(T,"setOrigin")){var st=u(T,"setOrigin.x",.5),nt=u(T,"setOrigin.y",st),at=u(T,"setOrigin.stepX",0),ot=u(T,"setOrigin.stepY",0);a.SetOrigin(R,st,nt,at,ot)}if(v(T,"setAlpha")){var mt=u(T,"setAlpha.value",1),St=u(T,"setAlpha.step",0);a.SetAlpha(R,mt,St)}if(v(T,"setDepth")){var Ct=u(T,"setDepth.value",0),kt=u(T,"setDepth.step",0);a.SetDepth(R,Ct,kt)}if(v(T,"setScrollFactor")){var Vt=u(T,"setScrollFactor.x",1),It=u(T,"setScrollFactor.y",Vt),yt=u(T,"setScrollFactor.stepX",0),Lt=u(T,"setScrollFactor.stepY",0);a.SetScrollFactor(R,Vt,It,yt,Lt)}var Ft=o(T,"hitArea",null),$t=o(T,"hitAreaCallback",null);Ft&&a.SetHitArea(R,Ft,$t);var Jt=o(T,"gridAlign",!1);return Jt&&a.GridAlign(R,Jt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(T,b){if(!(!this.runChildUpdate||this.children.size===0))for(var P=this.children.entries.slice(),w=0;w<P.length;w++){var A=P[w];A.active&&A.update(T,b)}},add:function(T,b){return b===void 0&&(b=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),b&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(c.DESTROY,this.remove,this),this)},addMultiple:function(T,b){if(b===void 0&&(b=!1),Array.isArray(T))for(var P=0;P<T.length;P++)this.add(T[P],b);return this},remove:function(T,b,P){return b===void 0&&(b=!1),P===void 0&&(P=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(c.DESTROY,this.remove,this),P?T.destroy():b&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,b){T===void 0&&(T=!1),b===void 0&&(b=!1);for(var P=this.children,w=0;w<P.size;w++){var A=P.entries[w];A.off(c.DESTROY,this.remove,this),b?A.destroy():T&&(A.removeFromDisplayList(),A.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,b,P,w){return l(this.children.entries,T,b,P,w)},getFirst:function(T,b,P,w,A,R,D){return this.getHandler(!0,1,T,b,P,w,A,R,D)},getFirstNth:function(T,b,P,w,A,R,D,L){return this.getHandler(!0,T,b,P,w,A,R,D,L)},getLast:function(T,b,P,w,A,R,D){return this.getHandler(!1,1,T,b,P,w,A,R,D)},getLastNth:function(T,b,P,w,A,R,D,L){return this.getHandler(!1,T,b,P,w,A,R,D,L)},getHandler:function(T,b,P,w,A,R,D,L,k){P===void 0&&(P=!1),w===void 0&&(w=!1);var B,F,G=0,N=this.children.entries;if(T)for(F=0;F<N.length;F++)if(B=N[F],B.active===P){if(G++,G===b)break}else B=null;else for(F=N.length-1;F>=0;F--)if(B=N[F],B.active===P){if(G++,G===b)break}else B=null;return B?(typeof A=="number"&&(B.x=A),typeof R=="number"&&(B.y=R),B):w?this.create(A,R,D,L,k):null},get:function(T,b,P,w,A){return this.getFirst(!1,!0,T,b,P,w,A)},getFirstAlive:function(T,b,P,w,A,R){return this.getFirst(!0,T,b,P,w,A,R)},getFirstDead:function(T,b,P,w,A,R){return this.getFirst(!1,T,b,P,w,A,R)},playAnimation:function(T,b){return a.PlayAnimation(this.children.entries,T,b),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var b=0,P=0;P<this.children.size;P++)this.children.entries[P].active===T&&b++;return b},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),b=this.maxSize===-1?999999999999:this.maxSize;return b-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,b,P,w,A){return a.PropertyValueSet(this.children.entries,T,b,P,w,A),this},propertyValueInc:function(T,b,P,w,A){return a.PropertyValueInc(this.children.entries,T,b,P,w,A),this},setX:function(T,b){return a.SetX(this.children.entries,T,b),this},setY:function(T,b){return a.SetY(this.children.entries,T,b),this},setXY:function(T,b,P,w){return a.SetXY(this.children.entries,T,b,P,w),this},incX:function(T,b){return a.IncX(this.children.entries,T,b),this},incY:function(T,b){return a.IncY(this.children.entries,T,b),this},incXY:function(T,b,P,w){return a.IncXY(this.children.entries,T,b,P,w),this},shiftPosition:function(T,b,P){return a.ShiftPosition(this.children.entries,T,b,P),this},angle:function(T,b){return a.Angle(this.children.entries,T,b),this},rotate:function(T,b){return a.Rotate(this.children.entries,T,b),this},rotateAround:function(T,b){return a.RotateAround(this.children.entries,T,b),this},rotateAroundDistance:function(T,b,P){return a.RotateAroundDistance(this.children.entries,T,b,P),this},setAlpha:function(T,b){return a.SetAlpha(this.children.entries,T,b),this},setTint:function(T,b,P,w){return a.SetTint(this.children.entries,T,b,P,w),this},setOrigin:function(T,b,P,w){return a.SetOrigin(this.children.entries,T,b,P,w),this},scaleX:function(T,b){return a.ScaleX(this.children.entries,T,b),this},scaleY:function(T,b){return a.ScaleY(this.children.entries,T,b),this},scaleXY:function(T,b,P,w){return a.ScaleXY(this.children.entries,T,b,P,w),this},setDepth:function(T,b){return a.SetDepth(this.children.entries,T,b),this},setBlendMode:function(T){return a.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,b){return a.SetHitArea(this.children.entries,T,b),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,b,P){return a.SetVisible(this.children.entries,T,b,P),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(T,b){T===void 0&&(T=!1),b===void 0&&(b=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(b,T),this.scene=void 0,this.children=void 0)}});r.exports=S}),94975:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(26479);a.register("group",function(c){return new g(this.scene,null,c)})}),3385:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26479),g=s(39429);g.register("group",function(c,h){return this.updateList.add(new a(this.scene,c,h))})}),88571:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(59819),l=new a({Extends:c,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,h],initialize:function(u,v,f,p,m){c.call(this,u,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,m),this.setPosition(v,f),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=l}),40652:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a),s.batchSprite(a,a.frame,g,c)};r.exports=x}),82459:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(88571);g.register("image",function(l,o){l===void 0&&(l={});var u=c(l,"key",null),v=c(l,"frame",null),f=new h(this.scene,0,0,u,v);return o!==void 0&&(l.add=o),a(this.scene,f,l),f})}),2117:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(88571),g=s(39429);g.register("image",function(c,h,l,o){return this.displayList.add(new a(this.scene,c,h,l,o))})}),59819:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(99517),c=s(40652),r.exports={renderWebGL:g,renderCanvas:c}}),99517:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a),this.pipeline.batchSprite(a,g,c)};r.exports=x}),77856:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};a.Shader=s(20071),a.Mesh=s(4703),a.NineSlice=s(28103),a.PointLight=s(80321),a.Plane=s(33663),a.Factories.Shader=s(74177),a.Factories.Mesh=s(9225),a.Factories.NineSlice=s(47521),a.Factories.PointLight=s(71255),a.Factories.Plane=s(30985),a.Creators.Shader=s(54935),a.Creators.Mesh=s(20527),a.Creators.NineSlice=s(28279),a.Creators.PointLight=s(39829),a.Creators.Plane=s(56015),a.Light=s(41432),a.LightsManager=s(61356),a.LightsPlugin=s(88992),r.exports=a}),93595:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(83419),c=s(31401),h=s(53774),l=s(45893),o=s(50792),u=s(51708),v=s(73162),f=s(33963),p=s(44594),m=s(19186),y=new g({Extends:v,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,o,f],initialize:function(T,b){v.call(this,T),o.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),b&&this.add(b),T.sys.queueDepthSort()},setActive:function(S){return this.active=S,this},setName:function(S){return this.name=S,this},setState:function(S){return this.state=S,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(S,T){return this.data||(this.data=new l(this)),this.data.set(S,T),this},incData:function(S,T){return this.data||(this.data=new l(this)),this.data.inc(S,T),this},toggleData:function(S){return this.data||(this.data=new l(this)),this.data.toggle(S),this},getData:function(S){return this.data||(this.data=new l(this)),this.data.get(S)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(S){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&S.id)},getIndexList:function(){for(var S=this,T=this.parentContainer,b=[];T&&(b.unshift(T.getIndex(S)),S=T,T.parentContainer);)T=T.parentContainer;return b.unshift(this.displayList.getIndex(S)),b},addChildCallback:function(S){var T=S.displayList;T&&T!==this&&S.removeFromDisplayList(),S.displayList||(this.queueDepthSort(),S.displayList=this,S.emit(u.ADDED_TO_SCENE,S,this.scene),this.events.emit(p.ADDED_TO_SCENE,S,this.scene))},removeChildCallback:function(S){this.queueDepthSort(),S.displayList=null,S.emit(u.REMOVED_FROM_SCENE,S,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,S,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(m(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(S,T){return S._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(S){return S===void 0&&(S=this.scene.sys.displayList),this.displayList&&this.displayList!==S&&this.removeFromDisplayList(),S.exists(this)||(this.displayList=S,S.add(this,!0),S.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),S.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var S=this.displayList||this.scene.sys.displayList;return S.exists(this)&&(S.remove(this,!0),S.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),S.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var S=null;return this.parentContainer?S=this.parentContainer.list:this.displayList&&(S=this.displayList.list),S},destroy:function(S){if(!(!this.scene||this.ignoreDestroy)){this.emit(u.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(S);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=y}),2956:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=a.list;if(c.length!==0){a.depthSort();var h=a.blendMode!==-1;h||s.setBlendMode(0);var l=a._alpha;a.mask&&a.mask.preRenderCanvas(s,null,g);for(var o=0;o<c.length;o++){var u=c[o];if(u.willRender(g)){var v=u.alpha;!h&&u.blendMode!==s.currentBlendMode&&s.setBlendMode(u.blendMode),u.setAlpha(v*l),u.renderCanvas(s,u,g),u.setAlpha(v)}}a.mask&&a.mask.postRenderCanvas(s)}};r.exports=x}),25179:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(93595),c=s(44603),h=s(23568);c.register("layer",function(l,o){l===void 0&&(l={});var u=h(l,"children",null),v=new g(this.scene,u);return o!==void 0&&(l.add=o),a(this.scene,v,l),v})}),20005:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(93595),g=s(39429);g.register("layer",function(c){return this.displayList.add(new a(this.scene,c))})}),33963:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(15869),c=s(2956),r.exports={renderWebGL:g,renderCanvas:c}}),15869:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=a.list,h=c.length;if(h!==0){a.depthSort(),s.pipelines.preBatch(a);var l=a.blendMode!==-1;l||s.setBlendMode(0);for(var o=a.alpha,u=0;u<h;u++){var v=c[u];if(v.willRender(g)){var f,p,m,y;if(v.alphaTopLeft!==void 0)f=v.alphaTopLeft,p=v.alphaTopRight,m=v.alphaBottomLeft,y=v.alphaBottomRight;else{var S=v.alpha;f=S,p=S,m=S,y=S}!l&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode);var T=v.mask;T&&T.preRenderWebGL(s,v,g);var b=v.type;b!==s.currentType&&(s.newType=!0,s.currentType=b),s.nextTypeMatch=u<h-1?c[u+1].type===s.currentType:!1,v.setAlpha(f*o,p*o,m*o,y*o),v.renderWebGL(s,v,g),v.setAlpha(f,p,m,y),T&&T.postRenderWebGL(s,g),s.newType=!1}}s.pipelines.postBatch(a)}};r.exports=x}),41432:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=s(83419),c=s(31401),h=s(51767),l=s(70554),o=new g({Extends:a,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:function(v,f,p,m,y,S,T){a.call(this,v,f,p),this.color=new h(m,y,S),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},displayWidth:{get:function(){return this.diameter},set:function(u){this.diameter=u}},displayHeight:{get:function(){return this.diameter},set:function(u){this.diameter=u}},width:{get:function(){return this.diameter},set:function(u){this.diameter=u}},height:{get:function(){return this.diameter},set:function(u){this.diameter=u}},willRender:function(u){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&u.id)},setColor:function(u){var v=l.getFloatsFromUintRGB(u);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(u){return this.intensity=u,this},setRadius:function(u){return this.radius=u,this}});o.RENDER_MASK=15,r.exports=o}),61356:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81491),g=s(83419),c=s(20339),h=s(41432),l=s(80321),o=s(51767),u=s(19133),v=s(19186),f=s(70554),p=new g({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(m,y,S,T,b,P){return this.systems.displayList.add(new l(this.scene,m,y,S,T,b,P))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(m){for(var y=this.lights,S=m.worldView,T=[],b=0;b<y.length;b++){var P=y[b];P.willRender(m)&&a(P,S)&&T.push({light:P,distance:c(P.x,P.y,S.centerX,S.centerY)})}return T.length>this.maxLights&&(v(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(m,y){return m.distance>=y.distance},setAmbientColor:function(m){var y=f.getFloatsFromUintRGB(m);return this.ambientColor.set(y[0],y[1],y[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(m,y,S,T,b){m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=128),T===void 0&&(T=16777215),b===void 0&&(b=1);var P=f.getFloatsFromUintRGB(T),w=new h(m,y,S,P[0],P[1],P[2],b);return this.lights.push(w),w},removeLight:function(m){var y=this.lights.indexOf(m);return y>=0&&u(this.lights,y),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=p}),88992:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(61356),c=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(u){this.scene=u,this.systems=u.sys,u.sys.settings.isBooted||u.sys.events.once(h.BOOT,this.boot,this),g.call(this)},boot:function(){var o=this.systems.events;o.on(h.SHUTDOWN,this.shutdown,this),o.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});c.register("LightsPlugin",l,"lights"),r.exports=l}),4703:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(39506),h=s(83997),l=s(95643),o=s(34684),u=s(92515),v=s(91296),f=s(37867),p=s(29807),m=s(43396),y=s(19186),S=s(25836),T=s(39318),b=new a({Extends:l,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,p],initialize:function(w,A,R,D,L,k,B,F,G,N,W,X){A===void 0&&(A=0),R===void 0&&(R=0),D===void 0&&(D="__WHITE"),l.call(this,w,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new S,this.modelScale=new S(1,1,1),this.modelRotation=new S,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new f,this.viewPosition=new S,this.viewMatrix=new f,this.projectionMatrix=new f,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var $=w.sys.renderer;this.setPosition(A,R),this.setTexture(D,L),this.setSize($.width,$.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective($.width,$.height),k&&this.addVertices(k,B,F,G,N,W,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(P){return this.viewPosition.addScale(S.LEFT,P),this.dirtyCache[10]=1,this},panY:function(P){return this.viewPosition.y+=S.DOWN.y*P,this.dirtyCache[10]=1,this},panZ:function(P){return this.viewPosition.z+=P,this.dirtyCache[10]=1,this},setPerspective:function(P,w,A,R,D){return A===void 0&&(A=45),R===void 0&&(R=.01),D===void 0&&(D=1e3),this.fov=A,this.projectionMatrix.perspective(c(A),P/w,R,D),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(P,w,A,R){return P===void 0&&(P=this.scene.sys.renderer.getAspectRatio()),w===void 0&&(w=1),A===void 0&&(A=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-P,P,-w,w,A,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(P){P.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(P,w,A,R,D,L,k,B,F){var G=this.scene.sys.cache.obj.get(P),N;return G&&(N=o(G,this,w,A,R,D,L,k,B,F)),(!N||N.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",P),this},sortByDepth:function(P,w){return P.depth-w.depth},depthSort:function(){return y(this.faces,this.sortByDepth),this},addVertex:function(P,w,A,R,D,L,k){var B=new T(P,w,A,R,D,L,k);return this.vertices.push(B),B},addFace:function(P,w,A){var R=new h(P,w,A);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(P,w,A,R,D,L,k){var B=u(P,w,A,R,D,L,k);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(P){return this.faces[P]},hasFaceAt:function(P,w,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var R=v(this,A).calc,D=this.faces,L=0;L<D.length;L++){var k=D[L];if(k.contains(P,w,R))return!0}return!1},getFaceAt:function(P,w,A){A===void 0&&(A=this.scene.sys.cameras.main);for(var R=v(this,A).calc,D=this.faces,L=[],k=0;k<D.length;k++){var B=D[k];B.contains(P,w,R)&&L.push(B)}return y(L,this.sortByDepth)},setDebug:function(P,w){return this.debugGraphic=P,!P&&!w?this.debugCallback=null:w?this.debugCallback=w:this.debugCallback=this.renderDebug,this},isDirty:function(){var P=this.modelPosition,w=this.modelRotation,A=this.modelScale,R=this.dirtyCache,D=P.x,L=P.y,k=P.z,B=w.x,F=w.y,G=w.z,N=A.x,W=A.y,X=A.z,$=this.getFaceCount(),J=R[0],V=R[1],Y=R[2],z=R[3],K=R[4],H=R[5],Q=R[6],j=R[7],q=R[8],tt=R[9];return R[0]=D,R[1]=L,R[2]=k,R[3]=B,R[4]=F,R[5]=G,R[6]=N,R[7]=W,R[8]=X,R[9]=$,J!==D||V!==L||Y!==k||z!==B||K!==F||H!==G||Q!==N||j!==W||q!==X||tt!==$},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var P=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!P[10]&&!this.isDirty())){var w=this.width,A=this.height,R=this.viewMatrix,D=this.viewPosition;P[10]&&(R.identity(),R.translate(D),R.invert(),P[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var k=D.z,B=this.faces,F=0;F<B.length;F++)B[F].transformCoordinatesLocal(L,w,A,k);this.depthSort()}},renderDebug:function(P,w){for(var A=P.debugGraphic,R=0;R<w.length;R++){var D=w[R],L=D.vertex1.tx,k=D.vertex1.ty,B=D.vertex2.tx,F=D.vertex2.ty,G=D.vertex3.tx,N=D.vertex3.ty;A.strokeTriangle(L,k,B,F,G,N)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(P){P===void 0&&(P={});var w=(function(A,R,D){for(var L=this.faces,k=0;k<L.length;k++){var B=L[k];if(B.contains(R,D))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,P,w),this},setTint:function(P){P===void 0&&(P=16777215);for(var w=this.vertices,A=0;A<w.length;A++)w[A].color=P;return this},uvScroll:function(P,w){for(var A=this.faces,R=0;R<A.length;R++)A[R].scrollUV(P,w);return this},uvScale:function(P,w){for(var A=this.faces,R=0;R<A.length;R++)A[R].scaleUV(P,w);return this},tint:{set:function(P){this.setTint(P)}},rotateX:{get:function(){return m(this.modelRotation.x)},set:function(P){this.modelRotation.x=c(P)}},rotateY:{get:function(){return m(this.modelRotation.y)},set:function(P){this.modelRotation.y=c(P)}},rotateZ:{get:function(){return m(this.modelRotation.z)},set:function(P){this.modelRotation.z=c(P)}}});r.exports=b}),36488:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x}),20527:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(35154),l=s(4703);g.register("mesh",function(o,u){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=h(o,"vertices",[]),m=h(o,"uvs",[]),y=h(o,"indicies",[]),S=h(o,"containsZ",!1),T=h(o,"normals",[]),b=h(o,"colors",16777215),P=h(o,"alphas",1),w=new l(this.scene,0,0,v,f,p,m,y,S,T,b,P);return u!==void 0&&(o.add=u),a(this.scene,w,o),w})}),9225:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4703),g=s(39429);g.register("mesh",function(c,h,l,o,u,v,f,p,m,y,S){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f,p,m,y,S))})}),29807:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(48833),c=s(36488),r.exports={renderWebGL:g,renderCanvas:c}}),48833:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(c,h,l,o){var u=h.faces,v=u.length;if(v!==0){l.addToRenderList(h);var f=c.pipelines.set(h.pipeline,h),p=a(h,l,o).calc;c.pipelines.preBatch(h);for(var m=f.setGameObject(h),y=f.vertexViewF32,S=f.vertexViewU32,T=f.vertexCount*f.currentShader.vertexComponentCount-1,b=h.tintFill,P=[],w=h.debugCallback,A=p.a,R=p.b,D=p.c,L=p.d,k=p.e,B=p.f,F=h.viewPosition.z,G=h.hideCCW,N=l.roundPixels,W=l.alpha*h.alpha,X=0,$=0;$<v;$++){var J=u[$];J.isInView(l,G,F,W,A,R,D,L,k,B,N)&&(f.shouldFlush(3)&&(f.flush(),m=f.setGameObject(h),T=f.vertexCount*f.currentShader.vertexComponentCount-1),T=J.load(y,S,T,m,b),X++,f.vertexCount+=3,f.currentBatch.count=f.vertexCount-f.currentBatch.start,w&&P.push(J))}h.totalFrame+=X,w&&w.call(h,h,P),c.pipelines.postBatch(h)}};r.exports=g}),28103:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(78023),l=s(39318),o=new a({Extends:c,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,h],initialize:function(v,f,p,m,y,S,T,b,P,w,A){c.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=v.textures.getFrame(m,y);this.is3Slice=!w&&!A,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var D=this.is3Slice?18:54,L=0;L<D;L++)this.vertices.push(new l);this.setPosition(f,p),this.setTexture(m,y),this.setSlices(S,T,b,P,w,A,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(u,v,f,p,m,y,S){f===void 0&&(f=10),p===void 0&&(p=10),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=!1);var T=this.frame,b=!1;if(this.is3Slice&&S&&m!==0&&y!==0&&(b=!0),b)console.warn("Cannot change 9 slice to 3 slice");else{if(T&&T.scale9&&!S){var P=T.data.scale9Borders,w=P.x,A=P.y;f=w,p=T.width-P.w-w,m=A,y=T.height-P.h-A,u===void 0&&(u=T.width),v===void 0&&(v=T.height)}else u===void 0&&(u=256),v===void 0&&(v=256);this._width=u,this._height=v,this.leftWidth=f,this.rightWidth=p,this.topHeight=m,this.bottomHeight=y,this.is3Slice&&(v=T.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var u=this.leftWidth,v=this.rightWidth,f=this.topHeight,p=this.bottomHeight,m=this.frame.width,y=this.frame.height;this.updateQuadUVs(0,0,0,u/m,f/y),this.updateQuadUVs(6,u/m,0,1-v/m,f/y),this.updateQuadUVs(12,1-v/m,0,1,f/y),this.is3Slice||(this.updateQuadUVs(18,0,f/y,u/m,1-p/y),this.updateQuadUVs(24,u/m,f/y,1-v/m,1-p/y),this.updateQuadUVs(30,1-v/m,f/y,1,1-p/y),this.updateQuadUVs(36,0,1-p/y,u/m,1),this.updateQuadUVs(42,u/m,1-p/y,1-v/m,1),this.updateQuadUVs(48,1-v/m,1-p/y,1,1))},updateVertices:function(){var u=this.leftWidth,v=this.rightWidth,f=this.topHeight,p=this.bottomHeight,m=this.width,y=this.height;this.updateQuad(0,-.5,.5,-.5+u/m,.5-f/y),this.updateQuad(6,-.5+u/m,.5,.5-v/m,.5-f/y),this.updateQuad(12,.5-v/m,.5,.5,.5-f/y),this.is3Slice||(this.updateQuad(18,-.5,.5-f/y,-.5+u/m,-.5+p/y),this.updateQuad(24,-.5+u/m,.5-f/y,.5-v/m,-.5+p/y),this.updateQuad(30,.5-v/m,.5-f/y,.5,-.5+p/y),this.updateQuad(36,-.5,-.5+p/y,-.5+u/m,-.5),this.updateQuad(42,-.5+u/m,-.5+p/y,.5-v/m,-.5),this.updateQuad(48,.5-v/m,-.5+p/y,.5,-.5))},updateQuad:function(u,v,f,p,m){var y=this.width,S=this.height,T=this.originX,b=this.originY,P=this.vertices;P[u+0].resize(v,f,y,S,T,b),P[u+1].resize(v,m,y,S,T,b),P[u+2].resize(p,f,y,S,T,b),P[u+3].resize(v,m,y,S,T,b),P[u+4].resize(p,m,y,S,T,b),P[u+5].resize(p,f,y,S,T,b)},updateQuadUVs:function(u,v,f,p,m){var y=this.vertices,S=this.frame,T=S.u0,b=S.v0,P=S.u1,w=S.v1;if(T!==0||P!==1){var A=P-T;v=T+v*A,p=T+p*A}if(b!==0||w!==1){var R=w-b;f=b+f*R,m=b+m*R}y[u+0].setUVs(v,f),y[u+1].setUVs(v,m),y[u+2].setUVs(p,f),y[u+3].setUVs(v,m),y[u+4].setUVs(p,m),y[u+5].setUVs(p,f)},clearTint:function(){return this.setTint(16777215),this},setTint:function(u){return u===void 0&&(u=16777215),this.tint=u,this.tintFill=!1,this},setTintFill:function(u){return this.setTint(u),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(u){this._width=Math.max(u,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(u){this.is3Slice||(this._height=Math.max(u,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(u){this.scaleX=u/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(u){this.scaleY=u/this.height}},setSize:function(u,v){this.width=u,this.height=v,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},setDisplaySize:function(u,v){return this.displayWidth=u,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(u){this._originX=u,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(u){this._originY=u,this.updateVertices()}},setOrigin:function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this._originX=u,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var u=this.frame.height;this._height=u,this.topHeight=u,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=o}),28279:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(35154),l=s(28103);g.register("nineslice",function(o,u){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=h(o,"width",256),m=h(o,"height",256),y=h(o,"leftWidth",10),S=h(o,"rightWidth",10),T=h(o,"topHeight",0),b=h(o,"bottomHeight",0),P=new l(this.scene,0,0,v,f,p,m,y,S,T,b);return u!==void 0&&(o.add=u),a(this.scene,P,o),P})}),47521:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28103),g=s(39429);g.register("nineslice",function(c,h,l,o,u,v,f,p,m,y){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f,p,m,y))})}),78023:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(52230),r.exports={renderWebGL:g,renderCanvas:c}}),52230:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){var v=l.vertices,f=v.length;if(f!==0){o.addToRenderList(l);var p=h.pipelines.set(l.pipeline,l),m=a(l,o,u,!1).calc;h.pipelines.preBatch(l);var y=p.setGameObject(l),S=p.vertexViewF32,T=p.vertexViewU32,b=p.vertexCount*p.currentShader.vertexComponentCount-1,P=o.roundPixels,w=l.tintFill,A=o.alpha*l.alpha,R=g.getTintAppendFloatAlpha(l.tint,A),D=p.vertexAvailable(),L=-1;D<f&&(L=D);for(var k=0;k<f;k++){var B=v[k];k===L&&(p.flush(),y=p.setGameObject(l),b=0),S[++b]=m.getXRound(B.vx,B.vy,P),S[++b]=m.getYRound(B.vx,B.vy,P),S[++b]=B.u,S[++b]=B.v,S[++b]=y,S[++b]=w,T[++b]=R,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}h.pipelines.postBatch(l)}};r.exports=c}),76472:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(44777),c=s(37589),h=s(6113),l=s(91389),o=s(90664),u=new a({Extends:g,initialize:function(f){g.call(this,f,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,f=v,p=this.defaultEmit,m=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=h("Linear"),this.interpolation=l("linear"),p=this.easedValueEmit,m=this.easeValueUpdate,f=v[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var y=0;y<v.length;y++){var S=o(v[y]);this.r.push(S.r),this.g.push(S.g),this.b.push(S.b)}}return this.onEmit=p,this.onUpdate=m,this.current=f,this},setEase:function(v){this.easeName=v,this.ease=h(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,f,p){var m=this.ease(p),y=this.interpolation(this.r,m),S=this.interpolation(this.g,m),T=this.interpolation(this.b,m),b=c(y,S,T);return this.current=b,b}});r.exports=u}),44777:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(45319),c=s(83419),h=s(99472),l=s(6113),o=s(95540),u=s(91389),v=s(77720),f=s(15994),p=new c({initialize:function(y,S,T){T===void 0&&(T=!1),this.propertyKey=y,this.propertyValue=S,this.defaultValue=S,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(m,y){m===void 0&&(m={}),y&&(this.propertyKey=y),this.propertyValue=o(m,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(m){var y;switch(this.method){case 1:case 3:case 8:y=m;break;case 2:this.propertyValue.indexOf(m)>=0&&(y=m);break;case 4:var S=(this.end-this.start)/this.steps;y=v(m,S),this.counter=y;break;case 5:case 6:case 7:y=g(m,this.start,this.end);break;case 9:y=this.start[0];break}return this.current=y,this},getMethod:function(){var m=this.propertyValue;if(m===null)return 0;var y=typeof m;if(y==="number")return 1;if(Array.isArray(m))return 2;if(y==="function")return 3;if(y==="object"){if(this.hasBoth(m,"start","end"))return this.has(m,"steps")?4:5;if(this.hasBoth(m,"min","max"))return 6;if(this.has(m,"random"))return 7;if(this.hasEither(m,"onEmit","onUpdate"))return 8;if(this.hasEither(m,"values","interpolation"))return 9}return 0},setMethods:function(){var m=this.propertyValue,y=m,S=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:S=this.staticValueEmit;break;case 2:S=this.randomStaticValueEmit,y=m[0];break;case 3:this._onEmit=m,S=this.proxyEmit,y=this.defaultValue;break;case 4:this.start=m.start,this.end=m.end,this.steps=m.steps,this.counter=this.start,this.yoyo=this.has(m,"yoyo")?m.yoyo:!1,this.direction=0,S=this.steppedEmit,y=this.start;break;case 5:this.start=m.start,this.end=m.end;var b=this.has(m,"ease")?m.ease:"Linear";this.ease=l(b,m.easeParams),S=this.has(m,"random")&&m.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,y=this.start;break;case 6:this.start=m.min,this.end=m.max,S=this.has(m,"int")&&m.int?this.randomRangedIntEmit:this.randomRangedValueEmit,y=this.start;break;case 7:var P=m.random;Array.isArray(P)&&(this.start=P[0],this.end=P[1]),S=this.randomRangedIntEmit,y=this.start;break;case 8:this._onEmit=this.has(m,"onEmit")?m.onEmit:this.defaultEmit,this._onUpdate=this.has(m,"onUpdate")?m.onUpdate:this.defaultUpdate,S=this.proxyEmit,T=this.proxyUpdate,y=this.defaultValue;break;case 9:this.start=m.values;var w=this.has(m,"ease")?m.ease:"Linear";this.ease=l(w,m.easeParams),this.interpolation=u(m.interpolation),S=this.easedValueEmit,T=this.easeValueUpdate,y=this.start[0];break}return this.onEmit=S,this.onUpdate=T,this.current=y,this},has:function(m,y){return m.hasOwnProperty(y)},hasBoth:function(m,y,S){return m.hasOwnProperty(y)&&m.hasOwnProperty(S)},hasEither:function(m,y,S){return m.hasOwnProperty(y)||m.hasOwnProperty(S)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(m,y,S,T){return T},proxyEmit:function(m,y,S){var T=this._onEmit(m,y,S);return this.current=T,T},proxyUpdate:function(m,y,S,T){var b=this._onUpdate(m,y,S,T);return this.current=b,b},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var m=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[m],this.current},randomRangedValueEmit:function(m,y){var S=h(this.start,this.end);return m&&m.data[y]&&(m.data[y].min=S,m.data[y].max=this.end),this.current=S,S},randomRangedIntEmit:function(m,y){var S=a(this.start,this.end);return m&&m.data[y]&&(m.data[y].min=S,m.data[y].max=this.end),this.current=S,S},steppedEmit:function(){var m=this.counter,y=m,S=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(y+=S,y>=this.end&&(T=y-this.end,y=this.end-T,this.direction=1)):(y-=S,y<=this.start&&(T=this.start-y,y=this.start+T,this.direction=0)),this.counter=y}else this.counter=f(y+S,this.start,this.end);return this.current=m,m},easedValueEmit:function(m,y){if(m&&m.data[y]){var S=m.data[y];S.min=this.start,S.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(m,y,S){var T=m.data[y],b,P=this.ease(S);return this.interpolation?b=this.interpolation(this.start,P):b=(T.max-T.min)*P+T.min,this.current=b,b},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=p}),24502:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(20286),h=new a({Extends:c,initialize:function(o,u,v,f,p){if(typeof o=="object"){var m=o;o=g(m,"x",0),u=g(m,"y",0),v=g(m,"power",0),f=g(m,"epsilon",100),p=g(m,"gravity",50)}else o===void 0&&(o=0),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=100),p===void 0&&(p=50);c.call(this,o,u,!0),this._gravity=p,this._power=v*p,this._epsilon=f*f},update:function(l,o){var u=this.x-l.x,v=this.y-l.y,f=u*u+v*v;if(f!==0){var p=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var m=this._power*o/(f*p)*100;l.velocityX+=u*m,l.velocityY+=v*m}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var o=this.power;this._gravity=l,this.power=o}}});r.exports=h}),56480:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(45319),c=s(83419),h=s(39506),l=s(87841),o=s(11520),u=s(26099),v=new c({initialize:function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new u,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new l},emit:function(f,p,m,y,S,T){return this.emitter.emit(f,p,m,y,S,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(f,p){f===void 0&&(f=0),p===void 0&&(p=0),this.x=f,this.y=p},fire:function(f,p){var m=this.emitter,y=m.ops,S=m.getAnim();if(S?this.anims.play(S):(this.frame=m.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(m.getEmitZone(this),f===void 0?this.x+=y.x.onEmit(this,"x"):y.x.steps>0?this.x+=f+y.x.onEmit(this,"x"):this.x+=f,p===void 0?this.y+=y.y.onEmit(this,"y"):y.y.steps>0?this.y+=p+y.y.onEmit(this,"y"):this.y+=p,this.life=y.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=y.delay.onEmit(this,"delay"),this.holdCurrent=y.hold.onEmit(this,"hold"),this.scaleX=y.scaleX.onEmit(this,"scaleX"),this.scaleY=y.scaleY.active?y.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=y.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),m.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&m.getDeathZone(this))return this.lifeCurrent=0,!1;var T=y.speedX.onEmit(this,"speedX"),b=y.speedY.active?y.speedY.onEmit(this,"speedY"):T;if(m.radial){var P=h(y.angle.onEmit(this,"angle"));this.velocityX=Math.cos(P)*Math.abs(T),this.velocityY=Math.sin(P)*Math.abs(b)}else if(m.moveTo){var w=y.moveToX.onEmit(this,"moveToX"),A=y.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(w-this.x)/R,this.velocityY=(A-this.y)/R}else this.velocityX=T,this.velocityY=b;return m.acceleration&&(this.accelerationX=y.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=y.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=y.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=y.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=y.bounce.onEmit(this,"bounce"),this.alpha=y.alpha.onEmit(this,"alpha"),y.color.active?this.tint=y.color.onEmit(this,"tint"):this.tint=y.tint.onEmit(this,"tint"),!0},update:function(f,p,m){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=f,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=f,!1;this.anims&&this.anims.update(0,f);var y=this.emitter,S=y.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=S.x.onUpdate(this,"x",T,this.x),this.y=S.y.onUpdate(this,"y",T,this.y),y.moveTo){var b=S.moveToX.onUpdate(this,"moveToX",T,y.moveToX),P=S.moveToY.onUpdate(this,"moveToY",T,y.moveToY),w=this.lifeCurrent/1e3;this.velocityX=(b-this.x)/w,this.velocityY=(P-this.y)/w}return this.computeVelocity(y,f,p,m,T),this.scaleX=S.scaleX.onUpdate(this,"scaleX",T,this.scaleX),S.scaleY.active?this.scaleY=S.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleY=this.scaleX,this.angle=S.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=h(this.angle),y.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(S.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),S.color.active?this.tint=S.color.onUpdate(this,"color",T,this.tint):this.tint=S.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=f,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(f,p,m,y,S){var T=f.ops,b=this.velocityX,P=this.velocityY,w=T.accelerationX.onUpdate(this,"accelerationX",S,this.accelerationX),A=T.accelerationY.onUpdate(this,"accelerationY",S,this.accelerationY),R=T.maxVelocityX.onUpdate(this,"maxVelocityX",S,this.maxVelocityX),D=T.maxVelocityY.onUpdate(this,"maxVelocityY",S,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",S,this.bounce),b+=f.gravityX*m+w*m,P+=f.gravityY*m+A*m,b=g(b,-R,R),P=g(P,-D,D),this.velocityX=b,this.velocityY=P,this.x+=b*m,this.y+=P*m,f.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<y.length;L++){var k=y[L];k.active&&k.update(this,p,m,S)}},setSizeToFrame:function(){},getBounds:function(f){f===void 0&&(f=this.emitter.getWorldTransformMatrix());var p=Math.abs(f.scaleX)*this.scaleX,m=Math.abs(f.scaleY)*this.scaleY,y=this.x,S=this.y,T=this.rotation,b=this.frame.width*p/2,P=this.frame.height*m/2,w=this.bounds,A=new u(y-b,S-P),R=new u(y+b,S-P),D=new u(y-b,S+P),L=new u(y+b,S+P);return T!==0&&(o(A,y,S,T),o(R,y,S,T),o(D,y,S,T),o(L,y,S,T)),f.transformPoint(A.x,A.y,A),f.transformPoint(R.x,R.y,R),f.transformPoint(D.x,D.y,D),f.transformPoint(L.x,L.y,L),w.x=Math.min(A.x,R.x,D.x,L.x),w.y=Math.min(A.y,R.y,D.y,L.y),w.width=Math.max(A.x,R.x,D.x,L.x)-w.x,w.height=Math.max(A.y,R.y,D.y,L.y)-w.y,w},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=v}),69601:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(20286),c=s(87841),h=new a({Extends:g,initialize:function(o,u,v,f,p,m,y,S){p===void 0&&(p=!0),m===void 0&&(m=!0),y===void 0&&(y=!0),S===void 0&&(S=!0),g.call(this,o,u,!0),this.bounds=new c(o,u,v,f),this.collideLeft=p,this.collideRight=m,this.collideTop=y,this.collideBottom=S},update:function(l){var o=this.bounds,u=-l.bounce,v=l.worldPosition;v.x<o.x&&this.collideLeft?(l.x+=o.x-v.x,l.velocityX*=u):v.x>o.right&&this.collideRight&&(l.x-=v.x-o.right,l.velocityX*=u),v.y<o.y&&this.collideTop?(l.y+=o.y-v.y,l.velocityY*=u):v.y>o.bottom&&this.collideBottom&&(l.y-=v.y-o.bottom,l.velocityY*=u)}});r.exports=h}),31600:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(53774),h=s(43459),l=s(26388),o=s(19909),u=s(76472),v=s(44777),f=s(20696),p=s(95643),m=s(95540),y=s(26546),S=s(24502),T=s(69036),b=s(1985),P=s(97022),w=s(86091),A=s(73162),R=s(20074),D=s(269),L=s(56480),k=s(69601),B=s(68875),F=s(87841),G=s(59996),N=s(72905),W=s(90668),X=s(19186),$=s(61340),J=s(26099),V=s(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],K=new a({Extends:p,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,W],initialize:function(Q,j,q,tt,st){p.call(this,Q,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new u("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new J,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new $,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new A(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(j,q),this.setTexture(tt),st&&this.setConfig(st)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(H){if(!H)return this;this.config=H;var Q=0,j="",q=this.ops;for(Q=0;Q<z.length;Q++)j=z[Q],q[j].loadConfig(H);for(Q=0;Q<Y.length;Q++)j=Y[Q],P(H,j)&&(this[j]=m(H,j));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=T(H,["moveToX","moveToY"]),P(H,"speed")&&(q.speedX.loadConfig(H,"speed"),q.speedY.active=!1),(b(H,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(H,"scale")&&(q.scaleX.loadConfig(H,"scale"),q.scaleY.active=!1),P(H,"callbackScope")){var tt=m(H,"callbackScope",null);this.emitCallbackScope=tt,this.deathCallbackScope=tt}if(P(H,"emitZone")&&this.addEmitZone(H.emitZone),P(H,"deathZone")&&this.addDeathZone(H.deathZone),P(H,"bounds")){var st=this.addParticleBounds(H.bounds);st.collideLeft=m(H,"collideLeft",!0),st.collideRight=m(H,"collideRight",!0),st.collideTop=m(H,"collideTop",!0),st.collideBottom=m(H,"collideBottom",!0)}return P(H,"followOffset")&&this.followOffset.setFromObject(m(H,"followOffset",0)),P(H,"texture")&&this.setTexture(H.texture),P(H,"frame")?this.setEmitterFrame(H.frame):P(H,"anim")&&this.setAnim(H.anim),P(H,"reserve")&&this.reserve(H.reserve),P(H,"advance")&&this.fastForward(H.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(f.START,this),this},updateConfig:function(H){return H&&(this.config?this.setConfig(D(this.config,H)):this.setConfig(H)),this},toJSON:function(){var H=c(this),Q=0,j="";for(Q=0;Q<Y.length;Q++)j=Y[Q],H[j]=this[j];var q=this.ops;for(Q=0;Q<z.length;Q++)j=z[Q],q[j]&&(H[j]=q[j].toJSON());return q.speedY.active||(delete H.speedX,H.speed=q.speedX.toJSON()),this.scaleX===this.scaleY&&(delete H.scaleX,delete H.scaleY,H.scale=q.scaleX.toJSON()),H},resetCounters:function(H,Q){var j=this.counters;j.fill(0),j[0]=H,Q&&(j[5]=1)},startFollow:function(H,Q,j,q){return Q===void 0&&(Q=0),j===void 0&&(j=0),q===void 0&&(q=!1),this.follow=H,this.followOffset.set(Q,j),this.trackVisible=q,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var H=this.frames,Q=H.length,j;return Q===1?j=H[0]:this.randomFrame?j=y(H):(j=H[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===Q&&(this.currentFrame=0))),this.texture.get(j)},setEmitterFrame:function(H,Q,j){Q===void 0&&(Q=!0),j===void 0&&(j=1),this.randomFrame=Q,this.frameQuantity=j,this.currentFrame=0;var q=typeof H;if(this.frames.length=0,Array.isArray(H))this.frames=this.frames.concat(H);else if(q==="string"||q==="number")this.frames.push(H);else if(q==="object"){var tt=H;H=m(tt,"frames",null),H&&(this.frames=this.frames.concat(H));var st=m(tt,"cycle",!1);this.randomFrame=!st,this.frameQuantity=m(tt,"quantity",j)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var H=this.anims,Q=H.length;if(Q===0)return null;if(Q===1)return H[0];if(this.randomAnim)return y(H);var j=H[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=V(this.currentAnim+1,0,Q)),j},setAnim:function(H,Q,j){Q===void 0&&(Q=!0),j===void 0&&(j=1),this.randomAnim=Q,this.animQuantity=j,this.currentAnim=0;var q=typeof H;if(this.anims.length=0,Array.isArray(H))this.anims=this.anims.concat(H);else if(q==="string")this.anims.push(H);else if(q==="object"){var tt=H;H=m(tt,"anims",null),H&&(this.anims=this.anims.concat(H));var st=m(tt,"cycle",!1);this.randomAnim=!st,this.animQuantity=m(tt,"quantity",j)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(H){return H===void 0&&(H=!0),this.radial=H,this},addParticleBounds:function(H,Q,j,q,tt,st,nt,at){if(typeof H=="object"){var ot=H;H=ot.x,Q=ot.y,j=P(ot,"w")?ot.w:ot.width,q=P(ot,"h")?ot.h:ot.height}return this.addParticleProcessor(new k(H,Q,j,q,tt,st,nt,at))},setParticleSpeed:function(H,Q){return Q===void 0&&(Q=H),this.ops.speedX.onChange(H),H===Q?this.ops.speedY.active=!1:this.ops.speedY.onChange(Q),this.radial=!0,this},setParticleScale:function(H,Q){return H===void 0&&(H=1),Q===void 0&&(Q=H),this.ops.scaleX.onChange(H),this.ops.scaleY.onChange(Q),this},setParticleGravity:function(H,Q){return this.gravityX=H,this.gravityY=Q,this},setParticleAlpha:function(H){return this.ops.alpha.onChange(H),this},setParticleTint:function(H){return this.ops.tint.onChange(H),this},setEmitterAngle:function(H){return this.ops.angle.onChange(H),this},setParticleLifespan:function(H){return this.ops.lifespan.onChange(H),this},setQuantity:function(H){return this.quantity=H,this},setFrequency:function(H,Q){return this.frequency=H,this.flowCounter=H>0?H:0,Q&&(this.quantity=Q),this},addDeathZone:function(H){Array.isArray(H)||(H=[H]);for(var Q,j=[],q=0;q<H.length;q++)if(Q=H[q],Q instanceof l)j.push(Q);else if(typeof Q.contains=="function")Q=new l(Q,!0),j.push(Q);else{var tt=m(Q,"type","onEnter"),st=m(Q,"source",null);if(st&&typeof st.contains=="function"){var nt=tt==="onEnter";Q=new l(st,nt),j.push(Q)}}return this.deathZones=this.deathZones.concat(j),j},removeDeathZone:function(H){return N(this.deathZones,H),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(H){Array.isArray(H)||(H=[H]);for(var Q,j=[],q=0;q<H.length;q++)if(Q=H[q],Q instanceof B||Q instanceof o)j.push(Q);else{var tt=m(Q,"source",null);if(tt){var st=m(Q,"type","random");if(st==="random"&&typeof tt.getRandomPoint=="function")Q=new B(tt),j.push(Q);else if(st==="edge"&&typeof tt.getPoints=="function"){var nt=m(Q,"quantity",1),at=m(Q,"stepRate",0),ot=m(Q,"yoyo",!1),mt=m(Q,"seamless",!0),St=m(Q,"total",-1);Q=new o(tt,nt,at,ot,mt,St),j.push(Q)}}}return this.emitZones=this.emitZones.concat(j),j},removeEmitZone:function(H){return N(this.emitZones,H),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(H){var Q=this.emitZones,j=Q.length;if(j!==0){var q=Q[this.zoneIndex];q.getPoint(H),q.total>-1&&(this.zoneTotal++,this.zoneTotal===q.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===j&&(this.zoneIndex=0)))}},getDeathZone:function(H){for(var Q=this.deathZones,j=0;j<Q.length;j++){var q=Q[j];if(q.willKill(H))return this.emit(f.DEATH_ZONE,this,H,q),!0}return!1},setEmitZone:function(H){var Q;return isFinite(H)?Q=H:Q=this.emitZones.indexOf(H),Q>=0&&(this.zoneIndex=Q),this},addParticleProcessor:function(H){return this.processors.exists(H)||(H.emitter&&H.emitter.removeParticleProcessor(H),this.processors.add(H),H.emitter=this),H},removeParticleProcessor:function(H){return this.processors.exists(H)&&(this.processors.remove(H,!0),H.emitter=null),H},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(H){return this.addParticleProcessor(new S(H))},reserve:function(H){var Q=this.dead;if(this.maxParticles>0){var j=this.getParticleCount();j+H>this.maxParticles&&(H=this.maxParticles-(j+H))}for(var q=0;q<H;q++)Q.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(H,Q){return H===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof H=="function"&&(this.emitCallback=H,Q&&(this.emitCallbackScope=Q)),this},onParticleDeath:function(H,Q){return H===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof H=="function"&&(this.deathCallback=H,Q&&(this.deathCallbackScope=Q)),this},killAll:function(){for(var H=this.dead,Q=this.alive;Q.length>0;)H.push(Q.pop());return this},forEachAlive:function(H,Q){for(var j=this.alive,q=j.length,tt=0;tt<q;tt++)H.call(Q,j[tt],this);return this},forEachDead:function(H,Q){for(var j=this.dead,q=j.length,tt=0;tt<q;tt++)H.call(Q,j[tt],this);return this},start:function(H,Q){return H===void 0&&(H=0),this.emitting||(H>0&&this.fastForward(H),this.emitting=!0,this.resetCounters(this.frequency,!0),Q!==void 0&&(this.duration=Math.abs(Q)),this.emit(f.START,this)),this},stop:function(H){return H===void 0&&(H=!1),this.emitting&&(this.emitting=!1,H&&this.killAll(),this.emit(f.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(H,Q){return H===void 0&&(H=""),Q===void 0&&(Q=this.true),this.sortProperty=H,this.sortOrderAsc=Q,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(H){return this.sortProperty!==""?H=this.depthSortCallback:H=null,this.sortCallback=H,this},depthSort:function(){return X(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(H,Q){var j=this.sortProperty;return this.sortOrderAsc?H[j]-Q[j]:Q[j]-H[j]},flow:function(H,Q,j){return Q===void 0&&(Q=1),this.emitting=!1,this.frequency=H,this.quantity=Q,j!==void 0&&(this.stopAfter=j),this.start()},explode:function(H,Q,j){this.frequency=-1,this.resetCounters(-1,!0);var q=this.emitParticle(H,Q,j);return this.emit(f.EXPLODE,this,q),q},emitParticleAt:function(H,Q,j){return this.emitParticle(j,H,Q)},emitParticle:function(H,Q,j){if(!this.atLimit()){H===void 0&&(H=this.ops.quantity.onEmit());for(var q=this.dead,tt=this.stopAfter,st=this.follow?this.follow.x+this.followOffset.x:Q,nt=this.follow?this.follow.y+this.followOffset.y:j,at=0;at<H;at++){var ot=q.pop();if(ot||(ot=new this.particleClass(this)),ot.fire(st,nt)?(this.particleBringToTop?this.alive.push(ot):this.alive.unshift(ot),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ot,this)):this.dead.push(ot),tt>0&&(this.stopCounter++,this.stopCounter>=tt)||this.atLimit())break}return ot}},fastForward:function(H,Q){Q===void 0&&(Q=1e3/60);var j=0;for(this.skipping=!0;j<Math.abs(H);)this.preUpdate(0,Q),j+=Q;return this.skipping=!1,this},preUpdate:function(H,Q){Q*=this.timeScale;var j=Q/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var q=this.getProcessors(),tt=this.alive,st=this.dead,nt=0,at=[],ot=tt.length;for(nt=0;nt<ot;nt++){var mt=tt[nt];mt.update(Q,j,q)&&at.push({index:nt,particle:mt})}if(ot=at.length,ot>0){var St=this.deathCallback,Ct=this.deathCallbackScope;for(nt=ot-1;nt>=0;nt--){var kt=at[nt];tt.splice(kt.index,1),st.push(kt.particle),St&&St.call(Ct,kt.particle),kt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&tt.length===0&&(this.completeFlag=0,this.emit(f.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=Q;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=Q,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(H){for(var Q=this.getWorldTransformMatrix(),j=this.alive,q=j.length,tt=[],st=0;st<q;st++){var nt=j[st];G(H,nt.getBounds(Q))&&tt.push(nt)}return tt},getBounds:function(H,Q,j,q){H===void 0&&(H=0),Q===void 0&&(Q=0),j===void 0&&(j=1e3/60),q===void 0&&(q=new F);var tt=this.getWorldTransformMatrix(),st,nt,at=this.alive,ot=!1;if(q.setTo(0,0,0,0),Q>0){var mt=0;for(this.skipping=!0;mt<Math.abs(Q);){for(this.preUpdate(0,j),st=0;st<at.length;st++)nt=at[st].getBounds(tt),ot?R(q,nt):(ot=!0,h(nt,q));mt+=j}this.skipping=!1}else for(st=0;st<at.length;st++)nt=at[st].getBounds(tt),ot?R(q,nt):(ot=!0,h(nt,q));return H>0&&w(q,H,H),q},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(H){this.ops.x.onChange(H)}},particleY:{get:function(){return this.ops.y.current},set:function(H){this.ops.y.onChange(H)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(H){this.ops.accelerationX.onChange(H)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(H){this.ops.accelerationY.onChange(H)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(H){this.ops.maxVelocityX.onChange(H)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(H){this.ops.maxVelocityY.onChange(H)}},speed:{get:function(){return this.ops.speedX.current},set:function(H){this.ops.speedX.onChange(H),this.ops.speedY.onChange(H)}},speedX:{get:function(){return this.ops.speedX.current},set:function(H){this.ops.speedX.onChange(H)}},speedY:{get:function(){return this.ops.speedY.current},set:function(H){this.ops.speedY.onChange(H)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(H){this.ops.moveToX.onChange(H)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(H){this.ops.moveToY.onChange(H)}},bounce:{get:function(){return this.ops.bounce.current},set:function(H){this.ops.bounce.onChange(H)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(H){this.ops.scaleX.onChange(H)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(H){this.ops.scaleY.onChange(H)}},particleColor:{get:function(){return this.ops.color.current},set:function(H){this.ops.color.onChange(H)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(H){this.ops.color.setEase(H)}},particleTint:{get:function(){return this.ops.tint.current},set:function(H){this.ops.tint.onChange(H)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(H){this.ops.alpha.onChange(H)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(H){this.ops.lifespan.onChange(H)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(H){this.ops.angle.onChange(H)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(H){this.ops.rotate.onChange(H)}},quantity:{get:function(){return this.ops.quantity.current},set:function(H){this.ops.quantity.onChange(H)}},delay:{get:function(){return this.ops.delay.current},set:function(H){this.ops.delay.onChange(H)}},hold:{get:function(){return this.ops.hold.current},set:function(H){this.ops.hold.onChange(H)}},flowCounter:{get:function(){return this.counters[0]},set:function(H){this.counters[0]=H}},frameCounter:{get:function(){return this.counters[1]},set:function(H){this.counters[1]=H}},animCounter:{get:function(){return this.counters[2]},set:function(H){this.counters[2]=H}},elapsed:{get:function(){return this.counters[3]},set:function(H){this.counters[3]=H}},stopCounter:{get:function(){return this.counters[4]},set:function(H){this.counters[4]=H}},completeFlag:{get:function(){return this.counters[5]},set:function(H){this.counters[5]=H}},zoneIndex:{get:function(){return this.counters[6]},set:function(H){this.counters[6]=H}},zoneTotal:{get:function(){return this.counters[7]},set:function(H){this.counters[7]=H}},currentFrame:{get:function(){return this.counters[8]},set:function(H){this.counters[8]=H}},currentAnim:{get:function(){return this.counters[9]},set:function(H){this.counters[9]=H}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var H,Q=this.ops;for(H=0;H<z.length;H++){var j=z[H];Q[j].destroy()}for(H=0;H<this.alive.length;H++)this.alive[H].destroy();for(H=0;H<this.dead.length;H++)this.dead[H].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=K}),9871:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(59996),g=s(61340),c=new g,h=new g,l=new g,o=new g,u=function(v,f,p,m){var y=c,S=h,T=l,b=o;m?(b.loadIdentity(),b.multiply(m),b.translate(f.x,f.y),b.rotate(f.rotation),b.scale(f.scaleX,f.scaleY)):b.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);var P=v.currentContext,w=p.roundPixels,A=p.alpha,R=f.alpha,D=f.alive,L=D.length,k=f.viewBounds;if(!(!f.visible||L===0||k&&!a(k,p.worldView))){f.sortCallback&&f.depthSort(),p.addToRenderList(f);var B=f.scrollFactorX,F=f.scrollFactorY;P.save(),P.globalCompositeOperation=v.blendModes[f.blendMode];for(var G=0;G<L;G++){var N=D[G],W=N.alpha*R*A;if(!(W<=0||N.scaleX===0||N.scaleY===0)){T.applyITRS(N.x,N.y,N.rotation,N.scaleX,N.scaleY),y.copyFrom(p.matrix),y.multiplyWithOffset(b,-p.scrollX*B,-p.scrollY*F),T.e=N.x,T.f=N.y,y.multiply(T,S);var X=N.frame,$=X.canvasData;if($.width>0&&$.height>0){var J=-X.halfWidth,V=-X.halfHeight;P.globalAlpha=W,P.save(),S.setToContext(P),w&&(J=Math.round(J),V=Math.round(V)),P.imageSmoothingEnabled=!X.source.scaleMode,P.drawImage(X.source.image,$.x,$.y,$.width,$.height,J,V,$.width,$.height),P.restore()}}}P.restore()}};r.exports=u}),92730:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(95540),l=s(31600);g.register("particles",function(o,u){o===void 0&&(o={});var v=c(o,"key",null),f=h(o,"config",null),p=new l(this.scene,0,0,v);return u!==void 0&&(o.add=u),a(this.scene,p,o),f&&p.setConfig(f),p})}),676:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(31600);a.register("particles",function(c,h,l,o){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,c,h,l,o))})}),90668:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(21188),c=s(9871),r.exports={renderWebGL:g,renderCanvas:c}}),21188:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(59996),g=s(61340),c=s(70554),h=new g,l=new g,o=new g,u=new g,v=function(f,p,m,y){var S=f.pipelines.set(p.pipeline),T=h,b=l,P=o,w=u;y?(w.loadIdentity(),w.multiply(y),w.translate(p.x,p.y),w.rotate(p.rotation),w.scale(p.scaleX,p.scaleY)):w.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var A=c.getTintAppendFloatAlpha,R=m.alpha,D=p.alpha;f.pipelines.preBatch(p);var L=p.alive,k=L.length,B=p.viewBounds;if(!(k===0||B&&!a(B,m.worldView))){p.sortCallback&&p.depthSort(),m.addToRenderList(p),T.copyFrom(m.matrix),T.multiplyWithOffset(w,-m.scrollX*p.scrollFactorX,-m.scrollY*p.scrollFactorY),f.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(f,p,m),f.pipelines.set(p.pipeline));for(var F=p.tintFill,G,N,W=0;W<k;W++){var X=L[W],$=X.alpha*D*R;if(!($<=0||X.scaleX===0||X.scaleY===0)){P.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),P.e=X.x,P.f=X.y,T.multiply(P,b);var J=X.frame;J.glTexture!==N&&(N=J.glTexture,G=S.setGameObject(p,J));var V=-J.halfWidth,Y=-J.halfHeight,z=b.setQuad(V,Y,V+J.width,Y+J.height),K=A(X.tint,$);S.shouldFlush(6)&&(S.flush(),G=S.setGameObject(p,J)),S.batchQuad(p,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],J.u0,J.v0,J.u1,J.v1,K,K,K,K,F,N,G)}}p.mask&&p.mask.postRenderWebGL(f,m),f.pipelines.postBatch(p)}};r.exports=v}),20286:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=!0),this.emitter,this.x=h,this.y=l,this.active=o},update:function(){},destroy:function(){this.emitter=null}});r.exports=g}),9774:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),812:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"}),30522:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"}),96695:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"}),18677:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"}),20696:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}}),18404:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}}),26388:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.source=h,this.killOnEnter=l},willKill:function(c){var h=c.worldPosition,l=this.source.contains(h.x,h.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});r.exports=g}),19909:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u,v,f){u===void 0&&(u=!1),v===void 0&&(v=!0),f===void 0&&(f=-1),this.source=h,this.points=[],this.quantity=l,this.stepRate=o,this.yoyo=u,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=f,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],h=this.points[this.points.length-1];c.x===h.x&&c.y===h.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(c){return this.source=c,this.updateSource()},getPoint:function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(c.x=h.x,c.y=h.y)}});r.exports=g}),68875:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),c=new a({initialize:function(l){this.source=l,this._tempVec=new g,this.total=-1},getPoint:function(h){var l=this._tempVec;this.source.getRandomPoint(l),h.x=l.x,h.y=l.y}});r.exports=c}),21024:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}}),1159:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(68287),h=new a({Extends:c,Mixins:[g.PathFollower],initialize:function(o,u,v,f,p,m){c.call(this,o,v,f,p,m),this.path=u},preUpdate:function(l,o){this.anims.update(l,o),this.pathUpdate(l)}});r.exports=h}),90145:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(1159);a.register("follower",function(c,h,l,o,u){var v=new g(this.scene,c,h,l,o,u);return this.displayList.add(v),this.updateList.add(v),v})}),33663:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),c=s(48803),h=s(90664),l=s(4703),o=s(45650),u=new g({Extends:l,initialize:function(f,p,m,y,S,T,b,P){y||(y="__DEFAULT"),l.call(this,f,p,m,y,S),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,b,P),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,f,p){v===void 0&&(v=8),f===void 0&&(f=8),p===void 0&&(p=!1);var m=!1;return p&&(m=!0),this.gridWidth=v,this.gridHeight=f,this.isTiled=p,this.clear(),c({mesh:this,widthSegments:v,heightSegments:f,isOrtho:!1,tile:p,flipY:m}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var f=this.frame;if(this.setPerspective(this.width/f.width,this.height/f.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var p=this.gridWidth,m=this.gridHeight,y=this.vertices,S=f.u0,T=f.u1,b=f.v0,P=f.v1,w,A,R=0;if(this.isTiled)for(b=f.v1,P=f.v0,A=0;A<m;A++)for(w=0;w<p;w++)y[R++].setUVs(S,P),y[R++].setUVs(S,b),y[R++].setUVs(T,P),y[R++].setUVs(S,b),y[R++].setUVs(T,b),y[R++].setUVs(T,P);else{var D=p+1,L=m+1,k=T-S,B=P-b,F=[];for(A=0;A<L;A++)for(w=0;w<D;w++){var G=S+k*(w/p),N=b+B*(A/m);F.push(G,N)}for(A=0;A<m;A++)for(w=0;w<p;w++){var W=(w+D*A)*2,X=(w+D*(A+1))*2,$=(w+1+D*(A+1))*2,J=(w+1+D*A)*2;y[R++].setUVs(F[W],F[W+1]),y[R++].setUVs(F[X],F[X+1]),y[R++].setUVs(F[J],F[J+1]),y[R++].setUVs(F[X],F[X+1]),y[R++].setUVs(F[$],F[$+1]),y[R++].setUVs(F[J],F[J+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var f=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(f/2),this.dirtyCache[10]=1},createCheckerboard:function(v,f,p,m,y){v===void 0&&(v=16777215),f===void 0&&(f=255),p===void 0&&(p=255),m===void 0&&(m=255),y===void 0&&(y=128);for(var S=h(v),T=h(f),b=[],P=0;P<16;P++)for(var w=0;w<16;w++)P<8&&w<8||P>7&&w>7?b.push(S.r,S.g,S.b,p):b.push(T.r,T.g,T.b,m);var A=this.scene.sys.textures.addUint8Array(o(),new Uint8Array(b),16,16);return this.removeCheckerboard(),this.setTexture(A),this.setSizeToFrame(),this.setViewHeight(y),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,f){return this.anims.play(v,f)},playReverse:function(v,f){return this.anims.playReverse(v,f)},playAfterDelay:function(v,f){return this.anims.playAfterDelay(v,f)},playAfterRepeat:function(v,f){return this.anims.playAfterRepeat(v,f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,f){l.prototype.preUpdate.call(this,v,f),this.anims.update(v,f)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=u}),56015:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(13059),c=s(44603),h=s(23568),l=s(35154),o=s(33663);c.register("plane",function(u,v){u===void 0&&(u={});var f=h(u,"key",null),p=h(u,"frame",null),m=l(u,"width",8),y=l(u,"height",8),S=l(u,"tile",!1),T=new o(this.scene,0,0,f,p,m,y,S);v!==void 0&&(u.add=v);var b=l(u,"checkerboard",null);if(b){var P=l(b,"color1",16777215),w=l(b,"color2",255),A=l(b,"alpha1",255),R=l(b,"alpha2",255),D=l(b,"height",128);T.createCheckerboard(P,w,A,R,D)}return a(this.scene,T,u),g(T,u),T})}),30985:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33663),g=s(39429);g.register("plane",function(c,h,l,o,u,v,f){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f))})}),80321:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(30100),l=s(36060),o=s(67277),u=new a({Extends:c,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(f,p,m,y,S,T,b){y===void 0&&(y=16777215),S===void 0&&(S=128),T===void 0&&(T=1),b===void 0&&(b=.1),c.call(this,f,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,m),this.color=h(y),this.intensity=T,this.attenuation=b,this.width=S*2,this.height=S*2,this._radius=S},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=u}),39829:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(80321);g.register("pointlight",function(l,o){l===void 0&&(l={});var u=c(l,"color",16777215),v=c(l,"radius",128),f=c(l,"intensity",1),p=c(l,"attenuation",.1),m=new h(this.scene,0,0,u,v,f,p);return o!==void 0&&(l.add=o),a(this.scene,m,l),m})}),71255:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(80321);a.register("pointlight",function(c,h,l,o,u,v){return this.displayList.add(new g(this.scene,c,h,l,o,u,v))})}),67277:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(57787),r.exports={renderWebGL:g,renderCanvas:c}}),57787:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(c,h,l,o){l.addToRenderList(h);var u=c.pipelines.set(h.pipeline),v=a(h,l,o).calc,f=h.width,p=h.height,m=-h._radius,y=-h._radius,S=m+f,T=y+p,b=v.getX(0,0),P=v.getY(0,0),w=v.getX(m,y),A=v.getY(m,y),R=v.getX(m,T),D=v.getY(m,T),L=v.getX(S,T),k=v.getY(S,T),B=v.getX(S,y),F=v.getY(S,y);c.pipelines.preBatch(h),u.batchPointLight(h,l,w,A,R,D,L,k,B,F,b,P),c.pipelines.postBatch(h)};r.exports=g}),591:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(81320),c=s(88571),h=new a({Extends:c,initialize:function(o,u,v,f,p,m){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=32),p===void 0&&(p=32),m===void 0&&(m=!0);var y=new g(o.sys.textures,"",f,p,m);c.call(this,o,u,v,y),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,o){this.width=l,this.height=o,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=l,u.hitArea.height=o),this},resize:function(l,o,u){return this.texture.setSize(l,o,u),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var o=this.texture;return o.key=l,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(l,o,u,v,f,p){return this.texture.fill(l,o,u,v,f,p),this},clear:function(){return this.texture.clear(),this},stamp:function(l,o,u,v,f){return this.texture.stamp(l,o,u,v,f),this},erase:function(l,o,u){return this.texture.erase(l,o,u),this},draw:function(l,o,u,v,f){return this.texture.draw(l,o,u,v,f),this},drawFrame:function(l,o,u,v,f,p){return this.texture.drawFrame(l,o,u,v,f,p),this},repeat:function(l,o,u,v,f,p,m,y,S){return this.texture.repeat(l,o,u,v,f,p,m,y,S),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,o,u,v,f){return this.texture.batchDraw(l,o,u,v,f),this},batchDrawFrame:function(l,o,u,v,f,p){return this.texture.batchDrawFrame(l,o,u,v,f,p),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,o,u,v,f,p,m){return this.texture.snapshotArea(l,o,u,v,f,p,m),this},snapshot:function(l,o,u){return this.snapshotArea(0,0,this.width,this.height,l,o,u)},snapshotPixel:function(l,o,u){return this.snapshotArea(l,o,1,1,u,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=h}),34495:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(591);g.register("renderTexture",function(l,o){l===void 0&&(l={});var u=c(l,"x",0),v=c(l,"y",0),f=c(l,"width",32),p=c(l,"height",32),m=new h(this.scene,u,v,f,p);return o!==void 0&&(l.add=o),a(this.scene,m,l),m})}),60505:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(591);a.register("renderTexture",function(c,h,l,o){return this.displayList.add(new g(this.scene,c,h,l,o))})}),77757:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),c=s(31401),h=s(95643),l=s(36060),o=s(38745),u=s(26099),v=new g({Extends:h,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,o],initialize:function(p,m,y,S,T,b,P,w,A){S===void 0&&(S="__DEFAULT"),b===void 0&&(b=2),P===void 0&&(P=!0),h.call(this,p,"Rope"),this.anims=new a(this),this.points=b,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=S==="__DEFAULT",this.dirty=!1,this.horizontal=P,this._flipX=!1,this._flipY=!1,this._perp=new u,this.debugCallback=null,this.debugGraphic=null,this.setTexture(S,T),this.setPosition(m,y),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(b)&&this.resizeArrays(b.length),this.setPoints(b,w,A),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,p){var m=this.anims.currentFrame;this.anims.update(f,p),this.anims.currentFrame!==m&&(this.updateUVs(),this.updateVertices())},play:function(f,p,m){return this.anims.play(f,p,m),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(f,p,m){return f===void 0&&(f=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(f,p,m))},setVertical:function(f,p,m){return f===void 0&&(f=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(f,p,m)):this},setTintFill:function(f){return f===void 0&&(f=!1),this.tintFill=f,this},setAlphas:function(f,p){var m=this.points.length;if(m<1)return this;var y=this.alphas;f===void 0?f=[1]:!Array.isArray(f)&&p===void 0&&(f=[f]);var S,T=0;if(p!==void 0)for(S=0;S<m;S++)T=S*2,y[T]=f,y[T+1]=p;else if(f.length===m)for(S=0;S<m;S++)T=S*2,y[T]=f[S],y[T+1]=f[S];else{var b=f[0];for(S=0;S<m;S++)T=S*2,f.length>T&&(b=f[T]),y[T]=b,f.length>T+1&&(b=f[T+1]),y[T+1]=b}return this},setColors:function(f){var p=this.points.length;if(p<1)return this;var m=this.colors;f===void 0?f=[16777215]:Array.isArray(f)||(f=[f]);var y,S=0;if(f.length===p)for(y=0;y<p;y++)S=y*2,m[S]=f[y],m[S+1]=f[y];else{var T=f[0];for(y=0;y<p;y++)S=y*2,f.length>S&&(T=f[S]),m[S]=T,f.length>S+1&&(T=f[S+1]),m[S+1]=T}return this},setPoints:function(f,p,m){if(f===void 0&&(f=2),typeof f=="number"){var y=f;y<2&&(y=2),f=[];var S,T,b;if(this.horizontal)for(b=-this.frame.halfWidth,T=this.frame.width/(y-1),S=0;S<y;S++)f.push({x:b+S*T,y:0});else for(b=-this.frame.halfHeight,T=this.frame.height/(y-1),S=0;S<y;S++)f.push({x:0,y:b+S*T})}var P=f.length,w=this.points.length;return P<1?(console.warn("Rope: Not enough points given"),this):(P===1&&(f.unshift({x:0,y:0}),P++),w!==P&&this.resizeArrays(P),this.dirty=!0,this.points=f,this.updateUVs(),p!=null&&this.setColors(p),m!=null&&this.setAlphas(m),this)},updateUVs:function(){for(var f=this.uv,p=this.points.length,m=this.frame.u0,y=this.frame.v0,S=this.frame.u1,T=this.frame.v1,b=(S-m)/(p-1),P=(T-y)/(p-1),w=0;w<p;w++){var A=w*4,R,D,L,k;this.horizontal?(this._flipX?(R=S-w*b,L=S-w*b):(R=m+w*b,L=m+w*b),this._flipY?(D=T,k=y):(D=y,k=T)):(this._flipX?(R=m,L=S):(R=S,L=m),this._flipY?(D=T-w*P,k=T-w*P):(D=y+w*P,k=y+w*P)),f[A+0]=R,f[A+1]=D,f[A+2]=L,f[A+3]=k}return this},resizeArrays:function(f){var p=this.colors,m=this.alphas;this.vertices=new Float32Array(f*4),this.uv=new Float32Array(f*4),p=new Uint32Array(f*2),m=new Float32Array(f*2);for(var y=0;y<f*2;y++)p[y]=16777215,m[y]=1;return this.colors=p,this.alphas=m,this.dirty=!0,this},updateVertices:function(){var f=this._perp,p=this.points,m=this.vertices,y=p.length;if(this.dirty=!1,!(y<1)){for(var S,T=p[0],b=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,P=0;P<y;P++){var w=p[P],A=P*4;P<y-1?S=p[P+1]:S=w,f.x=S.y-T.y,f.y=-(S.x-T.x);var R=f.length();f.x/=R,f.y/=R,f.x*=b,f.y*=b,m[A]=w.x+f.x,m[A+1]=w.y+f.y,m[A+2]=w.x-f.x,m[A+3]=w.y-f.y,T=w}return this}},setDebug:function(f,p){return this.debugGraphic=f,!f&&!p?this.debugCallback=null:p?this.debugCallback=p:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(f,p,m){var y=f.debugGraphic,S=m[0],T=m[1],b=m[2],P=m[3];y.lineBetween(S,T,b,P);for(var w=4;w<p;w+=4){var A=m[w+0],R=m[w+1],D=m[w+2],L=m[w+3];y.lineBetween(S,T,A,R),y.lineBetween(b,P,D,L),y.lineBetween(b,P,A,R),y.lineBetween(A,R,D,L),S=A,T=R,b=D,P=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(f){return this._flipX=f,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(f){return this._flipY=f,this.updateUVs()}}});r.exports=v}),95262:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x}),26209:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(35154),l=s(77757);g.register("rope",function(o,u){o===void 0&&(o={});var v=c(o,"key",null),f=c(o,"frame",null),p=c(o,"horizontal",!0),m=h(o,"points",void 0),y=h(o,"colors",void 0),S=h(o,"alphas",void 0),T=new l(this.scene,0,0,v,f,m,p,y,S);return u!==void 0&&(o.add=u),a(this.scene,T,o),T})}),96819:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(77757),g=s(39429);g.register("rope",function(c,h,l,o,u,v,f,p){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f,p))})}),38745:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(20439),c=s(95262),r.exports={renderWebGL:g,renderCanvas:c}}),20439:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline,l),f=a(l,o,u).calc,p=l.vertices,m=l.uv,y=l.colors,S=l.alphas,T=l.alpha,b=g.getTintAppendFloatAlpha,P=o.roundPixels,w=p.length,A=Math.floor(w*.5);v.flush(),h.pipelines.preBatch(l);var R=v.setGameObject(l),D=v.vertexViewF32,L=v.vertexViewU32,k=v.vertexCount*v.currentShader.vertexComponentCount-1,B=0,F=l.tintFill;l.dirty&&l.updateVertices();for(var G=l.debugCallback,N=[],W=0;W<w;W+=2){var X=p[W+0],$=p[W+1],J=X*f.a+$*f.c+f.e,V=X*f.b+$*f.d+f.f;P&&(J=Math.round(J),V=Math.round(V)),D[++k]=J,D[++k]=V,D[++k]=m[W+0],D[++k]=m[W+1],D[++k]=R,D[++k]=F,L[++k]=b(y[B],o.alpha*(S[B]*T)),B++,G&&(N[W+0]=J,N[W+1]=V)}G&&G.call(l,l,w,N),v.vertexCount+=A,v.currentBatch.count=v.vertexCount-v.currentBatch.start,h.pipelines.postBatch(l)};r.exports=c}),20071:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(95540),l=s(79291),o=s(61622),u=s(25479),v=s(61340),f=s(95428),p=s(92503),m=new a({Extends:c,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,u],initialize:function(S,T,b,P,w,A,R,D){b===void 0&&(b=0),P===void 0&&(P=0),w===void 0&&(w=128),A===void 0&&(A=128),c.call(this,S,"Shader"),this.blendMode=-1,this.shader;var L=S.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(b,P),this.setSize(w,A),this.setOrigin(.5,.5),this.setShader(T,R,D),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(y){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&y.id)},setRenderToTexture:function(y,S){if(!this.renderToTexture){var T=this.width,b=this.height,P=this.renderer;this.glTexture=P.createTextureFromSource(null,T,b,0),this.framebuffer=P.createFramebuffer(T,b,this.glTexture,!1),this._rendererWidth=T,this._rendererHeight=b,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),y&&(this.texture=this.scene.sys.textures.addGLTexture(y,this.glTexture))}return this.shader&&(P.pipelines.clear(),this.load(),this.flush(),P.pipelines.rebind()),this},setShader:function(y,S,T){if(this.renderer.contextLost)return this._deferSetShader={key:y,textures:S,textureData:T},this;if(S===void 0&&(S=[]),typeof y=="string"){var b=this.scene.sys.cache.shader;if(!b.has(y))return console.warn("Shader missing: "+y),this;this.shader=b.get(y)}else this.shader=y;var P=this.gl,w=this.renderer;this.program&&w.deleteProgram(this.program);var A=w.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);P.uniformMatrix4fv(P.getUniformLocation(A.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),P.uniformMatrix4fv(P.getUniformLocation(A.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),P.uniform2f(P.getUniformLocation(A.webGLProgram,"uResolution"),this.width,this.height),this.program=A;var R=new Date,D={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,D):this.uniforms=D;for(var L=0;L<4;L++)S[L]&&this.setSampler2D("iChannel"+L,S[L],L,T);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(y){return this.pointer=y,this},projOrtho:function(y,S,T,b){if(this.renderer.contextLost){this._deferProjOrtho={left:y,right:S,bottom:T,top:b};return}var P=-1e3,w=1e3,A=1/(y-S),R=1/(T-b),D=1/(P-w),L=this.projectionMatrix;L[0]=-2*A,L[5]=-2*R,L[10]=2*D,L[12]=(y+S)*A,L[13]=(b+T)*R,L[14]=(w+P)*D;var k=this.program,B=this.gl,F=this.renderer;F.setProgram(k),B.uniformMatrix4fv(B.getUniformLocation(k.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=S,this._rendererHeight=T},initUniforms:function(){var y=this.renderer.glFuncMap,S=this.program;this._textureCount=0;for(var T in this.uniforms){var b=this.uniforms[T],P=b.type,w=y[P];b.uniformLocation=this.renderer.createUniformLocation(S,T),P!=="sampler2D"&&(b.glMatrix=w.matrix,b.glValueLength=w.length,b.glFunc=w.func)}},setSampler2DBuffer:function(y,S,T,b,P,w){P===void 0&&(P=0),w===void 0&&(w={});var A=this.uniforms[y];return A.value=S,w.width=T,w.height=b,A.textureData=w,this._textureCount=P,this.initSampler2D(A),this},setSampler2D:function(y,S,T,b){T===void 0&&(T=0);var P=this.scene.sys.textures;if(P.exists(S)){var w=P.getFrame(S);if(w.glTexture&&w.glTexture.isRenderTexture)return this.setSampler2DBuffer(y,w.glTexture,w.width,w.height,T,b);var A=this.uniforms[y],R=w.source;A.textureKey=S,A.source=R.image,A.value=w.glTexture,R.isGLTexture&&(b||(b={}),b.width=R.width,b.height=R.height),b&&(A.textureData=b),this._textureCount=T,this.initSampler2D(A)}return this},setUniform:function(y,S){return o(this.uniforms,y,S),this},getUniform:function(y){return h(this.uniforms,y,null)},setChannel0:function(y,S){return this.setSampler2D("iChannel0",y,0,S)},setChannel1:function(y,S){return this.setSampler2D("iChannel1",y,1,S)},setChannel2:function(y,S){return this.setSampler2D("iChannel2",y,2,S)},setChannel3:function(y,S){return this.setSampler2D("iChannel3",y,3,S)},initSampler2D:function(y){if(y.value){var S=y.textureData;if(S&&!y.value.isRenderTexture){var T=this.gl,b=y.value,P=T[h(S,"magFilter","linear").toUpperCase()],w=T[h(S,"minFilter","linear").toUpperCase()],A=T[h(S,"wrapS","repeat").toUpperCase()],R=T[h(S,"wrapT","repeat").toUpperCase()],D=T[h(S,"format","rgba").toUpperCase()],L=h(S,"flipY",!1),k=h(S,"width",b.width),B=h(S,"height",b.height),F=h(S,"source",b.pixels);S.repeat&&(A=T.REPEAT,R=T.REPEAT),S.width&&(F=null),b.update(F,k,B,L,A,R,w,P,D)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var y=this.gl,S=this.uniforms,T,b,P,w,A,R=0;for(var D in S)T=S[D],P=T.glFunc,b=T.glValueLength,w=T.uniformLocation,A=T.value,A!==null&&(b===1?T.glMatrix?P.call(y,w.webGLUniformLocation,T.transpose,A):P.call(y,w.webGLUniformLocation,A):b===2?P.call(y,w.webGLUniformLocation,A.x,A.y):b===3?P.call(y,w.webGLUniformLocation,A.x,A.y,A.z):b===4?P.call(y,w.webGLUniformLocation,A.x,A.y,A.z,A.w):T.type==="sampler2D"&&(y.activeTexture(y.TEXTURE0+R),y.bindTexture(y.TEXTURE_2D,A.webGLTexture),y.uniform1i(w.webGLUniformLocation,R),R++))},load:function(y){var S=this.gl,T=this.width,b=this.height,P=this.renderer,w=this.program,A=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,D=-this._displayOriginY;A[0]=y[0],A[1]=y[1],A[4]=y[2],A[5]=y[3],A[8]=y[4],A[9]=y[5],A[12]=A[0]*R+A[4]*D,A[13]=A[1]*R+A[5]*D}S.useProgram(w.webGLProgram),S.uniformMatrix4fv(S.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,A),S.uniformMatrix4fv(S.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),S.uniform2f(S.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,k=L.resolution;k.value.x=T,k.value.y=b,L.time.value=P.game.loop.getDuration();var B=this.pointer;if(B){var F=L.mouse,G=B.x/T,N=1-B.y/b;F.value.x=G.toFixed(2),F.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var y=this.width,S=this.height,T=this.program,b=this.gl,P=this.vertexBuffer,w=this.renderer,A=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(w.setFramebuffer(this.framebuffer),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)),b.bindBuffer(b.ARRAY_BUFFER,P.webGLBuffer);var R=b.getAttribLocation(T.webGLProgram,"inPosition");R!==-1&&(b.enableVertexAttribArray(R),b.vertexAttribPointer(R,2,b.FLOAT,!1,A,0));var D=this.vertexViewF32;D[3]=S,D[4]=y,D[5]=S,D[8]=y,D[9]=S,D[10]=y;var L=6;b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,L*A)),b.drawArrays(b.TRIANGLES,0,L),this.renderToTexture&&w.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var y=this._deferSetShader.key,S=this._deferSetShader.textures,T=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(y,S,T)}if(this._deferProjOrtho!==null){var b=this._deferProjOrtho.left,P=this._deferProjOrtho.right,w=this._deferProjOrtho.bottom,A=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(b,P,w,A)}},preDestroy:function(){var y=this.renderer;y.off(p.RESTORE_WEBGL,this.onContextRestored,this),y.deleteProgram(this.program),y.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(y.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),f(this.uniforms,function(S){y.deleteUniformLocation(S.uniformLocation),S.uniformLocation=null})}});r.exports=m}),80464:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x}),54935:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(20071);g.register("shader",function(l,o){l===void 0&&(l={});var u=c(l,"key",null),v=c(l,"x",0),f=c(l,"y",0),p=c(l,"width",128),m=c(l,"height",128),y=new h(this.scene,u,v,f,p,m);return o!==void 0&&(l.add=o),a(this.scene,y,l),y})}),74177:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20071),g=s(39429);g.register("shader",function(c,h,l,o,u,v,f){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f))})}),25479:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(19257),c=s(80464),r.exports={renderWebGL:g,renderCanvas:c}}),19257:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(c,h,l,o){if(h.shader){if(l.addToRenderList(h),c.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var u=a(h,l,o).calc;(c.width!==h._rendererWidth||c.height!==h._rendererHeight)&&h.projOrtho(0,c.width,c.height,0),h.load(u.matrix),h.flush()}c.pipelines.rebind()}};r.exports=g}),10441:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(c,h,l,o,u,v){for(var f=a.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*o),p=l.pathData,m=l.pathIndexes,y=0;y<m.length;y+=3){var S=m[y]*2,T=m[y+1]*2,b=m[y+2]*2,P=p[S+0]-u,w=p[S+1]-v,A=p[T+0]-u,R=p[T+1]-v,D=p[b+0]-u,L=p[b+1]-v,k=h.getX(P,w),B=h.getY(P,w),F=h.getX(A,R),G=h.getY(A,R),N=h.getX(D,L),W=h.getY(D,L);c.batchTri(l,k,B,F,G,N,W,0,0,1,1,f,f,f,2)}};r.exports=g}),65960:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=g||a.fillColor,l=c||a.fillAlpha,o=(h&16711680)>>>16,u=(h&65280)>>>8,v=h&255;s.fillStyle="rgba("+o+","+u+","+v+","+l+")"};r.exports=x}),75177:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=g||a.strokeColor,l=c||a.strokeAlpha,o=(h&16711680)>>>16,u=(h&65280)>>>8,v=h&255;s.strokeStyle="rgba("+o+","+u+","+v+","+l+")",s.lineWidth=a.lineWidth};r.exports=x}),17803:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(95643),h=s(23031),l=new a({Extends:c,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(u,v,f){v===void 0&&(v="Shape"),c.call(this,u,v),this.geom=f,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,u){return u===void 0&&(u=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=u,this.isFilled=!0),this},setStrokeStyle:function(o,u,v){return v===void 0&&(v=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=u,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,u){return this.width=o,this.height=u,this},setDisplaySize:function(o,u){return this.displayWidth=o,this.displayHeight=u,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});r.exports=l}),34682:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(c,h,l,o,u){var v=c.strokeTint,f=a.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*l);v.TL=f,v.TR=f,v.BL=f,v.BR=f;var p=h.pathData,m=p.length-1,y=h.lineWidth,S=y/2,T=p[0]-o,b=p[1]-u;h.closePath||(m-=2);for(var P=2;P<m;P+=2){var w=p[P]-o,A=p[P+1]-u;c.batchLine(T,b,w,A,S,S,y,P-2,h.closePath?P===m-1:!1),T=w,b=A}};r.exports=g}),23629:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13609),g=s(83419),c=s(39506),h=s(94811),l=s(96503),o=s(36383),u=s(17803),v=new g({Extends:u,Mixins:[a],initialize:function(p,m,y,S,T,b,P,w,A){m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=128),T===void 0&&(T=0),b===void 0&&(b=360),P===void 0&&(P=!1),u.call(this,p,"Arc",new l(0,0,S)),this._startAngle=T,this._endAngle=b,this._anticlockwise=P,this._iterations=.01,this.setPosition(m,y);var R=this.geom.radius*2;this.setSize(R,R),w!==void 0&&this.setFillStyle(w,A),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(f){this._iterations=f,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(f){this.geom.radius=f;var p=f*2;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(f){this._startAngle=f,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(f){this._endAngle=f,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(f){this._anticlockwise=f,this.updateData()}},setRadius:function(f){return this.radius=f,this},setIterations:function(f){return f===void 0&&(f=.01),this.iterations=f,this},setStartAngle:function(f,p){return this._startAngle=f,p!==void 0&&(this._anticlockwise=p),this.updateData()},setEndAngle:function(f,p){return this._endAngle=f,p!==void 0&&(this._anticlockwise=p),this.updateData()},updateData:function(){var f=this._iterations,p=f,m=this.geom.radius,y=c(this._startAngle),S=c(this._endAngle),T=this._anticlockwise,b=m,P=m;S-=y,T?S<-o.PI2?S=-o.PI2:S>0&&(S=-o.PI2+S%o.PI2):S>o.PI2?S=o.PI2:S<0&&(S=o.PI2+S%o.PI2);for(var w=[b+Math.cos(y)*m,P+Math.sin(y)*m],A;p<1;)A=S*p+y,w.push(b+Math.cos(A)*m,P+Math.sin(A)*m),p+=f;return A=S+y,w.push(b+Math.cos(A)*m,P+Math.sin(A)*m),w.push(b+Math.cos(y)*m,P+Math.sin(y)*m),this.pathIndexes=h(w),this.pathData=w,this}});r.exports=v}),42542:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39506),g=s(65960),c=s(75177),h=s(20926),l=function(o,u,v,f){v.addToRenderList(u);var p=o.currentContext;if(h(o,p,u,v,f)){var m=u.radius;p.beginPath(),p.arc(m-u.originX*(m*2),m-u.originY*(m*2),m,a(u._startAngle),a(u._endAngle),u.anticlockwise),u.closePath&&p.closePath(),u.isFilled&&(g(p,u),p.fill()),u.isStroked&&(c(p,u),p.stroke()),p.restore()}};r.exports=l}),42563:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23629),g=s(39429);g.register("arc",function(c,h,l,o,u,v,f,p){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f,p))}),g.register("circle",function(c,h,l,o,u){return this.displayList.add(new a(this.scene,c,h,l,0,360,!1,o,u))})}),13609:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(41447),c=s(42542),r.exports={renderWebGL:g,renderCanvas:c}}),41447:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(10441),c=s(34682),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=a(o,u,v),m=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,S=o._displayOriginY,T=u.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&g(f,m,o,T,y,S),o.isStroked&&c(f,o,T,y,S),l.pipelines.postBatch(o)};r.exports=h}),89:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(33141),c=s(94811),h=s(87841),l=s(17803),o=new a({Extends:l,Mixins:[g],initialize:function(v,f,p,m,y,S){f===void 0&&(f=0),p===void 0&&(p=0),l.call(this,v,"Curve",m),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(f,p),y!==void 0&&this.setFillStyle(y,S),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){var u=this._curveBounds,v=this._smoothness;this.geom.getBounds(u,v),this.setSize(u.width,u.height),this.updateDisplayOrigin();for(var f=[],p=this.geom.getPoints(v),m=0;m<p.length;m++)f.push(p[m].x,p[m].y);return f.push(p[0].x,p[0].y),this.pathIndexes=c(f),this.pathData=f,this}});r.exports=o}),3170:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=o._displayOriginX+o._curveBounds.x,m=o._displayOriginY+o._curveBounds.y,y=o.pathData,S=y.length-1,T=y[0]-p,b=y[1]-m;f.beginPath(),f.moveTo(T,b),o.closePath||(S-=2);for(var P=2;P<S;P+=2){var w=y[P]-p,A=y[P+1]-m;f.lineTo(w,A)}o.closePath&&f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(g(f,o),f.stroke()),f.restore()}};r.exports=h}),40511:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(89);a.register("curve",function(c,h,l,o,u){return this.displayList.add(new g(this.scene,c,h,l,o,u))})}),33141:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(53987),c=s(3170),r.exports={renderWebGL:g,renderCanvas:c}}),53987:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),c=s(34682),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=g(o,u,v),m=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX+o._curveBounds.x,S=o._displayOriginY+o._curveBounds.y,T=u.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,m,o,T,y,S),o.isStroked&&c(f,o,T,y,S),l.pipelines.postBatch(o)};r.exports=h}),19921:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94811),c=s(54205),h=s(8497),l=s(17803),o=new a({Extends:l,Mixins:[c],initialize:function(v,f,p,m,y,S,T){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=128),y===void 0&&(y=128),l.call(this,v,"Ellipse",new h(m/2,y/2,m,y)),this._smoothness=64,this.setPosition(f,p),this.width=m,this.height=y,S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(u){this._smoothness=u,this.updateData()}},setSize:function(u,v){return this.width=u,this.height=v,this.geom.setPosition(u/2,v/2),this.geom.setSize(u,v),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(u){return this._smoothness=u,this.updateData()},updateData:function(){for(var u=[],v=this.geom.getPoints(this._smoothness),f=0;f<v.length;f++)u.push(v[f].x,v[f].y);return u.push(v[0].x,v[0].y),this.pathIndexes=g(u),this.pathData=u,this}});r.exports=o}),7930:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=o._displayOriginX,m=o._displayOriginY,y=o.pathData,S=y.length-1,T=y[0]-p,b=y[1]-m;f.beginPath(),f.moveTo(T,b),o.closePath||(S-=2);for(var P=2;P<S;P+=2){var w=y[P]-p,A=y[P+1]-m;f.lineTo(w,A)}f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(g(f,o),f.stroke()),f.restore()}};r.exports=h}),1543:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19921),g=s(39429);g.register("ellipse",function(c,h,l,o,u,v){return this.displayList.add(new a(this.scene,c,h,l,o,u,v))})}),54205:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(19467),c=s(7930),r.exports={renderWebGL:g,renderCanvas:c}}),19467:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),c=s(34682),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=g(o,u,v),m=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,S=o._displayOriginY,T=u.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,m,o,T,y,S),o.isStroked&&c(f,o,T,y,S),l.pipelines.postBatch(o)};r.exports=h}),30479:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),c=s(26015),h=new a({Extends:g,Mixins:[c],initialize:function(o,u,v,f,p,m,y,S,T,b,P){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=128),p===void 0&&(p=128),m===void 0&&(m=32),y===void 0&&(y=32),g.call(this,o,"Grid",null),this.cellWidth=m,this.cellHeight=y,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(u,v),this.setSize(f,p),this.setFillStyle(S,T),b!==void 0&&this.setOutlineStyle(b,P),this.updateDisplayOrigin()},setFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=o,this.showOutline=!0),this}});r.exports=h}),49912:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=-o._displayOriginX,m=-o._displayOriginY,y=u.alpha*o.alpha,S=o.width,T=o.height,b=o.cellWidth,P=o.cellHeight,w=Math.ceil(S/b),A=Math.ceil(T/P),R=b,D=P,L=b-(w*b-S),k=P-(A*P-T),B=o.showCells,F=o.showAltCells,G=o.showOutline,N=0,W=0,X=0,$=0,J=0;if(G&&(R--,D--,L===b&&L--,k===P&&k--),B&&o.fillAlpha>0)for(a(f,o),W=0;W<A;W++)for(F&&(X=W%2),N=0;N<w;N++){if(F&&X){X=0;continue}X++,$=N<w-1?R:L,J=W<A-1?D:k,f.fillRect(p+N*b,m+W*P,$,J)}if(F&&o.altFillAlpha>0)for(a(f,o,o.altFillColor,o.altFillAlpha*y),W=0;W<A;W++)for(F&&(X=W%2),N=0;N<w;N++){if(F&&!X){X=1;continue}X=0,$=N<w-1?R:L,J=W<A-1?D:k,f.fillRect(p+N*b,m+W*P,$,J)}if(G&&o.outlineFillAlpha>0){for(g(f,o,o.outlineFillColor,o.outlineFillAlpha*y),N=1;N<w;N++){var V=N*b;f.beginPath(),f.moveTo(V+p,m),f.lineTo(V+p,T+m),f.stroke()}for(W=1;W<A;W++){var Y=W*P;f.beginPath(),f.moveTo(p,Y+m),f.lineTo(p+S,Y+m),f.stroke()}}f.restore()}};r.exports=h}),34137:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(30479);a.register("grid",function(c,h,l,o,u,v,f,p,m,y){return this.displayList.add(new g(this.scene,c,h,l,o,u,v,f,p,m,y))})}),26015:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(46161),c=s(49912),r.exports={renderWebGL:g,renderCanvas:c}}),46161:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),f=a(l,o,u),p=v.calcMatrix.copyFrom(f.calc);p.translate(-l._displayOriginX,-l._displayOriginY);var m=o.alpha*l.alpha,y=l.width,S=l.height,T=l.cellWidth,b=l.cellHeight,P=Math.ceil(y/T),w=Math.ceil(S/b),A=T,R=b,D=T-(P*T-y),L=b-(w*b-S),k,B,F=l.showCells,G=l.showAltCells,N=l.showOutline,W=0,X=0,$=0,J=0,V=0;if(N&&(A--,R--,D===T&&D--,L===b&&L--),h.pipelines.preBatch(l),F&&l.fillAlpha>0)for(k=v.fillTint,B=g.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*m),k.TL=B,k.TR=B,k.BL=B,k.BR=B,X=0;X<w;X++)for(G&&($=X%2),W=0;W<P;W++){if(G&&$){$=0;continue}$++,J=W<P-1?A:D,V=X<w-1?R:L,v.batchFillRect(W*T,X*b,J,V)}if(G&&l.altFillAlpha>0)for(k=v.fillTint,B=g.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*m),k.TL=B,k.TR=B,k.BL=B,k.BR=B,X=0;X<w;X++)for(G&&($=X%2),W=0;W<P;W++){if(G&&!$){$=1;continue}$=0,J=W<P-1?A:D,V=X<w-1?R:L,v.batchFillRect(W*T,X*b,J,V)}if(N&&l.outlineFillAlpha>0){var Y=v.strokeTint,z=g.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*m);for(Y.TL=z,Y.TR=z,Y.BL=z,Y.BR=z,W=1;W<P;W++){var K=W*T;v.batchLine(K,0,K,S,l.lineWidth,l.lineWidth,1,0,!1)}for(X=1;X<w;X++){var H=X*b;v.batchLine(0,H,y,H,l.lineWidth,l.lineWidth,1,0,!1)}}h.pipelines.postBatch(l)};r.exports=c}),61475:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99651),g=s(83419),c=s(17803),h=new g({Extends:c,Mixins:[a],initialize:function(o,u,v,f,p,m,y,S){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=48),p===void 0&&(p=32),m===void 0&&(m=15658734),y===void 0&&(y=10066329),S===void 0&&(S=13421772),c.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=m,this.fillLeft=y,this.fillRight=S,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(u,v),this.setSize(f,p),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,o,u){return l===void 0&&(l=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),this.showTop=l,this.showLeft=o,this.showRight=u,this},setFillStyle:function(l,o,u){return this.fillTop=l,this.fillLeft=o,this.fillRight=u,this.isFilled=!0,this}});r.exports=h}),11508:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(20926),c=function(h,l,o,u){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,u)&&l.isFilled){var f=l.width,p=l.height,m=f/2,y=f/l.projection;l.showTop&&(a(v,l,l.fillTop),v.beginPath(),v.moveTo(-m,-p),v.lineTo(0,-y-p),v.lineTo(m,-p),v.lineTo(m,-1),v.lineTo(0,y-1),v.lineTo(-m,-1),v.lineTo(-m,-p),v.fill()),l.showLeft&&(a(v,l,l.fillLeft),v.beginPath(),v.moveTo(-m,0),v.lineTo(0,y),v.lineTo(0,y-p),v.lineTo(-m,-p),v.lineTo(-m,0),v.fill()),l.showRight&&(a(v,l,l.fillRight),v.beginPath(),v.moveTo(m,0),v.lineTo(0,y),v.lineTo(0,y-p),v.lineTo(m,-p),v.lineTo(m,0),v.fill()),v.restore()}};r.exports=c}),3933:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(61475);a.register("isobox",function(c,h,l,o,u,v,f){return this.displayList.add(new g(this.scene,c,h,l,o,u,v,f))})}),99651:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(68149),c=s(11508),r.exports={renderWebGL:g,renderCanvas:c}}),68149:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),f=a(l,o,u),p=v.calcMatrix.copyFrom(f.calc),m=l.width,y=l.height,S=m/2,T=m/l.projection,b=o.alpha*l.alpha;if(l.isFilled){var P,w,A,R,D,L,k,B,F;h.pipelines.preBatch(l),l.showTop&&(P=g.getTintAppendFloatAlpha(l.fillTop,b),w=p.getX(-S,-y),A=p.getY(-S,-y),R=p.getX(0,-T-y),D=p.getY(0,-T-y),L=p.getX(S,-y),k=p.getY(S,-y),B=p.getX(0,T-y),F=p.getY(0,T-y),v.batchQuad(l,w,A,R,D,L,k,B,F,0,0,1,1,P,P,P,P,2)),l.showLeft&&(P=g.getTintAppendFloatAlpha(l.fillLeft,b),w=p.getX(-S,0),A=p.getY(-S,0),R=p.getX(0,T),D=p.getY(0,T),L=p.getX(0,T-y),k=p.getY(0,T-y),B=p.getX(-S,-y),F=p.getY(-S,-y),v.batchQuad(l,w,A,R,D,L,k,B,F,0,0,1,1,P,P,P,P,2)),l.showRight&&(P=g.getTintAppendFloatAlpha(l.fillRight,b),w=p.getX(S,0),A=p.getY(S,0),R=p.getX(0,T),D=p.getY(0,T),L=p.getX(0,T-y),k=p.getY(0,T-y),B=p.getX(S,-y),F=p.getY(S,-y),v.batchQuad(l,w,A,R,D,L,k,B,F,0,0,1,1,P,P,P,P,2)),h.pipelines.postBatch(l)}};r.exports=c}),16933:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(60561),c=s(17803),h=new a({Extends:c,Mixins:[g],initialize:function(o,u,v,f,p,m,y,S,T){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=48),p===void 0&&(p=32),m===void 0&&(m=!1),y===void 0&&(y=15658734),S===void 0&&(S=10066329),T===void 0&&(T=13421772),c.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=y,this.fillLeft=S,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=m,this.isFilled=!0,this.setPosition(u,v),this.setSize(f,p),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,o,u){return l===void 0&&(l=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),this.showTop=l,this.showLeft=o,this.showRight=u,this},setFillStyle:function(l,o,u){return this.fillTop=l,this.fillLeft=o,this.fillRight=u,this.isFilled=!0,this}});r.exports=h}),79590:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(20926),c=function(h,l,o,u){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,u)&&l.isFilled){var f=l.width,p=l.height,m=f/2,y=f/l.projection,S=l.isReversed;l.showTop&&S&&(a(v,l,l.fillTop),v.beginPath(),v.moveTo(-m,-p),v.lineTo(0,-y-p),v.lineTo(m,-p),v.lineTo(0,y-p),v.fill()),l.showLeft&&(a(v,l,l.fillLeft),v.beginPath(),S?(v.moveTo(-m,-p),v.lineTo(0,y),v.lineTo(0,y-p)):(v.moveTo(-m,0),v.lineTo(0,y),v.lineTo(0,y-p)),v.fill()),l.showRight&&(a(v,l,l.fillRight),v.beginPath(),S?(v.moveTo(m,-p),v.lineTo(0,y),v.lineTo(0,y-p)):(v.moveTo(m,0),v.lineTo(0,y),v.lineTo(0,y-p)),v.fill()),v.restore()}};r.exports=c}),49803:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(16933);a.register("isotriangle",function(c,h,l,o,u,v,f,p){return this.displayList.add(new g(this.scene,c,h,l,o,u,v,f,p))})}),60561:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(51503),c=s(79590),r.exports={renderWebGL:g,renderCanvas:c}}),51503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),f=a(l,o,u),p=v.calcMatrix.copyFrom(f.calc),m=l.width,y=l.height,S=m/2,T=m/l.projection,b=l.isReversed,P=o.alpha*l.alpha;if(l.isFilled){h.pipelines.preBatch(l);var w,A,R,D,L,k,B;if(l.showTop&&b){w=g.getTintAppendFloatAlpha(l.fillTop,P),A=p.getX(-S,-y),R=p.getY(-S,-y),D=p.getX(0,-T-y),L=p.getY(0,-T-y),k=p.getX(S,-y),B=p.getY(S,-y);var F=p.getX(0,T-y),G=p.getY(0,T-y);v.batchQuad(l,A,R,D,L,k,B,F,G,0,0,1,1,w,w,w,w,2)}l.showLeft&&(w=g.getTintAppendFloatAlpha(l.fillLeft,P),b?(A=p.getX(-S,-y),R=p.getY(-S,-y),D=p.getX(0,T),L=p.getY(0,T),k=p.getX(0,T-y),B=p.getY(0,T-y)):(A=p.getX(-S,0),R=p.getY(-S,0),D=p.getX(0,T),L=p.getY(0,T),k=p.getX(0,T-y),B=p.getY(0,T-y)),v.batchTri(l,A,R,D,L,k,B,0,0,1,1,w,w,w,2)),l.showRight&&(w=g.getTintAppendFloatAlpha(l.fillRight,P),b?(A=p.getX(S,-y),R=p.getY(S,-y),D=p.getX(0,T),L=p.getY(0,T),k=p.getX(0,T-y),B=p.getY(0,T-y)):(A=p.getX(S,0),R=p.getY(S,0),D=p.getX(0,T),L=p.getY(0,T),k=p.getX(0,T-y),B=p.getY(0,T-y)),v.batchTri(l,A,R,D,L,k,B,0,0,1,1,w,w,w,2)),h.pipelines.postBatch(l)}};r.exports=c}),57847:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),c=s(23031),h=s(36823),l=new a({Extends:g,Mixins:[h],initialize:function(u,v,f,p,m,y,S,T,b){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=128),S===void 0&&(S=0),g.call(this,u,"Line",new c(p,m,y,S));var P=Math.max(1,this.geom.right-this.geom.left),w=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,f),this.setSize(P,w),T!==void 0&&this.setStrokeStyle(1,T,b),this.updateDisplayOrigin()},setLineWidth:function(o,u){return u===void 0&&(u=o),this._startWidth=o,this._endWidth=u,this.lineWidth=o,this},setTo:function(o,u,v,f){return this.geom.setTo(o,u,v,f),this}});r.exports=l}),17440:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(75177),g=s(20926),c=function(h,l,o,u){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,u)){var f=l._displayOriginX,p=l._displayOriginY;l.isStroked&&(a(v,l),v.beginPath(),v.moveTo(l.geom.x1-f,l.geom.y1-p),v.lineTo(l.geom.x2-f,l.geom.y2-p),v.stroke()),v.restore()}};r.exports=c}),2481:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(57847);a.register("line",function(c,h,l,o,u,v,f,p){return this.displayList.add(new g(this.scene,c,h,l,o,u,v,f,p))})}),36823:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(77385),c=s(17440),r.exports={renderWebGL:g,renderCanvas:c}}),77385:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),c=function(h,l,o,u){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),f=a(l,o,u);v.calcMatrix.copyFrom(f.calc);var p=l._displayOriginX,m=l._displayOriginY,y=o.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isStroked){var S=v.strokeTint,T=g.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*y);S.TL=T,S.TR=T,S.BL=T,S.BR=T,v.batchLine(l.geom.x1-p,l.geom.y1-m,l.geom.x2-p,l.geom.y2-m,l._startWidth/2,l._endWidth/2,1,0,!1,f.sprite,f.camera)}h.pipelines.postBatch(l)};r.exports=c}),24949:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90273),g=s(83419),c=s(94811),h=s(13829),l=s(25717),o=s(17803),u=s(5469),v=new g({Extends:o,Mixins:[a],initialize:function(p,m,y,S,T,b){m===void 0&&(m=0),y===void 0&&(y=0),o.call(this,p,"Polygon",new l(S));var P=h(this.geom);this.setPosition(m,y),this.setSize(P.width,P.height),T!==void 0&&this.setFillStyle(T,b),this.updateDisplayOrigin(),this.updateData()},smooth:function(f){f===void 0&&(f=1);for(var p=0;p<f;p++)u(this.geom);return this.updateData()},setTo:function(f){this.geom.setTo(f);var p=h(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var f=[],p=this.geom.points,m=0;m<p.length;m++)f.push(p[m].x,p[m].y);return f.push(p[0].x,p[0].y),this.pathIndexes=c(f),this.pathData=f,this}});r.exports=v}),38710:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=o._displayOriginX,m=o._displayOriginY,y=o.pathData,S=y.length-1,T=y[0]-p,b=y[1]-m;f.beginPath(),f.moveTo(T,b),o.closePath||(S-=2);for(var P=2;P<S;P+=2){var w=y[P]-p,A=y[P+1]-m;f.lineTo(w,A)}o.closePath&&f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(g(f,o),f.stroke()),f.restore()}};r.exports=h}),64827:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(24949);a.register("polygon",function(c,h,l,o,u){return this.displayList.add(new g(this.scene,c,h,l,o,u))})}),90273:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(73695),c=s(38710),r.exports={renderWebGL:g,renderCanvas:c}}),73695:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),c=s(34682),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=g(o,u,v),m=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,S=o._displayOriginY,T=u.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,m,o,T,y,S),o.isStroked&&c(f,o,T,y,S),l.pipelines.postBatch(o)};r.exports=h}),74561:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94811),c=s(87841),h=s(17803),l=s(95597),o=new a({Extends:h,Mixins:[l],initialize:function(v,f,p,m,y,S,T){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=128),y===void 0&&(y=128),h.call(this,v,"Rectangle",new c(0,0,m,y)),this.radius=20,this.isRounded=!1,this.setPosition(f,p),this.setSize(m,y),S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},setRounded:function(u){return u===void 0&&(u=16),this.radius=u,this.isRounded=u>0,this.updateRoundedData()},setSize:function(u,v){this.width=u,this.height=v,this.geom.setSize(u,v),this.updateData(),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=u,f.hitArea.height=v),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var u=[],v=this.geom,f=this._tempLine;return v.getLineA(f),u.push(f.x1,f.y1,f.x2,f.y2),v.getLineB(f),u.push(f.x2,f.y2),v.getLineC(f),u.push(f.x2,f.y2),v.getLineD(f),u.push(f.x2,f.y2),this.pathData=u,this},updateRoundedData:function(){var u=[],v=this.width/2,f=this.height/2,p=Math.min(v,f),m=Math.min(this.radius,p),y=v,S=f,T=Math.max(1,Math.floor(m/5));return this.arcTo(u,y-v+m,S-f+m,m,Math.PI,Math.PI*1.5,T),u.push(y+v-m,S-f),this.arcTo(u,y+v-m,S-f+m,m,Math.PI*1.5,Math.PI*2,T),u.push(y+v,S+f-m),this.arcTo(u,y+v-m,S+f-m,m,0,Math.PI*.5,T),u.push(y-v+m,S+f),this.arcTo(u,y-v+m,S+f-m,m,Math.PI*.5,Math.PI,T),u.push(y-v,S-f+m),this.pathIndexes=g(u),this.pathData=u,this},arcTo:function(u,v,f,p,m,y,S){for(var T=(y-m)/S,b=0;b<=S;b++){var P=m+T*b;u.push(v+Math.cos(P)*p,f+Math.sin(P)*p)}}});r.exports=o}),48682:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(o,u,v,f,p,m){var y=Math.min(f/2,p/2),S=Math.min(m,y);if(S===0){o.rect(u,v,f,p);return}o.moveTo(u+S,v),o.lineTo(u+f-S,v),o.arcTo(u+f,v,u+f,v+S,S),o.lineTo(u+f,v+p-S),o.arcTo(u+f,v+p,u+f-S,v+p,S),o.lineTo(u+S,v+p),o.arcTo(u,v+p,u,v+p-S,S),o.lineTo(u,v+S),o.arcTo(u,v,u+S,v,S),o.closePath()},l=function(o,u,v,f){v.addToRenderList(u);var p=o.currentContext;if(c(o,p,u,v,f)){var m=u._displayOriginX,y=u._displayOriginY;u.isFilled&&(a(p,u),u.isRounded?(p.beginPath(),h(p,-m,-y,u.width,u.height,u.radius),p.fill()):p.fillRect(-m,-y,u.width,u.height)),u.isStroked&&(g(p,u),p.beginPath(),u.isRounded?h(p,-m,-y,u.width,u.height,u.radius):p.rect(-m,-y,u.width,u.height),p.stroke()),p.restore()}};r.exports=l}),87959:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(74561);a.register("rectangle",function(c,h,l,o,u,v){return this.displayList.add(new g(this.scene,c,h,l,o,u,v))})}),95597:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(52059),c=s(48682),r.exports={renderWebGL:g,renderCanvas:c}}),52059:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),c=s(34682),h=s(70554),l=function(o,u,v,f){v.addToRenderList(u);var p=o.pipelines.set(u.pipeline),m=g(u,v,f);p.calcMatrix.copyFrom(m.calc);var y=u._displayOriginX,S=u._displayOriginY,T=v.alpha*u.alpha;if(o.pipelines.preBatch(u),u.isRounded&&u.isFilled)a(p,m.calc,u,T,y,S);else if(u.isFilled){var b=p.fillTint,P=h.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*T);b.TL=P,b.TR=P,b.BL=P,b.BR=P,p.batchFillRect(-y,-S,u.width,u.height)}u.isStroked&&c(p,u,T,y,S),o.pipelines.postBatch(u)};r.exports=l}),55911:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81991),g=s(83419),c=s(94811),h=s(17803),l=new g({Extends:h,Mixins:[a],initialize:function(u,v,f,p,m,y,S,T){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=5),m===void 0&&(m=32),y===void 0&&(y=64),h.call(this,u,"Star",null),this._points=p,this._innerRadius=m,this._outerRadius=y,this.setPosition(v,f),this.setSize(y*2,y*2),S!==void 0&&this.setFillStyle(S,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],u=this._points,v=this._innerRadius,f=this._outerRadius,p=Math.PI/2*3,m=Math.PI/u,y=f,S=f;o.push(y,S+-f);for(var T=0;T<u;T++)o.push(y+Math.cos(p)*f,S+Math.sin(p)*f),p+=m,o.push(y+Math.cos(p)*v,S+Math.sin(p)*v),p+=m;return o.push(y,S+-f),this.pathIndexes=c(o),this.pathData=o,this}});r.exports=l}),64272:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=o._displayOriginX,m=o._displayOriginY,y=o.pathData,S=y.length-1,T=y[0]-p,b=y[1]-m;f.beginPath(),f.moveTo(T,b),o.closePath||(S-=2);for(var P=2;P<S;P+=2){var w=y[P]-p,A=y[P+1]-m;f.lineTo(w,A)}f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(g(f,o),f.stroke()),f.restore()}};r.exports=h}),93697:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55911),g=s(39429);g.register("star",function(c,h,l,o,u,v,f){return this.displayList.add(new a(this.scene,c,h,l,o,u,v,f))})}),81991:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(57017),c=s(64272),r.exports={renderWebGL:g,renderCanvas:c}}),57017:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),c=s(34682),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=g(o,u,v),m=f.calcMatrix.copyFrom(p.calc),y=o._displayOriginX,S=o._displayOriginY,T=u.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(f,m,o,T,y,S),o.isStroked&&c(f,o,T,y,S),l.pipelines.postBatch(o)};r.exports=h}),36931:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),c=s(16483),h=s(96195),l=new a({Extends:g,Mixins:[h],initialize:function(u,v,f,p,m,y,S,T,b,P,w){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=128),y===void 0&&(y=64),S===void 0&&(S=0),T===void 0&&(T=128),b===void 0&&(b=128),g.call(this,u,"Triangle",new c(p,m,y,S,T,b));var A=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(v,f),this.setSize(A,R),P!==void 0&&this.setFillStyle(P,w),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,u,v,f,p,m){return this.geom.setTo(o,u,v,f,p,m),this.updateData()},updateData:function(){var o=[],u=this.geom,v=this._tempLine;return u.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),u.getLineB(v),o.push(v.x2,v.y2),u.getLineC(v),o.push(v.x2,v.y2),this.pathData=o,this}});r.exports=l}),85172:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),c=s(20926),h=function(l,o,u,v){u.addToRenderList(o);var f=l.currentContext;if(c(l,f,o,u,v)){var p=o._displayOriginX,m=o._displayOriginY,y=o.geom.x1-p,S=o.geom.y1-m,T=o.geom.x2-p,b=o.geom.y2-m,P=o.geom.x3-p,w=o.geom.y3-m;f.beginPath(),f.moveTo(y,S),f.lineTo(T,b),f.lineTo(P,w),f.closePath(),o.isFilled&&(a(f,o),f.fill()),o.isStroked&&(g(f,o),f.stroke()),f.restore()}};r.exports=h}),45245:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(36931);a.register("triangle",function(c,h,l,o,u,v,f,p,m,y){return this.displayList.add(new g(this.scene,c,h,l,o,u,v,f,p,m,y))})}),96195:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(83253),c=s(85172),r.exports={renderWebGL:g,renderCanvas:c}}),83253:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(34682),c=s(70554),h=function(l,o,u,v){u.addToRenderList(o);var f=l.pipelines.set(o.pipeline),p=a(o,u,v);f.calcMatrix.copyFrom(p.calc);var m=o._displayOriginX,y=o._displayOriginY,S=u.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isFilled){var T=f.fillTint,b=c.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*S);T.TL=b,T.TR=b,T.BL=b,T.BR=b;var P=o.geom.x1-m,w=o.geom.y1-y,A=o.geom.x2-m,R=o.geom.y2-y,D=o.geom.x3-m,L=o.geom.y3-y;f.batchFillTriangle(P,w,A,R,D,L,p.sprite,p.camera)}o.isStroked&&g(f,o,S,m,y),l.pipelines.postBatch(o)};r.exports=h}),68287:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),c=s(31401),h=s(95643),l=s(92751),o=new g({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,l],initialize:function(v,f,p,m,y){h.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(m,y),this.setPosition(f,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){this.anims.update(u,v)},play:function(u,v){return this.anims.play(u,v)},playReverse:function(u,v){return this.anims.playReverse(u,v)},playAfterDelay:function(u,v){return this.anims.playAfterDelay(u,v)},playAfterRepeat:function(u,v){return this.anims.playAfterRepeat(u,v)},chain:function(u){return this.anims.chain(u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(u){return this.anims.stopAfterDelay(u)},stopAfterRepeat:function(u){return this.anims.stopAfterRepeat(u)},stopOnFrame:function(u){return this.anims.stopOnFrame(u)},toJSON:function(){return c.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=o}),76552:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a),s.batchSprite(a,a.frame,g,c)};r.exports=x}),15567:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(13059),c=s(44603),h=s(23568),l=s(68287);c.register("sprite",function(o,u){o===void 0&&(o={});var v=h(o,"key",null),f=h(o,"frame",null),p=new l(this.scene,0,0,v,f);return u!==void 0&&(o.add=u),a(this.scene,p,o),g(p,o),p})}),46409:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(68287);a.register("sprite",function(c,h,l,o){return this.displayList.add(new g(this.scene,c,h,l,o))})}),92751:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(9409),c=s(76552),r.exports={renderWebGL:g,renderCanvas:c}}),9409:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g.addToRenderList(a),a.pipeline.batchSprite(a,g,c)};r.exports=x}),14220:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=s.canvas,h=s.context,l=s.style,o=[],u=0,v=g.length;l.maxLines>0&&l.maxLines<g.length&&(v=l.maxLines),l.syncFont(c,h);for(var f=s.letterSpacing,p=0;p<v;p++){var m=l.strokeThickness;if(f===0)m+=h.measureText(g[p]).width;else{for(var y=g[p],S=0;S<y.length;S++)m+=h.measureText(y[S]).width;y.length>1&&(m+=f*(y.length-1))}l.wordWrap&&(m-=h.measureText(" ").width),o[p]=Math.ceil(m),u=Math.max(u,o[p])}var T=a.fontSize+l.strokeThickness,b=T*v,P=s.lineSpacing;return v>1&&(b+=P*(v-1)),{width:u,height:b,lines:v,lineWidths:o,lineSpacing:P,lineHeight:T}};r.exports=x}),79557:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=function(c){var h=a.create(this),l=h.getContext("2d",{willReadFrequently:!0});c.syncFont(h,l);var o=l.measureText(c.testString);if("actualBoundingBoxAscent"in o){var u=o.actualBoundingBoxAscent,v=o.actualBoundingBoxDescent;return a.remove(h),{ascent:u,descent:v,fontSize:u+v}}var f=Math.ceil(o.width*c.baselineX),p=f,m=2*p;p=p*c.baselineY|0,h.width=f,h.height=m,l.fillStyle="#f00",l.fillRect(0,0,f,m),l.font=c._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(c.testString,0,p);var y={ascent:0,descent:0,fontSize:0},S=l.getImageData(0,0,f,m);if(!S)return y.ascent=p,y.descent=p+6,y.fontSize=y.ascent+y.descent,a.remove(h),y;var T=S.data,b=T.length,P=f*4,w,A,R=0,D=!1;for(w=0;w<p;w++){for(A=0;A<P;A+=4)if(T[R+A]!==255){D=!0;break}if(!D)R+=P;else break}for(y.ascent=p-w,R=b-P,D=!1,w=m;w>p;w--){for(A=0;A<P;A+=4)if(T[R+A]!==255){D=!0;break}if(!D)R-=P;else break}return y.descent=w-p,y.fontSize=y.ascent+y.descent,a.remove(h),y};r.exports=g}),50171:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=s(27919),c=s(83419),h=s(31401),l=s(95643),o=s(14220),u=s(35154),v=s(35846),f=s(61771),p=s(35762),m=s(45650),y=new c({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,f],initialize:function(T,b,P,w,A){b===void 0&&(b=0),P===void 0&&(P=0),l.call(this,T,"Text"),this.renderer=T.sys.renderer,this.setPosition(b,P),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new p(this,A),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=m(),this.texture=T.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(w),A&&A.padding&&this.setPadding(A.padding),A&&A.lineSpacing&&this.setLineSpacing(A.lineSpacing),A&&A.letterSpacing&&this.setLetterSpacing(A.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(S){var T=this.style;if(T.wordWrapCallback){var b=T.wordWrapCallback.call(T.wordWrapCallbackScope,S,this);return Array.isArray(b)&&(b=b.join(`
`)),b}else return T.wordWrapWidth?T.wordWrapUseAdvanced?this.advancedWordWrap(S,this.context,this.style.wordWrapWidth):this.basicWordWrap(S,this.context,this.style.wordWrapWidth):S},advancedWordWrap:function(S,T,b){for(var P="",w=S.replace(/ +/gi," ").split(this.splitRegExp),A=w.length,R=0;R<A;R++){var D=w[R],L="";D=D.replace(/^ *|\s*$/gi,"");var k=D.length*this.letterSpacing,B=T.measureText(D).width+k;if(B<b){P+=D+`
`;continue}for(var F=b,G=D.split(" "),N=0;N<G.length;N++){var W=G[N],X=W+" ",$=X.length*this.letterSpacing,J=T.measureText(X).width+$;if(J>F){if(N===0){for(var V=X;V.length;){V=V.slice(0,-1);var Y=V.length*this.letterSpacing;if(J=T.measureText(V).width+Y,J<=F)break}if(!V.length)throw new Error("wordWrapWidth < a single character");var z=W.substr(V.length);G[N]=z,L+=V}var K=G[N].length?N:N+1,H=G.slice(K).join(" ").replace(/[ \n]*$/gi,"");w.splice(R+1,0,H),A=w.length;break}else L+=X,F-=J}P+=L.replace(/[ \n]*$/gi,"")+`
`}return P=P.replace(/[\s|\n]*$/gi,""),P},basicWordWrap:function(S,T,b){for(var P="",w=S.split(this.splitRegExp),A=w.length-1,R=T.measureText(" ").width,D=0;D<=A;D++){for(var L=b,k=w[D].split(" "),B=k.length-1,F=0;F<=B;F++){var G=k[F],N=G.length*this.letterSpacing,W=T.measureText(G).width+N,X=W;F<B&&(X+=R),X>L&&F>0&&(P+=`
`,L=b),P+=G,F<B?(P+=" ",L-=X):L-=W}D<A&&(P+=`
`)}return P},getWrappedText:function(S){S===void 0&&(S=this._text),this.style.syncFont(this.canvas,this.context);var T=this.runWordWrap(S);return T.split(this.splitRegExp)},setText:function(S){return!S&&S!==0&&(S=""),Array.isArray(S)&&(S=S.join(`
`)),S!==this._text&&(this._text=S.toString(),this.updateText()),this},appendText:function(S,T){T===void 0&&(T=!0),!S&&S!==0&&(S=""),Array.isArray(S)&&(S=S.join(`
`)),S=S.toString();var b=this._text.concat(T?`
`+S:S);return b!==this._text&&(this._text=b,this.updateText()),this},setStyle:function(S){return this.style.setStyle(S)},setFont:function(S){return this.style.setFont(S)},setFontFamily:function(S){return this.style.setFontFamily(S)},setFontSize:function(S){return this.style.setFontSize(S)},setFontStyle:function(S){return this.style.setFontStyle(S)},setFixedSize:function(S,T){return this.style.setFixedSize(S,T)},setBackgroundColor:function(S){return this.style.setBackgroundColor(S)},setFill:function(S){return this.style.setFill(S)},setColor:function(S){return this.style.setColor(S)},setStroke:function(S,T){return this.style.setStroke(S,T)},setShadow:function(S,T,b,P,w,A){return this.style.setShadow(S,T,b,P,w,A)},setShadowOffset:function(S,T){return this.style.setShadowOffset(S,T)},setShadowColor:function(S){return this.style.setShadowColor(S)},setShadowBlur:function(S){return this.style.setShadowBlur(S)},setShadowStroke:function(S){return this.style.setShadowStroke(S)},setShadowFill:function(S){return this.style.setShadowFill(S)},setWordWrapWidth:function(S,T){return this.style.setWordWrapWidth(S,T)},setWordWrapCallback:function(S,T){return this.style.setWordWrapCallback(S,T)},setAlign:function(S){return this.style.setAlign(S)},setResolution:function(S){return this.style.setResolution(S)},setLineSpacing:function(S){return this.lineSpacing=S,this.updateText()},setLetterSpacing:function(S){return this.letterSpacing=S,this.updateText()},setPadding:function(S,T,b,P){if(typeof S=="object"){var w=S,A=u(w,"x",null);A!==null?(S=A,b=A):(S=u(w,"left",0),b=u(w,"right",S));var R=u(w,"y",null);R!==null?(T=R,P=R):(T=u(w,"top",0),P=u(w,"bottom",T))}else S===void 0&&(S=0),T===void 0&&(T=S),b===void 0&&(b=S),P===void 0&&(P=T);return this.padding.left=S,this.padding.top=T,this.padding.right=b,this.padding.bottom=P,this.updateText()},setMaxLines:function(S){return this.style.setMaxLines(S)},setRTL:function(S){S===void 0&&(S=!0);var T=this.style;return T.rtl===S?this:(T.rtl=S,S?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),T.align==="left"?T.align="right":T.align==="right"&&(T.align="left"),this)},updateText:function(){var S=this.canvas,T=this.context,b=this.style,P=b.resolution,w=b.metrics;b.syncFont(S,T);var A=this._text;(b.wordWrapWidth||b.wordWrapCallback)&&(A=this.runWordWrap(this._text));var R=A.split(this.splitRegExp),D=o(this,w,R),L=this.padding,k;b.fixedWidth===0?(this.width=D.width+L.left+L.right,k=D.width):(this.width=b.fixedWidth,k=this.width-L.left-L.right,k<D.width&&(k=D.width)),b.fixedHeight===0?this.height=D.height+L.top+L.bottom:this.height=b.fixedHeight;var B=this.width,F=this.height;this.updateDisplayOrigin(),B*=P,F*=P,B=Math.max(B,1),F=Math.max(F,1),S.width!==B||S.height!==F?(S.width=B,S.height=F,this.frame.setSize(B,F),b.syncFont(S,T),b.rtl&&(T.direction="rtl")):T.clearRect(0,0,B,F),T.save(),T.scale(P,P),b.backgroundColor&&(T.fillStyle=b.backgroundColor,T.fillRect(0,0,B,F)),b.syncStyle(S,T),T.translate(L.left,L.top);for(var G,N,W=0;W<D.lines;W++){if(G=b.strokeThickness/2,N=b.strokeThickness/2+W*D.lineHeight+w.ascent,W>0&&(N+=D.lineSpacing*W),b.rtl)G=B-G-L.left-L.right;else if(b.align==="right")G+=k-D.lineWidths[W];else if(b.align==="center")G+=(k-D.lineWidths[W])/2;else if(b.align==="justify"){var X=.85;if(D.lineWidths[W]/D.width>=X){var $=D.width-D.lineWidths[W],J=T.measureText(" ").width,V=R[W].trim(),Y=V.split(" ");$+=(R[W].length-V.length)*J;for(var z=Math.floor($/J),K=0;z>0;)Y[K]+=" ",K=(K+1)%(Y.length-1||1),--z;R[W]=Y.join(" ")}}this.autoRound&&(G=Math.round(G),N=Math.round(N));var H=this.letterSpacing;if(b.strokeThickness&&H===0&&(b.syncShadow(T,b.shadowStroke),T.strokeText(R[W],G,N)),b.color)if(b.syncShadow(T,b.shadowFill),H!==0)for(var Q=0,j=R[W].split(""),q=0;q<j.length;q++)b.strokeThickness&&(b.syncShadow(T,b.shadowStroke),T.strokeText(j[q],G+Q,N),b.syncShadow(T,b.shadowFill)),T.fillText(j[q],G+Q,N),Q+=T.measureText(j[q]).width+H;else T.fillText(R[W],G,N)}T.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(S,this.frame.source.glTexture,!0));var tt=this.input;return tt&&!tt.customHitArea&&(tt.hitArea.width=this.width,tt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(S){this.setText(S)}},toJSON:function(){var S=h.ToJSON(this),T={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return S.data=T,S},preDestroy:function(){v(this.canvas),g.remove(this.canvas);var S=this.texture;S&&S.destroy()}});r.exports=y}),79724:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a.width===0||a.height===0||(g.addToRenderList(a),s.batchSprite(a,a.frame,g,c))};r.exports=x}),71259:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(50171);g.register("text",function(l,o){l===void 0&&(l={});var u=c(l,"text",""),v=c(l,"style",null),f=c(l,"padding",null);f!==null&&(v.padding=f);var p=new h(this.scene,0,0,u,v);return o!==void 0&&(l.add=o),a(this.scene,p,l),p.autoRound=c(l,"autoRound",!0),p.resolution=c(l,"resolution",1),p})}),68005:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(50171),g=s(39429);g.register("text",function(c,h,l,o){return this.displayList.add(new a(this.scene,c,h,l,o))})}),61771:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(34397),c=s(79724),r.exports={renderWebGL:g,renderCanvas:c}}),35762:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23568),c=s(35154),h=s(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new a({initialize:function(v,f){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(f,!1,!0)},setStyle:function(u,v,f){v===void 0&&(v=!0),f===void 0&&(f=!1);for(var p in l){var m=f?l[p][1]:this[p];p==="wordWrapCallback"||p==="wordWrapCallbackScope"?this[p]=c(u,l[p][0],m):u&&p==="fontSize"&&typeof u.fontSize=="number"?this[p]=u.fontSize.toString()+"px":this[p]=g(u,l[p][0],m)}var y=c(u,"font",null);y!==null&&this.setFont(y,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var S=c(u,"fill",null);S!==null&&(this.color=S);var T=c(u,"metrics",!1);return T?this.metrics={ascent:c(T,"ascent",0),descent:c(T,"descent",0),fontSize:c(T,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=h(this)),v?this.parent.updateText():this.parent},syncFont:function(u,v){v.font=this._font},syncStyle:function(u,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(u,v){v?(u.shadowOffsetX=this.shadowOffsetX,u.shadowOffsetY=this.shadowOffsetY,u.shadowColor=this.shadowColor,u.shadowBlur=this.shadowBlur):(u.shadowOffsetX=0,u.shadowOffsetY=0,u.shadowColor=0,u.shadowBlur=0)},update:function(u){return u&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(u,v){v===void 0&&(v=!0);var f=u,p="",m="";if(typeof u!="string")f=c(u,"fontFamily","Courier"),p=c(u,"fontSize","16px"),m=c(u,"fontStyle","");else{var y=u.split(" "),S=0;m=y.length>2?y[S++]:"",p=y[S++]||"16px",f=y[S++]||"Courier"}return(f!==this.fontFamily||p!==this.fontSize||m!==this.fontStyle)&&(this.fontFamily=f,this.fontSize=p,this.fontStyle=m,v&&this.update(!0)),this.parent},setFontFamily:function(u){return this.fontFamily!==u&&(this.fontFamily=u,this.update(!0)),this.parent},setFontStyle:function(u){return this.fontStyle!==u&&(this.fontStyle=u,this.update(!0)),this.parent},setFontSize:function(u){return typeof u=="number"&&(u=u.toString()+"px"),this.fontSize!==u&&(this.fontSize=u,this.update(!0)),this.parent},setTestString:function(u){return this.testString=u,this.update(!0)},setFixedSize:function(u,v){return this.fixedWidth=u,this.fixedHeight=v,u&&(this.parent.width=u),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(u){return this.backgroundColor=u,this.update(!1)},setFill:function(u){return this.color=u,this.update(!1)},setColor:function(u){return this.color=u,this.update(!1)},setResolution:function(u){return this.resolution=u,this.update(!1)},setStroke:function(u,v){return v===void 0&&(v=this.strokeThickness),u===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==u||this.strokeThickness!==v)&&(this.stroke=u,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(u,v,f,p,m,y){return u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f="#000"),p===void 0&&(p=0),m===void 0&&(m=!1),y===void 0&&(y=!0),this.shadowOffsetX=u,this.shadowOffsetY=v,this.shadowColor=f,this.shadowBlur=p,this.shadowStroke=m,this.shadowFill=y,this.update(!1)},setShadowOffset:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this.shadowOffsetX=u,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(u){return u===void 0&&(u="#000"),this.shadowColor=u,this.update(!1)},setShadowBlur:function(u){return u===void 0&&(u=0),this.shadowBlur=u,this.update(!1)},setShadowStroke:function(u){return this.shadowStroke=u,this.update(!1)},setShadowFill:function(u){return this.shadowFill=u,this.update(!1)},setWordWrapWidth:function(u,v){return v===void 0&&(v=!1),this.wordWrapWidth=u,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(u,v){return v===void 0&&(v=null),this.wordWrapCallback=u,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(u){return u===void 0&&(u="left"),this.align=u,this.update(!1)},setMaxLines:function(u){return u===void 0&&(u=0),this.maxLines=u,this.update(!1)},getTextMetrics:function(){var u=this.metrics;return{ascent:u.ascent,descent:u.descent,fontSize:u.fontSize}},toJSON:function(){var u={};for(var v in l)u[v]=this[v];return u.metrics=this.getTextMetrics(),u},destroy:function(){this.parent=void 0}});r.exports=o}),34397:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(c,h,l,o){if(!(h.width===0||h.height===0)){l.addToRenderList(h);var u=h.frame,v=u.width,f=u.height,p=a.getTintAppendFloatAlpha,m=c.pipelines.set(h.pipeline,h),y=m.setTexture2D(u.glTexture,h);m.batchTexture(h,u.glTexture,v,f,h.x,h.y,v/h.style.resolution,f/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,v,f,p(h.tintTopLeft,l.alpha*h._alphaTL),p(h.tintTopRight,l.alpha*h._alphaTR),p(h.tintBottomLeft,l.alpha*h._alphaBL),p(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,0,0,l,o,!1,y)}};r.exports=g}),20839:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(83419),c=s(31401),h=s(95643),l=s(98439),o=s(68703),u=s(56295),v=s(45650),f=s(26099),p=8,m=new g({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,u],initialize:function(S,T,b,P,w,A,R){var D=S.sys.renderer;h.call(this,S,"TileSprite");var L=S.sys.textures.get(A),k=L.get(R);k.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=S.sys.textures.get("__MISSING"),k=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=S.sys.textures.get("__MISSING"),k=L.get()),!P||!w?(P=P||k.width,w=w||k.height):(P=Math.floor(P),w=Math.floor(w)),this._tilePosition=new f,this._tileScale=new f(1,1),this.dirty=!1,this.renderer=D,this.canvas=a.create(this,P,w),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=k,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=S.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(k.width),this.potHeight=l(k.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(T,b),this.setSize(P,w),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(y,S){return this.displayTexture=this.scene.sys.textures.get(y),this.setFrame(S)},setFrame:function(y){var S=this.displayTexture.get(y);return this.potWidth=l(S.width),this.potHeight=l(S.height),this.canvas.width=0,!S.cutWidth||!S.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this.displayFrame=S,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(y,S){return y!==void 0&&(this.tilePositionX=y),S!==void 0&&(this.tilePositionY=S),this},setTileScale:function(y,S){return y===void 0&&(y=this.tileScaleX),S===void 0&&(S=y),this.tileScaleX=y,this.tileScaleY=S,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var y=this.displayFrame;if(y.source.isRenderTexture||y.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var S=this.fillContext,T=this.fillCanvas,b=this.potWidth,P=this.potHeight;(!this.renderer||!this.renderer.gl)&&(b=y.cutWidth,P=y.cutHeight),S.clearRect(0,0,b,P),T.width=b,T.height=P,S.drawImage(y.source.image,y.cutX,y.cutY,y.cutWidth,y.cutHeight,0,0,b,P),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(T,this.fillPattern):this.fillPattern=S.createPattern(T,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var y=this.canvas;if((y.width!==this.width||y.height!==this.height)&&(y.width=this.width,y.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var S=this.context;this.scene.sys.game.config.antialias||o.disable(S);var T=this._tileScale.x,b=this._tileScale.y,P=this._tilePosition.x,w=this._tilePosition.y;S.clearRect(0,0,this.width,this.height),S.save(),S.scale(T,b),S.translate(-P,-w),S.fillStyle=this.fillPattern,S.fillRect(P,w,this.width/T,this.height/b),S.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var y=this.texture;y&&y.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(y){this._tilePosition.x=y,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(y){this._tilePosition.y=y,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(y){this._tileScale.x=y,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(y){this._tileScale.y=y,this.dirty=!0}}});r.exports=m}),46992:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a.updateCanvas(),g.addToRenderList(a),s.batchSprite(a,a.frame,g,c)};r.exports=x}),14167:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(20839);g.register("tileSprite",function(l,o){l===void 0&&(l={});var u=c(l,"x",0),v=c(l,"y",0),f=c(l,"width",512),p=c(l,"height",512),m=c(l,"key",""),y=c(l,"frame",""),S=new h(this.scene,u,v,f,p,m,y);return o!==void 0&&(l.add=o),a(this.scene,S,l),S})}),91681:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20839),g=s(39429);g.register("tileSprite",function(c,h,l,o,u,v){return this.displayList.add(new a(this.scene,c,h,l,o,u,v))})}),56295:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(18553),c=s(46992),r.exports={renderWebGL:g,renderCanvas:c}}),18553:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(c,h,l,o){h.updateCanvas();var u=h.width,v=h.height;if(!(u===0||v===0)){l.addToRenderList(h);var f=a.getTintAppendFloatAlpha,p=c.pipelines.set(h.pipeline,h),m=p.setTexture2D(h.fillPattern,h);p.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,u,v,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*u,h.originY*v,0,0,u,v,f(h.tintTopLeft,l.alpha*h._alphaTL),f(h.tintTopRight,l.alpha*h._alphaTR),f(h.tintBottomLeft,l.alpha*h._alphaBL),f(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,l,o,!1,m)}};r.exports=g}),18471:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(31401),h=s(51708),l=s(8443),o=s(95643),u=s(36383),v=s(14463),f=s(45650),p=s(10247),m=new g({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,p],initialize:function(S,T,b,P){o.call(this,S,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=f(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var w=S.sys.game;this._device=w.device.video,this.setPosition(T,b),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),w.events.on(l.PAUSE,this.globalPause,this),w.events.on(l.RESUME,this.globalResume,this);var A=S.sys.sound;A&&A.on(v.GLOBAL_MUTE,this.globalMute,this),P&&this.load(P)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(y){var S=this.scene.sys.cache.video.get(y);return S?(this.cacheKey=y,this.loadHandler(S.url,S.noAudio,S.crossOrigin)):console.warn("No video in cache for key: "+y),this},changeSource:function(y,S,T,b,P){S===void 0&&(S=!0),T===void 0&&(T=!1),this.cacheKey!==y&&(this.load(y),S&&this.play(T,b,P))},getVideoKey:function(){return this.cacheKey},loadURL:function(y,S,T){S===void 0&&(S=!1);var b=this._device.getVideoURL(y);return b?(this.cacheKey="",this.loadHandler(b.url,S,T)):console.warn("No supported video format found for "+y),this},loadMediaStream:function(y,S,T){return this.loadHandler(null,S,T,y)},loadHandler:function(y,S,T,b){S||(S=!1);var P=this.video;if(P?(this.removeLoadEventHandlers(),this.stop()):(P=document.createElement("video"),P.controls=!1,P.setAttribute("playsinline","playsinline"),P.setAttribute("preload","auto"),P.setAttribute("disablePictureInPicture","true")),S?(P.muted=!0,P.defaultMuted=!0,P.setAttribute("autoplay","autoplay")):(P.muted=!1,P.defaultMuted=!1,P.removeAttribute("autoplay")),T?P.setAttribute("crossorigin",T):P.removeAttribute("crossorigin"),b)if("srcObject"in P)try{P.srcObject=b}catch(A){if(A.name!=="TypeError")throw A;P.src=URL.createObjectURL(b)}else P.src=URL.createObjectURL(b);else P.src=y;this.retry=0,this.video=P,this._playCalled=!1,P.load(),this.addLoadEventHandlers();var w=this.scene.sys.textures.get(this._key);return this.setTexture(w),this},requestVideoFrame:function(y,S){var T=this.video;if(T){var b=S.width,P=S.height,w=this.videoTexture,A=this.videoTextureSource,R=!w||A.source!==T;R?(this._codePaused=T.paused,this._codeMuted=T.muted,w?(A.source=T,A.width=b,A.height=P,w.get().setSize(b,P)):(w=this.scene.sys.textures.create(this._key,T,b,P),w.add("__BASE",0,0,0,b,P),this.setTexture(w),this.videoTexture=w,this.videoTextureSource=w.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,w)),this.setSizeToFrame(),this.updateDisplayOrigin()):A.update(),this.isStalled=!1,this.metadata=S;var D=S.mediaTime;R&&(this._lastUpdate=D,this.emit(h.VIDEO_CREATED,this,b,P),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?D>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):D<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=D,this._getFrame?(this.removeEventHandlers(),T.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(y,S,T){S===void 0&&(S=-1),T===void 0&&(T=u.MAX_SAFE_INTEGER);var b=this.video;return!b||this.isPlaying()?(b||console.warn("Video not loaded"),this):(y===void 0&&(y=b.loop),b.loop=y,this._markerIn=S,this._markerOut=T,this._playingMarker=S>-1&&T>S&&T<u.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=b.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var y=this.video;return!y||this.isPlaying()?(y||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=y.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var y=this.video;y&&(y.addEventListener("error",this._loadCallbackHandler),y.addEventListener("abort",this._loadCallbackHandler),y.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var y=this.video;y&&(y.removeEventListener("error",this._loadCallbackHandler),y.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var y=this.video;if(y){var S=this._callbacks;for(var T in S)y.addEventListener(T,S[T])}},removeEventHandlers:function(){var y=this.video;if(y){var S=this._callbacks;for(var T in S)y.removeEventListener(T,S[T])}},createPlayPromise:function(y){y===void 0&&(y=!0);var S=this.video,T=S.play();if(T!==void 0){var b=this.playSuccess.bind(this),P=this.playError.bind(this);if(!y){var w=this;P=function(){w.failedPlayAttempts++}}T.then(b).catch(P)}else S.addEventListener("playing",this._callbacks.legacy),y||this.failedPlayAttempts++},addMarker:function(y,S,T){return!isNaN(S)&&S>=0&&!isNaN(T)&&T>S&&(this.markers[y]=[S,T]),this},playMarker:function(y,S){var T=this.markers[y];return T&&this.play(S,T[0],T[1]),this},removeMarker:function(y){return delete this.markers[y],this},snapshot:function(y,S){return y===void 0&&(y=this.width),S===void 0&&(S=this.height),this.snapshotArea(0,0,this.width,this.height,y,S)},snapshotArea:function(y,S,T,b,P,w){y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=this.width),b===void 0&&(b=this.height),P===void 0&&(P=T),w===void 0&&(w=b);var A=this.video,R=this.snapshotTexture;return R?(R.setSize(P,w),A&&R.context.drawImage(A,y,S,T,b,0,0,P,w)):(R=this.scene.sys.textures.createCanvas(f(),P,w),this.snapshotTexture=R,A&&R.context.drawImage(A,y,S,T,b,0,0,P,w)),R.update()},saveSnapshotTexture:function(y){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,y):this.snapshotTexture=this.scene.sys.textures.createCanvas(y,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var y=this.scene.sys.sound;y&&y.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(y){var S=y.name;S==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):S==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,y)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,y))},legacyPlayHandler:function(){var y=this.video;y&&(this.playSuccess(),y.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(y){this.stop(!1),this.emit(h.VIDEO_ERROR,this,y)},metadataHandler:function(y){this.emit(h.VIDEO_METADATA,this,y)},setSizeToFrame:function(y){y||(y=this.frame),this.width=y.realWidth,this.height=y.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var S=this.input;return S&&!S.customHitArea&&(S.hitArea.width=this.width,S.hitArea.height=this.height),this},stalledHandler:function(y){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,y)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(y,S){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=S,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(y){var S=this.video;if(S){var T=S.duration;if(T!==1/0&&!isNaN(T)){var b=T*y;this.setCurrentTime(b)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(y){var S=this.video;if(S){if(typeof y=="string"){var T=y[0],b=parseFloat(y.substr(1));T==="+"?y=S.currentTime+b:T==="-"&&(y=S.currentTime-b)}S.currentTime=y}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var y=this.video;if(y){var S=y.duration;if(S!==1/0&&!isNaN(S))return y.currentTime/S}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(y){y===void 0&&(y=!0),this._codeMuted=y;var S=this.video;return S&&(S.muted=this._systemMuted?!0:y),this},isMuted:function(){return this._codeMuted},globalMute:function(y,S){this._systemMuted=S;var T=this.video;T&&(T.muted=this._codeMuted?!0:S)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(y){y===void 0&&(y=!0);var S=this.video;return this._codePaused=y,S&&!S.ended&&(y?S.paused||(this.removeEventHandlers(),S.pause()):y||(this._playCalled?S.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(y){return y===void 0&&(y=1),this.video&&(this.video.volume=a(y,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(y){return this.video&&(this.video.playbackRate=y),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(y){return y===void 0&&(y=!0),this.video&&(this.video.loop=y),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(y,S){return S===void 0&&(S=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,y),this.videoTextureSource.setFlipY(S)),this._key=y,this.flipY=S,!!this.videoTexture},stop:function(y){y===void 0&&(y=!0);var S=this.video;return S&&(this.removeEventHandlers(),S.cancelVideoFrameCallback(this._rfvCallbackId),S.pause()),this.retry=0,this._playCalled=!1,y&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var y=this.video;if(y){for(y.parentNode&&y.parentNode.removeChild(y);y.hasChildNodes();)y.removeChild(y.firstChild);y.removeAttribute("autoplay"),y.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var y=this.scene.sys.game.events;y.off(l.PAUSE,this.globalPause,this),y.off(l.RESUME,this.globalResume,this);var S=this.scene.sys.sound;S&&S.off(v.GLOBAL_MUTE,this.globalMute,this)}});r.exports=m}),58352:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a.videoTexture&&(g.addToRenderList(a),s.batchSprite(a,a.frame,g,c))};r.exports=x}),11511:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),c=s(23568),h=s(18471);g.register("video",function(l,o){l===void 0&&(l={});var u=c(l,"key",null),v=new h(this.scene,0,0,u);return o!==void 0&&(l.add=o),a(this.scene,v,l),v})}),89025:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(18471),g=s(39429);g.register("video",function(c,h,l){return this.displayList.add(new a(this.scene,c,h,l))})}),10247:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(29849),c=s(58352),r.exports={renderWebGL:g,renderCanvas:c}}),29849:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a.videoTexture&&(g.addToRenderList(a),a.pipeline.batchSprite(a,g,c))};r.exports=x}),41481:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(96503),c=s(87902),h=s(83419),l=s(31401),o=s(95643),u=s(87841),v=s(37303),f=new h({Extends:o,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(m,y,S,T,b){T===void 0&&(T=1),b===void 0&&(b=T),o.call(this,m,"Zone"),this.setPosition(y,S),this.width=T,this.height=b,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(p){this.scaleX=p/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(p){this.scaleY=p/this.height}},setSize:function(p,m,y){y===void 0&&(y=!0),this.width=p,this.height=m,this.updateDisplayOrigin();var S=this.input;return y&&S&&!S.customHitArea&&(S.hitArea.width=p,S.hitArea.height=m),this},setDisplaySize:function(p,m){return this.displayWidth=p,this.displayHeight=m,this},setCircleDropZone:function(p){return this.setDropZone(new g(0,0,p),c)},setRectangleDropZone:function(p,m){return this.setDropZone(new u(0,0,p,m),v)},setDropZone:function(p,m){return this.input||this.setInteractive(p,m,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(p,m,y){y.addToRenderList(m)},renderWebGL:function(p,m,y){y.addToRenderList(m)}});r.exports=f}),95261:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(23568),c=s(41481);a.register("zone",function(h){var l=g(h,"x",0),o=g(h,"y",0),u=g(h,"width",1),v=g(h,"height",u);return new c(this.scene,l,o,u,v)})}),84175:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41481),g=s(39429);g.register("zone",function(c,h,l,o){return this.displayList.add(new a(this.scene,c,h,l,o))})}),95166:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};r.exports=x}),96503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(87902),c=s(26241),h=s(79124),l=s(23777),o=s(28176),u=new a({initialize:function(f,p,m){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=l.CIRCLE,this.x=f,this.y=p,this._radius=m,this._diameter=m*2},contains:function(v,f){return g(this,v,f)},getPoint:function(v,f){return c(this,v,f)},getPoints:function(v,f,p){return h(this,v,f,p)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,f,p){return this.x=v,this.y=f,this._radius=p,this._diameter=p*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});r.exports=u}),71562:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 2*(Math.PI*s.radius)};r.exports=x}),92110:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l){return l===void 0&&(l=new a),l.x=c.x+c.radius*Math.cos(h),l.y=c.y+c.radius*Math.sin(h),l};r.exports=g}),42250:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=function(c){return new a(c.x,c.y,c.radius)};r.exports=g}),87902:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(s.radius>0&&a>=s.left&&a<=s.right&&g>=s.top&&g<=s.bottom){var c=(s.x-a)*(s.x-a),h=(s.y-g)*(s.y-g);return c+h<=s.radius*s.radius}else return!1};r.exports=x}),5698:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=function(c,h){return a(c,h.x,h.y)};r.exports=g}),70588:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=function(c,h){return a(c,h.x,h.y)&&a(c,h.right,h.y)&&a(c,h.x,h.bottom)&&a(c,h.right,h.bottom)};r.exports=g}),26394:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.radius)};r.exports=x}),76278:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.radius===a.radius};r.exports=x}),2074:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h){return h===void 0&&(h=new a),h.x=c.left,h.y=c.top,h.width=c.diameter,h.height=c.diameter,h};r.exports=g}),26241:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(92110),g=s(62945),c=s(36383),h=s(2141),l=function(o,u,v){v===void 0&&(v=new h);var f=g(u,0,c.PI2);return a(o,f,v)};r.exports=l}),79124:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71562),g=s(92110),c=s(62945),h=s(36383),l=function(o,u,v,f){f===void 0&&(f=[]),!u&&v>0&&(u=a(o)/v);for(var p=0;p<u;p++){var m=c(p/u,0,h.PI2);f.push(g(o,m))}return f};r.exports=l}),50884:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};r.exports=x}),39212:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};r.exports=x}),28176:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){h===void 0&&(h=new a);var l=2*Math.PI*Math.random(),o=Math.random()+Math.random(),u=o>1?2-o:o,v=u*Math.cos(l),f=u*Math.sin(l);return h.x=c.x+v*c.radius,h.y=c.y+f*c.radius,h};r.exports=g}),88911:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503);a.Area=s(95166),a.Circumference=s(71562),a.CircumferencePoint=s(92110),a.Clone=s(42250),a.Contains=s(87902),a.ContainsPoint=s(5698),a.ContainsRect=s(70588),a.CopyFrom=s(26394),a.Equals=s(76278),a.GetBounds=s(2074),a.GetPoint=s(26241),a.GetPoints=s(79124),a.Offset=s(50884),a.OffsetPoint=s(39212),a.Random=s(28176),r.exports=a}),23777:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=x}),78874:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};r.exports=x}),92990:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.width/2,g=s.height/2,c=Math.pow(a-g,2)/Math.pow(a+g,2);return Math.PI*(a+g)*(1+3*c/(10+Math.sqrt(4-3*c)))};r.exports=x}),79522:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l){l===void 0&&(l=new a);var o=c.width/2,u=c.height/2;return l.x=c.x+o*Math.cos(h),l.y=c.y+u*Math.sin(h),l};r.exports=g}),58102:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8497),g=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=g}),81154:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(s.width<=0||s.height<=0)return!1;var c=(a-s.x)/s.width,h=(g-s.y)/s.height;return c*=c,h*=h,c+h<.25};r.exports=x}),46662:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81154),g=function(c,h){return a(c,h.x,h.y)};r.exports=g}),1632:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81154),g=function(c,h){return a(c,h.x,h.y)&&a(c,h.right,h.y)&&a(c,h.x,h.bottom)&&a(c,h.right,h.bottom)};r.exports=g}),65534:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.width,s.height)};r.exports=x}),8497:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(81154),c=s(90549),h=s(48320),l=s(23777),o=s(24820),u=new a({initialize:function(f,p,m,y){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=l.ELLIPSE,this.x=f,this.y=p,this.width=m,this.height=y},contains:function(v,f){return g(this,v,f)},getPoint:function(v,f){return c(this,v,f)},getPoints:function(v,f,p){return h(this,v,f,p)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,f,p,m){return this.x=v,this.y=f,this.width=p,this.height=m,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,f){return f===void 0&&(f=v),this.x=v,this.y=f,this},setSize:function(v,f){return f===void 0&&(f=v),this.width=v,this.height=f,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});r.exports=u}),36146:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.width===a.width&&s.height===a.height};r.exports=x}),23694:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h){return h===void 0&&(h=new a),h.x=c.left,h.y=c.top,h.width=c.width,h.height=c.height,h};r.exports=g}),90549:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79522),g=s(62945),c=s(36383),h=s(2141),l=function(o,u,v){v===void 0&&(v=new h);var f=g(u,0,c.PI2);return a(o,f,v)};r.exports=l}),48320:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(92990),g=s(79522),c=s(62945),h=s(36383),l=function(o,u,v,f){f===void 0&&(f=[]),!u&&v>0&&(u=a(o)/v);for(var p=0;p<u;p++){var m=c(p/u,0,h.PI2);f.push(g(o,m))}return f};r.exports=l}),73424:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};r.exports=x}),44808:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};r.exports=x}),24820:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){h===void 0&&(h=new a);var l=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return h.x=c.x+o*Math.cos(l)*c.width/2,h.y=c.y+o*Math.sin(l)*c.height/2,h};r.exports=g}),49203:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8497);a.Area=s(78874),a.Circumference=s(92990),a.CircumferencePoint=s(79522),a.Clone=s(58102),a.Contains=s(81154),a.ContainsPoint=s(46662),a.ContainsRect=s(1632),a.CopyFrom=s(65534),a.Equals=s(36146),a.GetBounds=s(23694),a.GetPoint=s(90549),a.GetPoints=s(48320),a.Offset=s(73424),a.OffsetPoint=s(44808),a.Random=s(24820),r.exports=a}),55738:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23777),g=s(79291),c={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};c=g(!1,c,a),r.exports=c}),2044:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20339),g=function(c,h){return a(c.x,c.y,h.x,h.y)<=c.radius+h.radius};r.exports=g}),81491:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=a.width/2,c=a.height/2,h=Math.abs(s.x-a.x-g),l=Math.abs(s.y-a.y-c),o=g+s.radius,u=c+s.radius;if(h>o||l>u)return!1;if(h<=g||l<=c)return!0;var v=h-g,f=l-c,p=v*v,m=f*f,y=s.radius*s.radius;return p+m<=y};r.exports=x}),63376:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(2044),c=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var u=h.x,v=h.y,f=h.radius,p=l.x,m=l.y,y=l.radius,S,T,b,P,w;if(v===m)w=(y*y-f*f-p*p+u*u)/(2*(u-p)),S=1,T=-2*m,b=p*p+w*w-2*p*w+m*m-y*y,P=T*T-4*S*b,P===0?o.push(new a(w,-T/(2*S))):P>0&&(o.push(new a(w,(-T+Math.sqrt(P))/(2*S))),o.push(new a(w,(-T-Math.sqrt(P))/(2*S))));else{var A=(u-p)/(v-m),R=(y*y-f*f-p*p+u*u-m*m+v*v)/(2*(v-m));S=A*A+1,T=2*v*A-2*R*A-2*u,b=u*u+v*v+R*R-f*f-2*v*R,P=T*T-4*S*b,P===0?(w=-T/(2*S),o.push(new a(w,R-w*A))):P>0&&(w=(-T+Math.sqrt(P))/(2*S),o.push(new a(w,R-w*A)),w=(-T-Math.sqrt(P))/(2*S),o.push(new a(w,R-w*A)))}}return o};r.exports=c}),97439:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4042),g=s(81491),c=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var u=l.getLineA(),v=l.getLineB(),f=l.getLineC(),p=l.getLineD();a(u,h,o),a(v,h,o),a(f,h,o),a(p,h,o)}return o};r.exports=c}),4042:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(80462),c=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var u=h.x1,v=h.y1,f=h.x2,p=h.y2,m=l.x,y=l.y,S=l.radius,T=f-u,b=p-v,P=u-m,w=v-y,A=T*T+b*b,R=2*(T*P+b*w),D=P*P+w*w-S*S,L=R*R-4*A*D,k,B;if(L===0){var F=-R/(2*A);k=u+F*T,B=v+F*b,F>=0&&F<=1&&o.push(new a(k,B))}else if(L>0){var G=(-R-Math.sqrt(L))/(2*A);k=u+G*T,B=v+G*b,G>=0&&G<=1&&o.push(new a(k,B));var N=(-R+Math.sqrt(L))/(2*A);k=u+N*T,B=v+N*b,N>=0&&N<=1&&o.push(new a(k,B))}}return o};r.exports=c}),36100:((r,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=function(c,h,l,o){l===void 0&&(l=!1);var u=c.x1,v=c.y1,f=c.x2,p=c.y2,m=h.x1,y=h.y1,S=h.x2,T=h.y2,b=f-u,P=p-v,w=S-m,A=T-y,R=b*A-P*w;if(R===0)return null;var D,L,k;if(l){if(D=(b*(y-v)+P*(u-m))/(w*P-A*b),b!==0)L=(m+w*D-u)/b;else if(P!==0)L=(y+A*D-v)/P;else return null;if(L<0||D<0||D>1)return null;k=L}else{if(D=((m-u)*A-(y-v)*w)/R,L=((v-y)*b-(u-m)*P)/R,D<0||D>1||L<0||L>1)return null;k=D}return o===void 0&&(o=new a),o.set(u+b*k,v+P*k,k)};r.exports=g}),3073:((r,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36100),g=s(23031),c=s(25836),h=new g,l=new c,o=function(u,v,f,p){f===void 0&&(f=!1),p===void 0&&(p=new c);var m=!1;p.set(),l.set();for(var y=v[v.length-1],S=0;S<v.length;S++){var T=v[S];h.setTo(y.x,y.y,T.x,T.y),y=T,a(u,h,f,l)&&(!m||l.z<p.z)&&(p.copy(l),m=!0)}return m?p:null};r.exports=o}),56362:((r,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=s(61369),c=s(3073),h=new a,l=function(o,u,v,f){f===void 0&&(f=new g),Array.isArray(u)||(u=[u]);var p=!1;f.set(),h.set();for(var m=0;m<u.length;m++)c(o,u[m].points,v,h)&&(!p||h.z<f.z)&&(f.set(h.x,h.y,h.z,m),p=!0);return p?f:null};r.exports=l}),60646:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(76112),c=s(92773),h=function(l,o,u){if(u===void 0&&(u=[]),c(l,o))for(var v=o.getLineA(),f=o.getLineB(),p=o.getLineC(),m=o.getLineD(),y=[new a,new a,new a,new a],S=[g(v,l,y[0]),g(f,l,y[1]),g(p,l,y[2]),g(m,l,y[3])],T=0;T<4;T++)S[T]&&u.push(y[T]);return u};r.exports=h}),71147:((r,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61369),g=s(56362),c=s(23031),h=new c;function l(v,f,p,m,y){var S=Math.cos(v),T=Math.sin(v);h.setTo(f,p,f+S,p+T);var b=g(h,m,!0);b&&y.push(new a(b.x,b.y,v,b.w))}function o(v,f){return v.z-f.z}var u=function(v,f,p){Array.isArray(p)||(p=[p]);for(var m=[],y=[],S=0;S<p.length;S++)for(var T=p[S].points,b=0;b<T.length;b++){var P=Math.atan2(T[b].y-f,T[b].x-v);y.indexOf(P)===-1&&(l(P,v,f,p,m),l(P-1e-5,v,f,p,m),l(P+1e-5,v,f,p,m),y.push(P))}return m.sort(o)};r.exports=u}),68389:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(59996),c=function(h,l,o){return o===void 0&&(o=new a),g(h,l)&&(o.x=Math.max(h.x,l.x),o.y=Math.max(h.y,l.y),o.width=Math.min(h.right,l.right)-o.x,o.height=Math.min(h.bottom,l.bottom)-o.y),o};r.exports=c}),52784:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60646),g=s(59996),c=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var u=h.getLineA(),v=h.getLineB(),f=h.getLineC(),p=h.getLineD();a(u,l,o),a(v,l,o),a(f,l,o),a(p,l,o)}return o};r.exports=c}),26341:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89265),g=s(60646),c=function(h,l,o){if(o===void 0&&(o=[]),a(h,l)){var u=l.getLineA(),v=l.getLineB(),f=l.getLineC();g(u,h,o),g(v,h,o),g(f,h,o)}return o};r.exports=c}),38720:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4042),g=s(67636),c=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var u=h.getLineA(),v=h.getLineB(),f=h.getLineC();a(u,l,o),a(v,l,o),a(f,l,o)}return o};r.exports=c}),13882:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(2822),c=s(76112),h=function(l,o,u){if(u===void 0&&(u=[]),g(l,o))for(var v=l.getLineA(),f=l.getLineB(),p=l.getLineC(),m=[new a,new a,new a],y=[c(v,o,m[0]),c(f,o,m[1]),c(p,o,m[2])],S=0;S<3;S++)y[S]&&u.push(m[S]);return u};r.exports=h}),75636:((r,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82944),g=s(13882),c=function(h,l,o){if(o===void 0&&(o=[]),a(h,l)){var u=l.getLineA(),v=l.getLineB(),f=l.getLineC();g(h,u,o),g(h,v,o),g(h,f,o)}return o};r.exports=c}),80462:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=s(2141),c=new g,h=function(l,o,u){if(u===void 0&&(u=c),a(o,l.x1,l.y1))return u.x=l.x1,u.y=l.y1,!0;if(a(o,l.x2,l.y2))return u.x=l.x2,u.y=l.y2,!0;var v=l.x2-l.x1,f=l.y2-l.y1,p=o.x-l.x1,m=o.y-l.y1,y=v*v+f*f,S=v,T=f;if(y>0){var b=(p*v+m*f)/y;S*=b,T*=b}u.x=l.x1+S,u.y=l.y1+T;var P=S*S+T*T;return P<=y&&S*v+T*f>=0&&a(o,u.x,u.y)};r.exports=h}),76112:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=s.x1,h=s.y1,l=s.x2,o=s.y2,u=a.x1,v=a.y1,f=a.x2,p=a.y2;if(c===l&&h===o||u===f&&v===p)return!1;var m=(p-v)*(l-c)-(f-u)*(o-h);if(m===0)return!1;var y=((f-u)*(h-v)-(p-v)*(c-u))/m,S=((l-c)*(h-v)-(o-h)*(c-u))/m;return y<0||y>1||S<0||S>1?!1:(g&&(g.x=c+y*(l-c),g.y=h+y*(o-h)),!0)};r.exports=x}),92773:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x1,c=s.y1,h=s.x2,l=s.y2,o=a.x,u=a.y,v=a.right,f=a.bottom,p=0;if(g>=o&&g<=v&&c>=u&&c<=f||h>=o&&h<=v&&l>=u&&l<=f)return!0;if(g<o&&h>=o){if(p=c+(l-c)*(o-g)/(h-g),p>u&&p<=f)return!0}else if(g>v&&h<=v&&(p=c+(l-c)*(v-g)/(h-g),p>=u&&p<=f))return!0;if(c<u&&l>=u){if(p=g+(h-g)*(u-c)/(l-c),p>=o&&p<=v)return!0}else if(c>f&&l<=f&&(p=g+(h-g)*(f-c)/(l-c),p>=o&&p<=v))return!0;return!1};r.exports=x}),16204:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=1);var c=a.x1,h=a.y1,l=a.x2,o=a.y2,u=s.x,v=s.y,f=(l-c)*(l-c)+(o-h)*(o-h);if(f===0)return!1;var p=((u-c)*(l-c)+(v-h)*(o-h))/f;if(p<0)return Math.sqrt((c-u)*(c-u)+(h-v)*(h-v))<=g;if(p>=0&&p<=1){var m=((h-v)*(l-c)-(c-u)*(o-h))/f;return Math.abs(m)*Math.sqrt(f)<=g}else return Math.sqrt((l-u)*(l-u)+(o-v)*(o-v))<=g};r.exports=x}),14199:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16204),g=function(c,h){if(!a(c,h))return!1;var l=Math.min(h.x1,h.x2),o=Math.max(h.x1,h.x2),u=Math.min(h.y1,h.y2),v=Math.max(h.y1,h.y2);return c.x>=l&&c.x<=o&&c.y>=u&&c.y<=v};r.exports=g}),59996:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.width<=0||s.height<=0||a.width<=0||a.height<=0?!1:!(s.right<a.x||s.bottom<a.y||s.x>a.right||s.y>a.bottom)};r.exports=x}),89265:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(76112),g=s(37303),c=s(48653),h=s(77493),l=function(o,u){if(u.left>o.right||u.right<o.left||u.top>o.bottom||u.bottom<o.top)return!1;var v=u.getLineA(),f=u.getLineB(),p=u.getLineC();if(g(o,v.x1,v.y1)||g(o,v.x2,v.y2)||g(o,f.x1,f.y1)||g(o,f.x2,f.y2)||g(o,p.x1,p.y1)||g(o,p.x2,p.y2))return!0;var m=o.getLineA(),y=o.getLineB(),S=o.getLineC(),T=o.getLineD();if(a(v,m)||a(v,y)||a(v,S)||a(v,T)||a(f,m)||a(f,y)||a(f,S)||a(f,T)||a(p,m)||a(p,y)||a(p,S)||a(p,T))return!0;var b=h(o),P=c(u,b,!0);return P.length>0};r.exports=l}),84411:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l){return l===void 0&&(l=0),!(a>s.right+l||g<s.left-l||c>s.bottom+l||h<s.top-l)};r.exports=x}),67636:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80462),g=s(10690),c=function(h,l){return h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top?!1:!!(g(h,l.x,l.y)||a(h.getLineA(),l)||a(h.getLineB(),l)||a(h.getLineC(),l))};r.exports=c}),2822:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(76112),g=function(c,h){return!!(c.contains(h.x1,h.y1)||c.contains(h.x2,h.y2)||a(c.getLineA(),h)||a(c.getLineB(),h)||a(c.getLineC(),h))};r.exports=g}),82944:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(48653),g=s(71694),c=s(76112),h=function(l,o){if(l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top)return!1;var u=l.getLineA(),v=l.getLineB(),f=l.getLineC(),p=o.getLineA(),m=o.getLineB(),y=o.getLineC();if(c(u,p)||c(u,m)||c(u,y)||c(v,p)||c(v,m)||c(v,y)||c(f,p)||c(f,m)||c(f,y))return!0;var S=g(l),T=a(o,S,!0);return T.length>0||(S=g(o),T=a(l,S,!0),T.length>0)};r.exports=h}),91865:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}}),91938:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};r.exports=x}),84993:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=1),g===void 0&&(g=[]);var c=Math.round(s.x1),h=Math.round(s.y1),l=Math.round(s.x2),o=Math.round(s.y2),u=Math.abs(l-c),v=Math.abs(o-h),f=c<l?1:-1,p=h<o?1:-1,m=u-v;g.push({x:c,y:h});for(var y=1;!(c===l&&h===o);){var S=m<<1;S>-v&&(m-=v,c+=f),S<u&&(m+=u,h+=p),y%a===0&&g.push({x:c,y:h}),y++}return g};r.exports=x}),36469:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=a-(s.x1+s.x2)/2,h=g-(s.y1+s.y2)/2;return s.x1+=c,s.y1+=h,s.x2+=c,s.y2+=h,s};r.exports=x}),31116:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23031),g=function(c){return new a(c.x1,c.y1,c.x2,c.y2)};r.exports=g}),59944:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x1,s.y1,s.x2,s.y2)};r.exports=x}),59220:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x1===a.x1&&s.y1===a.y1&&s.x2===a.x2&&s.y2===a.y2};r.exports=x}),78177:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=function(c,h,l){l===void 0&&(l=h);var o=a(c),u=c.x2-c.x1,v=c.y2-c.y1;return h&&(c.x1=c.x1-u/o*h,c.y1=c.y1-v/o*h),l&&(c.x2=c.x2+u/o*l,c.y2=c.y2+v/o*l),c};r.exports=g}),26708:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(52816),g=s(6113),c=s(2141),h=function(l,o,u,v,f){v===void 0&&(v=0),f===void 0&&(f=[]);var p=[],m=l.x1,y=l.y1,S=l.x2-m,T=l.y2-y,b=g(o,f),P,w,A=u-1;for(P=0;P<A;P++)w=b(P/A),p.push(new c(m+S*w,y+T*w));if(w=b(1),p.push(new c(m+S*w,y+T*w)),v>0){var R=p[0],D=[R];for(P=1;P<p.length-1;P++){var L=p[P];a(R,L)>=v&&(D.push(L),R=L)}var k=p[p.length-1];return a(R,k)<v&&D.pop(),D.push(k),D}else return p};r.exports=h}),32125:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.x=(c.x1+c.x2)/2,h.y=(c.y1+c.y2)/2,h};r.exports=g}),99569:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l){l===void 0&&(l=new a);var o=c.x1,u=c.y1,v=c.x2,f=c.y2,p=(v-o)*(v-o)+(f-u)*(f-u);if(p===0)return l;var m=((h.x-o)*(v-o)+(h.y-u)*(f-u))/p;return l.x=o+m*(v-o),l.y=u+m*(f-u),l};r.exports=g}),34638:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),c=s(2141),h=function(l,o){o===void 0&&(o=new c);var u=g(l)-a.TAU;return o.x=Math.cos(u),o.y=Math.sin(u),o};r.exports=h}),13151:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l){return l===void 0&&(l=new a),l.x=c.x1+(c.x2-c.x1)*h,l.y=c.y1+(c.y2-c.y1)*h,l};r.exports=g}),15258:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(2141),c=function(h,l,o,u){u===void 0&&(u=[]),!l&&o>0&&(l=a(h)/o);for(var v=h.x1,f=h.y1,p=h.x2,m=h.y2,y=0;y<l;y++){var S=y/l,T=v+(p-v)*S,b=f+(m-f)*S;u.push(new g(T,b))}return u};r.exports=c}),26408:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x1,c=s.y1,h=s.x2,l=s.y2,o=(h-g)*(h-g)+(l-c)*(l-c);if(o===0)return!1;var u=((c-a.y)*(h-g)-(g-a.x)*(l-c))/o;return Math.abs(u)*Math.sqrt(o)};r.exports=x}),98770:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.abs(s.y1-s.y2)};r.exports=x}),35001:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};r.exports=x}),23031:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(13151),c=s(15258),h=s(23777),l=s(65822),o=s(26099),u=new a({initialize:function(f,p,m,y){f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=h.LINE,this.x1=f,this.y1=p,this.x2=m,this.y2=y},getPoint:function(v,f){return g(this,v,f)},getPoints:function(v,f,p){return c(this,v,f,p)},getRandomPoint:function(v){return l(this,v)},setTo:function(v,f,p,m){return v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),this.x1=v,this.y1=f,this.x2=p,this.y2=m,this},setFromObjects:function(v,f){return this.x1=v.x,this.y1=v.y,this.x2=f.x,this.y2=f.y,this},getPointA:function(v){return v===void 0&&(v=new o),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new o),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});r.exports=u}),64795:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(15994),c=s(91938),h=function(l){var o=c(l)-a.TAU;return g(o,-Math.PI,Math.PI)};r.exports=h}),52616:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),c=function(h){return Math.cos(g(h)-a.TAU)};r.exports=c}),87231:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),c=function(h){return Math.sin(g(h)-a.TAU)};r.exports=c}),89662:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x1+=a,s.y1+=g,s.x2+=a,s.y2+=g,s};r.exports=x}),71165:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};r.exports=x}),65822:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){h===void 0&&(h=new a);var l=Math.random();return h.x=c.x1+l*(c.x2-c.x1),h.y=c.y1+l*(c.y2-c.y1),h};r.exports=g}),69777:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91938),g=s(64795),c=function(h,l){return 2*g(l)-Math.PI-a(h)};r.exports=c}),39706:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64400),g=function(c,h){var l=(c.x1+c.x2)/2,o=(c.y1+c.y2)/2;return a(c,l,o,h)};r.exports=g}),82585:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64400),g=function(c,h,l){return a(c,h.x,h.y,l)};r.exports=g}),64400:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=Math.cos(c),l=Math.sin(c),o=s.x1-a,u=s.y1-g;return s.x1=o*h-u*l+a,s.y1=o*l+u*h+g,o=s.x2-a,u=s.y2-g,s.x2=o*h-u*l+a,s.y2=o*l+u*h+g,s};r.exports=x}),62377:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){return s.x1=a,s.y1=g,s.x2=a+Math.cos(c)*h,s.y2=g+Math.sin(c)*h,s};r.exports=x}),71366:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};r.exports=x}),10809:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.abs(s.x1-s.x2)};r.exports=x}),2529:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23031);a.Angle=s(91938),a.BresenhamPoints=s(84993),a.CenterOn=s(36469),a.Clone=s(31116),a.CopyFrom=s(59944),a.Equals=s(59220),a.Extend=s(78177),a.GetEasedPoints=s(26708),a.GetMidPoint=s(32125),a.GetNearestPoint=s(99569),a.GetNormal=s(34638),a.GetPoint=s(13151),a.GetPoints=s(15258),a.GetShortestDistance=s(26408),a.Height=s(98770),a.Length=s(35001),a.NormalAngle=s(64795),a.NormalX=s(52616),a.NormalY=s(87231),a.Offset=s(89662),a.PerpSlope=s(71165),a.Random=s(65822),a.ReflectAngle=s(69777),a.Rotate=s(39706),a.RotateAroundPoint=s(82585),a.RotateAroundXY=s(64400),a.SetToAngle=s(62377),a.Slope=s(71366),a.Width=s(10809),r.exports=a}),83997:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(87841),c=s(26099);function h(o,u,v,f){var p=o-v,m=u-f,y=p*p+m*m;return Math.sqrt(y)}var l=new a({initialize:function(u,v,f){this.vertex1=u,this.vertex2=v,this.vertex3=f,this.bounds=new g,this._inCenter=new c},getInCenter:function(o){o===void 0&&(o=!0);var u=this.vertex1,v=this.vertex2,f=this.vertex3,p,m,y,S,T,b;o?(p=u.x,m=u.y,y=v.x,S=v.y,T=f.x,b=f.y):(p=u.vx,m=u.vy,y=v.vx,S=v.vy,T=f.vx,b=f.vy);var P=h(T,b,y,S),w=h(p,m,T,b),A=h(y,S,p,m),R=P+w+A;return this._inCenter.set((p*P+y*w+T*A)/R,(m*P+S*w+b*A)/R)},contains:function(o,u,v){var f=this.vertex1,p=this.vertex2,m=this.vertex3,y=f.vx,S=f.vy,T=p.vx,b=p.vy,P=m.vx,w=m.vy;if(v){var A=v.a,R=v.b,D=v.c,L=v.d,k=v.e,B=v.f;y=f.vx*A+f.vy*D+k,S=f.vx*R+f.vy*L+B,T=p.vx*A+p.vy*D+k,b=p.vx*R+p.vy*L+B,P=m.vx*A+m.vy*D+k,w=m.vx*R+m.vy*L+B}var F=P-y,G=w-S,N=T-y,W=b-S,X=o-y,$=u-S,J=F*F+G*G,V=F*N+G*W,Y=F*X+G*$,z=N*N+W*W,K=N*X+W*$,H=J*z-V*V,Q=H===0?0:1/H,j=(z*Y-V*K)*Q,q=(J*K-V*Y)*Q;return j>=0&&q>=0&&j+q<1},isCounterClockwise:function(o){var u=this.vertex1,v=this.vertex2,f=this.vertex3,p=(v.vx-u.vx)*(f.vy-u.vy)-(v.vy-u.vy)*(f.vx-u.vx);return o<=0?p>=0:p<0},load:function(o,u,v,f,p){return v=this.vertex1.load(o,u,v,f,p),v=this.vertex2.load(o,u,v,f,p),v=this.vertex3.load(o,u,v,f,p),v},transformCoordinatesLocal:function(o,u,v,f){return this.vertex1.transformCoordinatesLocal(o,u,v,f),this.vertex2.transformCoordinatesLocal(o,u,v,f),this.vertex3.transformCoordinatesLocal(o,u,v,f),this},updateBounds:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3,f=this.bounds;return f.x=Math.min(o.vx,u.vx,v.vx),f.y=Math.min(o.vy,u.vy,v.vy),f.width=Math.max(o.vx,u.vx,v.vx)-f.x,f.height=Math.max(o.vy,u.vy,v.vy)-f.y,this},isInView:function(o,u,v,f,p,m,y,S,T,b,P){this.update(f,p,m,y,S,T,b,P);var w=this.vertex1,A=this.vertex2,R=this.vertex3;if(w.ta<=0&&A.ta<=0&&R.ta<=0||u&&!this.isCounterClockwise(v))return!1;var D=this.bounds;D.x=Math.min(w.tx,A.tx,R.tx),D.y=Math.min(w.ty,A.ty,R.ty),D.width=Math.max(w.tx,A.tx,R.tx)-D.x,D.height=Math.max(w.ty,A.ty,R.ty)-D.y;var L=o.x+o.width,k=o.y+o.height;return D.width<=0||D.height<=0||o.width<=0||o.height<=0?!1:!(D.right<o.x||D.bottom<o.y||D.x>L||D.y>k)},scrollUV:function(o,u){return this.vertex1.scrollUV(o,u),this.vertex2.scrollUV(o,u),this.vertex3.scrollUV(o,u),this},scaleUV:function(o,u){return this.vertex1.scaleUV(o,u),this.vertex2.scaleUV(o,u),this.vertex3.scaleUV(o,u),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,u,v,f,p,m,y,S){return this.vertex1.update(u,v,f,p,m,y,S,o),this.vertex2.update(u,v,f,p,m,y,S,o),this.vertex3.update(u,v,f,p,m,y,S,o),this},translate:function(o,u){u===void 0&&(u=0);var v=this.vertex1,f=this.vertex2,p=this.vertex3;return v.x+=o,v.y+=u,f.x+=o,f.y+=u,p.x+=o,p.y+=u,this},x:{get:function(){return this.getInCenter().x},set:function(o){var u=this.getInCenter();this.translate(o-u.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var u=this.getInCenter();this.translate(0,o-u.y)}},alpha:{get:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3;return(o.alpha+u.alpha+v.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,u=this.vertex2,v=this.vertex3;return(o.vz+u.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=l}),48803:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(95540),c=s(37867),h=s(25836),l=s(39318),o=new h,u=new h,v=new c,f=function(p){var m=g(p,"mesh"),y=g(p,"texture",null),S=g(p,"frame"),T=g(p,"width",1),b=g(p,"height",T),P=g(p,"widthSegments",1),w=g(p,"heightSegments",P),A=g(p,"x",0),R=g(p,"y",0),D=g(p,"z",0),L=g(p,"rotateX",0),k=g(p,"rotateY",0),B=g(p,"rotateZ",0),F=g(p,"zIsUp",!0),G=g(p,"isOrtho",m?m.dirtyCache[11]:!1),N=g(p,"colors",[16777215]),W=g(p,"alphas",[1]),X=g(p,"tile",!1),$=g(p,"flipY",!1),J=g(p,"width",null),V={faces:[],verts:[]};o.set(A,R,D),u.set(L,k,B),v.fromRotationXYTranslation(u,o,F);var Y;if(!y&&m)y=m.texture,S||(Y=m.frame);else if(m&&typeof y=="string")y=m.scene.sys.textures.get(y);else if(!y)return V;Y||(Y=y.get(S)),!J&&G&&y&&m&&(T=Y.width/m.height,b=Y.height/m.height);var z=T/2,K=b/2,H=Math.floor(P),Q=Math.floor(w),j=H+1,q=Q+1,tt=T/H,st=b/Q,nt=[],at=[],ot,mt,St=0,Ct=1,kt=0,Vt=1;Y&&(St=Y.u0,Ct=Y.u1,$?(kt=Y.v1,Vt=Y.v0):(kt=Y.v0,Vt=Y.v1));var It=Ct-St,yt=Vt-kt;for(mt=0;mt<q;mt++){var Lt=mt*st-K;for(ot=0;ot<j;ot++){var Ft=ot*tt-z;at.push(Ft,-Lt);var $t=St+It*(ot/H),Jt=kt+yt*(mt/Q);nt.push($t,Jt)}}Array.isArray(N)||(N=[N]),Array.isArray(W)||(W=[W]);var jt=0,Zt=0;for(mt=0;mt<Q;mt++)for(ot=0;ot<H;ot++){var Yt=(ot+j*mt)*2,ke=(ot+j*(mt+1))*2,ze=(ot+1+j*(mt+1))*2,ce=(ot+1+j*mt)*2,Ae=N[Zt],Re=W[jt],Ve=new l(at[Yt],at[Yt+1],0,nt[Yt],nt[Yt+1],Ae,Re).transformMat4(v),Bi=new l(at[ke],at[ke+1],0,nt[ke],nt[ke+1],Ae,Re).transformMat4(v),Yi=new l(at[ce],at[ce+1],0,nt[ce],nt[ce+1],Ae,Re).transformMat4(v),ve=new l(at[ke],at[ke+1],0,nt[ke],nt[ke+1],Ae,Re).transformMat4(v),fi=new l(at[ze],at[ze+1],0,nt[ze],nt[ze+1],Ae,Re).transformMat4(v),us=new l(at[ce],at[ce+1],0,nt[ce],nt[ce+1],Ae,Re).transformMat4(v);X&&(Ve.setUVs(St,Vt),Bi.setUVs(St,kt),Yi.setUVs(Ct,Vt),ve.setUVs(St,kt),fi.setUVs(Ct,kt),us.setUVs(Ct,Vt)),Zt++,Zt===N.length&&(Zt=0),jt++,jt===W.length&&(jt=0),V.verts.push(Ve,Bi,Yi,ve,fi,us),V.faces.push(new a(Ve,Bi,Yi),new a(ve,fi,us))}return m&&(m.faces=m.faces.concat(V.faces),m.vertices=m.vertices.concat(V.verts)),V};r.exports=f}),34684:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(37867),c=s(25836),h=s(39318),l=new c,o=new c,u=new g,v=function(f,p,m,y,S,T,b,P,w,A){m===void 0&&(m=1),y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=0),b===void 0&&(b=0),P===void 0&&(P=0),w===void 0&&(w=0),A===void 0&&(A=!0);var R={faces:[],verts:[]},D=f.materials;l.set(y,S,T),o.set(b,P,w),u.fromRotationXYTranslation(o,l,A);for(var L=0;L<f.models.length;L++)for(var k=f.models[L],B=k.vertices,F=k.textureCoords,G=k.faces,N=0;N<G.length;N++){var W=G[N],X=W.vertices[0],$=W.vertices[1],J=W.vertices[2],V=B[X.vertexIndex],Y=B[$.vertexIndex],z=B[J.vertexIndex],K=X.textureCoordsIndex,H=$.textureCoordsIndex,Q=J.textureCoordsIndex,j=K===-1?{u:0,v:1}:F[K],q=H===-1?{u:0,v:0}:F[H],tt=Q===-1?{u:1,v:1}:F[Q],st=16777215;W.material!==""&&D[W.material]&&(st=D[W.material]);var nt=new h(V.x*m,V.y*m,V.z*m,j.u,j.v,st).transformMat4(u),at=new h(Y.x*m,Y.y*m,Y.z*m,q.u,q.v,st).transformMat4(u),ot=new h(z.x*m,z.y*m,z.z*m,tt.u,tt.v,st).transformMat4(u);R.verts.push(nt,at,ot),R.faces.push(new a(nt,at,ot))}return p&&(p.faces=p.faces.concat(R.faces),p.vertices=p.vertices.concat(R.verts)),R};r.exports=v}),92515:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(39318),c=function(h,l,o,u,v,f,p,m){if(u===void 0&&(u=!1),f===void 0&&(f=16777215),p===void 0&&(p=1),m===void 0&&(m=!1),h.length!==l.length&&!u){console.warn("GenerateVerts: vertices and uvs count not equal");return}var y={faces:[],vertices:[]},S,T,b,P,w,A,R,D,L,k,B,F=u?3:2,G=Array.isArray(f),N=Array.isArray(p);if(Array.isArray(o)&&o.length>0)for(S=0;S<o.length;S++){var W=o[S],X=o[S]*2,$=o[S]*F;T=h[$],b=h[$+1],P=u?h[$+2]:0,w=l[X],A=l[X+1],m&&(A=1-A),R=G?f[W]:f,D=N?p[W]:p,L=0,k=0,B=0,v&&(L=v[$],k=v[$+1],B=u?v[$+2]:0),y.vertices.push(new g(T,b,P,w,A,R,D,L,k,B))}else{var J=0,V=0;for(S=0;S<h.length;S+=F)T=h[S],b=h[S+1],P=u?h[S+2]:0,w=l[J],A=l[J+1],R=G?f[V]:f,D=N?p[V]:p,L=0,k=0,B=0,v&&(L=v[S],k=v[S+1],B=u?v[S+2]:0),y.vertices.push(new g(T,b,P,w,A,R,D,L,k,B)),J+=2,V++}for(S=0;S<y.vertices.length;S+=3){var Y=y.vertices[S],z=y.vertices[S+1],K=y.vertices[S+2];y.faces.push(new a(Y,z,K))}return y};r.exports=c}),85048:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,s="untitled",a="",g="";function c(T){var b=T.indexOf("#");return b>-1?T.substring(0,b):T}function h(T){return T.models.length===0&&T.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),a="",T.models[T.models.length-1]}function l(T,b){var P=T.length>=2?T[1]:s;b.models.push({faces:[],name:P,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function o(T){T.length===2&&(a=T[1])}function u(T,b){var P=T.length,w=P>=2?parseFloat(T[1]):0,A=P>=3?parseFloat(T[2]):0,R=P>=4?parseFloat(T[3]):0;h(b).vertices.push({x:w,y:A,z:R})}function v(T,b){var P=T.length,w=P>=2?parseFloat(T[1]):0,A=P>=3?parseFloat(T[2]):0,R=P>=4?parseFloat(T[3]):0;isNaN(w)&&(w=0),isNaN(A)&&(A=0),isNaN(R)&&(R=0),x&&(A=1-A),h(b).textureCoords.push({u:w,v:A,w:R})}function f(T,b){var P=T.length,w=P>=2?parseFloat(T[1]):0,A=P>=3?parseFloat(T[2]):0,R=P>=4?parseFloat(T[3]):0;h(b).vertexNormals.push({x:w,y:A,z:R})}function p(T,b){var P=T.length-1;if(!(P<3)){for(var w={group:a,material:g,vertices:[]},A=0;A<P;A++){var R=T[A+1],D=R.split("/"),L=D.length;if(!(L<1||L>3)){var k=0,B=0,F=0;k=parseInt(D[0],10),L>1&&D[1]!==""&&(B=parseInt(D[1],10)),L>2&&(F=parseInt(D[2],10)),k!==0&&(k<0&&(k=h(b).vertices.length+1+k),B-=1,k-=1,F-=1,w.vertices.push({textureCoordsIndex:B,vertexIndex:k,vertexNormalIndex:F}))}}h(b).faces.push(w)}}function m(T,b){T.length>=2&&b.materialLibraries.push(T[1])}function y(T){T.length>=2&&(g=T[1])}var S=function(T,b){b===void 0&&(b=!0),x=b;var P={materials:{},materialLibraries:[],models:[]};a="",g="";for(var w=T.split(`
`),A=0;A<w.length;A++){var R=c(w[A]),D=R.replace(/\s\s+/g," ").trim().split(" ");switch(D[0].toLowerCase()){case"o":l(D,P);break;case"g":o(D);break;case"v":u(D,P);break;case"vt":v(D,P);break;case"vn":f(D,P);break;case"f":p(D,P);break;case"mtllib":m(D,P);break;case"usemtl":y(D);break}}return P};r.exports=S}),61485:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589),g=function(c){for(var h={},l=c.split(`
`),o="",u=0;u<l.length;u++){var v=l[u].trim();if(!(v.indexOf("#")===0||v==="")){var f=v.replace(/\s\s+/g," ").trim().split(" ");switch(f[0].toLowerCase()){case"newmtl":{o=f[1];break}case"kd":{var p=Math.floor(f[1]*255),m=f.length>=2?Math.floor(f[2]*255):p,y=f.length>=3?Math.floor(f[3]*255):p;h[o]=a(p,m,y);break}}}}return h};r.exports=g}),92570:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h,l;if(g===void 0&&c===void 0){var o=s.getInCenter();h=o.x,l=o.y}var u=Math.cos(a),v=Math.sin(a),f=s.vertex1,p=s.vertex2,m=s.vertex3,y=f.x-h,S=f.y-l;f.set(y*u-S*v+h,y*v+S*u+l),y=p.x-h,S=p.y-l,p.set(y*u-S*v+h,y*v+S*u+l),y=m.x-h,S=m.y-l,m.set(y*u-S*v+h,y*v+S*u+l)};r.exports=x}),39318:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(70554),c=s(25836),h=new a({Extends:c,initialize:function(o,u,v,f,p,m,y,S,T,b){m===void 0&&(m=16777215),y===void 0&&(y=1),S===void 0&&(S=0),T===void 0&&(T=0),b===void 0&&(b=0),c.call(this,o,u,v),this.vx=0,this.vy=0,this.vz=0,this.nx=S,this.ny=T,this.nz=b,this.u=f,this.v=p,this.color=m,this.alpha=y,this.tx=0,this.ty=0,this.ta=0,this.tu=f,this.tv=p},setUVs:function(l,o){return this.u=l,this.v=o,this.tu=l,this.tv=o,this},scrollUV:function(l,o){return this.tu+=l,this.tv+=o,this},scaleUV:function(l,o){return this.tu=this.u*l,this.tv=this.v*o,this},transformCoordinatesLocal:function(l,o,u,v){var f=this.x,p=this.y,m=this.z,y=l.val,S=f*y[0]+p*y[4]+m*y[8]+y[12],T=f*y[1]+p*y[5]+m*y[9]+y[13],b=f*y[2]+p*y[6]+m*y[10]+y[14],P=f*y[3]+p*y[7]+m*y[11]+y[15];this.vx=S/P*o,this.vy=-(T/P)*u,v<=0?this.vz=b/P:this.vz=-(b/P)},resize:function(l,o,u,v,f,p){return this.x=l,this.y=o,this.vx=this.x*u,this.vy=-this.y*v,this.vz=0,f<.5?this.vx+=u*(.5-f):f>.5&&(this.vx-=u*(f-.5)),p<.5?this.vy+=v*(.5-p):p>.5&&(this.vy-=v*(p-.5)),this},update:function(l,o,u,v,f,p,m,y){var S=this.vx*l+this.vy*u+f,T=this.vx*o+this.vy*v+p;return m&&(S=Math.round(S),T=Math.round(T)),this.tx=S,this.ty=T,this.ta=this.alpha*y,this},load:function(l,o,u,v,f){return l[++u]=this.tx,l[++u]=this.ty,l[++u]=this.tu,l[++u]=this.tv,l[++u]=v,l[++u]=f,o[++u]=g.getTintAppendFloatAlpha(this.color,this.ta),u}});r.exports=h}),73090:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};r.exports=a}),96550:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};r.exports=x}),99706:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c){return new a(c.x,c.y)};r.exports=g}),68010:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y)};r.exports=x}),27814:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y};r.exports=x}),73565:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};r.exports=x}),87555:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){if(h===void 0&&(h=new a),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var l=c.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)h.x=c[0].x,h.y=c[0].y;else{for(var o=0;o<l;o++)h.x+=c[o].x,h.y+=c[o].y;h.x/=l,h.y/=l}return h};r.exports=g}),28793:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};r.exports=x}),44405:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x*s.x+s.y*s.y};r.exports=x}),20873:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h){h===void 0&&(h=new a);for(var l=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,f=0;f<c.length;f++){var p=c[f];p.x>l&&(l=p.x),p.x<o&&(o=p.x),p.y>u&&(u=p.y),p.y<v&&(v=p.y)}return h.x=o,h.y=v,h.width=l-o,h.height=u-v,h};r.exports=g}),26152:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l,o){return l===void 0&&(l=0),o===void 0&&(o=new a),o.x=c.x+(h.x-c.x)*l,o.y=c.y+(h.y-c.y)*l,o};r.exports=g}),55767:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(s.y,s.x)};r.exports=x}),79432:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.setTo(-c.x,-c.y)};r.exports=g}),2141:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23777),c=new a({initialize:function(l,o){l===void 0&&(l=0),o===void 0&&(o=l),this.type=g.POINT,this.x=l,this.y=o},setTo:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=h),this.x=h,this.y=l,this}});r.exports=c}),72930:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(44405),c=function(h,l,o){o===void 0&&(o=new a);var u=h.x*l.x+h.y*l.y,v=u/g(l);return v!==0&&(o.x=v*l.x,o.y=v*l.y),o};r.exports=c}),62880:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h,l){l===void 0&&(l=new a);var o=c.x*h.x+c.y*h.y;return o!==0&&(l.x=o*h.x,l.y=o*h.y),l};r.exports=g}),15093:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28793),g=function(c,h){if(c.x!==0||c.y!==0){var l=a(c);c.x/=l,c.y/=l}return c.x*=h,c.y*=h,c};r.exports=g}),43711:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141);a.Ceil=s(96550),a.Clone=s(99706),a.CopyFrom=s(68010),a.Equals=s(27814),a.Floor=s(73565),a.GetCentroid=s(87555),a.GetMagnitude=s(28793),a.GetMagnitudeSq=s(44405),a.GetRectangleFromPoints=s(20873),a.Interpolate=s(26152),a.Invert=s(55767),a.Negative=s(79432),a.Project=s(72930),a.ProjectUnit=s(62880),a.SetMagnitude=s(15093),r.exports=a}),12306:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25717),g=function(c){return new a(c.points)};r.exports=g}),63814:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var c=!1,h=-1,l=s.points.length-1;++h<s.points.length;l=h){var o=s.points[h].x,u=s.points[h].y,v=s.points[l].x,f=s.points[l].y;(u<=g&&g<f||f<=g&&g<u)&&a<(v-o)*(g-u)/(f-u)+o&&(c=!c)}return c};r.exports=x}),99338:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63814),g=function(c,h){return a(c,h.x,h.y)};r.exports=g}),94811:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(V,Y,z){z=z||2;var K=Y&&Y.length,H=K?Y[0]*z:V.length,Q=s(V,0,H,z,!0),j=[];if(!Q||Q.next===Q.prev)return j;var q,tt,st,nt,at,ot,mt;if(K&&(Q=u(V,Y,Q,z)),V.length>80*z){q=st=V[0],tt=nt=V[1];for(var St=z;St<H;St+=z)at=V[St],ot=V[St+1],at<q&&(q=at),ot<tt&&(tt=ot),at>st&&(st=at),ot>nt&&(nt=ot);mt=Math.max(st-q,nt-tt),mt=mt!==0?32767/mt:0}return g(Q,j,z,q,tt,mt,0),j}function s(V,Y,z,K,H){var Q,j;if(H===J(V,Y,z,K)>0)for(Q=Y;Q<z;Q+=K)j=W(Q,V[Q],V[Q+1],j);else for(Q=z-K;Q>=Y;Q-=K)j=W(Q,V[Q],V[Q+1],j);return j&&R(j,j.next)&&(X(j),j=j.next),j}function a(V,Y){if(!V)return V;Y||(Y=V);var z=V,K;do if(K=!1,!z.steiner&&(R(z,z.next)||A(z.prev,z,z.next)===0)){if(X(z),z=Y=z.prev,z===z.next)break;K=!0}else z=z.next;while(K||z!==Y);return Y}function g(V,Y,z,K,H,Q,j){if(V){!j&&Q&&y(V,K,H,Q);for(var q=V,tt,st;V.prev!==V.next;){if(tt=V.prev,st=V.next,Q?h(V,K,H,Q):c(V)){Y.push(tt.i/z|0),Y.push(V.i/z|0),Y.push(st.i/z|0),X(V),V=st.next,q=st.next;continue}if(V=st,V===q){j?j===1?(V=l(a(V),Y,z),g(V,Y,z,K,H,Q,2)):j===2&&o(V,Y,z,K,H,Q):g(a(V),Y,z,K,H,Q,1);break}}}}function c(V){var Y=V.prev,z=V,K=V.next;if(A(Y,z,K)>=0)return!1;for(var H=Y.x,Q=z.x,j=K.x,q=Y.y,tt=z.y,st=K.y,nt=H<Q?H<j?H:j:Q<j?Q:j,at=q<tt?q<st?q:st:tt<st?tt:st,ot=H>Q?H>j?H:j:Q>j?Q:j,mt=q>tt?q>st?q:st:tt>st?tt:st,St=K.next;St!==Y;){if(St.x>=nt&&St.x<=ot&&St.y>=at&&St.y<=mt&&P(H,q,Q,tt,j,st,St.x,St.y)&&A(St.prev,St,St.next)>=0)return!1;St=St.next}return!0}function h(V,Y,z,K){var H=V.prev,Q=V,j=V.next;if(A(H,Q,j)>=0)return!1;for(var q=H.x,tt=Q.x,st=j.x,nt=H.y,at=Q.y,ot=j.y,mt=q<tt?q<st?q:st:tt<st?tt:st,St=nt<at?nt<ot?nt:ot:at<ot?at:ot,Ct=q>tt?q>st?q:st:tt>st?tt:st,kt=nt>at?nt>ot?nt:ot:at>ot?at:ot,Vt=T(mt,St,Y,z,K),It=T(Ct,kt,Y,z,K),yt=V.prevZ,Lt=V.nextZ;yt&&yt.z>=Vt&&Lt&&Lt.z<=It;){if(yt.x>=mt&&yt.x<=Ct&&yt.y>=St&&yt.y<=kt&&yt!==H&&yt!==j&&P(q,nt,tt,at,st,ot,yt.x,yt.y)&&A(yt.prev,yt,yt.next)>=0||(yt=yt.prevZ,Lt.x>=mt&&Lt.x<=Ct&&Lt.y>=St&&Lt.y<=kt&&Lt!==H&&Lt!==j&&P(q,nt,tt,at,st,ot,Lt.x,Lt.y)&&A(Lt.prev,Lt,Lt.next)>=0))return!1;Lt=Lt.nextZ}for(;yt&&yt.z>=Vt;){if(yt.x>=mt&&yt.x<=Ct&&yt.y>=St&&yt.y<=kt&&yt!==H&&yt!==j&&P(q,nt,tt,at,st,ot,yt.x,yt.y)&&A(yt.prev,yt,yt.next)>=0)return!1;yt=yt.prevZ}for(;Lt&&Lt.z<=It;){if(Lt.x>=mt&&Lt.x<=Ct&&Lt.y>=St&&Lt.y<=kt&&Lt!==H&&Lt!==j&&P(q,nt,tt,at,st,ot,Lt.x,Lt.y)&&A(Lt.prev,Lt,Lt.next)>=0)return!1;Lt=Lt.nextZ}return!0}function l(V,Y,z){var K=V;do{var H=K.prev,Q=K.next.next;!R(H,Q)&&D(H,K,K.next,Q)&&F(H,Q)&&F(Q,H)&&(Y.push(H.i/z|0),Y.push(K.i/z|0),Y.push(Q.i/z|0),X(K),X(K.next),K=V=Q),K=K.next}while(K!==V);return a(K)}function o(V,Y,z,K,H,Q){var j=V;do{for(var q=j.next.next;q!==j.prev;){if(j.i!==q.i&&w(j,q)){var tt=N(j,q);j=a(j,j.next),tt=a(tt,tt.next),g(j,Y,z,K,H,Q,0),g(tt,Y,z,K,H,Q,0);return}q=q.next}j=j.next}while(j!==V)}function u(V,Y,z,K){var H=[],Q,j,q,tt,st;for(Q=0,j=Y.length;Q<j;Q++)q=Y[Q]*K,tt=Q<j-1?Y[Q+1]*K:V.length,st=s(V,q,tt,K,!1),st===st.next&&(st.steiner=!0),H.push(b(st));for(H.sort(v),Q=0;Q<H.length;Q++)z=f(H[Q],z);return z}function v(V,Y){return V.x-Y.x}function f(V,Y){var z=p(V,Y);if(!z)return Y;var K=N(z,V);return a(K,K.next),a(z,z.next)}function p(V,Y){var z=Y,K=V.x,H=V.y,Q=-1/0,j;do{if(H<=z.y&&H>=z.next.y&&z.next.y!==z.y){var q=z.x+(H-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(q<=K&&q>Q&&(Q=q,j=z.x<z.next.x?z:z.next,q===K))return j}z=z.next}while(z!==Y);if(!j)return null;var tt=j,st=j.x,nt=j.y,at=1/0,ot;z=j;do K>=z.x&&z.x>=st&&K!==z.x&&P(H<nt?K:Q,H,st,nt,H<nt?Q:K,H,z.x,z.y)&&(ot=Math.abs(H-z.y)/(K-z.x),F(z,V)&&(ot<at||ot===at&&(z.x>j.x||z.x===j.x&&m(j,z)))&&(j=z,at=ot)),z=z.next;while(z!==tt);return j}function m(V,Y){return A(V.prev,V,Y.prev)<0&&A(Y.next,V,V.next)<0}function y(V,Y,z,K){var H=V;do H.z===0&&(H.z=T(H.x,H.y,Y,z,K)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==V);H.prevZ.nextZ=null,H.prevZ=null,S(H)}function S(V){var Y,z,K,H,Q,j,q,tt,st=1;do{for(z=V,V=null,Q=null,j=0;z;){for(j++,K=z,q=0,Y=0;Y<st&&(q++,K=K.nextZ,!!K);Y++);for(tt=st;q>0||tt>0&&K;)q!==0&&(tt===0||!K||z.z<=K.z)?(H=z,z=z.nextZ,q--):(H=K,K=K.nextZ,tt--),Q?Q.nextZ=H:V=H,H.prevZ=Q,Q=H;z=K}Q.nextZ=null,st*=2}while(j>1);return V}function T(V,Y,z,K,H){return V=(V-z)*H|0,Y=(Y-K)*H|0,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,V|Y<<1}function b(V){var Y=V,z=V;do(Y.x<z.x||Y.x===z.x&&Y.y<z.y)&&(z=Y),Y=Y.next;while(Y!==V);return z}function P(V,Y,z,K,H,Q,j,q){return(H-j)*(Y-q)>=(V-j)*(Q-q)&&(V-j)*(K-q)>=(z-j)*(Y-q)&&(z-j)*(Q-q)>=(H-j)*(K-q)}function w(V,Y){return V.next.i!==Y.i&&V.prev.i!==Y.i&&!B(V,Y)&&(F(V,Y)&&F(Y,V)&&G(V,Y)&&(A(V.prev,V,Y.prev)||A(V,Y.prev,Y))||R(V,Y)&&A(V.prev,V,V.next)>0&&A(Y.prev,Y,Y.next)>0)}function A(V,Y,z){return(Y.y-V.y)*(z.x-Y.x)-(Y.x-V.x)*(z.y-Y.y)}function R(V,Y){return V.x===Y.x&&V.y===Y.y}function D(V,Y,z,K){var H=k(A(V,Y,z)),Q=k(A(V,Y,K)),j=k(A(z,K,V)),q=k(A(z,K,Y));return!!(H!==Q&&j!==q||H===0&&L(V,z,Y)||Q===0&&L(V,K,Y)||j===0&&L(z,V,K)||q===0&&L(z,Y,K))}function L(V,Y,z){return Y.x<=Math.max(V.x,z.x)&&Y.x>=Math.min(V.x,z.x)&&Y.y<=Math.max(V.y,z.y)&&Y.y>=Math.min(V.y,z.y)}function k(V){return V>0?1:V<0?-1:0}function B(V,Y){var z=V;do{if(z.i!==V.i&&z.next.i!==V.i&&z.i!==Y.i&&z.next.i!==Y.i&&D(z,z.next,V,Y))return!0;z=z.next}while(z!==V);return!1}function F(V,Y){return A(V.prev,V,V.next)<0?A(V,Y,V.next)>=0&&A(V,V.prev,Y)>=0:A(V,Y,V.prev)<0||A(V,V.next,Y)<0}function G(V,Y){var z=V,K=!1,H=(V.x+Y.x)/2,Q=(V.y+Y.y)/2;do z.y>Q!=z.next.y>Q&&z.next.y!==z.y&&H<(z.next.x-z.x)*(Q-z.y)/(z.next.y-z.y)+z.x&&(K=!K),z=z.next;while(z!==V);return K}function N(V,Y){var z=new $(V.i,V.x,V.y),K=new $(Y.i,Y.x,Y.y),H=V.next,Q=Y.prev;return V.next=Y,Y.prev=V,z.next=H,H.prev=z,K.next=z,z.prev=K,Q.next=K,K.prev=Q,K}function W(V,Y,z,K){var H=new $(V,Y,z);return K?(H.next=K.next,H.prev=K,K.next.prev=H,K.next=H):(H.prev=H,H.next=H),H}function X(V){V.next.prev=V.prev,V.prev.next=V.next,V.prevZ&&(V.prevZ.nextZ=V.nextZ),V.nextZ&&(V.nextZ.prevZ=V.prevZ)}function $(V,Y,z){this.i=V,this.x=Y,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(V,Y,z,K){var H=Y&&Y.length,Q=H?Y[0]*z:V.length,j=Math.abs(J(V,0,Q,z));if(H)for(var q=0,tt=Y.length;q<tt;q++){var st=Y[q]*z,nt=q<tt-1?Y[q+1]*z:V.length;j-=Math.abs(J(V,st,nt,z))}var at=0;for(q=0;q<K.length;q+=3){var ot=K[q]*z,mt=K[q+1]*z,St=K[q+2]*z;at+=Math.abs((V[ot]-V[St])*(V[mt+1]-V[ot+1])-(V[ot]-V[mt])*(V[St+1]-V[ot+1]))}return j===0&&at===0?0:Math.abs((at-j)/j)};function J(V,Y,z,K){for(var H=0,Q=Y,j=z-K;Q<z;Q+=K)H+=(V[j]-V[Q])*(V[Q+1]+V[j+1]),j=Q;return H}x.flatten=function(V){for(var Y=V[0][0].length,z={vertices:[],holes:[],dimensions:Y},K=0,H=0;H<V.length;H++){for(var Q=0;Q<V[H].length;Q++)for(var j=0;j<Y;j++)z.vertices.push(V[H][Q][j]);H>0&&(K+=V[H-1].length,z.holes.push(K))}return z},r.exports=x}),13829:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h){h===void 0&&(h=new a);for(var l=1/0,o=1/0,u=-l,v=-o,f,p=0;p<c.points.length;p++)f=c.points[p],l=Math.min(l,f.x),o=Math.min(o,f.y),u=Math.max(u,f.x),v=Math.max(v,f.y);return h.x=l,h.y=o,h.width=u-l,h.height=v-o,h};r.exports=g}),26173:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=[]);for(var g=0;g<s.points.length;g++)a.push(s.points[g].x),a.push(s.points[g].y);return a};r.exports=x}),9564:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(23031),c=s(30052),h=function(l,o,u,v){v===void 0&&(v=[]);var f=l.points,p=c(l);!o&&u>0&&(o=p/u);for(var m=0;m<o;m++)for(var y=p*(m/o),S=0,T=0;T<f.length;T++){var b=f[T],P=f[(T+1)%f.length],w=new g(b.x,b.y,P.x,P.y),A=a(w);if(y<S||y>S+A){S+=A;continue}var R=w.getPoint((y-S)/A);v.push(R);break}return v};r.exports=h}),30052:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(23031),c=function(h){for(var l=h.points,o=0,u=0;u<l.length;u++){var v=l[u],f=l[(u+1)%l.length],p=new g(v.x,v.y,f.x,f.y);o+=a(p)}return o};r.exports=c}),25717:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(63814),c=s(9564),h=s(23777),l=new a({initialize:function(u){this.type=h.POLYGON,this.area=0,this.points=[],u&&this.setTo(u)},contains:function(o,u){return g(this,o,u)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var u,v=0;v<o.length;v++)u={x:0,y:0},typeof o[v]=="number"||typeof o[v]=="string"?(u.x=parseFloat(o[v]),u.y=parseFloat(o[v+1]),v++):Array.isArray(o[v])?(u.x=o[v][0],u.y=o[v][1]):(u.x=o[v].x,u.y=o[v].y),this.points.push(u);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,u,v,f=0;f<this.points.length-1;f++)u=this.points[f],v=this.points[f+1],o+=(v.x-u.x)*(u.y+v.y);return u=this.points[0],v=this.points[this.points.length-1],o+=(u.x-v.x)*(v.y+u.y),this.area=-o*.5,this.area},getPoints:function(o,u,v){return c(this,o,u,v)}});r.exports=l}),8133:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.points.reverse(),s};r.exports=x}),29524:(r=>{function x(l,o){var u=l.x-o.x,v=l.y-o.y;return u*u+v*v}function s(l,o,u){var v=o.x,f=o.y,p=u.x-v,m=u.y-f;if(p!==0||m!==0){var y=((l.x-v)*p+(l.y-f)*m)/(p*p+m*m);y>1?(v=u.x,f=u.y):y>0&&(v+=p*y,f+=m*y)}return p=l.x-v,m=l.y-f,p*p+m*m}function a(l,o){for(var u=l[0],v=[u],f,p=1,m=l.length;p<m;p++)f=l[p],x(f,u)>o&&(v.push(f),u=f);return u!==f&&v.push(f),v}function g(l,o,u,v,f){for(var p=v,m,y=o+1;y<u;y++){var S=s(l[y],l[o],l[u]);S>p&&(m=y,p=S)}p>v&&(m-o>1&&g(l,o,m,v,f),f.push(l[m]),u-m>1&&g(l,m,u,v,f))}function c(l,o){var u=l.length-1,v=[l[0]];return g(l,0,u,o,v),v.push(l[u]),v}var h=function(l,o,u){o===void 0&&(o=1),u===void 0&&(u=!1);var v=l.points;if(v.length>2){var f=o*o;u||(v=a(v,f)),l.setTo(c(v,f))}return l};r.exports=h}),5469:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,g){return a[0]=g[0],a[1]=g[1],a},s=function(a){var g,c=[],h=a.points;for(g=0;g<h.length;g++)c.push([h[g].x,h[g].y]);var l=[];for(c.length>0&&l.push(x([0,0],c[0])),g=0;g<c.length-1;g++){var o=c[g],u=c[g+1],v=o[0],f=o[1],p=u[0],m=u[1];l.push([.85*v+.15*p,.85*f+.15*m]),l.push([.15*v+.85*p,.15*f+.85*m])}return c.length>1&&l.push(x([0,0],c[c.length-1])),a.setTo(l)};r.exports=s}),24709:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var c=s.points,h=0;h<c.length;h++)c[h].x+=a,c[h].y+=g;return s};r.exports=x}),58423:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25717);a.Clone=s(12306),a.Contains=s(63814),a.ContainsPoint=s(99338),a.Earcut=s(94811),a.GetAABB=s(13829),a.GetNumberArray=s(26173),a.GetPoints=s(9564),a.Perimeter=s(30052),a.Reverse=s(8133),a.Simplify=s(29524),a.Smooth=s(5469),a.Translate=s(24709),r.exports=a}),62224:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.width*s.height};r.exports=x}),98615:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};r.exports=x}),31688:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};r.exports=x}),67502:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x=a-s.width/2,s.y=g-s.height/2,s};r.exports=x}),65085:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=g}),37303:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.width<=0||s.height<=0?!1:s.x<=a&&s.x+s.width>=a&&s.y<=g&&s.y+s.height>=g};r.exports=x}),96553:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37303),g=function(c,h){return a(c,h.x,h.y)};r.exports=g}),70273:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.width*a.height>s.width*s.height?!1:a.x>s.x&&a.x<s.right&&a.right>s.x&&a.right<s.right&&a.y>s.y&&a.y<s.bottom&&a.bottom>s.y&&a.bottom<s.bottom};r.exports=x}),43459:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.width,s.height)};r.exports=x}),77493:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=[]),a.push({x:s.x,y:s.y}),a.push({x:s.right,y:s.y}),a.push({x:s.right,y:s.bottom}),a.push({x:s.x,y:s.bottom}),a};r.exports=x}),9219:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.width===a.width&&s.height===a.height};r.exports=x}),53751:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8249),g=function(c,h){var l=a(c);return l<a(h)?c.setSize(h.height*l,h.height):c.setSize(h.width,h.width/l),c.setPosition(h.centerX-c.width/2,h.centerY-c.height/2)};r.exports=g}),16088:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8249),g=function(c,h){var l=a(c);return l>a(h)?c.setSize(h.height*l,h.height):c.setSize(h.width,h.width/l),c.setPosition(h.centerX-c.width/2,h.centerY-c.height/2)};r.exports=g}),80774:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};r.exports=x}),83859:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};r.exports=x}),19217:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(36383),c=function(h,l){if(l===void 0&&(l=new a),h.length===0)return l;for(var o=Number.MAX_VALUE,u=Number.MAX_VALUE,v=g.MIN_SAFE_INTEGER,f=g.MIN_SAFE_INTEGER,p,m,y,S=0;S<h.length;S++)p=h[S],Array.isArray(p)?(m=p[0],y=p[1]):(m=p.x,y=p.y),o=Math.min(o,m),u=Math.min(u,y),v=Math.max(v,m),f=Math.max(f,y);return l.x=o,l.y=u,l.width=v-o,l.height=f-u,l};r.exports=c}),9477:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h,l,o,u){return u===void 0&&(u=new a),u.setTo(Math.min(c,l),Math.min(h,o),Math.abs(c-l),Math.abs(h-o))};r.exports=g}),8249:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.height===0?NaN:s.width/s.height};r.exports=x}),27165:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.x=c.centerX,h.y=c.centerY,h};r.exports=g}),20812:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13019),g=s(2141),c=function(h,l,o){if(o===void 0&&(o=new g),l<=0||l>=1)return o.x=h.x,o.y=h.y,o;var u=a(h)*l;return l>.5?(u-=h.width+h.height,u<=h.width?(o.x=h.right-u,o.y=h.bottom):(o.x=h.x,o.y=h.bottom-(u-h.width))):u<=h.width?(o.x=h.x+u,o.y=h.y):(o.x=h.right,o.y=h.y+(u-h.width)),o};r.exports=c}),34819:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20812),g=s(13019),c=function(h,l,o,u){u===void 0&&(u=[]),!l&&o>0&&(l=g(h)/o);for(var v=0;v<l;v++){var f=v/l;u.push(a(h,f))}return u};r.exports=c}),51313:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.x=c.width,h.y=c.height,h};r.exports=g}),86091:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(67502),g=function(c,h,l){var o=c.centerX,u=c.centerY;return c.setSize(c.width+h*2,c.height+l*2),a(c,o,u)};r.exports=g}),53951:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(59996),c=function(h,l,o){return o===void 0&&(o=new a),g(h,l)?(o.x=Math.max(h.x,l.x),o.y=Math.max(h.y,l.y),o.width=Math.min(h.right,l.right)-o.x,o.height=Math.min(h.bottom,l.bottom)-o.y):o.setEmpty(),o};r.exports=c}),14649:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13019),g=s(2141),c=function(h,l,o,u){if(u===void 0&&(u=[]),!l&&!o)return u;l?o=Math.round(a(h)/l):l=a(h)/o;for(var v=h.x,f=h.y,p=0,m=0;m<o;m++)switch(u.push(new g(v,f)),p){case 0:v+=l,v>=h.right&&(p=1,f+=v-h.right,v=h.right);break;case 1:f+=l,f>=h.bottom&&(p=2,v-=f-h.bottom,f=h.bottom);break;case 2:v-=l,v<=h.left&&(p=3,f-=h.left-v,v=h.left);break;case 3:f-=l,f<=h.top&&(p=0,f=h.top);break}return u};r.exports=c}),33595:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=s.x,c=s.right,h=s.y,l=s.bottom,o=0;o<a.length;o++)g=Math.min(g,a[o].x),c=Math.max(c,a[o].x),h=Math.min(h,a[o].y),l=Math.max(l,a[o].y);return s.x=g,s.y=h,s.width=c-g,s.height=l-h,s};r.exports=x}),20074:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=Math.min(s.x,a.x),c=Math.max(s.right,a.right);s.x=g,s.width=c-g;var h=Math.min(s.y,a.y),l=Math.max(s.bottom,a.bottom);return s.y=h,s.height=l-h,s};r.exports=x}),92171:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=Math.min(s.x,a),h=Math.max(s.right,a);s.x=c,s.width=h-c;var l=Math.min(s.y,g),o=Math.max(s.bottom,g);return s.y=l,s.height=o-l,s};r.exports=x}),42981:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};r.exports=x}),46907:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};r.exports=x}),60170:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x<a.right&&s.right>a.x&&s.y<a.bottom&&s.bottom>a.y};r.exports=x}),13019:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 2*(s.width+s.height)};r.exports=x}),85133:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(39506),c=function(h,l,o){o===void 0&&(o=new a),l=g(l);var u=Math.sin(l),v=Math.cos(l),f=v>0?h.width/2:h.width/-2,p=u>0?h.height/2:h.height/-2;return Math.abs(f*u)<Math.abs(p*v)?p=f*u/v:f=p*v/u,o.x=f+h.centerX,o.y=p+h.centerY,o};r.exports=c}),26597:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.x=c.x+Math.random()*c.width,h.y=c.y+Math.random()*c.height,h};r.exports=g}),86470:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(70273),c=s(2141),h=function(l,o,u){if(u===void 0&&(u=new c),g(l,o))switch(a(0,3)){case 0:u.x=l.x+Math.random()*(o.right-l.x),u.y=l.y+Math.random()*(o.top-l.y);break;case 1:u.x=o.x+Math.random()*(l.right-o.x),u.y=o.bottom+Math.random()*(l.bottom-o.bottom);break;case 2:u.x=l.x+Math.random()*(o.x-l.x),u.y=o.y+Math.random()*(l.bottom-o.y);break;case 3:u.x=o.right+Math.random()*(l.right-o.right),u.y=l.y+Math.random()*(o.bottom-l.y);break}return u};r.exports=h}),87841:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37303),c=s(20812),h=s(34819),l=s(23777),o=s(23031),u=s(26597),v=new a({initialize:function(p,m,y,S){p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),this.type=l.RECTANGLE,this.x=p,this.y=m,this.width=y,this.height=S},contains:function(f,p){return g(this,f,p)},getPoint:function(f,p){return c(this,f,p)},getPoints:function(f,p,m){return h(this,f,p,m)},getRandomPoint:function(f){return u(this,f)},setTo:function(f,p,m,y){return this.x=f,this.y=p,this.width=m,this.height=y,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(f,p){return p===void 0&&(p=f),this.x=f,this.y=p,this},setSize:function(f,p){return p===void 0&&(p=f),this.width=f,this.height=p,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.y,this.right,this.y),f},getLineB:function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.y,this.right,this.bottom),f},getLineC:function(f){return f===void 0&&(f=new o),f.setTo(this.right,this.bottom,this.x,this.bottom),f},getLineD:function(f){return f===void 0&&(f=new o),f.setTo(this.x,this.bottom,this.x,this.y),f},left:{get:function(){return this.x},set:function(f){f>=this.right?this.width=0:this.width=this.right-f,this.x=f}},right:{get:function(){return this.x+this.width},set:function(f){f<=this.x?this.width=0:this.width=f-this.x}},top:{get:function(){return this.y},set:function(f){f>=this.bottom?this.height=0:this.height=this.bottom-f,this.y=f}},bottom:{get:function(){return this.y+this.height},set:function(f){f<=this.y?this.height=0:this.height=f-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});r.exports=v}),94845:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.width===a.width&&s.height===a.height};r.exports=x}),31730:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=a),s.width*=a,s.height*=g,s};r.exports=x}),36899:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(c,h,l){l===void 0&&(l=new a);var o=Math.min(c.x,h.x),u=Math.min(c.y,h.y),v=Math.max(c.right,h.right)-o,f=Math.max(c.bottom,h.bottom)-u;return l.setTo(o,u,v,f)};r.exports=g}),93232:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841);a.Area=s(62224),a.Ceil=s(98615),a.CeilAll=s(31688),a.CenterOn=s(67502),a.Clone=s(65085),a.Contains=s(37303),a.ContainsPoint=s(96553),a.ContainsRect=s(70273),a.CopyFrom=s(43459),a.Decompose=s(77493),a.Equals=s(9219),a.FitInside=s(53751),a.FitOutside=s(16088),a.Floor=s(80774),a.FloorAll=s(83859),a.FromPoints=s(19217),a.FromXY=s(9477),a.GetAspectRatio=s(8249),a.GetCenter=s(27165),a.GetPoint=s(20812),a.GetPoints=s(34819),a.GetSize=s(51313),a.Inflate=s(86091),a.Intersection=s(53951),a.MarchingAnts=s(14649),a.MergePoints=s(33595),a.MergeRect=s(20074),a.MergeXY=s(92171),a.Offset=s(42981),a.OffsetPoint=s(46907),a.Overlaps=s(60170),a.Perimeter=s(13019),a.PerimeterPoint=s(85133),a.Random=s(26597),a.RandomOutside=s(86470),a.SameDimensions=s(94845),a.Scale=s(31730),a.Union=s(36899),r.exports=a}),41658:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.x1,g=s.y1,c=s.x2,h=s.y2,l=s.x3,o=s.y3;return Math.abs(((l-a)*(h-g)-(c-a)*(o-g))/2)};r.exports=x}),39208:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(c,h,l){var o=l*(Math.sqrt(3)/2),u=c,v=h,f=c+l/2,p=h+o,m=c-l/2,y=h+o;return new a(u,v,f,p,m,y)};r.exports=g}),39545:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(94811),g=s(16483),c=function(h,l,o,u,v){l===void 0&&(l=null),o===void 0&&(o=1),u===void 0&&(u=1),v===void 0&&(v=[]);for(var f=a(h,l),p,m,y,S,T,b,P,w,A,R=0;R<f.length;R+=3)p=f[R],m=f[R+1],y=f[R+2],S=h[p*2]*o,T=h[p*2+1]*u,b=h[m*2]*o,P=h[m*2+1]*u,w=h[y*2]*o,A=h[y*2+1]*u,v.push(new g(S,T,b,P,w,A));return v};r.exports=c}),90301:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(c,h,l,o){o===void 0&&(o=l);var u=c,v=h,f=c,p=h-o,m=c+l,y=h;return new a(u,v,f,p,m,y)};r.exports=g}),23707:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97523),g=s(13584),c=function(h,l,o,u){u===void 0&&(u=a);var v=u(h),f=l-v.x,p=o-v.y;return g(h,f,p)};r.exports=c}),97523:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){return h===void 0&&(h=new a),h.x=(c.x1+c.x2+c.x3)/3,h.y=(c.y1+c.y2+c.y3)/3,h};r.exports=g}),24951:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099);function g(h,l,o,u){return h*u-l*o}var c=function(h,l){l===void 0&&(l=new a);var o=h.x3,u=h.y3,v=h.x1-o,f=h.y1-u,p=h.x2-o,m=h.y2-u,y=2*g(v,f,p,m),S=g(f,v*v+f*f,m,p*p+m*m),T=g(v,v*v+f*f,p,p*p+m*m);return l.x=o-S/y,l.y=u+T/y,l};r.exports=c}),85614:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=function(c,h){h===void 0&&(h=new a);var l=c.x1,o=c.y1,u=c.x2,v=c.y2,f=c.x3,p=c.y3,m=u-l,y=v-o,S=f-l,T=p-o,b=m*(l+u)+y*(o+v),P=S*(l+f)+T*(o+p),w=2*(m*(p-v)-y*(f-u)),A,R;if(Math.abs(w)<1e-6){var D=Math.min(l,u,f),L=Math.min(o,v,p);A=(Math.max(l,u,f)-D)*.5,R=(Math.max(o,v,p)-L)*.5,h.x=D+A,h.y=L+R,h.radius=Math.sqrt(A*A+R*R)}else h.x=(T*b-y*P)/w,h.y=(m*P-S*b)/w,A=h.x-l,R=h.y-o,h.radius=Math.sqrt(A*A+R*R);return h};r.exports=g}),74422:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(c){return new a(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)};r.exports=g}),10690:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=s.x3-s.x1,h=s.y3-s.y1,l=s.x2-s.x1,o=s.y2-s.y1,u=a-s.x1,v=g-s.y1,f=c*c+h*h,p=c*l+h*o,m=c*u+h*v,y=l*l+o*o,S=l*u+o*v,T=f*y-p*p,b=T===0?0:1/T,P=(y*m-p*S)*b,w=(f*S-p*m)*b;return P>=0&&w>=0&&P+w<1};r.exports=x}),48653:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g===void 0&&(g=!1),c===void 0&&(c=[]);for(var h=s.x3-s.x1,l=s.y3-s.y1,o=s.x2-s.x1,u=s.y2-s.y1,v=h*h+l*l,f=h*o+l*u,p=o*o+u*u,m=v*p-f*f,y=m===0?0:1/m,S,T,b,P,w,A,R=s.x1,D=s.y1,L=0;L<a.length&&(b=a[L].x-R,P=a[L].y-D,w=h*b+l*P,A=o*b+u*P,S=(p*w-f*A)*y,T=(v*A-f*w)*y,!(S>=0&&T>=0&&S+T<1&&(c.push({x:a[L].x,y:a[L].y}),g)));L++);return c};r.exports=x}),96006:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10690),g=function(c,h){return a(c,h.x,h.y)};r.exports=g}),71326:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};r.exports=x}),71694:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=[]),a.push({x:s.x1,y:s.y1}),a.push({x:s.x2,y:s.y2}),a.push({x:s.x3,y:s.y3}),a};r.exports=x}),33522:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x1===a.x1&&s.y1===a.y1&&s.x2===a.x2&&s.y2===a.y2&&s.x3===a.x3&&s.y3===a.y3};r.exports=x}),20437:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(35001),c=function(h,l,o){o===void 0&&(o=new a);var u=h.getLineA(),v=h.getLineB(),f=h.getLineC();if(l<=0||l>=1)return o.x=u.x1,o.y=u.y1,o;var p=g(u),m=g(v),y=g(f),S=p+m+y,T=S*l,b=0;return T<p?(b=T/p,o.x=u.x1+(u.x2-u.x1)*b,o.y=u.y1+(u.y2-u.y1)*b):T>p+m?(T-=p+m,b=T/y,o.x=f.x1+(f.x2-f.x1)*b,o.y=f.y1+(f.y2-f.y1)*b):(T-=p,b=T/m,o.x=v.x1+(v.x2-v.x1)*b,o.y=v.y1+(v.y2-v.y1)*b),o};r.exports=c}),80672:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(2141),c=function(h,l,o,u){u===void 0&&(u=[]);var v=h.getLineA(),f=h.getLineB(),p=h.getLineC(),m=a(v),y=a(f),S=a(p),T=m+y+S;!l&&o>0&&(l=T/o);for(var b=0;b<l;b++){var P=T*(b/l),w=0,A=new g;P<m?(w=P/m,A.x=v.x1+(v.x2-v.x1)*w,A.y=v.y1+(v.y2-v.y1)*w):P>m+y?(P-=m+y,w=P/S,A.x=p.x1+(p.x2-p.x1)*w,A.y=p.y1+(p.y2-p.y1)*w):(P-=m,w=P/y,A.x=f.x1+(f.x2-f.x1)*w,A.y=f.y1+(f.y2-f.y1)*w),u.push(A)}return u};r.exports=c}),39757:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141);function g(h,l,o,u){var v=h-o,f=l-u,p=v*v+f*f;return Math.sqrt(p)}var c=function(h,l){l===void 0&&(l=new a);var o=h.x1,u=h.y1,v=h.x2,f=h.y2,p=h.x3,m=h.y3,y=g(p,m,v,f),S=g(o,u,p,m),T=g(v,f,o,u),b=y+S+T;return l.x=(o*y+v*S+p*T)/b,l.y=(u*y+f*S+m*T)/b,l};r.exports=c}),13584:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x1+=a,s.y1+=g,s.x2+=a,s.y2+=g,s.x3+=a,s.y3+=g,s};r.exports=x}),1376:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=function(c){var h=c.getLineA(),l=c.getLineB(),o=c.getLineC();return a(h)+a(l)+a(o)};r.exports=g}),90260:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(c,h){h===void 0&&(h=new a);var l=c.x2-c.x1,o=c.y2-c.y1,u=c.x3-c.x1,v=c.y3-c.y1,f=Math.random(),p=Math.random();return f+p>=1&&(f=1-f,p=1-p),h.x=c.x1+(l*f+u*p),h.y=c.y1+(o*f+v*p),h};r.exports=g}),52172:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99614),g=s(39757),c=function(h,l){var o=g(h);return a(h,o.x,o.y,l)};r.exports=c}),49907:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99614),g=function(c,h,l){return a(c,h.x,h.y,l)};r.exports=g}),99614:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=Math.cos(c),l=Math.sin(c),o=s.x1-a,u=s.y1-g;return s.x1=o*h-u*l+a,s.y1=o*l+u*h+g,o=s.x2-a,u=s.y2-g,s.x2=o*h-u*l+a,s.y2=o*l+u*h+g,o=s.x3-a,u=s.y3-g,s.x3=o*h-u*l+a,s.y3=o*l+u*h+g,s};r.exports=x}),16483:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(10690),c=s(20437),h=s(80672),l=s(23777),o=s(23031),u=s(90260),v=new a({initialize:function(p,m,y,S,T,b){p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=0),b===void 0&&(b=0),this.type=l.TRIANGLE,this.x1=p,this.y1=m,this.x2=y,this.y2=S,this.x3=T,this.y3=b},contains:function(f,p){return g(this,f,p)},getPoint:function(f,p){return c(this,f,p)},getPoints:function(f,p,m){return h(this,f,p,m)},getRandomPoint:function(f){return u(this,f)},setTo:function(f,p,m,y,S,T){return f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=0),T===void 0&&(T=0),this.x1=f,this.y1=p,this.x2=m,this.y2=y,this.x3=S,this.y3=T,this},getLineA:function(f){return f===void 0&&(f=new o),f.setTo(this.x1,this.y1,this.x2,this.y2),f},getLineB:function(f){return f===void 0&&(f=new o),f.setTo(this.x2,this.y2,this.x3,this.y3),f},getLineC:function(f){return f===void 0&&(f=new o),f.setTo(this.x3,this.y3,this.x1,this.y1),f},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(f){var p=0;this.x1<=this.x2&&this.x1<=this.x3?p=this.x1-f:this.x2<=this.x1&&this.x2<=this.x3?p=this.x2-f:p=this.x3-f,this.x1-=p,this.x2-=p,this.x3-=p}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(f){var p=0;this.x1>=this.x2&&this.x1>=this.x3?p=this.x1-f:this.x2>=this.x1&&this.x2>=this.x3?p=this.x2-f:p=this.x3-f,this.x1-=p,this.x2-=p,this.x3-=p}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(f){var p=0;this.y1<=this.y2&&this.y1<=this.y3?p=this.y1-f:this.y2<=this.y1&&this.y2<=this.y3?p=this.y2-f:p=this.y3-f,this.y1-=p,this.y2-=p,this.y3-=p}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(f){var p=0;this.y1>=this.y2&&this.y1>=this.y3?p=this.y1-f:this.y2>=this.y1&&this.y2>=this.y3?p=this.y2-f:p=this.y3-f,this.y1-=p,this.y2-=p,this.y3-=p}}});r.exports=v}),84435:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483);a.Area=s(41658),a.BuildEquilateral=s(39208),a.BuildFromPolygon=s(39545),a.BuildRight=s(90301),a.CenterOn=s(23707),a.Centroid=s(97523),a.CircumCenter=s(24951),a.CircumCircle=s(85614),a.Clone=s(74422),a.Contains=s(10690),a.ContainsArray=s(48653),a.ContainsPoint=s(96006),a.CopyFrom=s(71326),a.Decompose=s(71694),a.Equals=s(33522),a.GetPoint=s(20437),a.GetPoints=s(80672),a.InCenter=s(39757),a.Perimeter=s(1376),a.Offset=s(13584),a.Random=s(90260),a.Rotate=s(52172),a.RotateAroundPoint=s(49907),a.RotateAroundXY=s(99614),r.exports=a}),74457:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};r.exports=x}),84409:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return function(g,c,h,l){var o=s.getPixelAlpha(c,h,l.texture.key,l.frame.name);return o&&o>=a}};r.exports=x}),7003:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(93301),c=s(50792),h=s(8214),l=s(8443),o=s(78970),u=s(85098),v=s(42515),f=s(36210),p=s(61340),m=s(85955),y=new a({initialize:function(T,b){this.game=T,this.scaleManager,this.canvas,this.config=b,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=b.inputKeyboard?new o(this):null,this.mouse=b.inputMouse?new u(this):null,this.touch=b.inputTouch?new f(this):null,this.pointers=[],this.pointersTotal=b.inputActivePointers;for(var P=0;P<=this.pointersTotal;P++){var w=new v(this,P);w.smoothFactor=b.inputSmoothFactor,this.pointers.push(w)}this.mousePointer=b.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(l.BOOT,this.boot,this)},boot:function(){var S=this.game,T=S.events;this.canvas=S.canvas,this.scaleManager=S.scale,this.events.emit(h.MANAGER_BOOT),T.on(l.PRE_RENDER,this.preRender,this),T.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(S){this.isOver=!0,this.events.emit(h.GAME_OVER,S)},setCanvasOut:function(S){this.isOver=!1,this.events.emit(h.GAME_OUT,S)},preRender:function(){var S=this.game.loop.now,T=this.game.loop.delta,b=this.game.scene.getScenes(!0,!0);this.time=S,this.events.emit(h.MANAGER_UPDATE);for(var P=0;P<b.length;P++){var w=b[P];if(w.sys.input&&w.sys.input.updatePoll(S,T)&&this.globalTopOnly)return}},setDefaultCursor:function(S){this.defaultCursor=S,this.canvas.style.cursor!==S&&(this.canvas.style.cursor=S)},setCursor:function(S){S.cursor&&(this.canvas.style.cursor=S.cursor)},resetCursor:function(S,T){(T||S&&S.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(S){S===void 0&&(S=1);var T=[];this.pointersTotal+S>10&&(S=10-this.pointersTotal);for(var b=0;b<S;b++){var P=this.pointers.length,w=new v(this,P);w.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(w),this.pointersTotal++,T.push(w)}return T},updateInputPlugins:function(S,T){var b=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var P=0;P<b.length;P++){var w=b[P];if(w.sys.input){var A=w.sys.input.update(S,T);if(A&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(S){for(var T=this.pointers,b=[],P=0;P<S.changedTouches.length;P++)for(var w=S.changedTouches[P],A=1;A<T.length;A++){var R=T[A];if(!R.active){R.touchstart(w,S),this.activePointer=R,b.push(R);break}}this.updateInputPlugins(g.TOUCH_START,b)},onTouchMove:function(S){for(var T=this.pointers,b=[],P=0;P<S.changedTouches.length;P++)for(var w=S.changedTouches[P],A=1;A<T.length;A++){var R=T[A];if(R.active&&R.identifier===w.identifier){var D=document.elementFromPoint(w.clientX,w.clientY),L=D===this.canvas;!this.isOver&&L?this.setCanvasOver(S):this.isOver&&!L&&this.setCanvasOut(S),this.isOver&&(R.touchmove(w,S),this.activePointer=R,b.push(R));break}}this.updateInputPlugins(g.TOUCH_MOVE,b)},onTouchEnd:function(S){for(var T=this.pointers,b=[],P=0;P<S.changedTouches.length;P++)for(var w=S.changedTouches[P],A=1;A<T.length;A++){var R=T[A];if(R.active&&R.identifier===w.identifier){R.touchend(w,S),b.push(R);break}}this.updateInputPlugins(g.TOUCH_END,b)},onTouchCancel:function(S){for(var T=this.pointers,b=[],P=0;P<S.changedTouches.length;P++)for(var w=S.changedTouches[P],A=1;A<T.length;A++){var R=T[A];if(R.active&&R.identifier===w.identifier){R.touchcancel(w,S),b.push(R);break}}this.updateInputPlugins(g.TOUCH_CANCEL,b)},onMouseDown:function(S){var T=this.mousePointer;T.down(S),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(S){var T=this.mousePointer;T.move(S),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(S){var T=this.mousePointer;T.up(S),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(S){var T=this.mousePointer;T.wheel(S),this.activePointer=T,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(S){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(h.POINTERLOCK_CHANGE,S,T)},inputCandidate:function(S,T){var b=S.input;if(!b||!b.enabled||!S.willRender(T))return!1;var P=!0,w=S.parentContainer;if(w)do{if(!w.willRender(T)){P=!1;break}w=w.parentContainer}while(w);return P},hitTest:function(S,T,b,P){P===void 0&&(P=this._tempHitTest);var w=this._tempPoint,A=b.scrollX,R=b.scrollY;P.length=0;var D=S.x,L=S.y;b.getWorldPoint(D,L,w),S.worldX=w.x,S.worldY=w.y;for(var k={x:0,y:0},B=this._tempMatrix,F=this._tempMatrix2,G=0;G<T.length;G++){var N=T[G];if(this.inputCandidate(N,b)){var W=w.x+A*N.scrollFactorX-A,X=w.y+R*N.scrollFactorY-R;N.parentContainer?(N.getWorldTransformMatrix(B,F),B.applyInverse(W,X,k)):m(W,X,N.x,N.y,N.rotation,N.scaleX,N.scaleY,k),this.pointWithinHitArea(N,k.x,k.y)&&P.push(N)}}return P},pointWithinHitArea:function(S,T,b){T+=S.displayOriginX,b+=S.displayOriginY;var P=S.input;return P&&P.hitAreaCallback(P.hitArea,T,b,S)?(P.localX=T,P.localY=b,!0):!1},pointWithinInteractiveObject:function(S,T,b){return S.hitArea?(T+=S.gameObject.displayOriginX,b+=S.gameObject.displayOriginY,S.localX=T,S.localY=b,S.hitAreaCallback(S.hitArea,T,b,S)):!1},transformPointer:function(S,T,b,P){var w=S.position,A=S.prevPosition;A.x=w.x,A.y=w.y;var R=this.scaleManager.transformX(T),D=this.scaleManager.transformY(b),L=S.smoothFactor;!P||L===0?(w.x=R,w.y=D):(w.x=R*L+A.x*(1-L),w.y=D*L+A.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var S=0;S<this.pointers.length;S++)this.pointers[S].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=y}),48205:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=s(87902),c=s(83419),h=s(93301),l=s(74457),o=s(84409),u=s(20339),v=s(8497),f=s(81154),p=s(8214),m=s(50792),y=s(95540),S=s(23777),T=s(89639),b=s(41212),P=s(37277),w=s(87841),A=s(37303),R=s(44594),D=s(16483),L=s(10690),k=new c({Extends:m,initialize:function(F){m.call(this),this.scene=F,this.systems=F.sys,this.settings=F.sys.settings,this.manager=F.sys.game.input,this.pluginEvents=new m,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var G={cancelled:!1};this._eventContainer={stopPropagation:function(){G.cancelled=!0}},this._eventData=G,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,F.sys.events.once(R.BOOT,this.boot,this),F.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},start:function(){var B=this.systems.events;B.on(R.TRANSITION_START,this.transitionIn,this),B.on(R.TRANSITION_OUT,this.transitionOut,this),B.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(R.PRE_UPDATE,this.preUpdate,this),B.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},onGameOver:function(B){this.isActive()&&this.emit(p.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(p.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(p.PRE_UPDATE);var B=this._pendingRemoval,F=this._pendingInsertion,G=B.length,N=F.length;if(!(G===0&&N===0)){for(var W=this._list,X=0;X<G;X++){var $=B[X],J=W.indexOf($);J>-1&&(W.splice(J,1),this.clear($,!0))}this._pendingRemoval.length=0,this._list=W.concat(F.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(B){this.manager&&this.manager.setCursor(B)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(B,F){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,B,F),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var G,N=this.manager,W=N.pointers;for(G=0;G<W.length;G++)W[G].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=F,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var $=!1;for(G=0;G<W.length;G++){var J=0,V=W[G];this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),J+=this.processOverOutEvents(V),this.getDragState(V)===2&&this.processDragThresholdEvent(V,B),J>0&&($=!0)}return $},update:function(B,F){if(!this.isActive())return!1;for(var G=!1,N=0;N<F.length;N++){var W=0,X=F[N];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case h.MOUSE_DOWN:W+=this.processDragDownEvent(X),W+=this.processDownEvents(X),W+=this.processOverOutEvents(X);break;case h.MOUSE_UP:W+=this.processDragUpEvent(X),W+=this.processUpEvents(X),W+=this.processOverOutEvents(X);break;case h.TOUCH_START:W+=this.processDragDownEvent(X),W+=this.processDownEvents(X),W+=this.processOverEvents(X);break;case h.TOUCH_END:case h.TOUCH_CANCEL:W+=this.processDragUpEvent(X),W+=this.processUpEvents(X),W+=this.processOutEvents(X);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:W+=this.processDragMoveEvent(X),W+=this.processMoveEvents(X),W+=this.processOverOutEvents(X);break;case h.MOUSE_WHEEL:W+=this.processWheelEvent(X);break}W>0&&(G=!0)}return this._updatedThisFrame=!0,G},clear:function(B,F){F===void 0&&(F=!1),this.disable(B);var G=B.input;G&&(this.removeDebug(B),this.manager.resetCursor(G),G.gameObject=void 0,G.target=void 0,G.hitArea=void 0,G.hitAreaCallback=void 0,G.callbackContext=void 0,B.input=null),F||this.queueForRemoval(B);var N=this._draggable.indexOf(B);return N>-1&&this._draggable.splice(N,1),B},disable:function(B,F){F===void 0&&(F=!1);var G=B.input;G&&(G.enabled=!1,G.dragState=0);for(var N=this._drag,W=this._over,X=this.manager,$=0,J;$<X.pointers.length;$++)J=N[$].indexOf(B),J>-1&&N[$].splice(J,1),J=W[$].indexOf(B),J>-1&&W[$].splice(J,1);return F&&this.resetCursor(),this},enable:function(B,F,G,N){return N===void 0&&(N=!1),B.input?B.input.enabled=!0:this.setHitArea(B,F,G),B.input&&N&&!B.input.dropZone&&(B.input.dropZone=N),this},hitTestPointer:function(B){for(var F=this.cameras.getCamerasBelowPointer(B),G=0;G<F.length;G++){for(var N=F[G],W=this.manager.hitTest(B,this._list,N),X=0;X<W.length;X++){var $=W[X];$.input.dropZone&&this._tempZones.push($)}if(W.length>0)return B.camera=N,W}return B.camera=F[0],[]},processDownEvents:function(B){var F=0,G=this._temp,N=this._eventData,W=this._eventContainer;N.cancelled=!1;for(var X=0;X<G.length;X++){var $=G[X];if(!(!$.input||!$.input.enabled)&&(F++,$.emit(p.GAMEOBJECT_POINTER_DOWN,B,$.input.localX,$.input.localY,W),N.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(p.GAMEOBJECT_DOWN,B,$,W),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&(B.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,B,G):this.emit(p.POINTER_DOWN_OUTSIDE,B)),F},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,F){this._dragState[B.id]=F},processDragThresholdEvent:function(B,F){var G=!1,N=this.dragTimeThreshold,W=this.dragDistanceThreshold;if((W>0&&u(B.x,B.y,B.downX,B.downY)>=W||N>0&&F>=B.downTime+N)&&(G=!0),G)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(this.getDragState(B)!==3)return 0;var F=this._drag[B.id];F.length>1&&(F=F.slice(0));for(var G=0;G<F.length;G++){var N=F[G],W=N.input;W.dragState=2,W.dragStartX=N.x,W.dragStartY=N.y,W.dragStartXGlobal=B.worldX,W.dragStartYGlobal=B.worldY,W.dragStartCamera=B.camera,W.dragX=W.dragStartXGlobal-W.dragStartX,W.dragY=W.dragStartYGlobal-W.dragStartY,N.emit(p.GAMEOBJECT_DRAG_START,B,W.dragX,W.dragY),this.emit(p.DRAG_START,B,N)}return this.setDragState(B,4),F.length},processDragDownEvent:function(B){var F=this._temp;if(this._draggable.length===0||F.length===0||!B.primaryDown||this.getDragState(B)!==0)return 0;this.setDragState(B,1);for(var G=[],N=0;N<F.length;N++){var W=F[N];W.input.draggable&&W.input.dragState===0&&G.push(W)}return G.length===0?(this.setDragState(B,0),0):(G.length>1&&(this.sortGameObjects(G,B),this.topOnly&&G.splice(1)),this._drag[B.id]=G,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(this.getDragState(B)===2&&this.processDragThresholdEvent(B,this.manager.game.loop.now),this.getDragState(B)!==4)return 0;var F=this._tempZones,G=this._drag[B.id];G.length>1&&(G=G.slice(0));for(var N=0;N<G.length;N++){var W=G[N],X=W.input,$=X.target;if($){var J=F.indexOf($);J===0?(W.emit(p.GAMEOBJECT_DRAG_OVER,B,$),this.emit(p.DRAG_OVER,B,W,$)):J>0?(W.emit(p.GAMEOBJECT_DRAG_LEAVE,B,$),this.emit(p.DRAG_LEAVE,B,W,$),X.target=F[0],$=X.target,W.emit(p.GAMEOBJECT_DRAG_ENTER,B,$),this.emit(p.DRAG_ENTER,B,W,$)):(W.emit(p.GAMEOBJECT_DRAG_LEAVE,B,$),this.emit(p.DRAG_LEAVE,B,W,$),F[0]?(X.target=F[0],$=X.target,W.emit(p.GAMEOBJECT_DRAG_ENTER,B,$),this.emit(p.DRAG_ENTER,B,W,$)):X.target=null)}else!$&&F[0]&&(X.target=F[0],$=X.target,W.emit(p.GAMEOBJECT_DRAG_ENTER,B,$),this.emit(p.DRAG_ENTER,B,W,$));var V,Y,z=B.positionToCamera(X.dragStartCamera);if(!W.parentContainer)V=z.x-X.dragX,Y=z.y-X.dragY;else{var K=z.x-X.dragStartXGlobal,H=z.y-X.dragStartYGlobal,Q=W.getParentRotation(),j=K*Math.cos(Q)+H*Math.sin(Q),q=H*Math.cos(Q)-K*Math.sin(Q);j*=1/W.parentContainer.scaleX,q*=1/W.parentContainer.scaleY,V=j+X.dragStartX,Y=q+X.dragStartY}W.emit(p.GAMEOBJECT_DRAG,B,V,Y),this.emit(p.DRAG,B,W,V,Y)}return G.length},processDragUpEvent:function(B){var F=this._drag[B.id];F.length>1&&(F=F.slice(0));for(var G=0;G<F.length;G++){var N=F[G],W=N.input;if(W&&W.dragState===2){W.dragState=0,W.dragX=W.localX-N.displayOriginX,W.dragY=W.localY-N.displayOriginY,W.dragStartCamera=null;var X=!1,$=W.target;$&&(N.emit(p.GAMEOBJECT_DROP,B,$),this.emit(p.DROP,B,N,$),W.target=null,X=!0),N.input&&N.input.enabled&&(N.emit(p.GAMEOBJECT_DRAG_END,B,W.dragX,W.dragY,X),this.emit(p.DRAG_END,B,N,X))}}return this.setDragState(B,0),F.splice(0),0},processMoveEvents:function(B){var F=0,G=this._temp,N=this._eventData,W=this._eventContainer;N.cancelled=!1;for(var X=0;X<G.length;X++){var $=G[X];if(!(!$.input||!$.input.enabled)&&(F++,$.emit(p.GAMEOBJECT_POINTER_MOVE,B,$.input.localX,$.input.localY,W),N.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(p.GAMEOBJECT_MOVE,B,$,W),N.cancelled||!this.isActive()||this.topOnly)))break}return!N.cancelled&&this.isActive()&&this.emit(p.POINTER_MOVE,B,G),F},processWheelEvent:function(B){var F=0,G=this._temp,N=this._eventData,W=this._eventContainer;N.cancelled=!1;for(var X=B.deltaX,$=B.deltaY,J=B.deltaZ,V=0;V<G.length;V++){var Y=G[V];if(!(!Y.input||!Y.input.enabled)&&(F++,Y.emit(p.GAMEOBJECT_POINTER_WHEEL,B,X,$,J,W),N.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(p.GAMEOBJECT_WHEEL,B,Y,X,$,J,W),N.cancelled||!this.isActive())))break}return!N.cancelled&&this.isActive()&&this.emit(p.POINTER_WHEEL,B,G,X,$,J),F},processOverEvents:function(B){var F=this._temp,G=0,N=F.length,W=[];if(N>0){var X=this.manager,$=this._eventData,J=this._eventContainer;$.cancelled=!1;for(var V=0;V<N;V++){var Y=F[V];if(!(!Y.input||!Y.input.enabled)&&(W.push(Y),X.setCursor(Y.input),Y.emit(p.GAMEOBJECT_POINTER_OVER,B,Y.input.localX,Y.input.localY,J),G++,$.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,B,Y,J),$.cancelled||!this.isActive())))break}!$.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,B,W)}return this._over[B.id]=W,G},processOutEvents:function(B){var F=this._over[B.id],G=0,N=F.length;if(N>0){var W=this.manager,X=this._eventData,$=this._eventContainer;X.cancelled=!1,this.sortGameObjects(F,B);for(var J=0;J<N;J++){var V=F[J];if(V=F[J],!(!V.input||!V.input.enabled)&&(W.resetCursor(V.input),V.emit(p.GAMEOBJECT_POINTER_OUT,B,$),G++,X.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,B,V,$),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(p.POINTER_OUT,B,F),this._over[B.id]=[]}return G},processOverOutEvents:function(B){var F=this._temp,G,N,W=[],X=[],$=[],J=this._over[B.id],V=this._drag[B.id],Y=this.manager;for(G=0;G<J.length;G++)N=J[G],F.indexOf(N)===-1&&V.indexOf(N)===-1?W.push(N):$.push(N);for(G=0;G<F.length;G++)N=F[G],J.indexOf(N)===-1&&X.push(N);var z=W.length,K=0,H=this._eventData,Q=this._eventContainer;if(H.cancelled=!1,z>0){for(this.sortGameObjects(W,B),G=0;G<z&&(N=W[G],!(!(!N.input||!N.input.enabled)&&(Y.resetCursor(N.input),N.emit(p.GAMEOBJECT_POINTER_OUT,B,Q),K++,H.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(p.GAMEOBJECT_OUT,B,N,Q),H.cancelled||!this.isActive()))));G++);(!H.cancelled||this.isActive())&&this.emit(p.POINTER_OUT,B,W)}if(z=X.length,H.cancelled=!1,z>0){for(this.sortGameObjects(X,B),G=0;G<z&&(N=X[G],!(!(!N.input||!N.input.enabled)&&(Y.setCursor(N.input),N.emit(p.GAMEOBJECT_POINTER_OVER,B,N.input.localX,N.input.localY,Q),K++,H.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(p.GAMEOBJECT_OVER,B,N,Q),H.cancelled||!this.isActive()))));G++);!H.cancelled&&this.isActive()&&this.emit(p.POINTER_OVER,B,X)}return J=$.concat(X),this._over[B.id]=this.sortGameObjects(J,B),K},processUpEvents:function(B){var F=this._temp,G=this._eventData,N=this._eventContainer;G.cancelled=!1;for(var W=0;W<F.length;W++){var X=F[W];if(!(!X.input||!X.input.enabled)&&(X.emit(p.GAMEOBJECT_POINTER_UP,B,X.input.localX,X.input.localY,N),G.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(p.GAMEOBJECT_UP,B,X,N),G.cancelled||!this.isActive())))break}return!G.cancelled&&this.isActive()&&(B.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,B,F):this.emit(p.POINTER_UP_OUTSIDE,B)),F.length},forceDownState:function(B,F){this.forceState(B,F,p.GAMEOBJECT_POINTER_DOWN,p.GAMEOBJECT_DOWN,!1)},forceUpState:function(B,F){this.forceState(B,F,p.GAMEOBJECT_POINTER_UP,p.GAMEOBJECT_UP,!1)},forceOverState:function(B,F){this.forceState(B,F,p.GAMEOBJECT_POINTER_OVER,p.GAMEOBJECT_OVER,!0)},forceOutState:function(B,F){this.forceState(B,F,p.GAMEOBJECT_POINTER_OUT,p.GAMEOBJECT_OUT,!1)},forceState:function(B,F,G,N,W){var X=this._eventData,$=this._eventContainer;X.cancelled=!1,F.input&&F.input.enabled&&(F.emit(G,B,F.input.localX,F.input.localY,$),W&&this.setCursor(F.input),!X.cancelled&&this.isActive()&&F.input&&F.input.enabled&&this.emit(N,B,F,$))},queueForInsertion:function(B){return this._pendingInsertion.indexOf(B)===-1&&this._list.indexOf(B)===-1&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,F){F===void 0&&(F=!0),Array.isArray(B)||(B=[B]);for(var G=0;G<B.length;G++){var N=B[G];N.input.draggable=F;var W=this._draggable.indexOf(N);F&&W===-1?this._draggable.push(N):!F&&W>-1&&this._draggable.splice(W,1)}return this},makePixelPerfect:function(B){B===void 0&&(B=1);var F=this.systems.textures;return o(F,B)},setHitArea:function(B,F,G){if(F===void 0)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var N=!1,W=!1,X=!1,$=!1,J=!1,V=!0;if(b(F)&&Object.keys(F).length){var Y=F,z=B.some(function(q){return q.hasOwnProperty("faces")});if(!z){F=y(Y,"hitArea",null),G=y(Y,"hitAreaCallback",null),J=y(Y,"pixelPerfect",!1);var K=y(Y,"alphaTolerance",1);J&&(F={},G=this.makePixelPerfect(K))}N=y(Y,"draggable",!1),W=y(Y,"dropZone",!1),X=y(Y,"cursor",!1),$=y(Y,"useHandCursor",!1),(!F||!G)&&(this.setHitAreaFromTexture(B),V=!1)}else typeof F=="function"&&!G&&(G=F,F={});for(var H=0;H<B.length;H++){var Q=B[H];if(J&&Q.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var j=Q.input?Q.input:l(Q,F,G);j.customHitArea=V,j.dropZone=W,j.cursor=$?"pointer":X,Q.input=j,N&&this.setDraggable(Q),this.queueForInsertion(Q)}return this},setHitAreaCircle:function(B,F,G,N,W){W===void 0&&(W=g);var X=new a(F,G,N);return this.setHitArea(B,X,W)},setHitAreaEllipse:function(B,F,G,N,W,X){X===void 0&&(X=f);var $=new v(F,G,N,W);return this.setHitArea(B,$,X)},setHitAreaFromTexture:function(B,F){F===void 0&&(F=A),Array.isArray(B)||(B=[B]);for(var G=0;G<B.length;G++){var N=B[G],W=N.frame,X=0,$=0;if(N.width?(X=N.width,$=N.height):W&&(X=W.realWidth,$=W.realHeight),N.type==="Container"&&(X===0||$===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&$!==0&&(N.input=l(N,new w(0,0,X,$),F),this.queueForInsertion(N))}return this},setHitAreaRectangle:function(B,F,G,N,W,X){X===void 0&&(X=A);var $=new w(F,G,N,W);return this.setHitArea(B,$,X)},setHitAreaTriangle:function(B,F,G,N,W,X,$,J){J===void 0&&(J=L);var V=new D(F,G,N,W,X,$);return this.setHitArea(B,V,J)},enableDebug:function(B,F){F===void 0&&(F=65280);var G=B.input;if(!G||!G.hitArea)return this;var N=G.hitArea,W=N.type,X=G.hitAreaDebug,$=this.systems.add,J=this.systems.updateList;X&&(J.remove(X),X.destroy(),X=null);var V=0,Y=0;switch(W){case S.CIRCLE:X=$.arc(0,0,N.radius),V=N.x-N.radius,Y=N.y-N.radius;break;case S.ELLIPSE:X=$.ellipse(0,0,N.width,N.height),V=N.x-N.width/2,Y=N.y-N.height/2;break;case S.LINE:X=$.line(0,0,N.x1,N.y1,N.x2,N.y2);break;case S.POLYGON:X=$.polygon(0,0,N.points);break;case S.RECTANGLE:X=$.rectangle(0,0,N.width,N.height),V=N.x,Y=N.y;break;case S.TRIANGLE:X=$.triangle(0,0,N.x1,N.y1,N.x2,N.y2,N.x3,N.y3);break}return X&&(X.isFilled=!1,X.strokeColor=F,X.preUpdate=function(){X.setVisible(B.visible),X.setStrokeStyle(1/B.scale,X.strokeColor),X.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var z=B.x,K=B.y,H=B.rotation,Q=B.scaleX,j=B.scaleY;if(B.parentContainer){var q=B.getWorldTransformMatrix();z=q.tx,K=q.ty,H=q.rotation,Q=q.scaleX,j=q.scaleY}X.setRotation(H),X.setScale(Q,j),X.setPosition(z+V*Q,K+Y*j),X.setScrollFactor(B.scrollFactorX,B.scrollFactorY),X.setDepth(B.depth)},J.add(X),G.hitAreaDebug=X),this},removeDebug:function(B){var F=B.input;if(F&&F.hitAreaDebug){var G=F.hitAreaDebug;G.destroy(),F.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,F){if(B.length<2||!F.camera)return B;var G=F.camera.renderList;return B.sort(function(N,W){var X=Math.max(G.indexOf(N),0),$=Math.max(G.indexOf(W),0);return $-X})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,F){if(!B.parentContainer&&!F.parentContainer)return this.displayList.getIndex(F)-this.displayList.getIndex(B);if(B.parentContainer===F.parentContainer)return F.parentContainer.getIndex(F)-B.parentContainer.getIndex(B);if(B.parentContainer===F)return-1;if(F.parentContainer===B)return 1;for(var G=B.getIndexList(),N=F.getIndexList(),W=Math.min(G.length,N.length),X=0;X<W;X++){var $=G[X],J=N[X];if($!==J)return J-$}return N.length-G.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var F=this.manager;F.canvas.style.cursor=F.defaultCursor;var G=this.systems.events;G.off(R.TRANSITION_START,this.transitionIn,this),G.off(R.TRANSITION_OUT,this.transitionOut,this),G.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),G.off(R.PRE_UPDATE,this.preUpdate,this),F.events.off(p.GAME_OUT,this.onGameOut,this),F.events.off(p.GAME_OVER,this.onGameOver,this),G.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,F=0;F<B.length;F++)B[F].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});P.register("InputPlugin",k,"input"),r.exports=k}),89639:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g={},c={};c.register=function(h,l,o,u,v){g[h]={plugin:l,mapping:o,settingsKey:u,configKey:v}},c.getPlugin=function(h){return g[h]},c.install=function(h){var l=h.scene.sys,o=l.settings.input,u=l.game.config;for(var v in g){var f=g[v].plugin,p=g[v].mapping,m=g[v].settingsKey,y=g[v].configKey;a(o,m,u[y])&&(h[p]=new f(h))}},c.remove=function(h){g.hasOwnProperty(h)&&delete g[h]},r.exports=c}),42515:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31040),g=s(83419),c=s(20339),h=s(43855),l=s(47235),o=s(26099),u=s(25892),v=new g({initialize:function(p,m){this.manager=p,this.id=m,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=m===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(f){var p=f.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},positionToCamera:function(f,p){return f.getWorldPoint(this.x,this.y,p)},updateMotion:function(){var f=this.position.x,p=this.position.y,m=this.midPoint.x,y=this.midPoint.y;if(!(f===m&&p===y)){var S=l(this.motionFactor,m,f),T=l(this.motionFactor,y,p);h(S,f,.1)&&(S=f),h(T,p,.1)&&(T=p),this.midPoint.set(S,T);var b=f-S,P=p-T;this.velocity.set(b,P),this.angle=a(S,T,f,p),this.distance=Math.sqrt(b*b+P*P)}},up:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=f.timeStamp,this.wasTouch=!1)},down:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.button=f.button,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),f.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),u.macOS&&f.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=f.timeStamp),this.wasTouch=!1},move:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.locked&&(this.movementX=f.movementX||f.mozMovementX||f.webkitMovementX||0,this.movementY=f.movementY||f.mozMovementY||f.webkitMovementY||0),this.moveTime=f.timeStamp,this.wasTouch=!1},wheel:function(f){"buttons"in f&&(this.buttons=f.buttons),this.event=f,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.deltaX=f.deltaX,this.deltaY=f.deltaY,this.deltaZ=f.deltaZ,this.wasTouch=!1},touchstart:function(f,p){f.pointerId&&(this.pointerId=f.pointerId),this.identifier=f.identifier,this.target=f.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(f,p){this.event=p,this.manager.transformPointer(this,f.pageX,f.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(f,p){this.buttons=0,this.event=p,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(f,p){this.buttons=0,this.event=p,this.upElement=f.target,this.manager.transformPointer(this,f.pageX,f.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(f,p){f===void 0&&(f=10),p===void 0&&(p=[]);for(var m=this.prevPosition.x,y=this.prevPosition.y,S=this.position.x,T=this.position.y,b=0;b<f;b++){var P=1/f*b;p[b]={x:l(P,m,S),y:l(P,y,T)}}return p},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(f){this.position.x=f}},y:{get:function(){return this.position.y},set:function(f){this.position.y=f}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=v}),93301:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=x}),7179:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"}),85375:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),39843:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"}),23388:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"}),16133:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"}),27829:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"}),53904:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"}),56058:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"}),2642:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"}),88171:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"}),36147:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"}),71692:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"}),96149:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"}),81285:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"}),74048:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"}),21322:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"}),49378:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"}),86754:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"}),86433:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"}),60709:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"}),24081:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"}),11172:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"}),18907:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"}),95579:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"}),35368:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"}),26972:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"}),47078:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"}),73802:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"}),56718:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"}),25936:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"}),27503:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"}),50852:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"}),96438:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"}),59152:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"}),47777:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"}),27957:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"}),19444:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"}),54251:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"}),18667:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"}),27192:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"}),24652:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"}),45132:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"}),44512:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"}),15757:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"}),41637:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"}),93802:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"}),8214:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}}),97421:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.pad=h,this.events=h.events,this.index=l,this.value=0,this.threshold=.1},update:function(c){this.value=c},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=g}),28884:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92734),c=new a({initialize:function(l,o){this.pad=l,this.events=l.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var l=this.pad,o=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,l,this,h),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,o,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,l,this,h),this.pad.emit(g.GAMEPAD_BUTTON_UP,o,h,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=c}),99125:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97421),g=s(28884),c=s(83419),h=s(50792),l=s(26099),o=new c({Extends:h,initialize:function(v,f){h.call(this),this.manager=v,this.pad=f,this.id=f.id,this.index=f.index;for(var p=[],m=0;m<f.buttons.length;m++)p.push(new g(this,m));this.buttons=p;var y=[];for(m=0;m<f.axes.length;m++)y.push(new a(this,m));this.axes=y,this.vibration=f.vibrationActuator;var S={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:S,this._LCRight=p[15]?p[15]:S,this._LCTop=p[12]?p[12]:S,this._LCBottom=p[13]?p[13]:S,this._RCLeft=p[2]?p[2]:S,this._RCRight=p[1]?p[1]:S,this._RCTop=p[3]?p[3]:S,this._RCBottom=p[0]?p[0]:S,this._FBLeftTop=p[4]?p[4]:S,this._FBLeftBottom=p[6]?p[6]:S,this._FBRightTop=p[5]?p[5]:S,this._FBRightBottom=p[7]?p[7]:S;var T={value:0};this._HAxisLeft=y[0]?y[0]:T,this._VAxisLeft=y[1]?y[1]:T,this._HAxisRight=y[2]?y[2]:T,this._VAxisRight=y[3]?y[3]:T,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(u){return this.axes[u].getValue()},setAxisThreshold:function(u){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=u},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(u){return this.buttons[u].value},isButtonDown:function(u){return this.buttons[u].pressed},update:function(u){if(!(u.timestamp<this._created)){var v,f=this.buttons,p=u.buttons,m=f.length;for(v=0;v<m;v++)f[v].update(p[v].value);var y=this.axes,S=u.axes;for(m=y.length,v=0;v<m;v++)y[v].update(S[v]);m>=2&&(this.leftStick.set(y[0].getValue(),y[1].getValue()),m>=4&&this.rightStick.set(y[2].getValue(),y[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var u;for(u=0;u<this.buttons.length;u++)this.buttons[u].destroy();for(u=0;u<this.axes.length;u++)this.axes[u].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=o}),56654:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(92734),h=s(99125),l=s(35154),o=s(89639),u=s(8214),v=new a({Extends:g,initialize:function(p){g.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,p.pluginEvents.once(u.BOOT,this.boot,this),p.pluginEvents.on(u.START,this.start,this)},boot:function(){var f=this.scene.sys.game,p=this.settings.input,m=f.config;this.enabled=l(p,"gamepad",m.inputGamepad)&&f.device.input.gamepads,this.target=l(p,"gamepad.target",m.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var f=this,p=this.target,m=function(y){y.defaultPrevented||!f.isActive()||(f.refreshPads(),f.queue.push(y))};this.onGamepadHandler=m,p.addEventListener("gamepadconnected",m,!1),p.addEventListener("gamepaddisconnected",m,!1),this.sceneInputPlugin.pluginEvents.on(u.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(u.UPDATE,this.update);for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].removeAllListeners()},disconnectAll:function(){for(var f=0;f<this.gamepads.length;f++)this.gamepads[f].pad.connected=!1},refreshPads:function(){var f=navigator.getGamepads();if(!f)this.disconnectAll();else for(var p=this.gamepads,m=0;m<f.length;m++){var y=f[m];if(y){var S=y.id,T=y.index,b=p[T];if(b)b.id!==S?(b.destroy(),p[T]=new h(this,y)):b.update(y);else{var P=new h(this,y);p[T]=P,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=P):this._pad3=P:this._pad2=P:this._pad1=P}}}},getAll:function(){for(var f=[],p=this.gamepads,m=0;m<p.length;m++)p[m]&&f.push(p[m]);return f},getPad:function(f){for(var p=this.gamepads,m=0;m<p.length;m++)if(p[m]&&p[m].index===f)return p[m]},update:function(){if(this.enabled){this.refreshPads();var f=this.queue.length;if(f!==0)for(var p=this.queue.splice(0,f),m=0;m<f;m++){var y=p[m],S=this.getPad(y.gamepad.index);y.type==="gamepadconnected"?this.emit(c.CONNECTED,S,y):y.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,S,y)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var f=0;f<this.gamepads.length;f++)this.gamepads[f]&&this.gamepads[f].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),r.exports=v}),89651:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}}),65294:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),90089:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}}),64894:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}}),46008:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"}),7629:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"}),42206:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"}),86544:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"}),94784:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"}),14325:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"}),92734:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}}),48646:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}}),14350:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(93301),g=s(79291),c={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};c=g(!1,c,a),r.exports=c}),78970:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(83419),c=s(8443),h=s(8214),l=s(46032),o=s(29747),u=new g({initialize:function(f){this.manager=f,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,f.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(h.MANAGER_PROCESS);var m=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!m&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}},this.onKeyUp=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(h.MANAGER_PROCESS);var m=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!m&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}};var f=this.target;f&&(f.addEventListener("keydown",this.onKeyDown,!1),f.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,p=0;p<v.length;p++){var m=v[p];typeof m=="string"&&(m=l[m.trim().toUpperCase()]),f.indexOf(m)===-1&&f.push(m)}this.preventDefault=f.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var f=this.captures,p=0;p<v.length;p++){var m=v[p];typeof m=="string"&&(m=l[m.toUpperCase()]),a(f,m)}this.preventDefault=f.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u}),28846:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(95922),h=s(8443),l=s(35154),o=s(8214),u=s(89639),v=s(30472),f=s(46032),p=s(87960),m=s(74600),y=s(44594),S=s(56583),T=new a({Extends:g,initialize:function(P){g.call(this),this.game=P.systems.game,this.scene=P.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=P,this.manager=P.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,P.pluginEvents.once(o.BOOT,this.boot,this),P.pluginEvents.on(o.START,this.start,this)},boot:function(){var b=this.settings.input;this.enabled=l(b,"keyboard",!0);var P=l(b,"keyboard.capture",null);P&&this.addCaptures(P),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(y.PAUSE,this.resetKeys,this),this.scene.sys.events.on(y.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(b){return this.manager.addCapture(b),this},removeCapture:function(b){return this.manager.removeCapture(b),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:f.UP,down:f.DOWN,left:f.LEFT,right:f.RIGHT,space:f.SPACE,shift:f.SHIFT})},addKeys:function(b,P,w){P===void 0&&(P=!0),w===void 0&&(w=!1);var A={};if(typeof b=="string"){b=b.split(",");for(var R=0;R<b.length;R++){var D=b[R].trim();D&&(A[D]=this.addKey(D,P,w))}}else for(var L in b)A[L]=this.addKey(b[L],P,w);return A},addKey:function(b,P,w){P===void 0&&(P=!0),w===void 0&&(w=!1);var A=this.keys;if(b instanceof v){var R=A.indexOf(b);return R>-1?A[R]=b:A[b.keyCode]=b,P&&this.addCapture(b.keyCode),b.setEmitOnRepeat(w),b}return typeof b=="string"&&(b=f[b.toUpperCase()]),A[b]||(A[b]=new v(this,b),P&&this.addCapture(b),A[b].setEmitOnRepeat(w)),A[b]},removeKey:function(b,P,w){P===void 0&&(P=!1),w===void 0&&(w=!1);var A=this.keys,R;if(b instanceof v){var D=A.indexOf(b);D>-1&&(R=this.keys[D],this.keys[D]=void 0)}else typeof b=="string"&&(b=f[b.toUpperCase()]);return A[b]&&(R=A[b],A[b]=void 0),R&&(R.plugin=null,w&&this.removeCapture(R.keyCode),P&&R.destroy()),this},removeAllKeys:function(b,P){b===void 0&&(b=!1),P===void 0&&(P=!1);for(var w=this.keys,A=0;A<w.length;A++){var R=w[A];R&&(w[A]=void 0,P&&this.removeCapture(R.keyCode),b&&R.destroy())}return this},createCombo:function(b,P){return new p(this,b,P)},checkDown:function(b,P){if(P===void 0&&(P=0),this.enabled&&b.isDown){var w=S(this.time-b.timeDown,P);if(w>b._tick)return b._tick=w,!0}return!1},update:function(){var b=this.manager.queue,P=b.length;if(!(!this.isActive()||P===0))for(var w=this.keys,A=0;A<P;A++){var R=b[A],D=R.keyCode,L=w[D],k=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(D===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=D,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(L&&(k=L.isDown,L.onDown(R)),!R.cancelled&&(!L||!k)&&(m[D]&&this.emit(c.KEY_DOWN+m[D],R),R.cancelled||this.emit(c.ANY_KEY_DOWN,R))):(L&&L.onUp(R),R.cancelled||(m[D]&&this.emit(c.KEY_UP+m[D],R),R.cancelled||this.emit(c.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var b=this.keys,P=0;P<b.length;P++)b[P]&&b[P].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(y.PAUSE,this.resetKeys,this),this.scene.sys.events.off(y.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var b=this.keys,P=0;P<b.length;P++)b[P]&&b[P].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});u.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),r.exports=T}),66970:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.timeLastMatched=s.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};r.exports=x}),87960:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95922),c=s(95540),h=s(68769),l=s(92803),o=new a({initialize:function(v,f,p){if(p===void 0&&(p={}),f.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var m=0;m<f.length;m++){var y=f[m];typeof y=="string"?this.keyCodes.push(y.toUpperCase().charCodeAt(0)):typeof y=="number"?this.keyCodes.push(y):y.hasOwnProperty("keyCode")&&this.keyCodes.push(y.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(p,"resetOnWrongKey",!0),this.maxKeyDelay=c(p,"maxKeyDelay",0),this.resetOnMatch=c(p,"resetOnMatch",!1),this.deleteOnMatch=c(p,"deleteOnMatch",!1);var S=this,T=function(b){if(!(S.matched||!S.enabled)){var P=h(b,S);P&&(S.manager.emit(g.COMBO_MATCH,S,b),S.resetOnMatch?l(S):S.deleteOnMatch&&S.destroy())}};this.onKeyDown=T,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=o}),68769:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66970),g=function(c,h){if(h.matched)return!0;var l=!1,o=!1;if(c.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var u=h.timeLastMatched+h.maxKeyDelay;c.timeStamp<=u&&(o=!0,l=a(c,h))}else o=!0,l=a(c,h);return!o&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),l&&(h.timeLastMatched=c.timeStamp,h.matched=!0,h.timeMatched=c.timeStamp),l};r.exports=g}),92803:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};r.exports=x}),92612:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"}),23345:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"}),21957:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"}),44743:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"}),3771:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"}),46358:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"}),75674:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"}),95922:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}}),51442:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}}),37015:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=50);var g=s.plugin.game.loop.time-s.timeDown;return s.isDown&&g<a};r.exports=x}),90229:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s._justDown?(s._justDown=!1,!0):!1};r.exports=x}),38796:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s._justUp?(s._justUp=!1,!0):!1};r.exports=x}),30472:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(95922),h=new a({Extends:g,initialize:function(o,u){g.call(this),this.plugin=o,this.keyCode=u,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=h}),46032:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=x}),74600:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(46032),g={};for(var c in a)g[a[c]]=c;r.exports=g}),41170:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=50);var g=s.plugin.game.loop.time-s.timeUp;return s.isUp&&g<a};r.exports=x}),85098:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89357),c=s(8214),h=s(29747),l=new a({initialize:function(u){this.manager=u,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,u.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var u=this,v=this.manager,f=v.canvas,p=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(y){!y.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseMove(y),u.preventDefaultMove&&y.preventDefault())},this.onMouseDown=function(y){p&&window.focus(),!y.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseDown(y),u.preventDefaultDown&&y.target===f&&y.preventDefault())},this.onMouseDownWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&u.enabled&&v&&v.enabled&&y.target!==f&&v.onMouseDown(y)},this.onMouseUp=function(y){!y.defaultPrevented&&u.enabled&&v&&v.enabled&&(v.onMouseUp(y),u.preventDefaultUp&&y.target===f&&y.preventDefault())},this.onMouseUpWindow=function(y){y.sourceCapabilities&&y.sourceCapabilities.firesTouchEvents||!y.defaultPrevented&&u.enabled&&v&&v.enabled&&y.target!==f&&v.onMouseUp(y)},this.onMouseOver=function(y){!y.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOver(y)},this.onMouseOut=function(y){!y.defaultPrevented&&u.enabled&&v&&v.enabled&&v.setCanvasOut(y)},this.onMouseWheel=function(y){!y.defaultPrevented&&u.enabled&&v&&v.enabled&&v.onMouseWheel(y),u.preventDefaultWheel&&y.target===f&&y.preventDefault()};var m={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,m),o.addEventListener("mouseout",this.onMouseOut,m),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,m),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,m),window.top.addEventListener("mouseup",this.onMouseUpWindow,m)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,m),window.addEventListener("mouseup",this.onMouseUpWindow,m),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(y){var S=u.target;u.locked=document.pointerLockElement===S||document.mozPointerLockElement===S||document.webkitPointerLockElement===S,v.onPointerLockChange(y)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=l}),87078:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:s(85098)}}),36210:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8214),c=s(29747),h=new a({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,o.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var o=this,u=this.manager,v=u.canvas,f=window&&window.focus&&u.game.config.autoFocus;this.onTouchMove=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchMove(S),o.capture&&S.cancelable&&S.preventDefault())},this.onTouchStart=function(S){f&&window.focus(),!S.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchStart(S),o.capture&&S.cancelable&&S.target===v&&S.preventDefault())},this.onTouchStartWindow=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&S.target!==v&&u.onTouchStart(S)},this.onTouchEnd=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchEnd(S),o.capture&&S.cancelable&&S.target===v&&S.preventDefault())},this.onTouchEndWindow=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&S.target!==v&&u.onTouchEnd(S)},this.onTouchCancel=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&(u.onTouchCancel(S),o.capture&&S.preventDefault())},this.onTouchCancelWindow=function(S){!S.defaultPrevented&&o.enabled&&u&&u.enabled&&u.onTouchCancel(S)};var p=this.capture,m={passive:!0},y={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,p?y:m),l.addEventListener("touchmove",this.onTouchMove,p?y:m),l.addEventListener("touchend",this.onTouchEnd,p?y:m),l.addEventListener("touchcancel",this.onTouchCancel,p?y:m),window&&u.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,y),window.top.addEventListener("touchend",this.onTouchEndWindow,y),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,y)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,y),window.addEventListener("touchend",this.onTouchEndWindow,y),window.addEventListener("touchcancel",this.onTouchCancelWindow,y),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=h}),95618:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:s(36210)}}),41299:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(54899),h=s(95540),l=s(98356),o=s(3374),u=s(84376),v=s(92638),f=new a({initialize:function(m,y){if(this.loader=m,this.cache=h(y,"cache",!1),this.type=h(y,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(y,"key",!1);var S=this.key;if(m.prefix&&m.prefix!==""&&(this.key=m.prefix+S),!this.key)throw new Error("Invalid File key: "+this.key);var T=h(y,"url");T===void 0?T=m.path+S+"."+h(y,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=m.path+T),this.url=T,this.src="",this.xhrSettings=v(h(y,"responseType",void 0)),h(y,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,h(y,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(y,"config",{}),this.multiFile,this.linkFile,this.base64=typeof T=="string"&&T.indexOf("data:")===0,this.retryAttempts=h(y,"maxRetries",m.maxRetries)},setLink:function(p){this.linkFile=p,p.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===g.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=g.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=u(this,this.loader.xhr)}},onLoad:function(p,m){var y=p.responseURL&&this.loader.localSchemes.some(function(b){return p.responseURL.indexOf(b)===0}),S=y&&m.target.status===0,T=!(m.target&&m.target.status!==200)||S;p.readyState===4&&p.status>=400&&p.status<=599&&(T=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onBase64Load:function(p){this.xhrLoader=p,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(p){if(this.state!==g.FILE_PENDING_DESTROY){p===void 0&&(p=this.data);var m=this.key,y=this.type;this.loader.emit(c.FILE_COMPLETE,m,y,p),this.loader.emit(c.FILE_KEY_COMPLETE+y+"-"+m,m,y,p),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});f.createObjectURL=function(p,m,y){if(typeof URL=="function")p.src=URL.createObjectURL(m);else{var S=new FileReader;S.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(m.type||y)+";base64,"+S.result.split(",")[1]},S.onerror=p.onerror,S.readAsDataURL(m)}},f.revokeObjectURL=function(p){typeof URL=="function"&&URL.revokeObjectURL(p.src)},r.exports=f}),74099:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},s={install:function(a){for(var g in x)a[g]=x[g]},register:function(a,g){x[a]=g},destroy:function(){x={}}};r.exports=s}),98356:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:a+s.url:!1};r.exports=x}),74261:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(35072),h=s(50792),l=s(54899),o=s(74099),u=s(95540),v=s(35154),f=s(41212),p=s(37277),m=s(44594),y=s(92638),S=new a({Extends:h,initialize:function(b){h.call(this);var P=b.sys.game.config,w=b.sys.settings.loader;this.scene=b,this.systems=b.sys,this.cacheManager=b.sys.cache,this.textureManager=b.sys.textures,this.sceneManager=b.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(u(w,"baseURL",P.loaderBaseURL)),this.setPath(u(w,"path",P.loaderPath)),this.setPrefix(u(w,"prefix",P.loaderPrefix)),this.maxParallelDownloads=u(w,"maxParallelDownloads",P.loaderMaxParallelDownloads),this.xhr=y(u(w,"responseType",P.loaderResponseType),u(w,"async",P.loaderAsync),u(w,"user",P.loaderUser),u(w,"password",P.loaderPassword),u(w,"timeout",P.loaderTimeout),u(w,"withCredentials",P.loaderWithCredentials)),this.crossOrigin=u(w,"crossOrigin",P.loaderCrossOrigin),this.imageLoadType=u(w,"imageLoadType",P.loaderImageLoadType),this.localSchemes=u(w,"localScheme",P.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=u(w,"maxRetries",P.loaderMaxRetries),b.sys.events.once(m.BOOT,this.boot,this),b.sys.events.on(m.START,this.pluginStart,this)},boot:function(){this.systems.events.once(m.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(m.SHUTDOWN,this.shutdown,this)},setBaseURL:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.baseURL=T,this},setPath:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.path=T,this},setPrefix:function(T){return T===void 0&&(T=""),this.prefix=T,this},setCORS:function(T){return this.crossOrigin=T,this},addFile:function(T){Array.isArray(T)||(T=[T]);for(var b=0;b<T.length;b++){var P=T[b];this.keyExists(P)||(this.list.set(P),this.emit(l.ADD,P.key,P.type,this,P),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(T){var b=T.hasCacheConflict();return b||this.list.iterate(function(P){if(P.type===T.type&&P.key===T.key)return b=!0,!1}),!b&&this.isLoading()&&(this.inflight.iterate(function(P){if(P.type===T.type&&P.key===T.key)return b=!0,!1}),this.queue.iterate(function(P){if(P.type===T.type&&P.key===T.key)return b=!0,!1})),b},addPack:function(T,b){if(typeof b=="string"){var P=v(T,b);P&&(T={packKey:P})}var w=0,A=this.baseURL,R=this.path,D=this.prefix;for(var L in T)if(Object.prototype.hasOwnProperty.call(T,L)){var k=T[L],B=u(k,"baseURL",A),F=u(k,"path",R),G=u(k,"prefix",D),N=u(k,"files",null),W=u(k,"defaultType","void");if(Array.isArray(N)){this.setBaseURL(B),this.setPath(F),this.setPrefix(G);for(var X=0;X<N.length;X++){var $=N[X],J=$.hasOwnProperty("type")?$.type:W;this[J]&&(this[J]($),w++)}}}return this.setBaseURL(A),this.setPath(R),this.setPrefix(D),w>0},removePack:function(T,b){var P=this.systems.anims,w=this.cacheManager,A=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},D;if(f(T))D=T;else if(D=w.json.get(T),!D){console.warn("Asset Pack not found in JSON cache:",T);return}b&&(D={_:D[b]});for(var L in D){var k=D[L],B=u(k,"prefix",""),F=u(k,"files"),G=u(k,"defaultType");if(Array.isArray(F))for(var N=0;N<F.length;N++){var W=F[N],X=W.hasOwnProperty("type")?W.type:G;if(!X){console.warn("No type:",W);continue}var $=B+W.key;if(X==="animation"&&P.remove($),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(A.remove($),!R[X]))){if(X==="pack"){this.removePack($,W.dataKey);continue}if(X==="spine"){var J=w.custom.spine.get($);if(!J)continue;var V=J.prefix===void 0?"":J.prefix;w.custom.spine.remove($);var Y=w.custom.spineTextures.get($);if(!Y)continue;w.custom.spineTextures.remove($);for(var z=0;z<Y.pages.length;z++){var K=Y.pages[z],H=V+K.name,Q=$+":"+H;A.exists(Q)?A.remove(Q):A.remove(H)}}var j=R[X];if(j!==null){if(!j){console.warn("Unknown type:",X);continue}var q=w[j];q.remove($)}}}}},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(m.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(T){if((T.state===g.FILE_POPULATED||T.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(T),this.list.delete(T),T.crossOrigin||(T.crossOrigin=this.crossOrigin),T.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(T,b){this.inflight&&(this.inflight.delete(T),this.updateProgress(),b?(this.totalComplete++,this.queue.set(T),this.emit(l.FILE_LOAD,T),T.onProcess()):(this.totalFailed++,this._deleteQueue.set(T),this.emit(l.FILE_LOAD_ERROR,T),this.fileProcessComplete(T)))},fileProcessComplete:function(T){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(T.state===g.FILE_ERRORED?T.multiFile&&T.multiFile.onFileFailed(T):T.state===g.FILE_COMPLETE&&(T.multiFile?T.multiFile.isReadyToProcess()&&(T.multiFile.addToCache(),T.multiFile.pendingDestroy()):(T.addToCache(),T.pendingDestroy())),this.queue.delete(T),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(m.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(T){this._deleteQueue.set(T)},saveJSON:function(T,b){return this.save(JSON.stringify(T),b)},save:function(T,b,P){b===void 0&&(b="file.json"),P===void 0&&(P="application/json");var w=new Blob([T],{type:P}),A=URL.createObjectURL(w),R=document.createElement("a");return R.download=b,R.textContent="Download "+b,R.href=A,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var T=this.systems.game.config,b=this.systems.settings.loader;this.setBaseURL(u(b,"baseURL",T.loaderBaseURL)),this.setPath(u(b,"path",T.loaderPath)),this.setPrefix(u(b,"prefix",T.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(m.UPDATE,this.update,this),this.systems.events.off(m.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});p.register("Loader",S,"load"),r.exports=S}),3374:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(92638),c=function(h,l){var o=h===void 0?g():a({},h);if(l)for(var u in l)l[u]!==void 0&&(o[u]=l[u]);return o};r.exports=c}),26430:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(54899),h=new a({initialize:function(o,u,v,f){var p=[];f.forEach(function(S){S&&p.push(S)}),this.loader=o,this.type=u,this.key=v;var m=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+m),this.multiKeyIndex=o.multiKeyIndex++,this.files=p,this.state=g.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var y=0;y<p.length;y++)p[y].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var o=this.files.indexOf(l);o!==-1&&this.pending--},onFileFailed:function(l){var o=this.files.indexOf(l);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var l=this.key,o=this.type;this.loader.emit(c.FILE_COMPLETE,l,o),this.loader.emit(c.FILE_KEY_COMPLETE+o+"-"+l,l,o),this.loader.flagForRemoval(this);for(var u=0;u<this.files.length;u++)this.files[u].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=h}),84376:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3374),g=function(c,h){var l=a(h,c.xhrSettings);if(c.base64){var o=c.url.split(";base64,").pop()||c.url.split(",").pop(),u;c.xhrSettings.responseType==="arraybuffer"?u={response:Uint8Array.from(atob(o),function(p){return p.charCodeAt(0)}).buffer}:u={responseText:atob(o)},c.onBase64Load(u);return}var v=new XMLHttpRequest;if(v.open("GET",c.src,l.async,l.user,l.password),v.responseType=c.xhrSettings.responseType,v.timeout=l.timeout,l.headers)for(var f in l.headers)v.setRequestHeader(f,l.headers[f]);return l.header&&l.headerValue&&v.setRequestHeader(l.header,l.headerValue),l.requestedWith&&v.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&v.overrideMimeType(l.overrideMimeType),l.withCredentials&&(v.withCredentials=!0),v.onload=c.onLoad.bind(c,v),v.onerror=c.onError.bind(c,v),v.onprogress=c.onProgress.bind(c),v.ontimeout=c.onError.bind(c,v),v.send(),v};r.exports=g}),92638:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l){return s===void 0&&(s=""),a===void 0&&(a=!0),g===void 0&&(g=""),c===void 0&&(c=""),h===void 0&&(h=0),l===void 0&&(l=!1),{responseType:s,async:a,user:g,password:c,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};r.exports=x}),23906:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=x}),42155:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"}),38991:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),27540:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"}),87464:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"}),94486:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"}),13035:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"}),38144:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"}),97520:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"}),85595:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"}),55680:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"}),54899:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}}),14135:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(518),h=s(54899),l=new a({Extends:c,initialize:function(u,v,f,p,m){c.call(this,u,v,f,p,m),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(o,u,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,u,f,v));return this}),r.exports=l}),76272:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(518),u=s(26430),v=new a({Extends:u,initialize:function(p,m,y,S,T,b){var P,w;if(l(m)){var A=m;m=c(A,"key"),P=new h(p,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),w=new o(p,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","json"),xhrSettings:c(A,"atlasXhrSettings")})}else P=new h(p,m,y,T),w=new o(p,m,S,b);P.linkFile?u.call(this,p,"atlasjson",m,[P,w,P.linkFile]):u.call(this,p,"atlasjson",m,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,p.data,m),p.addToCache(),this.complete=!0}}});g.register("aseprite",function(f,p,m,y,S){var T;if(Array.isArray(f))for(var b=0;b<f.length;b++)T=new v(this,f[b]),this.addFile(T.files);else T=new v(this,f,p,m,y,S),this.addFile(T.files);return this}),r.exports=v}),38734:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(518),u=s(26430),v=new a({Extends:u,initialize:function(p,m,y,S,T,b){var P,w;if(l(m)){var A=m;m=c(A,"key"),P=new h(p,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),w=new o(p,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","json"),xhrSettings:c(A,"atlasXhrSettings")})}else P=new h(p,m,y,T),w=new o(p,m,S,b);P.linkFile?u.call(this,p,"atlasjson",m,[P,w,P.linkFile]):u.call(this,p,"atlasjson",m,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(f.key,f.data,p.data,m),this.complete=!0}}});g.register("atlas",function(f,p,m,y,S){var T;if(Array.isArray(f))for(var b=0;b<f.length;b++)T=new v(this,f[b]),this.addFile(T.files);else T=new v(this,f,p,m,y,S),this.addFile(T.files);return this}),r.exports=v}),74599:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(26430),u=s(57318),v=new a({Extends:o,initialize:function(p,m,y,S,T,b){var P,w;if(l(m)){var A=m;m=c(A,"key"),P=new h(p,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),w=new u(p,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","xml"),xhrSettings:c(A,"atlasXhrSettings")})}else P=new h(p,m,y,T),w=new u(p,m,S,b);P.linkFile?o.call(this,p,"atlasxml",m,[P,w,P.linkFile]):o.call(this,p,"atlasxml",m,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(f.key,f.data,p.data,m),this.complete=!0}}});g.register("atlasXML",function(f,p,m,y,S){var T;if(Array.isArray(f))for(var b=0;b<f.length;b++)T=new v(this,f[b]),this.addFile(T.files);else T=new v(this,f,p,m,y,S),this.addFile(T.files);return this}),r.exports=v}),21097:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(89749),u=s(41212),v=new a({Extends:c,initialize:function(p,m,y,S,T){if(u(m)){var b=m;m=l(b,"key"),S=l(b,"xhrSettings"),T=l(b,"context",T)}var P={type:"audio",cache:p.cacheManager.audio,extension:y.type,responseType:"arraybuffer",key:m,url:y.url,xhrSettings:S,config:{context:T}};c.call(this,p,P)},onProcess:function(){this.state=g.FILE_PROCESSING;var f=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){f.data=p,f.onProcessComplete()},function(p){console.error("Error decoding audio: "+f.key+" - ",p?p.message:null),f.onProcessError()}),this.config.context=null}});v.create=function(f,p,m,y,S){var T=f.systems.game,b=T.config.audio,P=T.device.audio;u(p)&&(m=l(p,"url",[]),y=l(p,"config",{}));var w=v.getAudioURL(T,m);return w?P.webAudio&&!b.disableWebAudio?new v(f,p,w,S,T.sound.context):new o(f,p,w,y):(console.warn('No audio URLs for "%s" can play on this device',p),null)},v.getAudioURL=function(f,p){Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var y=l(p[m],"url",p[m]);if(y.indexOf("blob:")===0||y.indexOf("data:")===0)return{url:y,type:""};var S=y.match(/\.([a-zA-Z0-9]+)($|\?)/);if(S=l(p[m],"type",S?S[1]:"").toLowerCase(),f.device.audio[S])return{url:y,type:S}}return null},h.register("audio",function(f,p,m,y){var S=this.systems.game,T=S.config.audio,b=S.device.audio;if(T.noAudio||!b.webAudio&&!b.audioData)return this;var P;if(Array.isArray(f))for(var w=0;w<f.length;w++)P=v.create(this,f[w]),P&&this.addFile(P);else P=v.create(this,f,p,m,y),P&&this.addFile(P);return this}),r.exports=v}),89524:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21097),g=s(83419),c=s(74099),h=s(95540),l=s(41212),o=s(518),u=s(26430),v=new g({Extends:u,initialize:function(p,m,y,S,T,b,P){if(l(m)){var w=m;m=h(w,"key"),y=h(w,"jsonURL"),S=h(w,"audioURL"),T=h(w,"audioConfig"),b=h(w,"audioXhrSettings"),P=h(w,"jsonXhrSettings")}var A;if(!S)A=new o(p,m,y,P),u.call(this,p,"audiosprite",m,[A]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=b;else{var R=a.create(p,m,S,T,b);R&&(A=new o(p,m,y,P),u.call(this,p,"audiosprite",m,[R,A]),this.config.resourceLoad=!1)}},onFileComplete:function(f){var p=this.files.indexOf(f);if(p!==-1&&(this.pending--,this.config.resourceLoad&&f.type==="json"&&f.data.hasOwnProperty("resources"))){var m=f.data.resources,y=h(this.config,"audioConfig"),S=h(this.config,"audioXhrSettings"),T=a.create(this.loader,f.key,m,y,S);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1];f.addToCache(),p.addToCache(),this.complete=!0}}});c.register("audioSprite",function(f,p,m,y,S,T){var b=this.systems.game,P=b.config.audio,w=b.device.audio;if(P&&P.noAudio||!w.webAudio&&!w.audioData)return this;var A;if(Array.isArray(f))for(var R=0;R<f.length;R++)A=new v(this,f[R]),A.files&&this.addFile(A.files);else A=new v(this,f,p,m,y,S,T),A.files&&this.addFile(A.files);return this})}),85722:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S){var T="bin";if(o(p)){var b=p;p=l(b,"key"),m=l(b,"url"),y=l(b,"xhrSettings"),T=l(b,"extension",T),S=l(b,"dataType",S)}var P={type:"binary",cache:f.cacheManager.binary,extension:T,responseType:"arraybuffer",key:p,url:m,xhrSettings:y,config:{dataType:S}};c.call(this,f,P)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(v,f,p,m){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new u(this,v[y]));else this.addFile(new u(this,v,f,m,p));return this}),r.exports=u}),97025:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(26430),u=s(21859),v=s(57318),f=new a({Extends:o,initialize:function(m,y,S,T,b,P){var w,A;if(l(y)){var R=y;y=c(R,"key"),w=new h(m,{key:y,url:c(R,"textureURL"),extension:c(R,"textureExtension","png"),normalMap:c(R,"normalMap"),xhrSettings:c(R,"textureXhrSettings")}),A=new v(m,{key:y,url:c(R,"fontDataURL"),extension:c(R,"fontDataExtension","xml"),xhrSettings:c(R,"fontDataXhrSettings")})}else w=new h(m,y,S,b),A=new v(m,y,T,P);w.linkFile?o.call(this,m,"bitmapfont",y,[w,A,w.linkFile]):o.call(this,m,"bitmapfont",y,[w,A])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],m=this.files[1];p.addToCache();var y=p.cache.get(p.key),S=u(m.data,p.cache.getFrame(p.key),0,0,y);this.loader.cacheManager.bitmapFont.add(p.key,{data:S,texture:p.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(p,m,y,S,T){var b;if(Array.isArray(p))for(var P=0;P<p.length;P++)b=new f(this,p[P]),this.addFile(b.files);else b=new f(this,p,m,y,S,T),this.addFile(b.files);return this}),r.exports=f}),16024:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y){var S="css";if(o(p)){var T=p;p=l(T,"key"),m=l(T,"url"),y=l(T,"xhrSettings"),S=l(T,"extension",S)}var b={type:"script",cache:!1,extension:S,responseType:"text",key:p,url:m,xhrSettings:y};c.call(this,f,b)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(v,f,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,f,p));return this}),r.exports=u}),69559:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38734),g=s(85722),c=s(83419),h=s(74099),l=s(95540),o=s(19550),u=s(41212),v=s(518),f=s(31403),p=s(46975),m=s(59327),y=s(26430),S=s(82038),T=s(55222),b=new c({Extends:y,initialize:function(w,A,R,D){if(R.multiAtlasURL){var L=new v(w,{key:A,url:R.multiAtlasURL,xhrSettings:D,config:R});y.call(this,w,"texture",A,[L])}else{var k=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=k.toLowerCase()==="ktx"?"KTX":"PVR");var B=new g(w,{key:A,url:R.textureURL,extension:k,xhrSettings:D,config:R});if(R.atlasURL){var F=new v(w,{key:A,url:R.atlasURL,xhrSettings:D,config:R});y.call(this,w,"texture",A,[B,F])}else y.call(this,w,"texture",A,[B])}this.config=R},onFileComplete:function(P){var w=this.files.indexOf(P);if(w!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(P.type==="json"&&P.data.hasOwnProperty("textures")){var A=P.data.textures,R=this.config,D=this.loader,L=D.baseURL,k=D.path,B=D.prefix,F=l(R,"multiBaseURL",this.baseURL),G=l(R,"multiPath",this.path),N=l(R,"prefix",this.prefix),W=l(R,"textureXhrSettings");F&&D.setBaseURL(F),G&&D.setPath(G),N&&D.setPrefix(N);for(var X=0;X<A.length;X++){var $=A[X].image,J="CMA"+this.multiKeyIndex+"_"+$,V=new g(D,J,$,W);if(this.addToMultiFile(V),D.addFile(V),A[X].normalMap){var Y=new g(D,J,A[X].normalMap,W);Y.type="normalMap",V.setLink(Y),this.addToMultiFile(Y),D.addFile(Y)}}D.setBaseURL(L),D.setPath(k),D.setPrefix(B)}}},addToCache:function(){function P(F){console.warn('Compressed Texture Invalid: "'+L.key+'". '+F)}if(this.isReadyToProcess()){var w=this.config;if(w.multiAtlasURL)this.addMultiToCache();else{var A=this.loader.systems.renderer,R=this.loader.textureManager,D,L=this.files[0],k=this.files[1];if(w.type==="PVR"?D=S(L.data):w.type==="KTX"&&(D=f(L.data),D||P("KTX file contains unsupported format.")),D&&!T(D)&&(P("Texture dimensions failed verification. Check the texture format specifications for "+w.format+" 0x"+D.internalFormat.toString(16)+"."),D=null),D&&!A.supportsCompressedTexture(w.format,D.internalFormat)&&(P("Texture format "+w.format+" with internal format "+D.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),D=null),D){D.format=A.getCompressedTextureName(w.format,D.internalFormat);var B=k&&k.data?k.data:null;R.addCompressedTexture(L.key,D,B)}}this.complete=!0}},addMultiToCache:function(){for(var P=this.config,w=this.files[0],A=[],R=[],D=[],L=this.loader.systems.renderer,k=this.loader.textureManager,B,F=1;F<this.files.length;F++){var G=this.files[F];if(G.type!=="normalMap")for(var N=G.key.indexOf("_"),W=G.key.substr(N+1),X=G.data,$=0;$<w.data.textures.length;$++){var J=w.data.textures[$];if(J.image===W){P.type==="PVR"?B=S(X):P.type==="KTX"&&(B=f(X)),B&&L.supportsCompressedTexture(P.format,B.internalFormat)&&(B.format=L.getCompressedTextureName(P.format,B.internalFormat),R.push(B),A.push(J),G.linkFile&&D.push(G.linkFile.data));break}}}D.length===0&&(D=void 0),k.addAtlasJSONArray(this.key,R,A,D),this.complete=!0}});h.register("texture",function(P,w,A){var R=this.systems.renderer,D=function(k,B,F,G){var N={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(u(B)){var W=B;B=l(W,"key"),F=l(W,"url"),G=l(W,"xhrSettings")}var X=!1;for(var $ in F)if(R.supportsCompressedTexture($)){var J=F[$];typeof J=="string"?N.textureURL=J:N=p(J,N),N.format=$.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",B);else if(N.format==="IMG"){var V,Y;N.multiAtlasURL?(Y=new m(k,B,N.multiAtlasURL,N.multiPath,N.multiBaseURL,G),V=Y.files):N.atlasURL?(Y=new a(k,B,N.textureURL,N.atlasURL,G),V=Y.files):V=new o(k,B,N.textureURL,G),k.addFile(V)}else{var z=new b(k,B,N,G);k.addFile(z.files)}};if(Array.isArray(P))for(var L=0;L<P.length;L++)D(this,P[L]);else D(this,P,w,A);return this}),r.exports=b}),87674:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(98356),u=s(41212),v=new a({Extends:c,initialize:function(p,m,y,S,T,b){var P="ttf";if(u(m)){var w=m;m=l(w,"key"),y=l(w,"url"),S=l(w,"format","truetype"),T=l(w,"descriptors",null),b=l(w,"xhrSettings"),P=l(w,"extension",P)}else S===void 0&&(S="truetype");var A={type:"font",cache:!1,extension:P,responseType:"text",key:m,url:y,xhrSettings:b};c.call(this,p,A),this.data={format:S,descriptors:T},this.state=g.FILE_POPULATED},onProcess:function(){this.state=g.FILE_PROCESSING,this.src=o(this,this.loader.baseURL);var f,p=this.key,m="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?f=new FontFace(p,m,this.data.descriptors):f=new FontFace(p,m);var y=this;f.load().then(function(){document.fonts.add(f),document.body.classList.add("fonts-loaded"),y.onProcessComplete()}).catch(function(){console.warn("Font failed to load",m),y.onProcessComplete()})}});h.register("font",function(f,p,m,y,S){if(Array.isArray(f))for(var T=0;T<f.length;T++)this.addFile(new v(this,f[T]));else this.addFile(new v(this,f,p,m,y,S));return this}),r.exports=v}),47931:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=s(73894),v=new a({Extends:c,initialize:function(p,m,y,S,T){var b="glsl";if(o(m)){var P=m;m=l(P,"key"),y=l(P,"url"),S=l(P,"shaderType","fragment"),T=l(P,"xhrSettings"),b=l(P,"extension",b)}else S===void 0&&(S="fragment");var w={type:"glsl",cache:p.cacheManager.shader,extension:b,responseType:"text",key:m,url:y,config:{shaderType:S},xhrSettings:T};c.call(this,p,w)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.split(`
`),p=this.extractBlock(f,0);if(p)for(;p;){var m=this.getShaderName(p.header),y=this.getShaderType(p.header),S=this.getShaderUniforms(p.header),T=p.shader;if(this.cache.has(m)){var b=this.cache.get(m);y==="fragment"?b.fragmentSrc=T:b.vertexSrc=T,b.uniforms||(b.uniforms=S)}else y==="fragment"?this.cache.add(m,new u(m,T,"",S)):this.cache.add(m,new u(m,"",T,S));p=this.extractBlock(f,p.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new u(this.key,this.data)):this.cache.add(this.key,new u(this.key,"",this.data))},getShaderName:function(f){for(var p=0;p<f.length;p++){var m=f[p].trim();if(m.substring(0,5)==="name:")return m.substring(5).trim()}return this.key},getShaderType:function(f){for(var p=0;p<f.length;p++){var m=f[p].trim();if(m.substring(0,5)==="type:")return m.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(f){for(var p={},m=0;m<f.length;m++){var y=f[m].trim();if(y.substring(0,8)==="uniform."){var S=y.indexOf(":");if(S){var T=y.substring(8,S);try{p[T]=JSON.parse(y.substring(S+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return p},extractBlock:function(f,p){for(var m=-1,y=-1,S=-1,T=!1,b=!1,P=[],w=[],A=p;A<f.length;A++){var R=f[A].trim();if(R==="---")if(m===-1)m=A,T=!0;else if(T)y=A,T=!1,b=!0;else{b=!1;break}else T?P.push(R):b&&(w.push(R),S=A)}return!T&&y!==-1?{header:P,shader:w.join(`
`),offset:S}:null}});h.register("glsl",function(f,p,m,y){if(Array.isArray(f))for(var S=0;S<f.length;S++)this.addFile(new v(this,f[S]));else this.addFile(new v(this,f,p,m,y));return this}),r.exports=v}),89749:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(54899),c=s(41299),h=s(95540),l=s(98356),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y){if(o(p)){var S=p;p=h(S,"key"),y=h(S,"config",y)}var T={type:"audio",cache:f.cacheManager.audio,extension:m.type,key:p,url:m.url,config:y};c.call(this,f,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var f=this.data[v];f.oncanplaythrough=null,f.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var f=v.target;f.oncanplaythrough=null,f.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var f=0;f<v;f++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+f).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(f=0;f<this.data.length;f++)p=this.data[f],p.src=l(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=u}),88470:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y){var S="html";if(o(p)){var T=p;p=l(T,"key"),m=l(T,"url"),y=l(T,"xhrSettings"),S=l(T,"extension",S)}var b={type:"text",cache:f.cacheManager.html,extension:S,responseType:"text",key:p,url:m,xhrSettings:y};c.call(this,f,b)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(v,f,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,f,p));return this}),r.exports=u}),14643:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S,T){y===void 0&&(y=512),S===void 0&&(S=512);var b="html";if(o(p)){var P=p;p=l(P,"key"),m=l(P,"url"),T=l(P,"xhrSettings"),b=l(P,"extension",b),y=l(P,"width",y),S=l(P,"height",S)}var w={type:"html",cache:f.textureManager,extension:b,responseType:"text",key:p,url:m,xhrSettings:T,config:{width:y,height:S}};c.call(this,f,w)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.config.width,f=this.config.height,p=[];p.push('<svg width="'+v+'px" height="'+f+'px" viewBox="0 0 '+v+" "+f+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var m=[p.join(`
`)],y=this;try{var S=new window.Blob(m,{type:"image/svg+xml;charset=utf-8"})}catch{y.state=g.FILE_ERRORED,y.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(y.data),y.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(y.data),y.onProcessError()},c.createObjectURL(this.data,S,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(v,f,p,m,y){if(Array.isArray(v))for(var S=0;S<v.length;S++)this.addFile(new u(this,v[S]));else this.addFile(new u(this,v,f,p,m,y));return this}),r.exports=u}),19550:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=s(98356),v=new a({Extends:c,initialize:function f(p,m,y,S,T){var b="png",P;if(o(m)){var w=m;m=l(w,"key"),y=l(w,"url"),P=l(w,"normalMap"),S=l(w,"xhrSettings"),b=l(w,"extension",b),T=l(w,"frameConfig")}Array.isArray(y)&&(P=y[1],y=y[0]);var A={type:"image",cache:p.textureManager,extension:b,responseType:"blob",key:m,url:y,xhrSettings:S,config:T};if(c.call(this,p,A),P){var R=new f(p,this.key,P,S,T);R.type="normalMap",this.setLink(R),p.addFile(R)}this.useImageElementLoad=p.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){c.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(f.data),f.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var f=this.state;this.state=g.FILE_PROCESSING,f===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=u(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){f.state=g.FILE_LOADED,f.loader.nextFile(f,!0)},this.data.onerror=function(){f.loader.nextFile(f,!1)},this.data.src=this.src},addToCache:function(){var f=this.linkFile;f?f.state>=g.FILE_COMPLETE&&(f.type==="spritesheet"?f.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,f.data,this.data):this.cache.addImage(this.key,this.data,f.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(f,p,m){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,m));return this}),r.exports=v}),518:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(35154),u=s(41212),v=new a({Extends:c,initialize:function(p,m,y,S,T){var b="json";if(u(m)){var P=m;m=l(P,"key"),y=l(P,"url"),S=l(P,"xhrSettings"),b=l(P,"extension",b),T=l(P,"dataKey",T)}var w={type:"json",cache:p.cacheManager.json,extension:b,responseType:"text",key:m,url:y,xhrSettings:S,config:T};c.call(this,p,w),u(y)&&(T?this.data=o(y,T):this.data=y,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var f=JSON.parse(this.xhrLoader.responseText)}catch(m){throw this.onProcessError(),m}var p=this.config;typeof p=="string"?this.data=o(f,p,f):this.data=f}this.onProcessComplete()}});h.register("json",function(f,p,m,y){if(Array.isArray(f))for(var S=0;S<f.length;S++)this.addFile(new v(this,f[S]));else this.addFile(new v(this,f,p,y,m));return this}),r.exports=v}),59327:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(518),u=s(26430),v=new a({Extends:u,initialize:function(p,m,y,S,T,b,P){if(l(m)){var w=m;m=c(w,"key"),c(w,"url",!1)?y=c(w,"url"):y=c(w,"atlasURL"),b=c(w,"xhrSettings"),S=c(w,"path"),T=c(w,"baseURL"),P=c(w,"textureXhrSettings")}var A=new o(p,m,y,b);u.call(this,p,"multiatlas",m,[A]),this.config.path=S,this.config.baseURL=T,this.config.textureXhrSettings=P},onFileComplete:function(f){var p=this.files.indexOf(f);if(p!==-1&&(this.pending--,f.type==="json"&&f.data.hasOwnProperty("textures"))){var m=f.data.textures,y=this.config,S=this.loader,T=S.baseURL,b=S.path,P=S.prefix,w=c(y,"baseURL",this.baseURL),A=c(y,"path",this.path),R=c(y,"prefix",this.prefix),D=c(y,"textureXhrSettings");S.setBaseURL(w),S.setPath(A),S.setPrefix(R);for(var L=0;L<m.length;L++){var k=m[L].image,B="MA"+this.multiKeyIndex+"_"+k,F=new h(S,B,k,D);if(this.addToMultiFile(F),S.addFile(F),m[L].normalMap){var G=new h(S,B,m[L].normalMap,D);G.type="normalMap",F.setLink(G),this.addToMultiFile(G),S.addFile(G)}}S.setBaseURL(T),S.setPath(b),S.setPrefix(P)}},addToCache:function(){if(this.isReadyToProcess()){for(var f=this.files[0],p=[],m=[],y=[],S=1;S<this.files.length;S++){var T=this.files[S];if(T.type!=="normalMap")for(var b=T.key.indexOf("_"),P=T.key.substr(b+1),w=T.data,A=0;A<f.data.textures.length;A++){var R=f.data.textures[A];if(R.image===P){m.push(w),p.push(R),T.linkFile&&y.push(T.linkFile.data);break}}}y.length===0&&(y=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,m,p,y),this.complete=!0}}});g.register("multiatlas",function(f,p,m,y,S){var T;if(Array.isArray(f))for(var b=0;b<f.length;b++)T=new v(this,f[b]),this.addFile(T.files);else T=new v(this,f,p,m,y,S),this.addFile(T.files);return this}),r.exports=v}),99297:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(41212),l=s(26430),o=s(34328),u=new a({Extends:l,initialize:function(f,p,m,y){var S="js",T=[];if(h(p)){var b=p;p=c(b,"key"),m=c(b,"url"),y=c(b,"xhrSettings"),S=c(b,"extension",S)}Array.isArray(m)||(m=[m]);for(var P=0;P<m.length;P++){var w=new o(f,{key:p+"_"+P.toString(),url:m[P],extension:S,xhrSettings:y});w.onProcess=function(){this.onProcessComplete()},T.push(w)}l.call(this,f,"scripts",p,T)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var f=this.files[v];f.data=document.createElement("script"),f.data.language="javascript",f.data.type="text/javascript",f.data.defer=!1,f.data.text=f.xhrLoader.responseText,document.head.appendChild(f.data)}this.complete=!0}}});g.register("scripts",function(v,f,p){var m;if(Array.isArray(v))for(var y=0;y<v.length;y++)m=new u(this,v[y]),this.addFile(m.files);else m=new u(this,v,f,p),this.addFile(m.files);return this}),r.exports=u}),41846:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(41212),l=s(26430),o=s(85048),u=s(61485),v=s(78776),f=new a({Extends:l,initialize:function(m,y,S,T,b,P){var w,A,R=m.cacheManager.obj;if(h(y)){var D=y;y=c(D,"key"),w=new v(m,{key:y,type:"obj",cache:R,url:c(D,"url"),extension:c(D,"extension","obj"),xhrSettings:c(D,"xhrSettings"),config:{flipUV:c(D,"flipUV",b)}}),T=c(D,"matURL"),T&&(A=new v(m,{key:y,type:"mat",cache:R,url:T,extension:c(D,"matExtension","mat"),xhrSettings:c(D,"xhrSettings")}))}else w=new v(m,{key:y,url:S,type:"obj",cache:R,extension:"obj",xhrSettings:P,config:{flipUV:b}}),T&&(A=new v(m,{key:y,url:T,type:"mat",cache:R,extension:"mat",xhrSettings:P}));l.call(this,m,"obj",y,[w,A])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],m=this.files[1],y=o(p.data,p.config.flipUV);m&&(y.materials=u(m.data)),p.cache.add(p.key,y),this.complete=!0}}});g.register("obj",function(p,m,y,S,T){var b;if(Array.isArray(p))for(var P=0;P<p.length;P++)b=new f(this,p[P]),this.addFile(b.files);else b=new f(this,p,m,y,S,T),this.addFile(b.files);return this}),r.exports=f}),58610:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(74099),h=s(518),l=new a({Extends:h,initialize:function(u,v,f,p,m){h.call(this,u,v,f,p,m),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});c.register("pack",function(o,u,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,u,f,v));return this}),r.exports=l}),48988:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S,T){var b="js";if(o(p)){var P=p;p=l(P,"key"),m=l(P,"url"),T=l(P,"xhrSettings"),b=l(P,"extension",b),y=l(P,"start"),S=l(P,"mapping")}var w={type:"plugin",cache:!1,extension:b,responseType:"text",key:p,url:m,xhrSettings:T,config:{start:y,mapping:S}};c.call(this,f,w),typeof m=="function"&&(this.data=m,this.state=g.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,f=this.config,p=l(f,"start",!1),m=l(f,"mapping",null);if(this.state===g.FILE_POPULATED)v.install(this.key,this.data,p,m);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var y=v.install(this.key,window[this.key],p,m);(p||m)&&(this.loader.systems[m]=y,this.loader.scene[m]=y)}this.onProcessComplete()}});h.register("plugin",function(v,f,p,m,y){if(Array.isArray(v))for(var S=0;S<v.length;S++)this.addFile(new u(this,v[S]));else this.addFile(new u(this,v,f,p,m,y));return this}),r.exports=u}),67397:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S){var T="svg";if(o(p)){var b=p;p=l(b,"key"),m=l(b,"url"),y=l(b,"svgConfig",{}),S=l(b,"xhrSettings"),T=l(b,"extension",T)}var P={type:"svg",cache:f.textureManager,extension:T,responseType:"text",key:p,url:m,xhrSettings:S,config:{width:l(y,"width"),height:l(y,"height"),scale:l(y,"scale")}};c.call(this,f,P)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.xhrLoader.responseText,f=[v],p=this.config.width,m=this.config.height,y=this.config.scale;t:if(p&&m||y){var S=null,T=new DOMParser;S=T.parseFromString(v,"text/xml");var b=S.getElementsByTagName("svg")[0],P=b.hasAttribute("viewBox"),w=parseFloat(b.getAttribute("width")),A=parseFloat(b.getAttribute("height"));if(!P&&w&&A)b.setAttribute("viewBox","0  0 "+w+" "+A);else if(P&&!w&&!A){var R=b.getAttribute("viewBox").split(/\s+|,/);w=R[2],A=R[3]}if(y)if(w&&A)p=w*y,m=A*y;else break t;b.setAttribute("width",p.toString()+"px"),b.setAttribute("height",m.toString()+"px"),f=[new XMLSerializer().serializeToString(b)]}try{var D=new window.Blob(f,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,k=!1;this.data.onload=function(){k||c.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){k?L.onProcessError():(k=!0,c.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(f.join("")))},c.createObjectURL(this.data,D,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(v,f,p,m){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new u(this,v[y]));else this.addFile(new u(this,v,f,p,m));return this}),r.exports=u}),88423:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y){var S="js";if(o(p)){var T=p;p=l(T,"key"),m=l(T,"url"),y=l(T,"xhrSettings"),S=l(T,"extension",S)}var b={type:"text",extension:S,responseType:"text",key:p,url:m,xhrSettings:y};c.call(this,f,b)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),f=eval;this.loader.sceneManager.add(this.key,f(v)),this.complete=!0}});h.register("sceneFile",function(v,f,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,f,p));return this}),r.exports=u}),56812:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S,T){var b="js";if(o(p)){var P=p;p=l(P,"key"),m=l(P,"url"),T=l(P,"xhrSettings"),b=l(P,"extension",b),y=l(P,"systemKey"),S=l(P,"sceneKey")}var w={type:"scenePlugin",cache:!1,extension:b,responseType:"text",key:p,url:m,xhrSettings:T,config:{systemKey:y,sceneKey:S}};c.call(this,f,w),typeof m=="function"&&(this.data=m,this.state=g.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,f=this.config,p=this.key,m=l(f,"systemKey",p),y=l(f,"sceneKey",p);this.state===g.FILE_POPULATED?v.installScenePlugin(m,this.data,y,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(m,window[this.key],y,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(v,f,p,m,y){if(Array.isArray(v))for(var S=0;S<v.length;S++)this.addFile(new u(this,v[S]));else this.addFile(new u(this,v,f,p,m,y));return this}),r.exports=u}),34328:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y,S){var T="js";if(o(p)){var b=p;p=l(b,"key"),m=l(b,"url"),y=l(b,"type","script"),S=l(b,"xhrSettings"),T=l(b,"extension",T)}else y===void 0&&(y="script");var P={type:y,cache:!1,extension:T,responseType:"text",key:p,url:m,xhrSettings:S};c.call(this,f,P)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(v,f,p,m){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new u(this,v[y]));else this.addFile(new u(this,v,f,p,m));return this}),r.exports=u}),85035:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(74099),h=s(19550),l=new a({Extends:h,initialize:function(u,v,f,p,m){h.call(this,u,v,f,m,p),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});c.register("spritesheet",function(o,u,v,f){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,u,v,f));return this}),r.exports=l}),78776:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=new a({Extends:c,initialize:function(f,p,m,y){var S="text",T="txt",b=f.cacheManager.text;if(o(p)){var P=p;p=l(P,"key"),m=l(P,"url"),y=l(P,"xhrSettings"),T=l(P,"extension",T),S=l(P,"type",S),b=l(P,"cache",b)}var w={type:S,cache:b,extension:T,responseType:"text",key:p,url:m,xhrSettings:y};c.call(this,f,w)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(v,f,p){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new u(this,v[m]));else this.addFile(new u(this,v,f,p));return this}),r.exports=u}),49477:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=s(80341),v=new a({Extends:c,initialize:function(p,m,y,S){var T="csv";if(o(m)){var b=m;m=l(b,"key"),y=l(b,"url"),S=l(b,"xhrSettings"),T=l(b,"extension",T)}var P={type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:T,responseType:"text",key:m,url:y,xhrSettings:S};c.call(this,p,P),this.tilemapFormat=u.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,f)}});h.register("tilemapCSV",function(f,p,m){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,m));return this}),r.exports=v}),40807:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(518),h=s(80341),l=new a({Extends:c,initialize:function(u,v,f,p){c.call(this,u,v,f,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var o={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});g.register("tilemapImpact",function(o,u,v){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,u,v));return this}),r.exports=l}),56775:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(518),h=s(80341),l=new a({Extends:c,initialize:function(u,v,f,p){c.call(this,u,v,f,p),this.type="tilemapJSON",this.cache=u.cacheManager.tilemap},addToCache:function(){var o={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});g.register("tilemapTiledJSON",function(o,u,v){if(Array.isArray(o))for(var f=0;f<o.length;f++)this.addFile(new l(this,o[f]));else this.addFile(new l(this,o,u,v));return this}),r.exports=l}),25771:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),c=s(95540),h=s(19550),l=s(41212),o=s(26430),u=s(78776),v=new a({Extends:o,initialize:function(p,m,y,S,T,b){var P,w;if(l(m)){var A=m;m=c(A,"key"),P=new h(p,{key:m,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),w=new u(p,{key:m,url:c(A,"atlasURL"),extension:c(A,"atlasExtension","txt"),xhrSettings:c(A,"atlasXhrSettings")})}else P=new h(p,m,y,T),w=new u(p,m,S,b);P.linkFile?o.call(this,p,"unityatlas",m,[P,w,P.linkFile]):o.call(this,p,"unityatlas",m,[P,w])},addToCache:function(){if(this.isReadyToProcess()){var f=this.files[0],p=this.files[1],m=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(f.key,f.data,p.data,m),this.complete=!0}}});g.register("unityAtlas",function(f,p,m,y,S){var T;if(Array.isArray(f))for(var b=0;b<f.length;b++)T=new v(this,f[b]),this.addFile(T.files);else T=new v(this,f,p,m,y,S),this.addFile(T.files);return this}),r.exports=v}),33720:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(98356),o=s(95540),u=s(41212),v=new a({Extends:c,initialize:function(p,m,y,S){if(S===void 0&&(S=!1),u(m)){var T=m;m=o(T,"key"),y=o(T,"url",[]),S=o(T,"noAudio",!1)}var b=p.systems.game.device.video.getVideoURL(y);b||console.warn("VideoFile: No supported format for "+m);var P={type:"video",cache:p.cacheManager.video,extension:b.type,key:m,url:b.url,config:{noAudio:S}};c.call(this,p,P)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(f,p,m){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,m));return this}),r.exports=v}),57318:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),c=s(41299),h=s(74099),l=s(95540),o=s(41212),u=s(56836),v=new a({Extends:c,initialize:function(p,m,y,S){var T="xml";if(o(m)){var b=m;m=l(b,"key"),y=l(b,"url"),S=l(b,"xhrSettings"),T=l(b,"extension",T)}var P={type:"xml",cache:p.cacheManager.xml,extension:T,responseType:"text",key:m,url:y,xhrSettings:S};c.call(this,p,P)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=u(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(f,p,m){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new v(this,f[y]));else this.addFile(new v(this,f,p,m));return this}),r.exports=v}),64589:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),FontFile:s(87674),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}}),57777:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23906),g=s(79291),c={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};c=g(!1,c,a),r.exports=c}),53307:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0,g=0;g<s.length;g++)a+=+s[g];return a/s.length};r.exports=x}),85710:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6411),g=function(c,h){return a(c)/a(h)/a(c-h)};r.exports=g}),30976:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.floor(Math.random()*(a-s+1)+s)};r.exports=x}),87842:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){var l=(c-a)*.5,o=(h-g)*.5,u=s*s,v=s*u;return(2*g-2*c+l+o)*v+(-3*g+3*c-2*l-o)*u+l*s+g};r.exports=x}),26302:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var c=Math.pow(g,-a);return Math.ceil(s*c)/c};r.exports=x}),45319:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.max(a,Math.min(g,s))};r.exports=x}),39506:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(c){return c*a.DEG_TO_RAD};r.exports=g}),61241:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.abs(s-a)};r.exports=x}),38857:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(37867),h=s(29747),l=new c,o=new g({initialize:function u(v,f,p,m){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m=u.DefaultOrder),this._x=v,this._y=f,this._z=p,this._order=m,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(u){this._x=u,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(u){this._y=u,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(u){this._z=u,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(u){this._order=u,this.onChangeCallback(this)}},set:function(u,v,f,p){return p===void 0&&(p=this._order),this._x=u,this._y=v,this._z=f,this._order=p,this.onChangeCallback(this),this},copy:function(u){return this.set(u.x,u.y,u.z,u.order)},setFromQuaternion:function(u,v,f){return v===void 0&&(v=this._order),f===void 0&&(f=!1),l.fromQuat(u),this.setFromRotationMatrix(l,v,f)},setFromRotationMatrix:function(u,v,f){v===void 0&&(v=this._order),f===void 0&&(f=!1);var p=u.val,m=p[0],y=p[4],S=p[8],T=p[1],b=p[5],P=p[9],w=p[2],A=p[6],R=p[10],D=0,L=0,k=0,B=.99999;switch(v){case"XYZ":{L=Math.asin(a(S,-1,1)),Math.abs(S)<B?(D=Math.atan2(-P,R),k=Math.atan2(-y,m)):D=Math.atan2(A,b);break}case"YXZ":{D=Math.asin(-a(P,-1,1)),Math.abs(P)<B?(L=Math.atan2(S,R),k=Math.atan2(T,b)):L=Math.atan2(-w,m);break}case"ZXY":{D=Math.asin(a(A,-1,1)),Math.abs(A)<B?(L=Math.atan2(-w,R),k=Math.atan2(-y,b)):k=Math.atan2(T,m);break}case"ZYX":{L=Math.asin(-a(w,-1,1)),Math.abs(w)<B?(D=Math.atan2(A,R),k=Math.atan2(T,m)):k=Math.atan2(-y,b);break}case"YZX":{k=Math.asin(a(T,-1,1)),Math.abs(T)<B?(D=Math.atan2(-P,b),L=Math.atan2(-w,m)):L=Math.atan2(S,R);break}case"XZY":{k=Math.asin(-a(y,-1,1)),Math.abs(y)<B?(D=Math.atan2(A,b),L=Math.atan2(S,m)):D=Math.atan2(-P,R);break}}return this._x=D,this._y=L,this._z=k,this._order=v,f&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",r.exports=o}),6411:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(s===0)return 1;for(var a=s;--s;)a*=s;return a};r.exports=x}),99472:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.random()*(a-s)+s};r.exports=x}),77623:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var c=Math.pow(g,-a);return Math.floor(s*c)/c};r.exports=x}),62945:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=function(c,h,l){return c=a(c,0,1),(l-h)*c+h};r.exports=g}),38265:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s/a/1e3};r.exports=x}),78702:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s==parseFloat(s)?!(s%2):void 0};r.exports=x}),94883:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===parseFloat(s)?!(s%2):void 0};r.exports=x}),28915:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return(a-s)*g+s};r.exports=x}),94908:(r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=0),s.clone().lerp(a,g)};r.exports=x}),94434:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new g(this)},set:function(c){return this.copy(c)},copy:function(c){var h=this.val,l=c.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],this},fromMat4:function(c){var h=c.val,l=this.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[4],l[4]=h[5],l[5]=h[6],l[6]=h[8],l[7]=h[9],l[8]=h[10],this},fromArray:function(c){var h=this.val;return h[0]=c[0],h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5],h[6]=c[6],h[7]=c[7],h[8]=c[8],this},identity:function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},transpose:function(){var c=this.val,h=c[1],l=c[2],o=c[5];return c[1]=c[3],c[2]=c[6],c[3]=h,c[5]=c[7],c[6]=l,c[7]=o,this},invert:function(){var c=this.val,h=c[0],l=c[1],o=c[2],u=c[3],v=c[4],f=c[5],p=c[6],m=c[7],y=c[8],S=y*v-f*m,T=-y*u+f*p,b=m*u-v*p,P=h*S+l*T+o*b;return P?(P=1/P,c[0]=S*P,c[1]=(-y*l+o*m)*P,c[2]=(f*l-o*v)*P,c[3]=T*P,c[4]=(y*h-o*p)*P,c[5]=(-f*h+o*u)*P,c[6]=b*P,c[7]=(-m*h+l*p)*P,c[8]=(v*h-l*u)*P,this):null},adjoint:function(){var c=this.val,h=c[0],l=c[1],o=c[2],u=c[3],v=c[4],f=c[5],p=c[6],m=c[7],y=c[8];return c[0]=v*y-f*m,c[1]=o*m-l*y,c[2]=l*f-o*v,c[3]=f*p-u*y,c[4]=h*y-o*p,c[5]=o*u-h*f,c[6]=u*m-v*p,c[7]=l*p-h*m,c[8]=h*v-l*u,this},determinant:function(){var c=this.val,h=c[0],l=c[1],o=c[2],u=c[3],v=c[4],f=c[5],p=c[6],m=c[7],y=c[8];return h*(y*v-f*m)+l*(-y*u+f*p)+o*(m*u-v*p)},multiply:function(c){var h=this.val,l=h[0],o=h[1],u=h[2],v=h[3],f=h[4],p=h[5],m=h[6],y=h[7],S=h[8],T=c.val,b=T[0],P=T[1],w=T[2],A=T[3],R=T[4],D=T[5],L=T[6],k=T[7],B=T[8];return h[0]=b*l+P*v+w*m,h[1]=b*o+P*f+w*y,h[2]=b*u+P*p+w*S,h[3]=A*l+R*v+D*m,h[4]=A*o+R*f+D*y,h[5]=A*u+R*p+D*S,h[6]=L*l+k*v+B*m,h[7]=L*o+k*f+B*y,h[8]=L*u+k*p+B*S,this},translate:function(c){var h=this.val,l=c.x,o=c.y;return h[6]=l*h[0]+o*h[3]+h[6],h[7]=l*h[1]+o*h[4]+h[7],h[8]=l*h[2]+o*h[5]+h[8],this},rotate:function(c){var h=this.val,l=h[0],o=h[1],u=h[2],v=h[3],f=h[4],p=h[5],m=Math.sin(c),y=Math.cos(c);return h[0]=y*l+m*v,h[1]=y*o+m*f,h[2]=y*u+m*p,h[3]=y*v-m*l,h[4]=y*f-m*o,h[5]=y*p-m*u,this},scale:function(c){var h=this.val,l=c.x,o=c.y;return h[0]=l*h[0],h[1]=l*h[1],h[2]=l*h[2],h[3]=o*h[3],h[4]=o*h[4],h[5]=o*h[5],this},fromQuat:function(c){var h=c.x,l=c.y,o=c.z,u=c.w,v=h+h,f=l+l,p=o+o,m=h*v,y=h*f,S=h*p,T=l*f,b=l*p,P=o*p,w=u*v,A=u*f,R=u*p,D=this.val;return D[0]=1-(T+P),D[3]=y+R,D[6]=S-A,D[1]=y-R,D[4]=1-(m+P),D[7]=b+w,D[2]=S+A,D[5]=b-w,D[8]=1-(m+T),this},normalFromMat4:function(c){var h=c.val,l=this.val,o=h[0],u=h[1],v=h[2],f=h[3],p=h[4],m=h[5],y=h[6],S=h[7],T=h[8],b=h[9],P=h[10],w=h[11],A=h[12],R=h[13],D=h[14],L=h[15],k=o*m-u*p,B=o*y-v*p,F=o*S-f*p,G=u*y-v*m,N=u*S-f*m,W=v*S-f*y,X=T*R-b*A,$=T*D-P*A,J=T*L-w*A,V=b*D-P*R,Y=b*L-w*R,z=P*L-w*D,K=k*z-B*Y+F*V+G*J-N*$+W*X;return K?(K=1/K,l[0]=(m*z-y*Y+S*V)*K,l[1]=(y*J-p*z-S*$)*K,l[2]=(p*Y-m*J+S*X)*K,l[3]=(v*Y-u*z-f*V)*K,l[4]=(o*z-v*J+f*$)*K,l[5]=(u*J-o*Y-f*X)*K,l[6]=(R*W-D*N+L*G)*K,l[7]=(D*F-A*W-L*B)*K,l[8]=(A*N-R*F+L*k)*K,this):null}});r.exports=g}),37867:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(25836),c=1e-6,h=new a({initialize:function(m){this.val=new Float32Array(16),m?this.copy(m):this.identity()},clone:function(){return new h(this)},set:function(p){return this.copy(p)},setValues:function(p,m,y,S,T,b,P,w,A,R,D,L,k,B,F,G){var N=this.val;return N[0]=p,N[1]=m,N[2]=y,N[3]=S,N[4]=T,N[5]=b,N[6]=P,N[7]=w,N[8]=A,N[9]=R,N[10]=D,N[11]=L,N[12]=k,N[13]=B,N[14]=F,N[15]=G,this},copy:function(p){var m=p.val;return this.setValues(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])},fromArray:function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(p,m,y){var S=l.fromQuat(y),T=S.val,b=m.x,P=m.y,w=m.z;return this.setValues(T[0]*b,T[1]*b,T[2]*b,0,T[4]*P,T[5]*P,T[6]*P,0,T[8]*w,T[9]*w,T[10]*w,0,p.x,p.y,p.z,1)},xyz:function(p,m,y){this.identity();var S=this.val;return S[12]=p,S[13]=m,S[14]=y,this},scaling:function(p,m,y){this.zero();var S=this.val;return S[0]=p,S[5]=m,S[10]=y,S[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var p=this.val,m=p[1],y=p[2],S=p[3],T=p[6],b=p[7],P=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=m,p[6]=p[9],p[7]=p[13],p[8]=y,p[9]=T,p[11]=p[14],p[12]=S,p[13]=b,p[14]=P,this},getInverse:function(p){return this.copy(p),this.invert()},invert:function(){var p=this.val,m=p[0],y=p[1],S=p[2],T=p[3],b=p[4],P=p[5],w=p[6],A=p[7],R=p[8],D=p[9],L=p[10],k=p[11],B=p[12],F=p[13],G=p[14],N=p[15],W=m*P-y*b,X=m*w-S*b,$=m*A-T*b,J=y*w-S*P,V=y*A-T*P,Y=S*A-T*w,z=R*F-D*B,K=R*G-L*B,H=R*N-k*B,Q=D*G-L*F,j=D*N-k*F,q=L*N-k*G,tt=W*q-X*j+$*Q+J*H-V*K+Y*z;return tt?(tt=1/tt,this.setValues((P*q-w*j+A*Q)*tt,(S*j-y*q-T*Q)*tt,(F*Y-G*V+N*J)*tt,(L*V-D*Y-k*J)*tt,(w*H-b*q-A*K)*tt,(m*q-S*H+T*K)*tt,(G*$-B*Y-N*X)*tt,(R*Y-L*$+k*X)*tt,(b*j-P*H+A*z)*tt,(y*H-m*j-T*z)*tt,(B*V-F*$+N*W)*tt,(D*$-R*V-k*W)*tt,(P*K-b*Q-w*z)*tt,(m*Q-y*K+S*z)*tt,(F*X-B*J-G*W)*tt,(R*J-D*X+L*W)*tt)):this},adjoint:function(){var p=this.val,m=p[0],y=p[1],S=p[2],T=p[3],b=p[4],P=p[5],w=p[6],A=p[7],R=p[8],D=p[9],L=p[10],k=p[11],B=p[12],F=p[13],G=p[14],N=p[15];return this.setValues(P*(L*N-k*G)-D*(w*N-A*G)+F*(w*k-A*L),-(y*(L*N-k*G)-D*(S*N-T*G)+F*(S*k-T*L)),y*(w*N-A*G)-P*(S*N-T*G)+F*(S*A-T*w),-(y*(w*k-A*L)-P*(S*k-T*L)+D*(S*A-T*w)),-(b*(L*N-k*G)-R*(w*N-A*G)+B*(w*k-A*L)),m*(L*N-k*G)-R*(S*N-T*G)+B*(S*k-T*L),-(m*(w*N-A*G)-b*(S*N-T*G)+B*(S*A-T*w)),m*(w*k-A*L)-b*(S*k-T*L)+R*(S*A-T*w),b*(D*N-k*F)-R*(P*N-A*F)+B*(P*k-A*D),-(m*(D*N-k*F)-R*(y*N-T*F)+B*(y*k-T*D)),m*(P*N-A*F)-b*(y*N-T*F)+B*(y*A-T*P),-(m*(P*k-A*D)-b*(y*k-T*D)+R*(y*A-T*P)),-(b*(D*G-L*F)-R*(P*G-w*F)+B*(P*L-w*D)),m*(D*G-L*F)-R*(y*G-S*F)+B*(y*L-S*D),-(m*(P*G-w*F)-b*(y*G-S*F)+B*(y*w-S*P)),m*(P*L-w*D)-b*(y*L-S*D)+R*(y*w-S*P))},determinant:function(){var p=this.val,m=p[0],y=p[1],S=p[2],T=p[3],b=p[4],P=p[5],w=p[6],A=p[7],R=p[8],D=p[9],L=p[10],k=p[11],B=p[12],F=p[13],G=p[14],N=p[15],W=m*P-y*b,X=m*w-S*b,$=m*A-T*b,J=y*w-S*P,V=y*A-T*P,Y=S*A-T*w,z=R*F-D*B,K=R*G-L*B,H=R*N-k*B,Q=D*G-L*F,j=D*N-k*F,q=L*N-k*G;return W*q-X*j+$*Q+J*H-V*K+Y*z},multiply:function(p){var m=this.val,y=m[0],S=m[1],T=m[2],b=m[3],P=m[4],w=m[5],A=m[6],R=m[7],D=m[8],L=m[9],k=m[10],B=m[11],F=m[12],G=m[13],N=m[14],W=m[15],X=p.val,$=X[0],J=X[1],V=X[2],Y=X[3];return m[0]=$*y+J*P+V*D+Y*F,m[1]=$*S+J*w+V*L+Y*G,m[2]=$*T+J*A+V*k+Y*N,m[3]=$*b+J*R+V*B+Y*W,$=X[4],J=X[5],V=X[6],Y=X[7],m[4]=$*y+J*P+V*D+Y*F,m[5]=$*S+J*w+V*L+Y*G,m[6]=$*T+J*A+V*k+Y*N,m[7]=$*b+J*R+V*B+Y*W,$=X[8],J=X[9],V=X[10],Y=X[11],m[8]=$*y+J*P+V*D+Y*F,m[9]=$*S+J*w+V*L+Y*G,m[10]=$*T+J*A+V*k+Y*N,m[11]=$*b+J*R+V*B+Y*W,$=X[12],J=X[13],V=X[14],Y=X[15],m[12]=$*y+J*P+V*D+Y*F,m[13]=$*S+J*w+V*L+Y*G,m[14]=$*T+J*A+V*k+Y*N,m[15]=$*b+J*R+V*B+Y*W,this},multiplyLocal:function(p){var m=this.val,y=p.val;return this.setValues(m[0]*y[0]+m[1]*y[4]+m[2]*y[8]+m[3]*y[12],m[0]*y[1]+m[1]*y[5]+m[2]*y[9]+m[3]*y[13],m[0]*y[2]+m[1]*y[6]+m[2]*y[10]+m[3]*y[14],m[0]*y[3]+m[1]*y[7]+m[2]*y[11]+m[3]*y[15],m[4]*y[0]+m[5]*y[4]+m[6]*y[8]+m[7]*y[12],m[4]*y[1]+m[5]*y[5]+m[6]*y[9]+m[7]*y[13],m[4]*y[2]+m[5]*y[6]+m[6]*y[10]+m[7]*y[14],m[4]*y[3]+m[5]*y[7]+m[6]*y[11]+m[7]*y[15],m[8]*y[0]+m[9]*y[4]+m[10]*y[8]+m[11]*y[12],m[8]*y[1]+m[9]*y[5]+m[10]*y[9]+m[11]*y[13],m[8]*y[2]+m[9]*y[6]+m[10]*y[10]+m[11]*y[14],m[8]*y[3]+m[9]*y[7]+m[10]*y[11]+m[11]*y[15],m[12]*y[0]+m[13]*y[4]+m[14]*y[8]+m[15]*y[12],m[12]*y[1]+m[13]*y[5]+m[14]*y[9]+m[15]*y[13],m[12]*y[2]+m[13]*y[6]+m[14]*y[10]+m[15]*y[14],m[12]*y[3]+m[13]*y[7]+m[14]*y[11]+m[15]*y[15])},premultiply:function(p){return this.multiplyMatrices(p,this)},multiplyMatrices:function(p,m){var y=p.val,S=m.val,T=y[0],b=y[4],P=y[8],w=y[12],A=y[1],R=y[5],D=y[9],L=y[13],k=y[2],B=y[6],F=y[10],G=y[14],N=y[3],W=y[7],X=y[11],$=y[15],J=S[0],V=S[4],Y=S[8],z=S[12],K=S[1],H=S[5],Q=S[9],j=S[13],q=S[2],tt=S[6],st=S[10],nt=S[14],at=S[3],ot=S[7],mt=S[11],St=S[15];return this.setValues(T*J+b*K+P*q+w*at,A*J+R*K+D*q+L*at,k*J+B*K+F*q+G*at,N*J+W*K+X*q+$*at,T*V+b*H+P*tt+w*ot,A*V+R*H+D*tt+L*ot,k*V+B*H+F*tt+G*ot,N*V+W*H+X*tt+$*ot,T*Y+b*Q+P*st+w*mt,A*Y+R*Q+D*st+L*mt,k*Y+B*Q+F*st+G*mt,N*Y+W*Q+X*st+$*mt,T*z+b*j+P*nt+w*St,A*z+R*j+D*nt+L*St,k*z+B*j+F*nt+G*St,N*z+W*j+X*nt+$*St)},translate:function(p){return this.translateXYZ(p.x,p.y,p.z)},translateXYZ:function(p,m,y){var S=this.val;return S[12]=S[0]*p+S[4]*m+S[8]*y+S[12],S[13]=S[1]*p+S[5]*m+S[9]*y+S[13],S[14]=S[2]*p+S[6]*m+S[10]*y+S[14],S[15]=S[3]*p+S[7]*m+S[11]*y+S[15],this},scale:function(p){return this.scaleXYZ(p.x,p.y,p.z)},scaleXYZ:function(p,m,y){var S=this.val;return S[0]=S[0]*p,S[1]=S[1]*p,S[2]=S[2]*p,S[3]=S[3]*p,S[4]=S[4]*m,S[5]=S[5]*m,S[6]=S[6]*m,S[7]=S[7]*m,S[8]=S[8]*y,S[9]=S[9]*y,S[10]=S[10]*y,S[11]=S[11]*y,this},makeRotationAxis:function(p,m){var y=Math.cos(m),S=Math.sin(m),T=1-y,b=p.x,P=p.y,w=p.z,A=T*b,R=T*P;return this.setValues(A*b+y,A*P-S*w,A*w+S*P,0,A*P+S*w,R*P+y,R*w-S*b,0,A*w-S*P,R*w+S*b,T*w*w+y,0,0,0,0,1)},rotate:function(p,m){var y=this.val,S=m.x,T=m.y,b=m.z,P=Math.sqrt(S*S+T*T+b*b);if(Math.abs(P)<c)return this;P=1/P,S*=P,T*=P,b*=P;var w=Math.sin(p),A=Math.cos(p),R=1-A,D=y[0],L=y[1],k=y[2],B=y[3],F=y[4],G=y[5],N=y[6],W=y[7],X=y[8],$=y[9],J=y[10],V=y[11],Y=y[12],z=y[13],K=y[14],H=y[15],Q=S*S*R+A,j=T*S*R+b*w,q=b*S*R-T*w,tt=S*T*R-b*w,st=T*T*R+A,nt=b*T*R+S*w,at=S*b*R+T*w,ot=T*b*R-S*w,mt=b*b*R+A;return this.setValues(D*Q+F*j+X*q,L*Q+G*j+$*q,k*Q+N*j+J*q,B*Q+W*j+V*q,D*tt+F*st+X*nt,L*tt+G*st+$*nt,k*tt+N*st+J*nt,B*tt+W*st+V*nt,D*at+F*ot+X*mt,L*at+G*ot+$*mt,k*at+N*ot+J*mt,B*at+W*ot+V*mt,Y,z,K,H)},rotateX:function(p){var m=this.val,y=Math.sin(p),S=Math.cos(p),T=m[4],b=m[5],P=m[6],w=m[7],A=m[8],R=m[9],D=m[10],L=m[11];return m[4]=T*S+A*y,m[5]=b*S+R*y,m[6]=P*S+D*y,m[7]=w*S+L*y,m[8]=A*S-T*y,m[9]=R*S-b*y,m[10]=D*S-P*y,m[11]=L*S-w*y,this},rotateY:function(p){var m=this.val,y=Math.sin(p),S=Math.cos(p),T=m[0],b=m[1],P=m[2],w=m[3],A=m[8],R=m[9],D=m[10],L=m[11];return m[0]=T*S-A*y,m[1]=b*S-R*y,m[2]=P*S-D*y,m[3]=w*S-L*y,m[8]=T*y+A*S,m[9]=b*y+R*S,m[10]=P*y+D*S,m[11]=w*y+L*S,this},rotateZ:function(p){var m=this.val,y=Math.sin(p),S=Math.cos(p),T=m[0],b=m[1],P=m[2],w=m[3],A=m[4],R=m[5],D=m[6],L=m[7];return m[0]=T*S+A*y,m[1]=b*S+R*y,m[2]=P*S+D*y,m[3]=w*S+L*y,m[4]=A*S-T*y,m[5]=R*S-b*y,m[6]=D*S-P*y,m[7]=L*S-w*y,this},fromRotationTranslation:function(p,m){var y=p.x,S=p.y,T=p.z,b=p.w,P=y+y,w=S+S,A=T+T,R=y*P,D=y*w,L=y*A,k=S*w,B=S*A,F=T*A,G=b*P,N=b*w,W=b*A;return this.setValues(1-(k+F),D+W,L-N,0,D-W,1-(R+F),B+G,0,L+N,B-G,1-(R+k),0,m.x,m.y,m.z,1)},fromQuat:function(p){var m=p.x,y=p.y,S=p.z,T=p.w,b=m+m,P=y+y,w=S+S,A=m*b,R=m*P,D=m*w,L=y*P,k=y*w,B=S*w,F=T*b,G=T*P,N=T*w;return this.setValues(1-(L+B),R+N,D-G,0,R-N,1-(A+B),k+F,0,D+G,k-F,1-(A+L),0,0,0,0,1)},frustum:function(p,m,y,S,T,b){var P=1/(m-p),w=1/(S-y),A=1/(T-b);return this.setValues(T*2*P,0,0,0,0,T*2*w,0,0,(m+p)*P,(S+y)*w,(b+T)*A,-1,0,0,b*T*2*A,0)},perspective:function(p,m,y,S){var T=1/Math.tan(p/2),b=1/(y-S);return this.setValues(T/m,0,0,0,0,T,0,0,0,0,(S+y)*b,-1,0,0,2*S*y*b,0)},perspectiveLH:function(p,m,y,S){return this.setValues(2*y/p,0,0,0,0,2*y/m,0,0,0,0,-S/(y-S),1,0,0,y*S/(y-S),0)},ortho:function(p,m,y,S,T,b){var P=p-m,w=y-S,A=T-b;return P=P===0?P:1/P,w=w===0?w:1/w,A=A===0?A:1/A,this.setValues(-2*P,0,0,0,0,-2*w,0,0,0,0,2*A,0,(p+m)*P,(S+y)*w,(b+T)*A,1)},lookAtRH:function(p,m,y){var S=this.val;return f.subVectors(p,m),f.lengthSq()===0&&(f.z=1),f.normalize(),u.crossVectors(y,f),u.lengthSq()===0&&(Math.abs(y.z)===1?f.x+=1e-4:f.z+=1e-4,f.normalize(),u.crossVectors(y,f)),u.normalize(),v.crossVectors(f,u),S[0]=u.x,S[1]=u.y,S[2]=u.z,S[4]=v.x,S[5]=v.y,S[6]=v.z,S[8]=f.x,S[9]=f.y,S[10]=f.z,this},lookAt:function(p,m,y){var S=p.x,T=p.y,b=p.z,P=y.x,w=y.y,A=y.z,R=m.x,D=m.y,L=m.z;if(Math.abs(S-R)<c&&Math.abs(T-D)<c&&Math.abs(b-L)<c)return this.identity();var k=S-R,B=T-D,F=b-L,G=1/Math.sqrt(k*k+B*B+F*F);k*=G,B*=G,F*=G;var N=w*F-A*B,W=A*k-P*F,X=P*B-w*k;G=Math.sqrt(N*N+W*W+X*X),G?(G=1/G,N*=G,W*=G,X*=G):(N=0,W=0,X=0);var $=B*X-F*W,J=F*N-k*X,V=k*W-B*N;return G=Math.sqrt($*$+J*J+V*V),G?(G=1/G,$*=G,J*=G,V*=G):($=0,J=0,V=0),this.setValues(N,$,k,0,W,J,B,0,X,V,F,0,-(N*S+W*T+X*b),-($*S+J*T+V*b),-(k*S+B*T+F*b),1)},yawPitchRoll:function(p,m,y){this.zero(),l.zero(),o.zero();var S=this.val,T=l.val,b=o.val,P=Math.sin(y),w=Math.cos(y);return S[10]=1,S[15]=1,S[0]=w,S[1]=P,S[4]=-P,S[5]=w,P=Math.sin(m),w=Math.cos(m),T[0]=1,T[15]=1,T[5]=w,T[10]=w,T[9]=-P,T[6]=P,P=Math.sin(p),w=Math.cos(p),b[5]=1,b[15]=1,b[0]=w,b[2]=-P,b[8]=P,b[10]=w,this.multiplyLocal(l),this.multiplyLocal(o),this},setWorldMatrix:function(p,m,y,S,T){return this.yawPitchRoll(p.y,p.x,p.z),l.scaling(y.x,y.y,y.z),o.xyz(m.x,m.y,m.z),this.multiplyLocal(l),this.multiplyLocal(o),S&&this.multiplyLocal(S),T&&this.multiplyLocal(T),this},multiplyToMat4:function(p,m){var y=this.val,S=p.val,T=y[0],b=y[1],P=y[2],w=y[3],A=y[4],R=y[5],D=y[6],L=y[7],k=y[8],B=y[9],F=y[10],G=y[11],N=y[12],W=y[13],X=y[14],$=y[15],J=S[0],V=S[1],Y=S[2],z=S[3],K=S[4],H=S[5],Q=S[6],j=S[7],q=S[8],tt=S[9],st=S[10],nt=S[11],at=S[12],ot=S[13],mt=S[14],St=S[15];return m.setValues(J*T+V*A+Y*k+z*N,V*b+V*R+Y*B+z*W,Y*P+V*D+Y*F+z*X,z*w+V*L+Y*G+z*$,K*T+H*A+Q*k+j*N,K*b+H*R+Q*B+j*W,K*P+H*D+Q*F+j*X,K*w+H*L+Q*G+j*$,q*T+tt*A+st*k+nt*N,q*b+tt*R+st*B+nt*W,q*P+tt*D+st*F+nt*X,q*w+tt*L+st*G+nt*$,at*T+ot*A+mt*k+St*N,at*b+ot*R+mt*B+St*W,at*P+ot*D+mt*F+St*X,at*w+ot*L+mt*G+St*$)},fromRotationXYTranslation:function(p,m,y){var S=m.x,T=m.y,b=m.z,P=Math.sin(p.x),w=Math.cos(p.x),A=Math.sin(p.y),R=Math.cos(p.y),D=S,L=T,k=b,B=-P,F=0-B*A,G=0-w*A,N=B*R,W=w*R;return y||(D=R*S+A*b,L=F*S+w*T+N*b,k=G*S+P*T+W*b),this.setValues(R,F,G,0,0,w,P,0,A,N,W,0,D,L,k,1)},getMaxScaleOnAxis:function(){var p=this.val,m=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],y=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],S=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(m,y,S))}}),l=new h,o=new h,u=new g,v=new g,f=new g;r.exports=h}),86883:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.min(s+a,g)};r.exports=x}),50040:(r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.length;if(a===0)return 0;s.sort(function(c,h){return c-h});var g=Math.floor(a/2);return a%2===0?(s[g]+s[g-1])/2:s[g]};r.exports=x}),37204:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.max(s-a,g)};r.exports=x}),65201:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){g===void 0&&(g=a+1);var h=(s-a)/(g-a);return h>1?c!==void 0?(h=(c-s)/(c-g),h<0&&(h=0)):h=1:h<0&&(h=0),h};r.exports=x}),15746:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94434),c=s(29747),h=s(25836),l=1e-6,o=new Int8Array([1,2,0]),u=new Float32Array([0,0,0]),v=new h(1,0,0),f=new h(0,1,0),p=new h,m=new g,y=new a({initialize:function(T,b,P,w){this.onChangeCallback=c,this.set(T,b,P,w)},x:{get:function(){return this._x},set:function(S){this._x=S,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(S){this._y=S,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(S){this._z=S,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(S){this._w=S,this.onChangeCallback(this)}},copy:function(S){return this.set(S)},set:function(S,T,b,P,w){return w===void 0&&(w=!0),typeof S=="object"?(this._x=S.x||0,this._y=S.y||0,this._z=S.z||0,this._w=S.w||0):(this._x=S||0,this._y=T||0,this._z=b||0,this._w=P||0),w&&this.onChangeCallback(this),this},add:function(S){return this._x+=S.x,this._y+=S.y,this._z+=S.z,this._w+=S.w,this.onChangeCallback(this),this},subtract:function(S){return this._x-=S.x,this._y-=S.y,this._z-=S.z,this._w-=S.w,this.onChangeCallback(this),this},scale:function(S){return this._x*=S,this._y*=S,this._z*=S,this._w*=S,this.onChangeCallback(this),this},length:function(){var S=this.x,T=this.y,b=this.z,P=this.w;return Math.sqrt(S*S+T*T+b*b+P*P)},lengthSq:function(){var S=this.x,T=this.y,b=this.z,P=this.w;return S*S+T*T+b*b+P*P},normalize:function(){var S=this.x,T=this.y,b=this.z,P=this.w,w=S*S+T*T+b*b+P*P;return w>0&&(w=1/Math.sqrt(w),this._x=S*w,this._y=T*w,this._z=b*w,this._w=P*w),this.onChangeCallback(this),this},dot:function(S){return this.x*S.x+this.y*S.y+this.z*S.z+this.w*S.w},lerp:function(S,T){T===void 0&&(T=0);var b=this.x,P=this.y,w=this.z,A=this.w;return this.set(b+T*(S.x-b),P+T*(S.y-P),w+T*(S.z-w),A+T*(S.w-A))},rotationTo:function(S,T){var b=S.x*T.x+S.y*T.y+S.z*T.z;return b<-.999999?(p.copy(v).cross(S).length()<l&&p.copy(f).cross(S),p.normalize(),this.setAxisAngle(p,Math.PI)):b>.999999?this.set(0,0,0,1):(p.copy(S).cross(T),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+b,this.normalize())},setAxes:function(S,T,b){var P=m.val;return P[0]=T.x,P[3]=T.y,P[6]=T.z,P[1]=b.x,P[4]=b.y,P[7]=b.z,P[2]=-S.x,P[5]=-S.y,P[8]=-S.z,this.fromMat3(m).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(S,T){T=T*.5;var b=Math.sin(T);return this.set(b*S.x,b*S.y,b*S.z,Math.cos(T))},multiply:function(S){var T=this.x,b=this.y,P=this.z,w=this.w,A=S.x,R=S.y,D=S.z,L=S.w;return this.set(T*L+w*A+b*D-P*R,b*L+w*R+P*A-T*D,P*L+w*D+T*R-b*A,w*L-T*A-b*R-P*D)},slerp:function(S,T){var b=this.x,P=this.y,w=this.z,A=this.w,R=S.x,D=S.y,L=S.z,k=S.w,B=b*R+P*D+w*L+A*k;B<0&&(B=-B,R=-R,D=-D,L=-L,k=-k);var F=1-T,G=T;if(1-B>l){var N=Math.acos(B),W=Math.sin(N);F=Math.sin((1-T)*N)/W,G=Math.sin(T*N)/W}return this.set(F*b+G*R,F*P+G*D,F*w+G*L,F*A+G*k)},invert:function(){var S=this.x,T=this.y,b=this.z,P=this.w,w=S*S+T*T+b*b+P*P,A=w?1/w:0;return this.set(-S*A,-T*A,-b*A,P*A)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(S){S*=.5;var T=this.x,b=this.y,P=this.z,w=this.w,A=Math.sin(S),R=Math.cos(S);return this.set(T*R+w*A,b*R+P*A,P*R-b*A,w*R-T*A)},rotateY:function(S){S*=.5;var T=this.x,b=this.y,P=this.z,w=this.w,A=Math.sin(S),R=Math.cos(S);return this.set(T*R-P*A,b*R+w*A,P*R+T*A,w*R-b*A)},rotateZ:function(S){S*=.5;var T=this.x,b=this.y,P=this.z,w=this.w,A=Math.sin(S),R=Math.cos(S);return this.set(T*R+b*A,b*R-T*A,P*R+w*A,w*R-P*A)},calculateW:function(){var S=this.x,T=this.y,b=this.z;return this.w=-Math.sqrt(1-S*S-T*T-b*b),this},setFromEuler:function(S,T){var b=S.x/2,P=S.y/2,w=S.z/2,A=Math.cos(b),R=Math.cos(P),D=Math.cos(w),L=Math.sin(b),k=Math.sin(P),B=Math.sin(w);switch(S.order){case"XYZ":{this.set(L*R*D+A*k*B,A*k*D-L*R*B,A*R*B+L*k*D,A*R*D-L*k*B,T);break}case"YXZ":{this.set(L*R*D+A*k*B,A*k*D-L*R*B,A*R*B-L*k*D,A*R*D+L*k*B,T);break}case"ZXY":{this.set(L*R*D-A*k*B,A*k*D+L*R*B,A*R*B+L*k*D,A*R*D-L*k*B,T);break}case"ZYX":{this.set(L*R*D-A*k*B,A*k*D+L*R*B,A*R*B-L*k*D,A*R*D+L*k*B,T);break}case"YZX":{this.set(L*R*D+A*k*B,A*k*D+L*R*B,A*R*B-L*k*D,A*R*D-L*k*B,T);break}case"XZY":{this.set(L*R*D-A*k*B,A*k*D-L*R*B,A*R*B+L*k*D,A*R*D+L*k*B,T);break}}return this},setFromRotationMatrix:function(S){var T=S.val,b=T[0],P=T[4],w=T[8],A=T[1],R=T[5],D=T[9],L=T[2],k=T[6],B=T[10],F=b+R+B,G;return F>0?(G=.5/Math.sqrt(F+1),this.set((k-D)*G,(w-L)*G,(A-P)*G,.25/G)):b>R&&b>B?(G=2*Math.sqrt(1+b-R-B),this.set(.25*G,(P+A)/G,(w+L)/G,(k-D)/G)):R>B?(G=2*Math.sqrt(1+R-b-B),this.set((P+A)/G,.25*G,(D+k)/G,(w-L)/G)):(G=2*Math.sqrt(1+B-b-R),this.set((w+L)/G,(D+k)/G,.25*G,(A-P)/G)),this},fromMat3:function(S){var T=S.val,b=T[0]+T[4]+T[8],P;if(b>0)P=Math.sqrt(b+1),this.w=.5*P,P=.5/P,this._x=(T[7]-T[5])*P,this._y=(T[2]-T[6])*P,this._z=(T[3]-T[1])*P;else{var w=0;T[4]>T[0]&&(w=1),T[8]>T[w*3+w]&&(w=2);var A=o[w],R=o[A];P=Math.sqrt(T[w*3+w]-T[A*3+A]-T[R*3+R]+1),u[w]=.5*P,P=.5/P,u[A]=(T[A*3+w]+T[w*3+A])*P,u[R]=(T[R*3+w]+T[w*3+R])*P,this._x=u[0],this._y=u[1],this._z=u[2],this._w=(T[R*3+A]-T[A*3+R])*P}return this.onChangeCallback(this),this}});r.exports=y}),43396:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(c){return c*a.RAD_TO_DEG};r.exports=g}),74362:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI;return s.x=Math.cos(g)*a,s.y=Math.sin(g)*a,s};r.exports=x}),60706:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI,c=Math.random()*2-1,h=Math.sqrt(1-c*c)*a;return s.x=Math.cos(g)*h,s.y=Math.sin(g)*h,s.z=c*a,s};r.exports=x}),67421:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1),s.x=(Math.random()*2-1)*a,s.y=(Math.random()*2-1)*a,s.z=(Math.random()*2-1)*a,s.w=(Math.random()*2-1)*a,s};r.exports=x}),36305:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x,c=s.y;return s.x=g*Math.cos(a)-c*Math.sin(a),s.y=g*Math.sin(a)+c*Math.cos(a),s};r.exports=x}),11520:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=Math.cos(c),l=Math.sin(c),o=s.x-a,u=s.y-g;return s.x=o*h-u*l+a,s.y=o*l+u*h+g,s};r.exports=x}),1163:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){var l=c+Math.atan2(s.y-g,s.x-a);return s.x=a+h*Math.cos(l),s.y=g+h*Math.sin(l),s};r.exports=x}),70336:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){return s.x=a+h*Math.cos(c),s.y=g+h*Math.sin(c),s};r.exports=x}),72678:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=s(37867),c=s(15746),h=new g,l=new c,o=new a,u=function(v,f,p){return l.setAxisAngle(f,p),h.fromRotationTranslation(l,o.set(0,0,0)),v.transformMat4(h)};r.exports=u}),2284:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>0?Math.ceil(s):Math.floor(s)};r.exports=x}),41013:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var c=Math.pow(g,-a);return Math.round(s*c)/c};r.exports=x}),16922:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a===void 0&&(a=1),g===void 0&&(g=1),c===void 0&&(c=1),c*=Math.PI/s;for(var h=[],l=[],o=0;o<s;o++)g-=a*c,a+=g*c,h[o]=g,l[o]=a;return{sin:l,cos:h,length:s}};r.exports=x}),7602:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s<=a?0:s>=g?1:(s=(s-a)/(g-a),s*s*(3-2*s))};r.exports=x}),54261:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s=Math.max(0,Math.min(1,(s-a)/(g-a))),s*s*s*(s*(s*6-15)+10)};r.exports=x}),44408:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o){o===void 0&&(o=new a);var u=0,v=0,f=h*l;return c>0&&c<=f&&(c>h-1?(v=Math.floor(c/h),u=c-v*h):u=c),o.set(u,v)};r.exports=g}),85955:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u,v,f,p){p===void 0&&(p=new a);var m=Math.sin(u),y=Math.cos(u),S=y*v,T=m*v,b=-m*f,P=y*f,w=1/(S*P+b*-T);return p.x=P*w*c+-b*w*h+(o*b-l*P)*w,p.y=S*w*h+-T*w*c+(-o*S+l*T)*w,p};r.exports=g}),26099:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(43855),c=new a({initialize:function(l,o){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(o===void 0&&(o=l),this.x=l||0,this.y=o||0)},clone:function(){return new c(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setTo:function(h,l){return this.set(h,l)},setToPolar:function(h,l){return l==null&&(l=1),this.x=Math.cos(h)*l,this.y=Math.sin(h)*l,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,l){return g(this.x,h.x,l)&&g(this.y,h.y,l)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var l=h.x-this.x,o=h.y-this.y;return Math.sqrt(l*l+o*o)},distanceSq:function(h){var l=h.x-this.x,o=h.y-this.y;return l*l+o*o},length:function(){var h=this.x,l=this.y;return Math.sqrt(h*h+l*l)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,l=this.y;return h*h+l*l},normalize:function(){var h=this.x,l=this.y,o=h*h+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=h*o,this.y=l*o),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,l){l===void 0&&(l=0);var o=this.x,u=this.y;return this.x=o+l*(h.x-o),this.y=u+l*(h.y-u),this},transformMat3:function(h){var l=this.x,o=this.y,u=h.val;return this.x=u[0]*l+u[3]*o+u[6],this.y=u[1]*l+u[4]*o+u[7],this},transformMat4:function(h){var l=this.x,o=this.y,u=h.val;return this.x=u[0]*l+u[4]*o+u[12],this.y=u[1]*l+u[5]*o+u[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var l=this.length();return l&&l>h&&this.scale(h/l),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var l=Math.cos(h),o=Math.sin(h);return this.set(l*this.x-o*this.y,o*this.x+l*this.y)},project:function(h){var l=this.dot(h)/h.dot(h);return this.copy(h).scale(l)}});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),r.exports=c}),25836:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=l||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(c,h){return this.x=c.x+h.x,this.y=c.y+h.y,this.z=c.z+h.z,this},subVectors:function(c,h){return this.x=c.x-h.x,this.y=c.y-h.y,this.z=c.z-h.z,this},crossVectors:function(c,h){var l=c.x,o=c.y,u=c.z,v=h.x,f=h.y,p=h.z;return this.x=o*p-u*f,this.y=u*v-l*p,this.z=l*f-o*v,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},set:function(c,h,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=h||0,this.z=l||0),this},setFromMatrixPosition:function(c){return this.fromArray(c.val,12)},setFromMatrixColumn:function(c,h){return this.fromArray(c.val,h*4)},fromArray:function(c,h){return h===void 0&&(h=0),this.x=c[h],this.y=c[h+1],this.z=c[h+2],this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addScale:function(c,h){return this.x+=c.x*h,this.y+=c.y*h,this.z+=c.z*h||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(c){var h=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0;return Math.sqrt(h*h+l*l+o*o)},distanceSq:function(c){var h=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0;return h*h+l*l+o*o},length:function(){var c=this.x,h=this.y,l=this.z;return Math.sqrt(c*c+h*h+l*l)},lengthSq:function(){var c=this.x,h=this.y,l=this.z;return c*c+h*h+l*l},normalize:function(){var c=this.x,h=this.y,l=this.z,o=c*c+h*h+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=c*o,this.y=h*o,this.z=l*o),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(c){var h=this.x,l=this.y,o=this.z,u=c.x,v=c.y,f=c.z;return this.x=l*f-o*v,this.y=o*u-h*f,this.z=h*v-l*u,this},lerp:function(c,h){h===void 0&&(h=0);var l=this.x,o=this.y,u=this.z;return this.x=l+h*(c.x-l),this.y=o+h*(c.y-o),this.z=u+h*(c.z-u),this},applyMatrix3:function(c){var h=this.x,l=this.y,o=this.z,u=c.val;return this.x=u[0]*h+u[3]*l+u[6]*o,this.y=u[1]*h+u[4]*l+u[7]*o,this.z=u[2]*h+u[5]*l+u[8]*o,this},applyMatrix4:function(c){var h=this.x,l=this.y,o=this.z,u=c.val,v=1/(u[3]*h+u[7]*l+u[11]*o+u[15]);return this.x=(u[0]*h+u[4]*l+u[8]*o+u[12])*v,this.y=(u[1]*h+u[5]*l+u[9]*o+u[13])*v,this.z=(u[2]*h+u[6]*l+u[10]*o+u[14])*v,this},transformMat3:function(c){var h=this.x,l=this.y,o=this.z,u=c.val;return this.x=h*u[0]+l*u[3]+o*u[6],this.y=h*u[1]+l*u[4]+o*u[7],this.z=h*u[2]+l*u[5]+o*u[8],this},transformMat4:function(c){var h=this.x,l=this.y,o=this.z,u=c.val;return this.x=u[0]*h+u[4]*l+u[8]*o+u[12],this.y=u[1]*h+u[5]*l+u[9]*o+u[13],this.z=u[2]*h+u[6]*l+u[10]*o+u[14],this},transformCoordinates:function(c){var h=this.x,l=this.y,o=this.z,u=c.val,v=h*u[0]+l*u[4]+o*u[8]+u[12],f=h*u[1]+l*u[5]+o*u[9]+u[13],p=h*u[2]+l*u[6]+o*u[10]+u[14],m=h*u[3]+l*u[7]+o*u[11]+u[15];return this.x=v/m,this.y=f/m,this.z=p/m,this},transformQuat:function(c){var h=this.x,l=this.y,o=this.z,u=c.x,v=c.y,f=c.z,p=c.w,m=p*h+v*o-f*l,y=p*l+f*h-u*o,S=p*o+u*l-v*h,T=-u*h-v*l-f*o;return this.x=m*p+T*-u+y*-f-S*-v,this.y=y*p+T*-v+S*-u-m*-f,this.z=S*p+T*-f+m*-v-y*-u,this},project:function(c){var h=this.x,l=this.y,o=this.z,u=c.val,v=u[0],f=u[1],p=u[2],m=u[3],y=u[4],S=u[5],T=u[6],b=u[7],P=u[8],w=u[9],A=u[10],R=u[11],D=u[12],L=u[13],k=u[14],B=u[15],F=1/(h*m+l*b+o*R+B);return this.x=(h*v+l*y+o*P+D)*F,this.y=(h*f+l*S+o*w+L)*F,this.z=(h*p+l*T+o*A+k)*F,this},projectViewMatrix:function(c,h){return this.applyMatrix4(c).applyMatrix4(h)},unprojectViewMatrix:function(c,h){return this.applyMatrix4(c).applyMatrix4(h)},unproject:function(c,h){var l=c.x,o=c.y,u=c.z,v=c.w,f=this.x-l,p=v-this.y-1-o,m=this.z;return this.x=2*f/u-1,this.y=2*p/v-1,this.z=2*m-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),r.exports=g}),61369:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=l||0,this.z=o||0,this.w=u||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},set:function(c,h,l,o){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=h||0,this.z=l||0,this.w=o||0),this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},scale:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},length:function(){var c=this.x,h=this.y,l=this.z,o=this.w;return Math.sqrt(c*c+h*h+l*l+o*o)},lengthSq:function(){var c=this.x,h=this.y,l=this.z,o=this.w;return c*c+h*h+l*l+o*o},normalize:function(){var c=this.x,h=this.y,l=this.z,o=this.w,u=c*c+h*h+l*l+o*o;return u>0&&(u=1/Math.sqrt(u),this.x=c*u,this.y=h*u,this.z=l*u,this.w=o*u),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,h){h===void 0&&(h=0);var l=this.x,o=this.y,u=this.z,v=this.w;return this.x=l+h*(c.x-l),this.y=o+h*(c.y-o),this.z=u+h*(c.z-u),this.w=v+h*(c.w-v),this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},distance:function(c){var h=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0,u=c.w-this.w||0;return Math.sqrt(h*h+l*l+o*o+u*u)},distanceSq:function(c){var h=c.x-this.x,l=c.y-this.y,o=c.z-this.z||0,u=c.w-this.w||0;return h*h+l*l+o*o+u*u},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(c){var h=this.x,l=this.y,o=this.z,u=this.w,v=c.val;return this.x=v[0]*h+v[4]*l+v[8]*o+v[12]*u,this.y=v[1]*h+v[5]*l+v[9]*o+v[13]*u,this.z=v[2]*h+v[6]*l+v[10]*o+v[14]*u,this.w=v[3]*h+v[7]*l+v[11]*o+v[15]*u,this},transformQuat:function(c){var h=this.x,l=this.y,o=this.z,u=c.x,v=c.y,f=c.z,p=c.w,m=p*h+v*o-f*l,y=p*l+f*h-u*o,S=p*o+u*l-v*h,T=-u*h-v*l-f*o;return this.x=m*p+T*-u+y*-f-S*-v,this.y=y*p+T*-v+S*-u-m*-f,this.z=S*p+T*-f+m*-v-y*-u,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,r.exports=g}),60417:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.abs(s-a)<=g};r.exports=x}),15994:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=g-a;return a+((s-a)%c+c)%c};r.exports=x}),31040:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return Math.atan2(c-a,g-s)};r.exports=x}),55495:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.atan2(a.y-s.y,a.x-s.x)};r.exports=x}),128:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.atan2(a.x-s.x,a.y-s.y)};r.exports=x}),41273:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return Math.atan2(g-s,c-a)};r.exports=x}),1432:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(c){return c>Math.PI&&(c-=a.PI2),Math.abs(((c+a.TAU)%a.PI2-a.PI2)%a.PI2)};r.exports=g}),49127:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(12407),g=function(c,h){return a(h-c)};r.exports=g}),52285:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(12407),g=2*Math.PI,c=function(h,l){var o=a(l-h);return o>0&&(o-=g),o};r.exports=c}),67317:((r,x,s)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(86554),g=function(c,h){return a(h-c)};r.exports=g}),12407:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};r.exports=x}),53993:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99472),g=function(){return a(-Math.PI,Math.PI)};r.exports=g}),86564:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99472),g=function(){return a(-180,180)};r.exports=g}),90154:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(12407),g=function(c){return a(c+Math.PI)};r.exports=g}),48736:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(c,h,l){return l===void 0&&(l=.05),c===h||(Math.abs(h-c)<=l||Math.abs(h-c)>=a.PI2-l?c=h:(Math.abs(h-c)>Math.PI&&(h<c?h+=a.PI2:h-=a.PI2),h>c?c+=l:h<c&&(c-=l))),c};r.exports=g}),61430:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=a-s;if(g===0)return 0;var c=Math.floor((g- -180)/360);return g-c*360};r.exports=x}),86554:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(c){return a(c,-Math.PI,Math.PI)};r.exports=g}),30954:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(c){return a(c,-180,180)};r.exports=g}),25588:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),GetClockwiseDistance:s(49127),GetCounterClockwiseDistance:s(52285),GetShortestDistance:s(67317),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}}),36383:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=x}),20339:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=s-g,l=a-c;return Math.sqrt(h*h+l*l)};r.exports=x}),52816:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x-a.x,c=s.y-a.y;return Math.sqrt(g*g+c*c)};r.exports=x}),64559:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x-a.x,c=s.y-a.y;return g*g+c*c};r.exports=x}),82340:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return Math.max(Math.abs(s-g),Math.abs(a-c))};r.exports=x}),14390:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(g-s,h)+Math.pow(c-a,h))};r.exports=x}),2243:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return Math.abs(s-g)+Math.abs(a-c)};r.exports=x}),89774:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=s-g,l=a-c;return h*h+l*l};r.exports=x}),50994:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}}),62640:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54178),g=s(41521),c=s(79980),h=s(85433),l=s(99140),o=s(48857),u=s(81596),v=s(59133),f=s(98516),p=s(35248),m=s(82500),y=s(49752);r.exports={Power0:u,Power1:v.Out,Power2:h.Out,Power3:f.Out,Power4:p.Out,Linear:u,Quad:v.Out,Cubic:h.Out,Quart:f.Out,Quint:p.Out,Sine:m.Out,Expo:o.Out,Circ:c.Out,Elastic:l.Out,Back:a.Out,Bounce:g.Out,Stepped:y,"Quad.easeIn":v.In,"Cubic.easeIn":h.In,"Quart.easeIn":f.In,"Quint.easeIn":p.In,"Sine.easeIn":m.In,"Expo.easeIn":o.In,"Circ.easeIn":c.In,"Elastic.easeIn":l.In,"Back.easeIn":a.In,"Bounce.easeIn":g.In,"Quad.easeOut":v.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":f.Out,"Quint.easeOut":p.Out,"Sine.easeOut":m.Out,"Expo.easeOut":o.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":l.Out,"Back.easeOut":a.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":f.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":m.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":g.InOut}}),1639:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1.70158),s*s*((a+1)*s-a)};r.exports=x}),50099:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1.70158);var g=a*1.525;return(s*=2)<1?.5*(s*s*((g+1)*s-g)):.5*((s-=2)*s*((g+1)*s+g)+2)};r.exports=x}),41286:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1.70158),--s*s*((a+1)*s+a)+1};r.exports=x}),54178:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(1639),Out:s(41286),InOut:s(50099)}}),59590:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};r.exports=x}),41788:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=!1;return s<.5?(s=1-s*2,a=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,a?(1-s)*.5:s*.5+.5};r.exports=x}),69905:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};r.exports=x}),41521:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(59590),Out:s(69905),InOut:s(41788)}}),91861:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1-Math.sqrt(1-s*s)};r.exports=x}),4177:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};r.exports=x}),57512:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt(1- --s*s)};r.exports=x}),79980:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(91861),Out:s(57512),InOut:s(4177)}}),51150:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s};r.exports=x}),82820:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};r.exports=x}),35033:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return--s*s*s+1};r.exports=x}),85433:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(51150),Out:s(35033),InOut:s(82820)}}),69965:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var c=g/4;return a<1?a=1:c=g*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/g))};r.exports=x}),50665:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var c=g/4;return a<1?a=1:c=g*Math.asin(1/a)/(2*Math.PI),(s*=2)<1?-.5*(a*Math.pow(2,10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/g)):a*Math.pow(2,-10*(s-=1))*Math.sin((s-c)*(2*Math.PI)/g)*.5+1};r.exports=x}),7744:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var c=g/4;return a<1?a=1:c=g*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*s)*Math.sin((s-c)*(2*Math.PI)/g)+1};r.exports=x}),99140:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(69965),Out:s(7744),InOut:s(50665)}}),24590:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.pow(2,10*(s-1))-.001};r.exports=x}),87844:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};r.exports=x}),89433:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1-Math.pow(2,-10*s)};r.exports=x}),48857:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(24590),Out:s(89433),InOut:s(87844)}}),48820:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}}),7147:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s};r.exports=x}),81596:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(7147)}),34826:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s};r.exports=x}),20544:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};r.exports=x}),92029:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*(2-s)};r.exports=x}),59133:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(34826),Out:s(92029),InOut:s(20544)}}),64413:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s*s};r.exports=x}),78137:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};r.exports=x}),45840:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1- --s*s*s*s};r.exports=x}),98516:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(64413),Out:s(45840),InOut:s(78137)}}),87745:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s*s*s};r.exports=x}),16509:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};r.exports=x}),17868:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return--s*s*s*s*s+1};r.exports=x}),35248:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(87745),Out:s(17868),InOut:s(16509)}}),80461:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};r.exports=x}),34025:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};r.exports=x}),52768:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};r.exports=x}),82500:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:s(80461),Out:s(52768),InOut:s(34025)}}),72251:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1),s<=0?0:s>=1?1:((a*s|0)+1)*(1/a)};r.exports=x}),49752:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=s(72251)}),75698:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1e-4),Math.ceil(s-a)};r.exports=x}),43855:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),Math.abs(s-a)<g};r.exports=x}),25777:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1e-4),Math.floor(s+a)};r.exports=x}),5470:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),s>a-g};r.exports=x}),94977:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),s<a+g};r.exports=x}),48379:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}}),75508:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(79291),c={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};c=g(!1,c,a),r.exports=c}),89318:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85710),g=function(c,h){for(var l=0,o=c.length-1,u=0;u<=o;u++)l+=Math.pow(1-h,o-u)*Math.pow(h,u)*c[u]*a(o,u);return l};r.exports=g}),77259:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87842),g=function(c,h){var l=c.length-1,o=l*h,u=Math.floor(o);return c[0]===c[l]?(h<0&&(u=Math.floor(o=l*(1+h))),a(o-u,c[(u-1+l)%l],c[u],c[(u+1)%l],c[(u+2)%l])):h<0?c[0]-(a(-o,c[0],c[0],c[1],c[1])-c[0]):h>1?c[l]-(a(o-l,c[l],c[l],c[l-1],c[l-1])-c[l]):a(o-u,c[u?u-1:0],c[u],c[l<u+1?l:u+1],c[l<u+2?l:u+2])};r.exports=g}),36316:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(h,l){var o=1-h;return o*o*o*l}function s(h,l){var o=1-h;return 3*o*o*h*l}function a(h,l){return 3*(1-h)*h*h*l}function g(h,l){return h*h*h*l}var c=function(h,l,o,u,v){return x(h,l)+s(h,o)+a(h,u)+g(h,v)};r.exports=c}),28392:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28915),g=function(c,h){var l=c.length-1,o=l*h,u=Math.floor(o);return h<0?a(c[0],c[1],o):h>1?a(c[l],c[l-1],l-o):a(c[u],c[u+1>l?l:u+1],o-u)};r.exports=g}),32112:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(c,h){var l=1-c;return l*l*h}function s(c,h){return 2*(1-c)*c*h}function a(c,h){return c*c*h}var g=function(c,h,l,o){return x(c,h)+s(c,l)+a(c,o)};r.exports=g}),47235:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7602),g=function(c,h,l){return h+(l-h)*a(c,0,1)};r.exports=g}),50178:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54261),g=function(c,h,l){return h+(l-h)*a(c,0,1)};r.exports=g}),38289:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}}),98439:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=Math.log(s)/.6931471805599453;return 1<<Math.ceil(a)};r.exports=x}),50030:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s>0&&(s&s-1)===0&&a>0&&(a&a-1)===0};r.exports=x}),81230:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>0&&(s&s-1)===0};r.exports=x}),49001:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}}),28453:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},hash:function(c){var h,l=this.n;c=c.toString();for(var o=0;o<c.length;o++)l+=c.charCodeAt(o),h=.02519603282416938*l,l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(c){typeof c=="string"?this.state(c):this.sow(c)},sow:function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var h=0;h<c.length&&c[h]!=null;h++){var l=c[h];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(c,h){return Math.floor(this.realInRange(0,h-c+1)+c)},between:function(c,h){return Math.floor(this.realInRange(0,h-c+1)+c)},realInRange:function(c,h){return this.frac()*(h-c)+c},normal:function(){return 1-2*this.frac()},uuid:function(){var c="",h="";for(h=c="";c++<36;h+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return h},pick:function(c){return c[this.integerInRange(0,c.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},timestamp:function(c,h){return this.realInRange(c||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(c){for(var h=c.length-1,l=h;l>0;l--){var o=Math.floor(this.frac()*(l+1)),u=c[o];c[o]=c[l],c[l]=u}return c}});r.exports=g}),63448:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.ceil(s/a),c?(g+s)/a:g+s)};r.exports=x}),56583:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.floor(s/a),c?(g+s)/a:g+s)};r.exports=x}),77720:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.round(s/a),c?(g+s)/a:g+s)};r.exports=x}),73697:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}}),85454:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var a=s(8054),g=s(79291),c={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};c.Sound=s(23717),c=g(!1,c,a),r.exports=c,s.g.Phaser=c}),71289:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92209),c=s(88571),h=new a({Extends:c,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,u,v,f,p){c.call(this,o,u,v,f,p),this.body=null}});r.exports=h}),86689:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39506),c=s(20339),h=s(89774),l=s(66022),o=s(95540),u=s(46975),v=s(72441),f=s(47956),p=s(37277),m=s(44594),y=s(26099),S=s(82248),T=new a({initialize:function(P){this.scene=P,this.systems=P.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,P.sys.events.once(m.BOOT,this.boot,this),P.sys.events.on(m.START,this.start,this)},boot:function(){this.world=new S(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(m.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new S(this.scene,this.config),this.add=new l(this.world));var b=this.systems.events;o(this.config,"customUpdate",!1)||b.on(m.UPDATE,this.world.update,this.world),b.on(m.POST_UPDATE,this.world.postUpdate,this.world),b.once(m.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(m.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(m.UPDATE,this.world.update,this.world)},getConfig:function(){var b=this.systems.game.config.physics,P=this.systems.settings.physics,w=u(o(P,"arcade",{}),o(b,"arcade",{}));return w},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(b,P,w,A,R){return w===void 0&&(w=null),A===void 0&&(A=null),R===void 0&&(R=w),this.world.collideObjects(b,P,w,A,R,!0)},collide:function(b,P,w,A,R){return w===void 0&&(w=null),A===void 0&&(A=null),R===void 0&&(R=w),this.world.collideObjects(b,P,w,A,R,!1)},collideTiles:function(b,P,w,A,R){return this.world.collideTiles(b,P,w,A,R)},overlapTiles:function(b,P,w,A,R){return this.world.overlapTiles(b,P,w,A,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(b,P,w,A,R,D){A===void 0&&(A=60);var L=Math.atan2(w-b.y,P-b.x);return b.body.acceleration.setToPolar(L,A),R!==void 0&&D!==void 0&&b.body.maxVelocity.set(R,D),L},accelerateToObject:function(b,P,w,A,R){return this.accelerateTo(b,P.x,P.y,w,A,R)},closest:function(b,P){P||(P=this.world.bodies.entries);for(var w=Number.MAX_VALUE,A=null,R=b.x,D=b.y,L=P.length,k=0;k<L;k++){var B=P[k],F=B.body||B;if(!(b===B||b===F||b===F.gameObject||b===F.center)){var G=h(R,D,F.center.x,F.center.y);G<w&&(A=B,w=G)}}return A},furthest:function(b,P){P||(P=this.world.bodies.entries);for(var w=-1,A=null,R=b.x,D=b.y,L=P.length,k=0;k<L;k++){var B=P[k],F=B.body||B;if(!(b===B||b===F||b===F.gameObject||b===F.center)){var G=h(R,D,F.center.x,F.center.y);G>w&&(A=B,w=G)}}return A},moveTo:function(b,P,w,A,R){A===void 0&&(A=60),R===void 0&&(R=0);var D=Math.atan2(w-b.y,P-b.x);return R>0&&(A=c(b.x,b.y,P,w)/(R/1e3)),b.body.velocity.setToPolar(D,A),D},moveToObject:function(b,P,w,A){return this.moveTo(b,P.x,P.y,w,A)},velocityFromAngle:function(b,P,w){return P===void 0&&(P=60),w===void 0&&(w=new y),w.setToPolar(g(b),P)},velocityFromRotation:function(b,P,w){return P===void 0&&(P=60),w===void 0&&(w=new y),w.setToPolar(b,P)},overlapRect:function(b,P,w,A,R,D){return f(this.world,b,P,w,A,R,D)},overlapCirc:function(b,P,w,A,R){return v(this.world,b,P,w,A,R)},shutdown:function(){if(this.world){var b=this.systems.events;b.off(m.UPDATE,this.world.update,this.world),b.off(m.POST_UPDATE,this.world.postUpdate,this.world),b.off(m.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(m.START,this.start,this),this.scene=null,this.systems=null}});p.register("ArcadePhysics",T,"arcadePhysics"),r.exports=T}),13759:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92209),c=s(68287),h=new a({Extends:c,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,u,v,f,p){c.call(this,o,u,v,f,p),this.body=null}});r.exports=h}),37742:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(78389),c=s(37747),h=s(63012),l=s(43396),o=s(87841),u=s(37303),v=s(95829),f=s(26099),p=new a({Mixins:[g],initialize:function(y,S){var T=64,b=64,P={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},w=S!==void 0;w&&S.displayWidth&&(T=S.displayWidth,b=S.displayHeight),w||(S=P),this.world=y,this.gameObject=w?S:void 0,this.isBody=!0,this.transform={x:S.x,y:S.y,rotation:S.angle,scaleX:S.scaleX,scaleY:S.scaleY,displayOriginX:S.displayOriginX,displayOriginY:S.displayOriginY},this.debugShowBody=y.defaults.debugShowBody,this.debugShowVelocity=y.defaults.debugShowVelocity,this.debugBodyColor=y.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(S.x-S.scaleX*S.displayOriginX,S.y-S.scaleY*S.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=S.angle,this.preRotation=S.angle,this.width=T,this.height=b,this.sourceWidth=T,this.sourceHeight=b,S.frame&&(this.sourceWidth=S.frame.realWidth,this.sourceHeight=S.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(b/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new f,this.newVelocity=new f,this.deltaMax=new f,this.acceleration=new f,this.allowDrag=!0,this.drag=new f,this.allowGravity=!0,this.gravity=new f,this.bounce=new f,this.worldBounce=null,this.customBoundsRectangle=y.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new f(1e4,1e4),this.maxSpeed=-1,this.friction=new f(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new f(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=S.scaleX,this._sy=S.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var m=this.gameObject,y=this.transform;if(m.parentContainer){var S=m.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);y.x=S.tx,y.y=S.ty,y.rotation=l(S.rotation),y.scaleX=S.scaleX,y.scaleY=S.scaleY,y.displayOriginX=m.displayOriginX,y.displayOriginY=m.displayOriginY}else y.x=m.x,y.y=m.y,y.rotation=m.angle,y.scaleX=m.scaleX,y.scaleY=m.scaleY,y.displayOriginX=m.displayOriginX,y.displayOriginY=m.displayOriginY;var T=!1;if(this.syncBounds){var b=m.getBounds(this._bounds);this.width=b.width,this.height=b.height,T=!0}else{var P=Math.abs(y.scaleX),w=Math.abs(y.scaleY);(this._sx!==P||this._sy!==w)&&(this.width=this.sourceWidth*P,this.height=this.sourceHeight*w,this._sx=P,this._sy=w,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var m=this.transform;this.position.x=m.x+m.scaleX*(this.offset.x-m.displayOriginX),this.position.y=m.y+m.scaleY*(this.offset.y-m.displayOriginY),this.updateCenter()},resetFlags:function(m){m===void 0&&(m=!1);var y=this.wasTouching,S=this.touching,T=this.blocked;m?v(!0,y):(y.none=S.none,y.up=S.up,y.down=S.down,y.left=S.left,y.right=S.right),v(!0,S),v(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(m,y){if(m&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var S=this.position;this.prev.x=S.x,this.prev.y=S.y,this.prevFrame.x=S.x,this.prevFrame.y=S.y}m&&this.update(y)},update:function(m){var y=this.prev,S=this.position,T=this.velocity;if(y.set(S.x,S.y),!this.moves){this._dx=S.x-y.x,this._dy=S.y-y.y;return}if(this.directControl){var b=this.autoFrame;T.set((S.x-b.x)/m,(S.y-b.y)/m),this.world.updateMotion(this,m),this._dx=S.x-b.x,this._dy=S.y-b.y}else this.world.updateMotion(this,m),this.newVelocity.set(T.x*m,T.y*m),S.add(this.newVelocity),this._dx=S.x-y.x,this._dy=S.y-y.y;var P=T.x,w=T.y;if(this.updateCenter(),this.angle=Math.atan2(w,P),this.speed=Math.sqrt(P*P+w*w),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var A=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,A.up,A.down,A.left,A.right)}},postUpdate:function(){var m=this.position,y=m.x-this.prevFrame.x,S=m.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var b=this.deltaMax.x,P=this.deltaMax.y;b!==0&&y!==0&&(y<0&&y<-b?y=-b:y>0&&y>b&&(y=b)),P!==0&&S!==0&&(S<0&&S<-P?S=-P:S>0&&S>P&&(S=P)),T&&(T.x+=y,T.y+=S)}y<0?this.facing=c.FACING_LEFT:y>0&&(this.facing=c.FACING_RIGHT),S<0?this.facing=c.FACING_UP:S>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=y,this._ty=S,this.autoFrame.set(m.x,m.y)},setBoundsRectangle:function(m){return this.customBoundsRectangle=m||this.world.bounds,this},checkWorldBounds:function(){var m=this.position,y=this.velocity,S=this.blocked,T=this.customBoundsRectangle,b=this.world.checkCollision,P=this.worldBounce?-this.worldBounce.x:-this.bounce.x,w=this.worldBounce?-this.worldBounce.y:-this.bounce.y,A=!1;return m.x<T.x&&b.left?(m.x=T.x,y.x*=P,S.left=!0,A=!0):this.right>T.right&&b.right&&(m.x=T.right-this.width,y.x*=P,S.right=!0,A=!0),m.y<T.y&&b.up?(m.y=T.y,y.y*=w,S.up=!0,A=!0):this.bottom>T.bottom&&b.down&&(m.y=T.bottom-this.height,y.y*=w,S.down=!0,A=!0),A&&(this.blocked.none=!1,this.updateCenter()),A},setOffset:function(m,y){return y===void 0&&(y=m),this.offset.set(m,y),this},setGameObject:function(m,y){if(y===void 0&&(y=!0),!m||!m.hasTransformComponent)return this;var S=this.world;return this.gameObject&&this.gameObject.body&&(S.disable(this.gameObject),this.gameObject.body=null),m.body&&S.disable(m),this.gameObject=m,m.body=this,this.setSize(),this.enable=y,this},setSize:function(m,y,S){S===void 0&&(S=!0);var T=this.gameObject;if(T&&(!m&&T.frame&&(m=T.frame.realWidth),!y&&T.frame&&(y=T.frame.realHeight)),this.sourceWidth=m,this.sourceHeight=y,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),S&&T&&T.getCenter){var b=(T.width-m)/2,P=(T.height-y)/2;this.offset.set(b,P)}return this.isCircle=!1,this.radius=0,this},setCircle:function(m,y,S){return y===void 0&&(y=this.offset.x),S===void 0&&(S=this.offset.y),m>0?(this.isCircle=!0,this.radius=m,this.sourceWidth=m*2,this.sourceHeight=m*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(y,S),this.updateCenter()):this.isCircle=!1,this},reset:function(m,y){this.stop();var S=this.gameObject;S&&(S.setPosition(m,y),this.rotation=S.angle,this.preRotation=S.angle);var T=this.position;S&&S.getTopLeft?S.getTopLeft(T):T.set(m,y),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),S&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(m){return m.x=this.x,m.y=this.y,m.right=this.right,m.bottom=this.bottom,m},hitTest:function(m,y){if(!this.isCircle)return u(this,m,y);if(this.radius>0&&m>=this.left&&m<=this.right&&y>=this.top&&y<=this.bottom){var S=(this.center.x-m)*(this.center.x-m),T=(this.center.y-y)*(this.center.y-y);return S+T<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(m){var y=this.position,S=y.x+this.halfWidth,T=y.y+this.halfHeight;this.debugShowBody&&(m.lineStyle(m.defaultStrokeWidth,this.debugBodyColor),this.isCircle?m.strokeCircle(S,T,this.width/2):(this.checkCollision.up&&m.lineBetween(y.x,y.y,y.x+this.width,y.y),this.checkCollision.right&&m.lineBetween(y.x+this.width,y.y,y.x+this.width,y.y+this.height),this.checkCollision.down&&m.lineBetween(y.x,y.y+this.height,y.x+this.width,y.y+this.height),this.checkCollision.left&&m.lineBetween(y.x,y.y,y.x,y.y+this.height))),this.debugShowVelocity&&(m.lineStyle(m.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),m.lineBetween(S,T,S+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(m){return m===void 0&&(m=!0),this.directControl=m,this},setCollideWorldBounds:function(m,y,S,T){m===void 0&&(m=!0),this.collideWorldBounds=m;var b=y!==void 0,P=S!==void 0;return(b||P)&&(this.worldBounce||(this.worldBounce=new f),b&&(this.worldBounce.x=y),P&&(this.worldBounce.y=S)),T!==void 0&&(this.onWorldBounds=T),this},setVelocity:function(m,y){return this.velocity.set(m,y),m=this.velocity.x,y=this.velocity.y,this.speed=Math.sqrt(m*m+y*y),this},setVelocityX:function(m){return this.setVelocity(m,this.velocity.y)},setVelocityY:function(m){return this.setVelocity(this.velocity.x,m)},setMaxVelocity:function(m,y){return this.maxVelocity.set(m,y),this},setMaxVelocityX:function(m){return this.maxVelocity.x=m,this},setMaxVelocityY:function(m){return this.maxVelocity.y=m,this},setMaxSpeed:function(m){return this.maxSpeed=m,this},setSlideFactor:function(m,y){return this.slideFactor.set(m,y),this},setBounce:function(m,y){return this.bounce.set(m,y),this},setBounceX:function(m){return this.bounce.x=m,this},setBounceY:function(m){return this.bounce.y=m,this},setAcceleration:function(m,y){return this.acceleration.set(m,y),this},setAccelerationX:function(m){return this.acceleration.x=m,this},setAccelerationY:function(m){return this.acceleration.y=m,this},setAllowDrag:function(m){return m===void 0&&(m=!0),this.allowDrag=m,this},setAllowGravity:function(m){return m===void 0&&(m=!0),this.allowGravity=m,this},setAllowRotation:function(m){return m===void 0&&(m=!0),this.allowRotation=m,this},setDrag:function(m,y){return this.drag.set(m,y),this},setDamping:function(m){return this.useDamping=m,this},setDragX:function(m){return this.drag.x=m,this},setDragY:function(m){return this.drag.y=m,this},setGravity:function(m,y){return this.gravity.set(m,y),this},setGravityX:function(m){return this.gravity.x=m,this},setGravityY:function(m){return this.gravity.y=m,this},setFriction:function(m,y){return this.friction.set(m,y),this},setFrictionX:function(m){return this.friction.x=m,this},setFrictionY:function(m){return this.friction.y=m,this},setAngularVelocity:function(m){return this.angularVelocity=m,this},setAngularAcceleration:function(m){return this.angularAcceleration=m,this},setAngularDrag:function(m){return this.angularDrag=m,this},setMass:function(m){return this.mass=m,this},setImmovable:function(m){return m===void 0&&(m=!0),this.immovable=m,this},setEnable:function(m){return m===void 0&&(m=!0),this.enable=m,this},processX:function(m,y,S,T){this.x+=m,this.updateCenter(),y!==null&&(this.velocity.x=y*this.slideFactor.x);var b=this.blocked;S&&(b.left=!0,b.none=!1),T&&(b.right=!0,b.none=!1)},processY:function(m,y,S,T){this.y+=m,this.updateCenter(),y!==null&&(this.velocity.y=y*this.slideFactor.y);var b=this.blocked;S&&(b.up=!0,b.none=!1),T&&(b.down=!0,b.none=!1)},x:{get:function(){return this.position.x},set:function(m){this.position.x=m}},y:{get:function(){return this.position.y},set:function(m){this.position.y=m}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=p}),79342:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u,v,f,p){this.world=h,this.name="",this.active=!0,this.overlapOnly=l,this.object1=o,this.object2=u,this.collideCallback=v,this.processCallback=f,this.callbackContext=p},setName:function(c){return this.name=c,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=g}),66022:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71289),g=s(13759),c=s(37742),h=s(83419),l=s(37747),o=s(60758),u=s(72624),v=s(71464),f=new h({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},collider:function(p,m,y,S,T){return this.world.addCollider(p,m,y,S,T)},overlap:function(p,m,y,S,T){return this.world.addOverlap(p,m,y,S,T)},existing:function(p,m){var y=m?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(p,y),p},staticImage:function(p,m,y,S){var T=new a(this.scene,p,m,y,S);return this.sys.displayList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},image:function(p,m,y,S){var T=new a(this.scene,p,m,y,S);return this.sys.displayList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticSprite:function(p,m,y,S){var T=new g(this.scene,p,m,y,S);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},sprite:function(p,m,y,S){var T=new g(this.scene,p,m,y,S);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticGroup:function(p,m){return this.sys.updateList.add(new v(this.world,this.world.scene,p,m))},group:function(p,m){return this.sys.updateList.add(new o(this.world,this.world.scene,p,m))},body:function(p,m,y,S){var T=new c(this.world);return T.position.set(p,m),y&&S&&T.setSize(y,S),this.world.add(T,l.DYNAMIC_BODY),T},staticBody:function(p,m,y,S){var T=new u(this.world);return T.position.set(p,m),y&&S&&T.setSize(y,S),this.world.add(T,l.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=f}),79599:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=0;if(!Array.isArray(s))a=s;else for(var g=0;g<s.length;g++)a|=s[g];return a};r.exports=x}),64897:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=function(c,h,l,o){var u=0,v=c.deltaAbsX()+h.deltaAbsX()+o;return c._dx===0&&h._dx===0?(c.embedded=!0,h.embedded=!0):c._dx>h._dx?(u=c.right-h.x,u>v&&!l||c.checkCollision.right===!1||h.checkCollision.left===!1?u=0:(c.touching.none=!1,c.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===a.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0))):c._dx<h._dx&&(u=c.x-h.width-h.x,-u>v&&!l||c.checkCollision.left===!1||h.checkCollision.right===!1?u=0:(c.touching.none=!1,c.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===a.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0))),c.overlapX=u,h.overlapX=u,u};r.exports=g}),45170:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=function(c,h,l,o){var u=0,v=c.deltaAbsY()+h.deltaAbsY()+o;return c._dy===0&&h._dy===0?(c.embedded=!0,h.embedded=!0):c._dy>h._dy?(u=c.bottom-h.y,u>v&&!l||c.checkCollision.down===!1||h.checkCollision.up===!1?u=0:(c.touching.none=!1,c.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===a.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0))):c._dy<h._dy&&(u=c.y-h.bottom,-u>v&&!l||c.checkCollision.up===!1||h.checkCollision.down===!1?u=0:(c.touching.none=!1,c.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===a.STATIC_BODY&&!l&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0))),c.overlapY=u,h.overlapY=u,u};r.exports=g}),60758:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13759),g=s(83419),c=s(78389),h=s(37747),l=s(95540),o=s(26479),u=s(41212),v=new g({Extends:o,Mixins:[c],initialize:function(p,m,y,S){if(!y&&!S)S={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(u(y))S=y,y=null,S.internalCreateCallback=this.createCallbackHandler,S.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(y)&&u(y[0])){var T=this;y.forEach(function(b){b.internalCreateCallback=T.createCallbackHandler,b.internalRemoveCallback=T.removeCallbackHandler,b.classType=l(b,"classType",a)}),S=null}else S={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,S&&(S.classType=l(S,"classType",a)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(S,"collideWorldBounds",!1),setBoundsRectangle:l(S,"customBoundsRectangle",null),setAccelerationX:l(S,"accelerationX",0),setAccelerationY:l(S,"accelerationY",0),setAllowDrag:l(S,"allowDrag",!0),setAllowGravity:l(S,"allowGravity",!0),setAllowRotation:l(S,"allowRotation",!0),setDamping:l(S,"useDamping",!1),setBounceX:l(S,"bounceX",0),setBounceY:l(S,"bounceY",0),setDragX:l(S,"dragX",0),setDragY:l(S,"dragY",0),setEnable:l(S,"enable",!0),setGravityX:l(S,"gravityX",0),setGravityY:l(S,"gravityY",0),setFrictionX:l(S,"frictionX",0),setFrictionY:l(S,"frictionY",0),setMaxSpeed:l(S,"maxSpeed",-1),setMaxVelocityX:l(S,"maxVelocityX",1e4),setMaxVelocityY:l(S,"maxVelocityY",1e4),setVelocityX:l(S,"velocityX",0),setVelocityY:l(S,"velocityY",0),setAngularVelocity:l(S,"angularVelocity",0),setAngularAcceleration:l(S,"angularAcceleration",0),setAngularDrag:l(S,"angularDrag",0),setMass:l(S,"mass",1),setImmovable:l(S,"immovable",!1)},o.call(this,m,y,S),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,h.DYNAMIC_BODY);var p=f.body;for(var m in this.defaults)p[m](this.defaults[m])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,p,m){m===void 0&&(m=0);for(var y=this.getChildren(),S=0;S<y.length;S++)y[S].body.velocity.set(f+S*m,p+S*m);return this},setVelocityX:function(f,p){p===void 0&&(p=0);for(var m=this.getChildren(),y=0;y<m.length;y++)m[y].body.velocity.x=f+y*p;return this},setVelocityY:function(f,p){p===void 0&&(p=0);for(var m=this.getChildren(),y=0;y<m.length;y++)m[y].body.velocity.y=f+y*p;return this}});r.exports=v}),3017:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,s,a,g,c,h,l,o,u,v,f,p,m,y,S,T,b,P=function(k,B,F){x=k,s=B;var G=x.velocity.x,N=s.velocity.x;return a=x.pushable,u=x._dx<0,v=x._dx>0,f=x._dx===0,S=Math.abs(x.right-s.x)<=Math.abs(s.right-x.x),l=N-G*x.bounce.x,g=s.pushable,p=s._dx<0,m=s._dx>0,y=s._dx===0,T=!S,o=G-N*s.bounce.x,b=Math.abs(F),w()},w=function(){return v&&S&&s.blocked.right?(x.processX(-b,l,!1,!0),1):u&&T&&s.blocked.left?(x.processX(b,l,!0),1):m&&T&&x.blocked.right?(s.processX(-b,o,!1,!0),2):p&&S&&x.blocked.left?(s.processX(b,o,!0),2):0},A=function(){var k=x.velocity.x,B=s.velocity.x,F=Math.sqrt(B*B*s.mass/x.mass)*(B>0?1:-1),G=Math.sqrt(k*k*x.mass/s.mass)*(k>0?1:-1),N=(F+G)*.5;return F-=N,G-=N,c=N+F*x.bounce.x,h=N+G*s.bounce.x,u&&T?R(0):p&&S?R(1):v&&S?R(2):m&&T?R(3):!1},R=function(k){if(a&&g)b*=.5,k===0||k===3?(x.processX(b,c),s.processX(-b,h)):(x.processX(-b,c),s.processX(b,h));else if(a&&!g)k===0||k===3?x.processX(b,l,!0):x.processX(-b,l,!1,!0);else if(!a&&g)k===0||k===3?s.processX(-b,o,!1,!0):s.processX(b,o,!0);else{var B=b*.5;k===0?y?(x.processX(b,0,!0),s.processX(0,null,!1,!0)):m?(x.processX(B,0,!0),s.processX(-B,0,!1,!0)):(x.processX(B,s.velocity.x,!0),s.processX(-B,null,!1,!0)):k===1?f?(x.processX(0,null,!1,!0),s.processX(b,0,!0)):v?(x.processX(-B,0,!1,!0),s.processX(B,0,!0)):(x.processX(-B,null,!1,!0),s.processX(B,x.velocity.x,!0)):k===2?y?(x.processX(-b,0,!1,!0),s.processX(0,null,!0)):p?(x.processX(-B,0,!1,!0),s.processX(B,0,!0)):(x.processX(-B,s.velocity.x,!1,!0),s.processX(B,null,!0)):k===3&&(f?(x.processX(0,null,!0),s.processX(-b,0,!1,!0)):u?(x.processX(B,0,!0),s.processX(-B,0,!1,!0)):(x.processX(B,s.velocity.y,!0),s.processX(-B,null,!1,!0)))}return!0},D=function(k){if(k===1?s.velocity.x=0:S?s.processX(b,o,!0):s.processX(-b,o,!1,!0),x.moves){var B=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;s.y+=B*x.friction.y,s._dy=s.y-s.prev.y}},L=function(k){if(k===2?x.velocity.x=0:T?x.processX(b,l,!0):x.processX(-b,l,!1,!0),s.moves){var B=s.directControl?s.y-s.autoFrame.y:s.y-s.prev.y;x.y+=B*s.friction.y,x._dy=x.y-x.prev.y}};r.exports={BlockCheck:w,Check:A,Set:P,Run:R,RunImmovableBody1:D,RunImmovableBody2:L}}),47962:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,s,a,g,c,h,l,o,u,v,f,p,m,y,S,T,b,P=function(k,B,F){x=k,s=B;var G=x.velocity.y,N=s.velocity.y;return a=x.pushable,u=x._dy<0,v=x._dy>0,f=x._dy===0,S=Math.abs(x.bottom-s.y)<=Math.abs(s.bottom-x.y),l=N-G*x.bounce.y,g=s.pushable,p=s._dy<0,m=s._dy>0,y=s._dy===0,T=!S,o=G-N*s.bounce.y,b=Math.abs(F),w()},w=function(){return v&&S&&s.blocked.down?(x.processY(-b,l,!1,!0),1):u&&T&&s.blocked.up?(x.processY(b,l,!0),1):m&&T&&x.blocked.down?(s.processY(-b,o,!1,!0),2):p&&S&&x.blocked.up?(s.processY(b,o,!0),2):0},A=function(){var k=x.velocity.y,B=s.velocity.y,F=Math.sqrt(B*B*s.mass/x.mass)*(B>0?1:-1),G=Math.sqrt(k*k*x.mass/s.mass)*(k>0?1:-1),N=(F+G)*.5;return F-=N,G-=N,c=N+F*x.bounce.y,h=N+G*s.bounce.y,u&&T?R(0):p&&S?R(1):v&&S?R(2):m&&T?R(3):!1},R=function(k){if(a&&g)b*=.5,k===0||k===3?(x.processY(b,c),s.processY(-b,h)):(x.processY(-b,c),s.processY(b,h));else if(a&&!g)k===0||k===3?x.processY(b,l,!0):x.processY(-b,l,!1,!0);else if(!a&&g)k===0||k===3?s.processY(-b,o,!1,!0):s.processY(b,o,!0);else{var B=b*.5;k===0?y?(x.processY(b,0,!0),s.processY(0,null,!1,!0)):m?(x.processY(B,0,!0),s.processY(-B,0,!1,!0)):(x.processY(B,s.velocity.y,!0),s.processY(-B,null,!1,!0)):k===1?f?(x.processY(0,null,!1,!0),s.processY(b,0,!0)):v?(x.processY(-B,0,!1,!0),s.processY(B,0,!0)):(x.processY(-B,null,!1,!0),s.processY(B,x.velocity.y,!0)):k===2?y?(x.processY(-b,0,!1,!0),s.processY(0,null,!0)):p?(x.processY(-B,0,!1,!0),s.processY(B,0,!0)):(x.processY(-B,s.velocity.y,!1,!0),s.processY(B,null,!0)):k===3&&(f?(x.processY(0,null,!0),s.processY(-b,0,!1,!0)):u?(x.processY(B,0,!0),s.processY(-B,0,!1,!0)):(x.processY(B,s.velocity.y,!0),s.processY(-B,null,!1,!0)))}return!0},D=function(k){if(k===1?s.velocity.y=0:S?s.processY(b,o,!0):s.processY(-b,o,!1,!0),x.moves){var B=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;s.x+=B*x.friction.x,s._dx=s.x-s.prev.x}},L=function(k){if(k===2?x.velocity.y=0:T?x.processY(b,l,!0):x.processY(-b,l,!1,!0),s.moves){var B=s.directControl?s.x-s.autoFrame.x:s.x-s.prev.x;x.x+=B*s.friction.x,x._dx=x.x-x.prev.x}};r.exports={BlockCheck:w,Check:A,Set:P,Run:R,RunImmovableBody1:D,RunImmovableBody2:L}}),14087:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64897),g=s(3017),c=function(h,l,o,u,v){v===void 0&&(v=a(h,l,o,u));var f=h.immovable,p=l.immovable;if(o||v===0||f&&p||h.customSeparateX||l.customSeparateX)return v!==0||h.embedded&&l.embedded;var m=g.Set(h,l,v);return!f&&!p?m>0?!0:g.Check():(f?g.RunImmovableBody1(m):p&&g.RunImmovableBody2(m),!0)};r.exports=c}),89936:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45170),g=s(47962),c=function(h,l,o,u,v){v===void 0&&(v=a(h,l,o,u));var f=h.immovable,p=l.immovable;if(o||v===0||f&&p||h.customSeparateY||l.customSeparateY)return v!==0||h.embedded&&l.embedded;var m=g.Set(h,l,v);return!f&&!p?m>0?!0:g.Check():(f?g.RunImmovableBody1(m):p&&g.RunImmovableBody2(m),!0)};r.exports=c}),95829:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a={}),a.none=s,a.up=!1,a.down=!1,a.left=!1,a.right=!1,s||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};r.exports=x}),72624:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=s(83419),c=s(78389),h=s(37747),l=s(37303),o=s(95829),u=s(26099),v=new g({Mixins:[c],initialize:function(p,m){var y=64,S=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},b=m!==void 0;b&&m.displayWidth&&(y=m.displayWidth,S=m.displayHeight),b||(m=T),this.world=p,this.gameObject=b?m:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(m.x-y*m.originX,m.y-S*m.originY),this.width=y,this.height=S,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=u.ZERO,this.allowGravity=!1,this.gravity=u.ZERO,this.bounce=u.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(f,p,m){if(p===void 0&&(p=!0),m===void 0&&(m=!0),!f||!f.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),f.body&&y.disable(f),this.gameObject=f,f.body=this,this.setSize(),p&&this.updateFromGameObject(),this.enable=m,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var f=this.gameObject;return f.getTopLeft(this.position),this.width=f.displayWidth,this.height=f.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(f,p){return p===void 0&&(p=f),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(f,p,m){m===void 0&&(m=!0);var y=this.gameObject;if(y&&y.frame&&(f||(f=y.frame.realWidth),p||(p=y.frame.realHeight)),this.world.staticTree.remove(this),this.width=f,this.height=p,this.halfWidth=Math.floor(f/2),this.halfHeight=Math.floor(p/2),m&&y&&y.getCenter){var S=y.displayWidth/2,T=y.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(S-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(f,p,m){return p===void 0&&(p=this.offset.x),m===void 0&&(m=this.offset.y),f>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=f,this.width=f*2,this.height=f*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,m),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(f,p){var m=this.gameObject;f===void 0&&(f=m.x),p===void 0&&(p=m.y),this.world.staticTree.remove(this),m.setPosition(f,p),m.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(f){return f.x=this.x,f.y=this.y,f.right=this.right,f.bottom=this.bottom,f},hitTest:function(f,p){return this.isCircle?a(this,f,p):l(this,f,p)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(f){var p=this.position,m=p.x+this.halfWidth,y=p.y+this.halfHeight;this.debugShowBody&&(f.lineStyle(f.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?f.strokeCircle(m,y,this.width/2):f.strokeRect(p.x,p.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(f){return f<=0&&(f=.1),this.mass=f,this},x:{get:function(){return this.position.x},set:function(f){this.world.staticTree.remove(this),this.position.x=f,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(f){this.world.staticTree.remove(this),this.position.y=f,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=v}),71464:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13759),g=s(83419),c=s(78389),h=s(37747),l=s(95540),o=s(26479),u=s(41212),v=new g({Extends:o,Mixins:[c],initialize:function(p,m,y,S){!y&&!S?S={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:u(y)?(S=y,y=null,S.internalCreateCallback=this.createCallbackHandler,S.internalRemoveCallback=this.removeCallbackHandler,S.createMultipleCallback=this.createMultipleCallbackHandler,S.classType=l(S,"classType",a)):Array.isArray(y)&&u(y[0])?(S=y,y=null,S.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=l(T,"classType",a)})):S={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=p,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,m,y,S),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,h.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,p=0;p<f.length;p++)f[p].body.reset();return this}});r.exports=v}),82248:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55495),g=s(37742),c=s(45319),h=s(83419),l=s(79342),o=s(37747),u=s(20339),v=s(52816),f=s(50792),p=s(63012),m=s(43855),y=s(5470),S=s(94977),T=s(64897),b=s(45170),P=s(96523),w=s(35154),A=s(36383),R=s(25774),D=s(96602),L=s(87841),k=s(59542),B=s(40012),F=s(14087),G=s(89936),N=s(35072),W=s(72624),X=s(2483),$=s(61340),J=s(26099),V=s(15994),Y=new h({Extends:f,initialize:function(K,H){f.call(this),this.scene=K,this.bodies=new N,this.staticBodies=new N,this.pendingDestroy=new N,this.colliders=new R,this.gravity=new J(w(H,"gravity.x",0),w(H,"gravity.y",0)),this.bounds=new L(w(H,"x",0),w(H,"y",0),w(H,"width",K.sys.scale.width),w(H,"height",K.sys.scale.height)),this.checkCollision={up:w(H,"checkCollision.up",!0),down:w(H,"checkCollision.down",!0),left:w(H,"checkCollision.left",!0),right:w(H,"checkCollision.right",!0)},this.fps=w(H,"fps",60),this.fixedStep=w(H,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=w(H,"timeScale",1),this.OVERLAP_BIAS=w(H,"overlapBias",4),this.TILE_BIAS=w(H,"tileBias",16),this.forceX=w(H,"forceX",!1),this.isPaused=w(H,"isPaused",!1),this._total=0,this.drawDebug=w(H,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:w(H,"debugShowBody",!0),debugShowStaticBody:w(H,"debugShowStaticBody",!0),debugShowVelocity:w(H,"debugShowVelocity",!0),bodyDebugColor:w(H,"debugBodyColor",16711935),staticBodyDebugColor:w(H,"debugStaticBodyColor",255),velocityDebugColor:w(H,"debugVelocityColor",65280)},this.maxEntries=w(H,"maxEntries",16),this.useTree=w(H,"useTree",!0),this.tree=new k(this.maxEntries),this.staticTree=new k(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new $,this._tempMatrix2=new $,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(z,K){K===void 0&&(K=o.DYNAMIC_BODY),Array.isArray(z)||(z=[z]);for(var H=0;H<z.length;H++){var Q=z[H];if(Q.isParent)for(var j=Q.getChildren(),q=0;q<j.length;q++){var tt=j[q];tt.isParent?this.enable(tt,K):this.enableBody(tt,K)}else this.enableBody(Q,K)}},enableBody:function(z,K){return K===void 0&&(K=o.DYNAMIC_BODY),z.hasTransformComponent&&(z.body||(K===o.DYNAMIC_BODY?z.body=new g(this,z):K===o.STATIC_BODY&&(z.body=new W(this,z))),this.add(z.body)),z},add:function(z){return z.physicsType===o.DYNAMIC_BODY?this.bodies.set(z):z.physicsType===o.STATIC_BODY&&(this.staticBodies.set(z),this.staticTree.insert(z)),z.enable=!0,z},disable:function(z){Array.isArray(z)||(z=[z]);for(var K=0;K<z.length;K++){var H=z[K];if(H.isParent)for(var Q=H.getChildren(),j=0;j<Q.length;j++){var q=Q[j];q.isParent?this.disable(q):this.disableBody(q.body)}else this.disableBody(H.body)}},disableBody:function(z){this.remove(z),z.enable=!1},remove:function(z){z.physicsType===o.DYNAMIC_BODY?(this.tree.remove(z),this.bodies.delete(z)):z.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(z),this.staticTree.remove(z))},createDebugGraphic:function(){var z=this.scene.sys.add.graphics({x:0,y:0});return z.setDepth(Number.MAX_VALUE),this.debugGraphic=z,this.drawDebug=!0,z},setBounds:function(z,K,H,Q,j,q,tt,st){return this.bounds.setTo(z,K,H,Q),j!==void 0&&this.setBoundsCollision(j,q,tt,st),this},setBoundsCollision:function(z,K,H,Q){return z===void 0&&(z=!0),K===void 0&&(K=!0),H===void 0&&(H=!0),Q===void 0&&(Q=!0),this.checkCollision.left=z,this.checkCollision.right=K,this.checkCollision.up=H,this.checkCollision.down=Q,this},pause:function(){return this.isPaused=!0,this.emit(p.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(p.RESUME),this},addCollider:function(z,K,H,Q,j){H===void 0&&(H=null),Q===void 0&&(Q=null),j===void 0&&(j=H);var q=new l(this,!1,z,K,H,Q,j);return this.colliders.add(q),q},addOverlap:function(z,K,H,Q,j){H===void 0&&(H=null),Q===void 0&&(Q=null),j===void 0&&(j=H);var q=new l(this,!0,z,K,H,Q,j);return this.colliders.add(q),q},removeCollider:function(z){return this.colliders.remove(z),this},setFPS:function(z){return this.fps=z,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(z,K){if(!(this.isPaused||this.bodies.size===0)){var H,Q=this._frameTime,j=this._frameTimeMS*this.timeScale;this._elapsed+=K;var q,tt=this.bodies.entries,st=this._elapsed>=j;for(this.fixedStep||(Q=K*.001,st=!0,this._elapsed=0),H=0;H<tt.length;H++)q=tt[H],q.enable&&q.preUpdate(st,Q);if(st){this._elapsed-=j,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(tt));var nt=this.colliders.update();for(H=0;H<nt.length;H++){var at=nt[H];at.active&&at.update()}this.emit(p.WORLD_STEP,Q)}for(;this._elapsed>=j;)this._elapsed-=j,this.step(Q)}},step:function(z){var K,H,Q=this.bodies.entries,j=Q.length;for(K=0;K<j;K++)H=Q[K],H.enable&&H.update(z);this.useTree&&(this.tree.clear(),this.tree.load(Q));var q=this.colliders.update();for(K=0;K<q.length;K++){var tt=q[K];tt.active&&tt.update()}this.emit(p.WORLD_STEP,z),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var z,K,H=this.bodies.entries,Q=H.length,j=this.bodies,q=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,z=0;z<Q;z++)K=H[z],K.enable&&K.postUpdate();if(this.drawDebug){var tt=this.debugGraphic;for(tt.clear(),z=0;z<Q;z++)K=H[z],K.willDrawDebug()&&K.drawDebug(tt);for(H=q.entries,Q=H.length,z=0;z<Q;z++)K=H[z],K.willDrawDebug()&&K.drawDebug(tt)}var st=this.pendingDestroy;if(st.size>0){var nt=this.tree,at=this.staticTree;for(H=st.entries,Q=H.length,z=0;z<Q;z++)K=H[z],K.physicsType===o.DYNAMIC_BODY?(nt.remove(K),j.delete(K)):K.physicsType===o.STATIC_BODY&&(at.remove(K),q.delete(K)),K.world=void 0,K.gameObject=void 0;st.clear()}},updateMotion:function(z,K){z.allowRotation&&this.computeAngularVelocity(z,K),this.computeVelocity(z,K)},computeAngularVelocity:function(z,K){var H=z.angularVelocity,Q=z.angularAcceleration,j=z.angularDrag,q=z.maxAngular;Q?H+=Q*K:z.allowDrag&&j&&(j*=K,y(H-j,0,.1)?H-=j:S(H+j,0,.1)?H+=j:H=0),H=c(H,-q,q);var tt=H-z.angularVelocity;z.angularVelocity+=tt,z.rotation+=z.angularVelocity*K},computeVelocity:function(z,K){var H=z.velocity.x,Q=z.acceleration.x,j=z.drag.x,q=z.maxVelocity.x,tt=z.velocity.y,st=z.acceleration.y,nt=z.drag.y,at=z.maxVelocity.y,ot=z.speed,mt=z.maxSpeed,St=z.allowDrag,Ct=z.useDamping;z.allowGravity&&(H+=(this.gravity.x+z.gravity.x)*K,tt+=(this.gravity.y+z.gravity.y)*K),Q?H+=Q*K:St&&j&&(Ct?(j=Math.pow(j,K),H*=j,ot=Math.sqrt(H*H+tt*tt),m(ot,0,.001)&&(H=0)):(j*=K,y(H-j,0,.01)?H-=j:S(H+j,0,.01)?H+=j:H=0)),st?tt+=st*K:St&&nt&&(Ct?(nt=Math.pow(nt,K),tt*=nt,ot=Math.sqrt(H*H+tt*tt),m(ot,0,.001)&&(tt=0)):(nt*=K,y(tt-nt,0,.01)?tt-=nt:S(tt+nt,0,.01)?tt+=nt:tt=0)),H=c(H,-q,q),tt=c(tt,-at,at),z.velocity.set(H,tt),mt>-1&&z.velocity.length()>mt&&(z.velocity.normalize().scale(mt),ot=mt),z.speed=ot},separate:function(z,K,H,Q,j){var q,tt,st=!1,nt=!0;if(!z.enable||!K.enable||z.checkCollision.none||K.checkCollision.none||!this.intersects(z,K)||(z.collisionMask&K.collisionCategory)===0||(K.collisionMask&z.collisionCategory)===0||H&&H.call(Q,z.gameObject||z,K.gameObject||K)===!1)return st;if(z.isCircle||K.isCircle){var at=this.separateCircle(z,K,j);at.result?(st=!0,nt=!1):(q=at.x,tt=at.y,nt=!0)}if(nt){var ot=!1,mt=!1,St=this.OVERLAP_BIAS;j?(ot=F(z,K,j,St,q),mt=G(z,K,j,St,tt)):this.forceX||Math.abs(this.gravity.y+z.gravity.y)<Math.abs(this.gravity.x+z.gravity.x)?(ot=F(z,K,j,St,q),this.intersects(z,K)&&(mt=G(z,K,j,St,tt))):(mt=G(z,K,j,St,tt),this.intersects(z,K)&&(ot=F(z,K,j,St,q))),st=ot||mt}return st&&(j?(z.onOverlap||K.onOverlap)&&this.emit(p.OVERLAP,z.gameObject,K.gameObject,z,K):(z.onCollide||K.onCollide)&&this.emit(p.COLLIDE,z.gameObject,K.gameObject,z,K)),st},separateCircle:function(z,K,H){T(z,K,!1,0),b(z,K,!1,0);var Q=z.isCircle,j=K.isCircle,q=z.center,tt=K.center,st=z.immovable,nt=K.immovable,at=z.velocity,ot=K.velocity,mt=0,St=!0;if(Q!==j){St=!1;var Ct=q.x,kt=q.y,Vt=z.halfWidth,It=K.position.x,yt=K.position.y,Lt=K.right,Ft=K.bottom;j&&(Ct=tt.x,kt=tt.y,Vt=K.halfWidth,It=z.position.x,yt=z.position.y,Lt=z.right,Ft=z.bottom),kt<yt?Ct<It?mt=u(Ct,kt,It,yt)-Vt:Ct>Lt&&(mt=u(Ct,kt,Lt,yt)-Vt):kt>Ft&&(Ct<It?mt=u(Ct,kt,It,Ft)-Vt:Ct>Lt&&(mt=u(Ct,kt,Lt,Ft)-Vt)),mt*=-1}else mt=z.halfWidth+K.halfWidth-v(q,tt);z.overlapR=mt,K.overlapR=mt;var $t=a(q,tt),Jt=(mt+A.EPSILON)*Math.cos($t),jt=(mt+A.EPSILON)*Math.sin($t),Zt={overlap:mt,result:!1,x:Jt,y:jt};if(H&&(!St||St&&mt!==0))return Zt.result=!0,Zt;if(!St&&mt===0||st&&nt||z.customSeparateX||K.customSeparateX)return Zt.x=void 0,Zt.y=void 0,Zt;var Yt=!z.pushable&&!K.pushable;if(St){var ke=q.x-tt.x,ze=q.y-tt.y,ce=Math.sqrt(Math.pow(ke,2)+Math.pow(ze,2)),Ae=(tt.x-q.x)/ce||0,Re=(tt.y-q.y)/ce||0,Ve=2*(at.x*Ae+at.y*Re-ot.x*Ae-ot.y*Re)/(z.mass+K.mass);(st||nt||!z.pushable||!K.pushable)&&(Ve*=2),!st&&z.pushable&&(at.x=at.x-Ve/z.mass*Ae,at.y=at.y-Ve/z.mass*Re,at.multiply(z.bounce)),!nt&&K.pushable&&(ot.x=ot.x+Ve/K.mass*Ae,ot.y=ot.y+Ve/K.mass*Re,ot.multiply(K.bounce)),!st&&!nt&&(Jt*=.5,jt*=.5),(!st||z.pushable||Yt)&&(z.x-=Jt,z.y-=jt,z.updateCenter()),(!nt||K.pushable||Yt)&&(K.x+=Jt,K.y+=jt,K.updateCenter()),Zt.result=!0}else!st&&(z.pushable||Yt)&&(z.x-=Jt,z.y-=jt,z.updateCenter()),!nt&&(K.pushable||Yt)&&(K.x+=Jt,K.y+=jt,K.updateCenter()),Zt.x=void 0,Zt.y=void 0;return Zt},intersects:function(z,K){return z===K?!1:!z.isCircle&&!K.isCircle?!(z.right<=K.left||z.bottom<=K.top||z.left>=K.right||z.top>=K.bottom):z.isCircle?K.isCircle?v(z.center,K.center)<=z.halfWidth+K.halfWidth:this.circleBodyIntersects(z,K):this.circleBodyIntersects(K,z)},circleBodyIntersects:function(z,K){var H=c(z.center.x,K.left,K.right),Q=c(z.center.y,K.top,K.bottom),j=(z.center.x-H)*(z.center.x-H),q=(z.center.y-Q)*(z.center.y-Q);return j+q<=z.halfWidth*z.halfWidth},overlap:function(z,K,H,Q,j){return H===void 0&&(H=null),Q===void 0&&(Q=null),j===void 0&&(j=H),this.collideObjects(z,K,H,Q,j,!0)},collide:function(z,K,H,Q,j){return H===void 0&&(H=null),Q===void 0&&(Q=null),j===void 0&&(j=H),this.collideObjects(z,K,H,Q,j,!1)},collideObjects:function(z,K,H,Q,j,q){var tt,st;z.isParent&&(z.physicsType===void 0||K===void 0||z===K)&&(z=z.children.entries),K&&K.isParent&&K.physicsType===void 0&&(K=K.children.entries);var nt=Array.isArray(z),at=Array.isArray(K);if(this._total=0,!nt&&!at)this.collideHandler(z,K,H,Q,j,q);else if(!nt&&at)for(tt=0;tt<K.length;tt++)this.collideHandler(z,K[tt],H,Q,j,q);else if(nt&&!at)if(K)for(tt=0;tt<z.length;tt++)this.collideHandler(z[tt],K,H,Q,j,q);else for(tt=0;tt<z.length;tt++){var ot=z[tt];for(st=tt+1;st<z.length;st++)tt!==st&&this.collideHandler(ot,z[st],H,Q,j,q)}else for(tt=0;tt<z.length;tt++)for(st=0;st<K.length;st++)this.collideHandler(z[tt],K[st],H,Q,j,q);return this._total>0},collideHandler:function(z,K,H,Q,j,q){if(K===void 0&&z.isParent)return this.collideGroupVsGroup(z,z,H,Q,j,q);if(!z||!K)return!1;if(z.body||z.isBody){if(K.body||K.isBody)return this.collideSpriteVsSprite(z,K,H,Q,j,q);if(K.isParent)return this.collideSpriteVsGroup(z,K,H,Q,j,q);if(K.isTilemap)return this.collideSpriteVsTilemapLayer(z,K,H,Q,j,q)}else if(z.isParent){if(K.body||K.isBody)return this.collideSpriteVsGroup(K,z,H,Q,j,q);if(K.isParent)return this.collideGroupVsGroup(z,K,H,Q,j,q);if(K.isTilemap)return this.collideGroupVsTilemapLayer(z,K,H,Q,j,q)}else if(z.isTilemap){if(K.body||K.isBody)return this.collideSpriteVsTilemapLayer(K,z,H,Q,j,q);if(K.isParent)return this.collideGroupVsTilemapLayer(K,z,H,Q,j,q)}},canCollide:function(z,K){return z&&K&&(z.collisionMask&K.collisionCategory)!==0&&(K.collisionMask&z.collisionCategory)!==0},collideSpriteVsSprite:function(z,K,H,Q,j,q){var tt=z.isBody?z:z.body,st=K.isBody?K:K.body;return this.canCollide(tt,st)?(this.separate(tt,st,Q,j,q)&&(H&&H.call(j,z,K),this._total++),!0):!1},collideSpriteVsGroup:function(z,K,H,Q,j,q){var tt=z.isBody?z:z.body;if(!(K.getLength()===0||!tt||!tt.enable||tt.checkCollision.none||!this.canCollide(tt,K))){var st,nt,at;if(this.useTree||K.physicsType===o.STATIC_BODY){var ot=this.treeMinMax;ot.minX=tt.left,ot.minY=tt.top,ot.maxX=tt.right,ot.maxY=tt.bottom;var mt=K.physicsType===o.DYNAMIC_BODY?this.tree.search(ot):this.staticTree.search(ot);for(nt=mt.length,st=0;st<nt;st++)at=mt[st],!(tt===at||!at.enable||at.checkCollision.none||!K.contains(at.gameObject))&&this.separate(tt,at,Q,j,q)&&(H&&H.call(j,tt.gameObject,at.gameObject),this._total++)}else{var St=K.getChildren(),Ct=K.children.entries.indexOf(z);for(nt=St.length,st=0;st<nt;st++)at=St[st].body,!(!at||st===Ct||!at.enable)&&this.separate(tt,at,Q,j,q)&&(H&&H.call(j,tt.gameObject,at.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(z,K,H,Q,j,q){if(!this.canCollide(z,K))return!1;var tt=z.getChildren();if(tt.length===0)return!1;for(var st=!1,nt=0;nt<tt.length;nt++)(tt[nt].body||tt[nt].isBody)&&this.collideSpriteVsTilemapLayer(tt[nt],K,H,Q,j,q)&&(st=!0);return st},collideTiles:function(z,K,H,Q,j){return K.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,K,H,Q,j,!1,!1)},overlapTiles:function(z,K,H,Q,j){return K.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,K,H,Q,j,!0,!1)},collideSpriteVsTilemapLayer:function(z,K,H,Q,j,q){var tt=z.isBody?z:z.body;if(!tt.enable||tt.checkCollision.none||!this.canCollide(tt,K))return!1;var st=K.layer,nt=tt.x-st.tileWidth*K.scaleX,at=tt.y-st.tileHeight*K.scaleY,ot=tt.width+st.tileWidth*K.scaleX,mt=tt.height+st.tileHeight*K.scaleY,St=q?null:this.tileFilterOptions,Ct=P(nt,at,ot,mt,St,K.scene.cameras.main,K.layer);return Ct.length===0?!1:this.collideSpriteVsTilesHandler(z,Ct,H,Q,j,q,!0)},collideSpriteVsTilesHandler:function(z,K,H,Q,j,q,tt){for(var st=z.isBody?z:z.body,nt,at={left:0,right:0,top:0,bottom:0},ot,mt=!1,St=0;St<K.length;St++){nt=K[St],ot=nt.tilemapLayer;var Ct=ot.tileToWorldXY(nt.x,nt.y);at.left=Ct.x,at.top=Ct.y,at.right=at.left+nt.width*ot.scaleX,at.bottom=at.top+nt.height*ot.scaleY,X(at,st)&&(!Q||Q.call(j,z,nt))&&D(nt,z)&&(q||B(St,st,nt,at,ot,this.TILE_BIAS,tt))&&(this._total++,mt=!0,H&&H.call(j,z,nt),q&&st.onOverlap?this.emit(p.TILE_OVERLAP,z,nt,st):st.onCollide&&this.emit(p.TILE_COLLIDE,z,nt,st))}return mt},collideGroupVsGroup:function(z,K,H,Q,j,q){if(!(z.getLength()===0||K.getLength()===0||!this.canCollide(z,K)))for(var tt=z.getChildren(),st=0;st<tt.length;st++)this.collideSpriteVsGroup(tt[st],K,H,Q,j,q)},wrap:function(z,K){z.body?this.wrapObject(z,K):z.getChildren?this.wrapArray(z.getChildren(),K):Array.isArray(z)?this.wrapArray(z,K):this.wrapObject(z,K)},wrapArray:function(z,K){for(var H=0;H<z.length;H++)this.wrapObject(z[H],K)},wrapObject:function(z,K){K===void 0&&(K=0),z.x=V(z.x,this.bounds.left-K,this.bounds.right+K),z.y=V(z.y,this.bounds.top-K,this.bounds.bottom+K)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=Y}),1093:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(s,a){return this.body.acceleration.set(s,a),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};r.exports=x}),59023:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};r.exports=x}),62069:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(s,a){return this.body.bounce.set(s,a),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,a,g,c){return this.body.setCollideWorldBounds(s,a,g,c),this}};r.exports=x}),78389:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79599),g={setCollisionCategory:function(c){var h=this.body?this.body:this;return h.collisionCategory=c,this},willCollideWith:function(c){var h=this.body?this.body:this;return(h.collisionMask&c)!==0},addCollidesWith:function(c){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|c,this},removeCollidesWith:function(c){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~c,this},setCollidesWith:function(c){var h=this.body?this.body:this;return h.collisionMask=a(c),this},resetCollisionCategory:function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this}};r.exports=g}),87118:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(s,a,g){return this.debugShowBody=s,this.debugShowVelocity=a,this.debugBodyColor=g,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};r.exports=x}),52819:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(s,a){return this.body.drag.set(s,a),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};r.exports=x}),4074:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,a,g,c,h){return s&&this.body.reset(a,g),c&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,a){return s===void 0&&(s=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=x}),40831:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(s,a){return this.body.friction.set(s,a),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};r.exports=x}),26775:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(s,a){return this.body.gravity.set(s,a),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};r.exports=x}),9437:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};r.exports=x}),30621:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(s){return this.body.mass=s,this}};r.exports=x}),72441:((r,x,s)=>{var a=s(47956),g=s(96503),c=s(2044),h=s(81491),l=function(o,u,v,f,p,m){var y=a(o,u-f,v-f,2*f,2*f,p,m);if(y.length===0)return y;for(var S=new g(u,v,f),T=new g,b=[],P=0;P<y.length;P++){var w=y[P];w.isCircle?(T.setTo(w.center.x,w.center.y,w.halfWidth),c(S,T)&&b.push(w)):h(S,w)&&b.push(w)}return b};r.exports=l}),47956:(r=>{var x=function(s,a,g,c,h,l,o){l===void 0&&(l=!0),o===void 0&&(o=!1);var u=[],v=[],f=s.treeMinMax;if(f.minX=a,f.minY=g,f.maxX=a+c,f.maxY=g+h,o&&(v=s.staticTree.search(f)),l&&s.useTree)u=s.tree.search(f);else if(l){var p=s.bodies,m={position:{x:a,y:g},left:a,top:g,right:a+c,bottom:g+h,isCircle:!1},y=s.intersects;p.iterate(function(S){y(S,m)&&u.push(S)})}return v.concat(u)};r.exports=x}),62121:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};r.exports=x}),29384:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(s,a){return this.body.setOffset(s,a),this},setSize:function(s,a,g){return this.body.setSize(s,a,g),this},setBodySize:function(s,a,g){return this.body.setSize(s,a,g),this},setCircle:function(s,a,g){return this.body.setCircle(s,a,g),this}};r.exports=x}),15098:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(s,a){return this.body.setVelocity(s,a),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,a){return this.body.maxVelocity.set(s,a),this}};r.exports=x}),92209:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}}),37747:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=x}),20009:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"}),36768:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"}),60473:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),89954:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),61804:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"}),7161:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"}),34689:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"}),16006:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"}),63012:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}}),27064:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=s(79291),c={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};c=g(!1,c,a),r.exports=c}),96602:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,a,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,a,s):!0};r.exports=x}),36294:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a<0?(s.blocked.none=!1,s.blocked.left=!0):a>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=a,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};r.exports=x}),67013:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a<0?(s.blocked.none=!1,s.blocked.up=!0):a>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=a,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};r.exports=x}),40012:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21329),g=s(53442),c=s(2483),h=function(l,o,u,v,f,p,m){var y=v.left,S=v.top,T=v.right,b=v.bottom,P=u.faceLeft||u.faceRight,w=u.faceTop||u.faceBottom;if(m||(P=!0,w=!0),!P&&!w)return!1;var A=0,R=0,D=0,L=1;if(o.deltaAbsX()>o.deltaAbsY()?D=-1:o.deltaAbsX()<o.deltaAbsY()&&(L=-1),o.deltaX()!==0&&o.deltaY()!==0&&P&&w&&(D=Math.min(Math.abs(o.position.x-T),Math.abs(o.right-y)),L=Math.min(Math.abs(o.position.y-b),Math.abs(o.bottom-S))),D<L){if(P&&(A=a(o,u,y,T,p,m),A!==0&&!c(v,o)))return!0;w&&(R=g(o,u,S,b,p,m))}else{if(w&&(R=g(o,u,S,b,p,m),R!==0&&!c(v,o)))return!0;P&&(A=a(o,u,y,T,p,m))}return A!==0||R!==0};r.exports=h}),21329:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36294),g=function(c,h,l,o,u,v){var f=0,p=h.faceLeft,m=h.faceRight,y=h.collideLeft,S=h.collideRight;return v||(p=!0,m=!0,y=!0,S=!0),c.deltaX()<0&&S&&c.checkCollision.left?m&&c.x<o&&(f=c.x-o,f<-u&&(f=0)):c.deltaX()>0&&y&&c.checkCollision.right&&p&&c.right>l&&(f=c.right-l,f>u&&(f=0)),f!==0&&(c.customSeparateX?c.overlapX=f:a(c,f)),f};r.exports=g}),53442:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(67013),g=function(c,h,l,o,u,v){var f=0,p=h.faceTop,m=h.faceBottom,y=h.collideUp,S=h.collideDown;return v||(p=!0,m=!0,y=!0,S=!0),c.deltaY()<0&&S&&c.checkCollision.up?m&&c.y<o&&(f=c.y-o,f<-u&&(f=0)):c.deltaY()>0&&y&&c.checkCollision.down&&p&&c.bottom>l&&(f=c.bottom-l,f>u&&(f=0)),f!==0&&(c.customSeparateY?c.overlapY=f:a(c,f)),f};r.exports=g}),2483:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return!(a.right<=s.left||a.bottom<=s.top||a.position.x>=s.right||a.position.y>=s.bottom)};r.exports=x}),55173:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};r.exports=a}),44563:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:s(27064),Matter:s(3875)}}),68174:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),c=new a({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,o=this.centerDiff,u=h.bounds.max.x-h.bounds.min.x,v=h.bounds.max.y-h.bounds.min.y,f=u*h.centerOfMass.x,p=v*h.centerOfMass.y;return l.set(u/2,v/2),o.set(f-l.x,p-l.y),!0},getTopLeft:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l+u.x+v.x,o+u.y+v.y)}return!1},getTopCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l+v.x,o+u.y+v.y)}return!1},getTopRight:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l-(u.x-v.x),o+u.y+v.y)}return!1},getLeftCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l+u.x+v.x,o+v.y)}return!1},getCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.centerDiff;return new g(l+u.x,o+u.y)}return!1},getRightCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l-(u.x-v.x),o+v.y)}return!1},getBottomLeft:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l+u.x+v.x,o-(u.y-v.y))}return!1},getBottomCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l+v.x,o-(u.y-v.y))}return!1},getBottomRight:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var u=this.boundsCenter,v=this.centerDiff;return new g(l-(u.x-v.x),o-(u.y-v.y))}return!1}});r.exports=c}),19933:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6790);a.Body=s(22562),a.Composite=s(69351),a.World=s(4372),a.Collision=s(52284),a.Detector=s(81388),a.Pairs=s(99561),a.Pair=s(4506),a.Query=s(73296),a.Resolver=s(66272),a.Constraint=s(48140),a.Common=s(53402),a.Engine=s(48413),a.Events=s(35810),a.Sleeping=s(53614),a.Plugin=s(73832),a.Bodies=s(66280),a.Composites=s(74116),a.Axes=s(66615),a.Bounds=s(15647),a.Svg=s(74058),a.Vector=s(31725),a.Vertices=s(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,r.exports=a}),28137:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(83419),c=s(74116),h=s(48140),l=s(74058),o=s(75803),u=s(23181),v=s(34803),f=s(73834),p=s(19496),m=s(85791),y=s(98713),S=s(41598),T=new g({initialize:function(P){this.world=P,this.scene=P.scene,this.sys=P.scene.sys},rectangle:function(b,P,w,A,R){var D=a.rectangle(b,P,w,A,R);return this.world.add(D),D},trapezoid:function(b,P,w,A,R,D){var L=a.trapezoid(b,P,w,A,R,D);return this.world.add(L),L},circle:function(b,P,w,A,R){var D=a.circle(b,P,w,A,R);return this.world.add(D),D},polygon:function(b,P,w,A,R){var D=a.polygon(b,P,w,A,R);return this.world.add(D),D},fromVertices:function(b,P,w,A,R,D,L){typeof w=="string"&&(w=S.fromPath(w));var k=a.fromVertices(b,P,w,A,R,D,L);return this.world.add(k),k},fromPhysicsEditor:function(b,P,w,A,R){R===void 0&&(R=!0);var D=p.parseBody(b,P,w,A);return R&&!this.world.has(D)&&this.world.add(D),D},fromSVG:function(b,P,w,A,R,D){A===void 0&&(A=1),R===void 0&&(R={}),D===void 0&&(D=!0);for(var L=w.getElementsByTagName("path"),k=[],B=0;B<L.length;B++){var F=l.pathToVertices(L[B],30);A!==1&&S.scale(F,A,A),k.push(F)}var G=a.fromVertices(b,P,k,R);return D&&this.world.add(G),G},fromJSON:function(b,P,w,A,R){A===void 0&&(A={}),R===void 0&&(R=!0);var D=m.parseBody(b,P,w,A);return D&&R&&this.world.add(D),D},imageStack:function(b,P,w,A,R,D,L,k,B){L===void 0&&(L=0),k===void 0&&(k=0),B===void 0&&(B={});var F=this.world,G=this.sys.displayList;B.addToWorld=!1;var N=c.stack(w,A,R,D,L,k,function(W,X){var $=new u(F,W,X,b,P,B);return G.add($),$.body});return F.add(N),N},stack:function(b,P,w,A,R,D,L){var k=c.stack(b,P,w,A,R,D,L);return this.world.add(k),k},pyramid:function(b,P,w,A,R,D,L){var k=c.pyramid(b,P,w,A,R,D,L);return this.world.add(k),k},chain:function(b,P,w,A,R,D){return c.chain(b,P,w,A,R,D)},mesh:function(b,P,w,A,R){return c.mesh(b,P,w,A,R)},newtonsCradle:function(b,P,w,A,R){var D=c.newtonsCradle(b,P,w,A,R);return this.world.add(D),D},car:function(b,P,w,A,R){var D=c.car(b,P,w,A,R);return this.world.add(D),D},softBody:function(b,P,w,A,R,D,L,k,B,F){var G=c.softBody(b,P,w,A,R,D,L,k,B,F);return this.world.add(G),G},joint:function(b,P,w,A,R){return this.constraint(b,P,w,A,R)},spring:function(b,P,w,A,R){return this.constraint(b,P,w,A,R)},constraint:function(b,P,w,A,R){A===void 0&&(A=1),R===void 0&&(R={}),R.bodyA=b.type==="body"?b:b.body,R.bodyB=P.type==="body"?P:P.body,isNaN(w)||(R.length=w),R.stiffness=A;var D=h.create(R);return this.world.add(D),D},worldConstraint:function(b,P,w,A){w===void 0&&(w=1),A===void 0&&(A={}),A.bodyB=b.type==="body"?b:b.body,isNaN(P)||(A.length=P),A.stiffness=w;var R=h.create(A);return this.world.add(R),R},mouseSpring:function(b){return this.pointerConstraint(b)},pointerConstraint:function(b){b===void 0&&(b={}),b.hasOwnProperty("render")||(b.render={visible:!1});var P=new y(this.scene,this.world,b);return this.world.add(P.constraint),P},image:function(b,P,w,A,R){var D=new u(this.world,b,P,w,A,R);return this.sys.displayList.add(D),D},tileBody:function(b,P){return new f(this.world,b,P)},sprite:function(b,P,w,A,R){var D=new v(this.world,b,P,w,A,R);return this.sys.displayList.add(D),this.sys.updateList.add(D),D},gameObject:function(b,P,w){return o(this.world,b,P,w)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=T}),75803:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31884),g=s(95540),c=s(26099);function h(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var l=function(o,u,v,f){v===void 0&&(v={}),f===void 0&&(f=!0);var p=u.x,m=u.y;u.body={temp:!0,position:{x:p,y:m}};var y=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(y.forEach(function(T){for(var b in T)h(T[b])?Object.defineProperty(u,b,{get:T[b].get,set:T[b].set}):Object.defineProperty(u,b,{value:T[b]})}),u.world=o,u._tempVec2=new c(p,m),v.hasOwnProperty("type")&&v.type==="body")u.setExistingBody(v,f);else{var S=g(v,"shape",null);S||(S="rectangle"),v.addToWorld=f,u.setBody(S,v)}return u};r.exports=l}),23181:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31884),c=s(95643),h=s(95540),l=s(88571),o=s(72699),u=s(26099),v=new a({Extends:l,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,o],initialize:function(p,m,y,S,T,b){c.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(S,T),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new u(m,y);var P=h(b,"shape",null);P?this.setBody(P,b):this.setRectangle(this.width,this.height,b),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=v}),42045:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=s(66615),c=s(66280),h=s(22562),l=s(68174),o=s(15647),u=s(83419),v=s(52284),f=s(53402),p=s(69351),m=s(74116),y=s(48140),S=s(81388),T=s(20339),b=s(28137),P=s(95540),w=s(35154),A=s(46975),R=s(4506),D=s(99561),L=s(37277),k=s(73296),B=s(66272),F=s(44594),G=s(74058),N=s(31725),W=s(41598),X=s(68243);f.setDecomp(s(55973));var $=new u({initialize:function(V){this.scene=V,this.systems=V.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=p,this.collision=v,this.detector=S,this.pair=R,this.pairs=D,this.query=k,this.resolver=B,this.constraint=y,this.bodies=c,this.composites=m,this.axes=g,this.bounds=o,this.svg=G,this.vector=N,this.vertices=W,this.verts=W,this._tempVec2=N.create(),B._restingThresh=w(this.config,"restingThresh",4),B._restingThreshTangent=w(this.config,"restingThreshTangent",6),B._positionDampen=w(this.config,"positionDampen",.9),B._positionWarming=w(this.config,"positionWarming",.8),B._frictionNormalMultiplier=w(this.config,"frictionNormalMultiplier",5),V.sys.events.once(F.BOOT,this.boot,this),V.sys.events.on(F.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new b(this.world),this.bodyBounds=new l,this.systems.events.once(F.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new b(this.world));var J=this.systems.events;J.on(F.UPDATE,this.world.update,this.world),J.on(F.POST_UPDATE,this.world.postUpdate,this.world),J.once(F.SHUTDOWN,this.shutdown,this)},getConfig:function(){var J=this.systems.game.config.physics,V=this.systems.settings.physics,Y=A(P(V,"matter",{}),P(J,"matter",{}));return Y},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(J,V){this.world.step(J,V)},containsPoint:function(J,V,Y){J=this.getMatterBodies(J);var z=N.create(V,Y),K=k.point(J,z);return K.length>0},intersectPoint:function(J,V,Y){Y=this.getMatterBodies(Y);var z=N.create(J,V),K=[],H=k.point(Y,z);return H.forEach(function(Q){K.indexOf(Q)===-1&&K.push(Q)}),K},intersectRect:function(J,V,Y,z,K,H){K===void 0&&(K=!1),H=this.getMatterBodies(H);var Q={min:{x:J,y:V},max:{x:J+Y,y:V+z}},j=[],q=k.region(H,Q,K);return q.forEach(function(tt){j.indexOf(tt)===-1&&j.push(tt)}),j},intersectRay:function(J,V,Y,z,K,H){K===void 0&&(K=1),H=this.getMatterBodies(H);for(var Q=[],j=k.ray(H,N.create(J,V),N.create(Y,z),K),q=0;q<j.length;q++)Q.push(j[q].body);return Q},intersectBody:function(J,V){V=this.getMatterBodies(V);for(var Y=[],z=k.collides(J,V),K=0;K<z.length;K++){var H=z[K];H.bodyA===J?Y.push(H.bodyB):Y.push(H.bodyA)}return Y},overlap:function(J,V,Y,z,K){Y===void 0&&(Y=null),z===void 0&&(z=null),K===void 0&&(K=Y),Array.isArray(J)||(J=[J]),J=this.getMatterBodies(J),V=this.getMatterBodies(V);for(var H=!1,Q=0;Q<J.length;Q++)for(var j=J[Q],q=k.collides(j,V),tt=0;tt<q.length;tt++){var st=q[tt],nt=st.bodyA.id===j.id?st.bodyB:st.bodyA;if(!z||z.call(K,j,nt,st)){if(H=!0,Y)Y.call(K,j,nt,st);else if(!z)return!0}}return H},setCollisionCategory:function(J,V){return J=this.getMatterBodies(J),J.forEach(function(Y){Y.collisionFilter.category=V}),this},setCollisionGroup:function(J,V){return J=this.getMatterBodies(J),J.forEach(function(Y){Y.collisionFilter.group=V}),this},setCollidesWith:function(J,V){J=this.getMatterBodies(J);var Y=0;if(!Array.isArray(V))Y=V;else for(var z=0;z<V.length;z++)Y|=V[z];return J.forEach(function(K){K.collisionFilter.mask=Y}),this},getMatterBodies:function(J){if(!J)return this.world.getAllBodies();Array.isArray(J)||(J=[J]);for(var V=[],Y=0;Y<J.length;Y++){var z=J[Y].hasOwnProperty("body")?J[Y].body:J[Y];V.push(z)}return V},setVelocity:function(J,V,Y){J=this.getMatterBodies(J);var z=this._tempVec2;return z.x=V,z.y=Y,J.forEach(function(K){h.setVelocity(K,z)}),this},setVelocityX:function(J,V){J=this.getMatterBodies(J);var Y=this._tempVec2;return Y.x=V,J.forEach(function(z){Y.y=z.velocity.y,h.setVelocity(z,Y)}),this},setVelocityY:function(J,V){J=this.getMatterBodies(J);var Y=this._tempVec2;return Y.y=V,J.forEach(function(z){Y.x=z.velocity.x,h.setVelocity(z,Y)}),this},setAngularVelocity:function(J,V){return J=this.getMatterBodies(J),J.forEach(function(Y){h.setAngularVelocity(Y,V)}),this},applyForce:function(J,V){J=this.getMatterBodies(J);var Y=this._tempVec2;return J.forEach(function(z){Y.x=z.position.x,Y.y=z.position.y,h.applyForce(z,Y,V)}),this},applyForceFromPosition:function(J,V,Y,z){J=this.getMatterBodies(J);var K=this._tempVec2;return J.forEach(function(H){z===void 0&&(z=H.angle),K.x=Y*Math.cos(z),K.y=Y*Math.sin(z),h.applyForce(H,V,K)}),this},applyForceFromAngle:function(J,V,Y){J=this.getMatterBodies(J);var z=this._tempVec2;return J.forEach(function(K){Y===void 0&&(Y=K.angle),z.x=V*Math.cos(Y),z.y=V*Math.sin(Y),h.applyForce(K,{x:K.position.x,y:K.position.y},z)}),this},getConstraintLength:function(J){var V=J.pointA.x,Y=J.pointA.y,z=J.pointB.x,K=J.pointB.y;return J.bodyA&&(V+=J.bodyA.position.x,Y+=J.bodyA.position.y),J.bodyB&&(z+=J.bodyB.position.x,K+=J.bodyB.position.y),T(V,Y,z,K)},alignBody:function(J,V,Y,z){J=J.hasOwnProperty("body")?J.body:J;var K;switch(z){case a.TOP_LEFT:case a.LEFT_TOP:K=this.bodyBounds.getTopLeft(J,V,Y);break;case a.TOP_CENTER:K=this.bodyBounds.getTopCenter(J,V,Y);break;case a.TOP_RIGHT:case a.RIGHT_TOP:K=this.bodyBounds.getTopRight(J,V,Y);break;case a.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(J,V,Y);break;case a.CENTER:K=this.bodyBounds.getCenter(J,V,Y);break;case a.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(J,V,Y);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(J,V,Y);break;case a.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(J,V,Y);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(J,V,Y);break}return K&&h.setPosition(J,K),this},shutdown:function(){var J=this.systems.events;this.world&&(J.off(F.UPDATE,this.world.update,this.world),J.off(F.POST_UPDATE,this.world.postUpdate,this.world)),J.off(F.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(F.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",$,"matterPhysics"),r.exports=$}),34803:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),c=s(31884),h=s(95643),l=s(95540),o=s(72699),u=s(68287),v=s(26099),f=new g({Extends:u,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,o],initialize:function(m,y,S,T,b,P){h.call(this,m.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(T,b),this.setSizeToFrame(),this.setOrigin(),this.world=m,this._tempVec2=new v(y,S);var w=l(P,"shape",null);w?this.setBody(w,P):this.setRectangle(this.width,this.height,P),this.setPosition(y,S),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=f}),73834:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),c=s(83419),h=s(31884),l=s(62644),o=s(50792),u=s(95540),v=s(97022),f=s(41598),p=new c({Extends:o,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(y,S,T){o.call(this),this.tile=S,this.world=y,S.physics.matterBody&&S.physics.matterBody.destroy(),S.physics.matterBody=this;var b=u(T,"body",null),P=u(T,"addToWorld",!0);if(b)this.setBody(b,P);else{var w=S.getCollisionGroup(),A=u(w,"objects",[]);A.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(S.flipX||S.flipY){var R={x:S.getCenterX(),y:S.getCenterY()},D=S.flipX?-1:1,L=S.flipY?-1:1;g.scale(b,D,L,R)}},setFromTileRectangle:function(m){m===void 0&&(m={}),v(m,"isStatic")||(m.isStatic=!0),v(m,"addToWorld")||(m.addToWorld=!0);var y=this.tile.getBounds(),S=y.x+y.width/2,T=y.y+y.height/2,b=a.rectangle(S,T,y.width,y.height,m);return this.setBody(b,m.addToWorld),this},setFromTileCollision:function(m){m===void 0&&(m={}),v(m,"isStatic")||(m.isStatic=!0),v(m,"addToWorld")||(m.addToWorld=!0);for(var y=this.tile.tilemapLayer.scaleX,S=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),b=this.tile.getTop(),P=this.tile.getCollisionGroup(),w=u(P,"objects",[]),A=[],R=0;R<w.length;R++){var D=w[R],L=T+D.x*y,k=b+D.y*S,B=D.width*y,F=D.height*S,G=null;if(D.rectangle)G=a.rectangle(L+B/2,k+F/2,B,F,m);else if(D.ellipse)G=a.circle(L+B/2,k+F/2,B/2,m);else if(D.polygon||D.polyline){var N=D.polygon?D.polygon:D.polyline,W=N.map(function(V){return{x:V.x*y,y:V.y*S}}),X=f.create(W),$=f.centre(X);L+=$.x,k+=$.y,G=a.fromVertices(L,k,X,m)}G&&A.push(G)}if(A.length===1)this.setBody(A[0],m.addToWorld);else if(A.length>1){var J=l(m);J.parts=A,this.setBody(g.create(J),J.addToWorld)}return this},setBody:function(m,y){return y===void 0&&(y=!0),this.body&&this.removeBody(),this.body=m,this.body.gameObject=this,y&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=p}),19496:((r,x,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),c=s(53402),h=s(95540),l=s(41598),o={parseBody:function(u,v,f,p){p===void 0&&(p={});for(var m=h(f,"fixtures",[]),y=[],S=0;S<m.length;S++)for(var T=this.parseFixture(m[S]),b=0;b<T.length;b++)y.push(T[b]);var P=c.clone(f,!0);c.extend(P,p,!0),delete P.fixtures,delete P.type;var w=g.create(P);return g.setParts(w,y),g.setPosition(w,{x:u,y:v}),w},parseFixture:function(u){var v=c.extend({},!1,u);delete v.circle,delete v.vertices;var f;if(u.circle){var p=h(u.circle,"x"),m=h(u.circle,"y"),y=h(u.circle,"radius");f=[a.circle(p,m,y,v)]}else u.vertices&&(f=this.parseVertices(u.vertices,v));return f},parseVertices:function(u,v){v===void 0&&(v={});for(var f=[],p=0;p<u.length;p++)l.clockwiseSort(u[p]),f.push(g.create(c.extend({position:l.centre(u[p]),vertices:u[p]},v)));return a.flagCoincidentParts(f)}};r.exports=o}),85791:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),c={parseBody:function(h,l,o,u){u===void 0&&(u={});var v,f=o.vertices;if(f.length===1)u.vertices=f[0],v=g.create(u),a.flagCoincidentParts(v.parts);else{for(var p=[],m=0;m<f.length;m++){var y=g.create({vertices:f[m]});p.push(y)}a.flagCoincidentParts(p),u.parts=p,v=g.create(u)}return v.label=o.label,g.setPosition(v,{x:h,y:l}),v}};r.exports=c}),98713:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15647),g=s(83419),c=s(69351),h=s(48140),l=s(81388),o=s(1121),u=s(8214),v=s(46975),f=s(53614),p=s(26099),m=s(41598),y=new g({initialize:function(T,b,P){P===void 0&&(P={});var w={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=b,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=h.create(v(P,w)),this.world.on(o.BEFORE_UPDATE,this.update,this),T.sys.input.on(u.POINTER_DOWN,this.onDown,this),T.sys.input.on(u.POINTER_UP,this.onUp,this)},onDown:function(S){this.pointer||(this.pointer=S,this.camera=S.camera)},onUp:function(S){S===this.pointer&&(this.pointer=null)},getBody:function(S){var T=this.position,b=this.constraint;this.camera.getWorldPoint(S.x,S.y,T);for(var P=c.allBodies(this.world.localWorld),w=0;w<P.length;w++){var A=P[w];if(!A.ignorePointer&&a.contains(A.bounds,T)&&l.canCollide(A.collisionFilter,b.collisionFilter)&&this.hitTestBody(A,T))return this.world.emit(o.DRAG_START,A,this.part,this),!0}return!1},hitTestBody:function(S,T){for(var b=this.constraint,P=S.parts.length,w=P>1?1:0,A=w;A<P;A++){var R=S.parts[A];if(m.contains(R.vertices,T))return b.pointA=T,b.pointB={x:T.x-S.position.x,y:T.y-S.position.y},b.bodyB=S,b.angleB=S.angle,f.set(S,!1),this.part=R,this.body=S,!0}return!1},update:function(){var S=this.pointer,T=this.body;if(!this.active||!S){T&&this.stopDrag();return}if(!S.isDown&&T){this.stopDrag();return}else if(S.isDown){if(!this.camera||!T&&!this.getBody(S))return;T=this.body;var b=this.position,P=this.constraint;this.camera.getWorldPoint(S.x,S.y,b),P.pointA.x=b.x,P.pointA.y=b.y,f.set(T,!1),this.world.emit(o.DRAG,T,this)}},stopDrag:function(){var S=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,S&&this.world.emit(o.DRAG_END,S,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(u.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(u.POINTER_UP,this.onUp,this)}});r.exports=y}),68243:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),c=s(83419),h=s(53402),l=s(69351),o=s(48413),u=s(50792),v=s(1121),f=s(95540),p=s(35154),m=s(22562),y=s(35810),S=s(73834),T=s(4372),b=s(13037),P=s(31725),w=new c({Extends:u,initialize:function(R,D){u.call(this),this.scene=R,this.engine=o.create(D),this.localWorld=this.engine.world;var L=p(D,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(D,"enabled",!0),this.getDelta=p(D,"getDelta",this.update60Hz);var k=f(D,"runner",{}),B=f(k,"fps",!1);B&&(k.delta=1e3/f(k,"fps",60)),this.runner=b.create(k),this.autoUpdate=p(D,"autoUpdate",!0);var F=p(D,"debug",!1);if(this.drawDebug=typeof F=="object"?!0:F,this.debugGraphic,this.debugConfig={showAxes:f(F,"showAxes",!1),showAngleIndicator:f(F,"showAngleIndicator",!1),angleColor:f(F,"angleColor",15208787),showBroadphase:f(F,"showBroadphase",!1),broadphaseColor:f(F,"broadphaseColor",16757760),showBounds:f(F,"showBounds",!1),boundsColor:f(F,"boundsColor",16777215),showVelocity:f(F,"showVelocity",!1),velocityColor:f(F,"velocityColor",44783),showCollisions:f(F,"showCollisions",!1),collisionColor:f(F,"collisionColor",16094476),showSeparations:f(F,"showSeparations",!1),separationColor:f(F,"separationColor",16753920),showBody:f(F,"showBody",!0),showStaticBody:f(F,"showStaticBody",!0),showInternalEdges:f(F,"showInternalEdges",!1),renderFill:f(F,"renderFill",!1),renderLine:f(F,"renderLine",!0),fillColor:f(F,"fillColor",1075465),fillOpacity:f(F,"fillOpacity",1),lineColor:f(F,"lineColor",2678297),lineOpacity:f(F,"lineOpacity",1),lineThickness:f(F,"lineThickness",1),staticFillColor:f(F,"staticFillColor",857979),staticLineColor:f(F,"staticLineColor",1255396),showSleeping:f(F,"showSleeping",!1),staticBodySleepOpacity:f(F,"staticBodySleepOpacity",.7),sleepFillColor:f(F,"sleepFillColor",4605510),sleepLineColor:f(F,"sleepLineColor",10066585),showSensors:f(F,"showSensors",!0),sensorFillColor:f(F,"sensorFillColor",857979),sensorLineColor:f(F,"sensorLineColor",1255396),showPositions:f(F,"showPositions",!0),positionSize:f(F,"positionSize",4),positionColor:f(F,"positionColor",14697178),showJoint:f(F,"showJoint",!0),jointColor:f(F,"jointColor",14737474),jointLineOpacity:f(F,"jointLineOpacity",1),jointLineThickness:f(F,"jointLineThickness",2),pinSize:f(F,"pinSize",4),pinColor:f(F,"pinColor",4382944),springColor:f(F,"springColor",14697184),anchorColor:f(F,"anchorColor",15724527),anchorSize:f(F,"anchorSize",4),showConvexHulls:f(F,"showConvexHulls",!1),hullColor:f(F,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),f(D,"setBounds",!1)){var G=D.setBounds;if(typeof G=="boolean")this.setBounds();else{var N=f(G,"x",0),W=f(G,"y",0),X=f(G,"width",R.sys.scale.width),$=f(G,"height",R.sys.scale.height),J=f(G,"thickness",64),V=f(G,"left",!0),Y=f(G,"right",!0),z=f(G,"top",!0),K=f(G,"bottom",!0);this.setBounds(N,W,X,$,J,V,Y,z,K)}}},setCompositeRenderStyle:function(A){var R=A.bodies,D=A.constraints,L=A.composites,k,B,F;for(k=0;k<R.length;k++)B=R[k],F=B.render,this.setBodyRenderStyle(B,F.lineColor,F.lineOpacity,F.lineThickness,F.fillColor,F.fillOpacity);for(k=0;k<D.length;k++)B=D[k],F=B.render,this.setConstraintRenderStyle(B,F.lineColor,F.lineOpacity,F.lineThickness,F.pinSize,F.anchorColor,F.anchorSize);for(k=0;k<L.length;k++)B=L[k],this.setCompositeRenderStyle(B);return this},setBodyRenderStyle:function(A,R,D,L,k,B){var F=A.render,G=this.debugConfig;return F?(R==null&&(R=A.isStatic?G.staticLineColor:G.lineColor),D==null&&(D=G.lineOpacity),L==null&&(L=G.lineThickness),k==null&&(k=A.isStatic?G.staticFillColor:G.fillColor),B==null&&(B=G.fillOpacity),R!==!1&&(F.lineColor=R),D!==!1&&(F.lineOpacity=D),L!==!1&&(F.lineThickness=L),k!==!1&&(F.fillColor=k),B!==!1&&(F.fillOpacity=B),this):this},setConstraintRenderStyle:function(A,R,D,L,k,B,F){var G=A.render,N=this.debugConfig;if(!G)return this;if(R==null){var W=G.type;W==="line"?R=N.jointColor:W==="pin"?R=N.pinColor:W==="spring"&&(R=N.springColor)}return D==null&&(D=N.jointLineOpacity),L==null&&(L=N.jointLineThickness),k==null&&(k=N.pinSize),B==null&&(B=N.anchorColor),F==null&&(F=N.anchorSize),R!==!1&&(G.lineColor=R),D!==!1&&(G.lineOpacity=D),L!==!1&&(G.lineThickness=L),k!==!1&&(G.pinSize=k),B!==!1&&(G.anchorColor=B),F!==!1&&(G.anchorSize=F),this},setEventsProxy:function(){var A=this,R=this.engine,D=this.localWorld;this.drawDebug&&(y.on(D,"compositeModified",function(L){A.setCompositeRenderStyle(L)}),y.on(D,"beforeAdd",function(L){for(var k=[].concat(L.object),B=0;B<k.length;B++){var F=k[B],G=F.render;F.type==="body"?A.setBodyRenderStyle(F,G.lineColor,G.lineOpacity,G.lineThickness,G.fillColor,G.fillOpacity):F.type==="composite"?A.setCompositeRenderStyle(F):F.type==="constraint"&&A.setConstraintRenderStyle(F,G.lineColor,G.lineOpacity,G.lineThickness,G.pinSize,G.anchorColor,G.anchorSize)}})),y.on(D,"beforeAdd",function(L){A.emit(v.BEFORE_ADD,L)}),y.on(D,"afterAdd",function(L){A.emit(v.AFTER_ADD,L)}),y.on(D,"beforeRemove",function(L){A.emit(v.BEFORE_REMOVE,L)}),y.on(D,"afterRemove",function(L){A.emit(v.AFTER_REMOVE,L)}),y.on(R,"beforeUpdate",function(L){A.emit(v.BEFORE_UPDATE,L)}),y.on(R,"afterUpdate",function(L){A.emit(v.AFTER_UPDATE,L)}),y.on(R,"collisionStart",function(L){var k=L.pairs,B,F;k.length>0&&k.map(function(G){B=G.bodyA,F=G.bodyB,B.gameObject&&B.gameObject.emit("collide",B,F,G),F.gameObject&&F.gameObject.emit("collide",F,B,G),y.trigger(B,"onCollide",{pair:G}),y.trigger(F,"onCollide",{pair:G}),B.onCollideCallback&&B.onCollideCallback(G),F.onCollideCallback&&F.onCollideCallback(G),B.onCollideWith[F.id]&&B.onCollideWith[F.id](F,G),F.onCollideWith[B.id]&&F.onCollideWith[B.id](B,G)}),A.emit(v.COLLISION_START,L,B,F)}),y.on(R,"collisionActive",function(L){var k=L.pairs,B,F;k.length>0&&k.map(function(G){B=G.bodyA,F=G.bodyB,B.gameObject&&B.gameObject.emit("collideActive",B,F,G),F.gameObject&&F.gameObject.emit("collideActive",F,B,G),y.trigger(B,"onCollideActive",{pair:G}),y.trigger(F,"onCollideActive",{pair:G}),B.onCollideActiveCallback&&B.onCollideActiveCallback(G),F.onCollideActiveCallback&&F.onCollideActiveCallback(G)}),A.emit(v.COLLISION_ACTIVE,L,B,F)}),y.on(R,"collisionEnd",function(L){var k=L.pairs,B,F;k.length>0&&k.map(function(G){B=G.bodyA,F=G.bodyB,B.gameObject&&B.gameObject.emit("collideEnd",B,F,G),F.gameObject&&F.gameObject.emit("collideEnd",F,B,G),y.trigger(B,"onCollideEnd",{pair:G}),y.trigger(F,"onCollideEnd",{pair:G}),B.onCollideEndCallback&&B.onCollideEndCallback(G),F.onCollideEndCallback&&F.onCollideEndCallback(G)}),A.emit(v.COLLISION_END,L,B,F)})},setBounds:function(A,R,D,L,k,B,F,G,N){return A===void 0&&(A=0),R===void 0&&(R=0),D===void 0&&(D=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),k===void 0&&(k=64),B===void 0&&(B=!0),F===void 0&&(F=!0),G===void 0&&(G=!0),N===void 0&&(N=!0),this.updateWall(B,"left",A-k,R-k,k,L+k*2),this.updateWall(F,"right",A+D,R-k,k,L+k*2),this.updateWall(G,"top",A,R-k,D,k),this.updateWall(N,"bottom",A,R+L,D,k),this},updateWall:function(A,R,D,L,k,B){var F=this.walls[R];A?(F&&T.remove(this.localWorld,F),D+=k/2,L+=B/2,this.walls[R]=this.create(D,L,k,B,{isStatic:!0,friction:0,frictionStatic:0})):(F&&T.remove(this.localWorld,F),this.walls[R]=null)},createDebugGraphic:function(){var A=this.scene.sys.add.graphics({x:0,y:0});return A.setDepth(Number.MAX_VALUE),this.debugGraphic=A,this.drawDebug=!0,A},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(A,R,D){return A===void 0&&(A=0),R===void 0&&(R=1),D===void 0&&(D=.001),this.localWorld.gravity.x=A,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=D,this},create:function(A,R,D,L,k){var B=a.rectangle(A,R,D,L,k);return T.add(this.localWorld,B),B},add:function(A){return T.add(this.localWorld,A),this},remove:function(A,R){Array.isArray(A)||(A=[A]);for(var D=0;D<A.length;D++){var L=A[D],k=L.body?L.body:L;l.remove(this.localWorld,k,R)}return this},removeConstraint:function(A,R){return l.remove(this.localWorld,A,R),this},convertTilemapLayer:function(A,R){var D=A.layer,L=A.getTilesWithin(0,0,D.width,D.height,{isColliding:!0});return this.convertTiles(L,R),this},convertTiles:function(A,R){if(A.length===0)return this;for(var D=0;D<A.length;D++)new S(this,A[D],R);return this},nextGroup:function(A){return m.nextGroup(A)},nextCategory:function(){return m.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=h.now(),this.emit(v.RESUME),this},update:function(A){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,D=this.runner,L=h.now(),k=D.delta,B=0,F=A-D.timeLastTick;if((!F||!D.timeLastTick||F>Math.max(b._maxFrameDelta,D.maxFrameTime))&&(F=D.frameDelta||b._frameDeltaFallback),D.frameDeltaSmoothing){D.frameDeltaHistory.push(F),D.frameDeltaHistory=D.frameDeltaHistory.slice(-D.frameDeltaHistorySize);var G=D.frameDeltaHistory.slice(0).sort(),N=D.frameDeltaHistory.slice(G.length*b._smoothingLowerBound,G.length*b._smoothingUpperBound),W=b._mean(N);F=W||F}D.frameDeltaSnapping&&(F=1e3/Math.round(1e3/F)),D.frameDelta=F,D.timeLastTick=A,D.timeBuffer+=D.frameDelta,D.timeBuffer=h.clamp(D.timeBuffer,0,D.frameDelta+k*b._timeBufferMargin),D.lastUpdatesDeferred=0;for(var X=D.maxUpdates||Math.ceil(D.maxFrameTime/k),$=h.now();k>0&&D.timeBuffer>=k*b._timeBufferMargin;){o.update(R,k),D.timeBuffer-=k,B+=1;var J=h.now()-L,V=h.now()-$,Y=J+b._elapsedNextEstimate*V/B;if(B>=X||Y>D.maxFrameTime){D.lastUpdatesDeferred=Math.round(Math.max(0,D.timeBuffer/k-b._timeBufferMargin));break}}}},step:function(A){o.update(this.engine,A)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(A){var R=A.hasOwnProperty("body")?A.body:A;return l.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var A=this.debugConfig,R=this.engine,D=this.debugGraphic,L=l.allBodies(this.localWorld);this.debugGraphic.clear(),A.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,D,A.broadphaseColor,.5),A.showBounds&&this.renderBodyBounds(L,D,A.boundsColor,.5),(A.showBody||A.showStaticBody)&&this.renderBodies(L),A.showJoint&&this.renderJoints(),(A.showAxes||A.showAngleIndicator)&&this.renderBodyAxes(L,D,A.showAxes,A.angleColor,.5),A.showVelocity&&this.renderBodyVelocity(L,D,A.velocityColor,1,2),A.showSeparations&&this.renderSeparations(R.pairs.list,D,A.separationColor),A.showCollisions&&this.renderCollisions(R.pairs.list,D,A.collisionColor)}},renderGrid:function(A,R,D,L){R.lineStyle(1,D,L);for(var k=h.keys(A.buckets),B=0;B<k.length;B++){var F=k[B];if(!(A.buckets[F].length<2)){var G=F.split(/C|R/);R.strokeRect(parseInt(G[1],10)*A.bucketWidth,parseInt(G[2],10)*A.bucketHeight,A.bucketWidth,A.bucketHeight)}}return this},renderSeparations:function(A,R,D){R.lineStyle(1,D,1);for(var L=0;L<A.length;L++){var k=A[L];if(k.isActive){var B=k.collision,F=B.bodyA,G=B.bodyB,N=F.position,W=G.position,X=B.penetration,$=!F.isStatic&&!G.isStatic?4:1;G.isStatic&&($=0),R.lineBetween(W.x,W.y,W.x-X.x*$,W.y-X.y*$),$=!F.isStatic&&!G.isStatic?4:1,F.isStatic&&($=0),R.lineBetween(N.x,N.y,N.x-X.x*$,N.y-X.y*$)}}return this},renderCollisions:function(A,R,D){R.lineStyle(1,D,.5),R.fillStyle(D,1);var L,k;for(L=0;L<A.length;L++)if(k=A[L],!!k.isActive)for(var B=0;B<k.contactCount;B++){var F=k.contacts[B],G=F.vertex;G&&R.fillRect(G.x-2,G.y-2,5,5)}for(L=0;L<A.length;L++)if(k=A[L],!!k.isActive){var N=k.collision,W=k.contacts;if(k.contactCount>0){var X=W[0].vertex.x,$=W[0].vertex.y;k.contactCount===2&&(X=(W[0].vertex.x+W[1].vertex.x)/2,$=(W[0].vertex.y+W[1].vertex.y)/2),N.bodyB===N.supports[0].body||N.bodyA.isStatic?R.lineBetween(X-N.normal.x*8,$-N.normal.y*8,X,$):R.lineBetween(X+N.normal.x*8,$+N.normal.y*8,X,$)}}return this},renderBodyBounds:function(A,R,D,L){R.lineStyle(1,D,L);for(var k=0;k<A.length;k++){var B=A[k];if(B.render.visible){var F=B.bounds;if(F)R.strokeRect(F.min.x,F.min.y,F.max.x-F.min.x,F.max.y-F.min.y);else for(var G=B.parts,N=G.length>1?1:0;N<G.length;N++){var W=G[N];R.strokeRect(W.bounds.min.x,W.bounds.min.y,W.bounds.max.x-W.bounds.min.x,W.bounds.max.y-W.bounds.min.y)}}}return this},renderBodyAxes:function(A,R,D,L,k){R.lineStyle(1,L,k);for(var B=0;B<A.length;B++){var F=A[B],G=F.parts;if(F.render.visible){var N,W,X;if(D)for(W=G.length>1?1:0;W<G.length;W++)for(N=G[W],X=0;X<N.axes.length;X++){var $=N.axes[X];R.lineBetween(N.position.x,N.position.y,N.position.x+$.x*20,N.position.y+$.y*20)}else for(W=G.length>1?1:0;W<G.length;W++)for(N=G[W],X=0;X<N.axes.length;X++)R.lineBetween(N.position.x,N.position.y,(N.vertices[0].x+N.vertices[N.vertices.length-1].x)/2,(N.vertices[0].y+N.vertices[N.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(A,R,D,L,k){R.lineStyle(k,D,L);for(var B=0;B<A.length;B++){var F=A[B];F.render.visible&&R.lineBetween(F.position.x,F.position.y,F.position.x+(F.position.x-F.positionPrev.x)*2,F.position.y+(F.position.y-F.positionPrev.y)*2)}return this},renderBodies:function(A){for(var R=this.debugGraphic,D=this.debugConfig,L=D.showBody,k=D.showStaticBody,B=D.showSleeping,F=D.showInternalEdges,G=D.showConvexHulls,N=D.renderFill,W=D.renderLine,X=D.staticBodySleepOpacity,$=D.sleepFillColor,J=D.sleepLineColor,V=D.hullColor,Y=0;Y<A.length;Y++){var z=A[Y];if(z.render.visible&&!(!k&&z.isStatic||!L&&!z.isStatic)){var K=z.render.lineColor,H=z.render.lineOpacity,Q=z.render.lineThickness,j=z.render.fillColor,q=z.render.fillOpacity;B&&z.isSleeping&&(z.isStatic?(H*=X,q*=X):(K=J,j=$)),N||(j=null),W||(K=null),this.renderBody(z,R,F,K,H,Q,j,q);var tt=z.parts.length;G&&tt>1&&this.renderConvexHull(z,R,V,Q)}}},renderBody:function(A,R,D,L,k,B,F,G){L===void 0&&(L=null),k===void 0&&(k=null),B===void 0&&(B=1),F===void 0&&(F=null),G===void 0&&(G=null);for(var N=this.debugConfig,W=N.sensorFillColor,X=N.sensorLineColor,$=A.parts,J=$.length,V=J>1?1:0;V<J;V++){var Y=$[V],z=Y.render,K=z.opacity;if(!(!z.visible||K===0||Y.isSensor&&!N.showSensors)){var H=Y.circleRadius;if(R.beginPath(),Y.isSensor?(F!==null&&R.fillStyle(W,G*K),L!==null&&R.lineStyle(B,X,k*K)):(F!==null&&R.fillStyle(F,G*K),L!==null&&R.lineStyle(B,L,k*K)),H)R.arc(Y.position.x,Y.position.y,H,0,2*Math.PI);else{var Q=Y.vertices,j=Q.length;R.moveTo(Q[0].x,Q[0].y);for(var q=1;q<j;q++){var tt=Q[q];if(!Q[q-1].isInternal||D?R.lineTo(tt.x,tt.y):R.moveTo(tt.x,tt.y),q<j&&tt.isInternal&&!D){var st=(q+1)%j;R.moveTo(Q[st].x,Q[st].y)}}R.closePath()}F!==null&&R.fillPath(),L!==null&&R.strokePath()}}if(N.showPositions&&!A.isStatic){var nt=A.position.x,at=A.position.y,ot=Math.ceil(N.positionSize/2);R.fillStyle(N.positionColor,1),R.fillRect(nt-ot,at-ot,N.positionSize,N.positionSize)}return this},renderConvexHull:function(A,R,D,L){L===void 0&&(L=1);var k=A.parts,B=k.length;if(B>1){var F=A.vertices;R.lineStyle(L,D),R.beginPath(),R.moveTo(F[0].x,F[0].y);for(var G=1;G<F.length;G++)R.lineTo(F[G].x,F[G].y);R.lineTo(F[0].x,F[0].y),R.strokePath()}return this},renderJoints:function(){for(var A=this.debugGraphic,R=l.allConstraints(this.localWorld),D=0;D<R.length;D++){var L=R[D].render,k=L.lineColor,B=L.lineOpacity,F=L.lineThickness,G=L.pinSize,N=L.anchorColor,W=L.anchorSize;this.renderConstraint(R[D],A,k,B,F,G,N,W)}},renderConstraint:function(A,R,D,L,k,B,F,G){var N=A.render;if(!N.visible||!A.pointA||!A.pointB)return this;R.lineStyle(k,D,L);var W=A.bodyA,X=A.bodyB,$,J;if(W?$=P.add(W.position,A.pointA):$=A.pointA,N.type==="pin")R.strokeCircle($.x,$.y,B);else{if(X?J=P.add(X.position,A.pointB):J=A.pointB,R.beginPath(),R.moveTo($.x,$.y),N.type==="spring")for(var V=P.sub(J,$),Y=P.perp(P.normalise(V)),z=Math.ceil(h.clamp(A.length/5,12,20)),K,H=1;H<z;H+=1)K=H%2===0?1:-1,R.lineTo($.x+V.x*(H/z)+Y.x*K*4,$.y+V.y*(H/z)+Y.y*K*4);R.lineTo(J.x,J.y)}return R.strokePath(),N.anchors&&G>0&&(R.fillStyle(F),R.fillCircle($.x,$.y,G),R.fillCircle(J.x,J.y,G)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){y.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=w}),70410:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(s){return this.body.restitution=s,this}};r.exports=x}),66968:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var a=0;if(!Array.isArray(s))a=s;else for(var g=0;g<s.length;g++)a|=s[g];return this.body.collisionFilter.mask=a,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,a){Array.isArray(s)||(s=[s]);for(var g=0;g<s.length;g++){var c=s[g].hasOwnProperty("body")?s[g].body:s[g];this.body.setOnCollideWith(c,a)}return this}};r.exports=x}),51607:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={applyForce:function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,c),this},applyForceFrom:function(c,h){return a.applyForce(this.body,c,h),this},thrust:function(c){var h=this.body.angle;return this._tempVec2.set(c*Math.cos(h),c*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(c){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(h),c*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(c){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(h),c*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(c){var h=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(h),c*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=g}),5436:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(s,a,g){return this.body.friction=s,a!==void 0&&(this.body.frictionAir=a),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};r.exports=x}),39858:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};r.exports=x}),37302:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g=s(26099),c={setMass:function(h){return a.setMass(this.body,h),this},setDensity:function(h){return a.setDensity(this.body,h),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=c}),39132:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};r.exports=x}),57772:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),c=s(43855),h=s(95540),l=s(19496),o=s(85791),u=s(41598),v={setRectangle:function(f,p,m){return this.setBody({type:"rectangle",width:f,height:p},m)},setCircle:function(f,p){return this.setBody({type:"circle",radius:f},p)},setPolygon:function(f,p,m){return this.setBody({type:"polygon",sides:p,radius:f},m)},setTrapezoid:function(f,p,m,y){return this.setBody({type:"trapezoid",width:f,height:p,slope:m},y)},setExistingBody:function(f,p){p===void 0&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=f;for(var m=0;m<f.parts.length;m++)f.parts[m].gameObject=this;var y=this;if(f.destroy=function(){y.world.remove(y.body,!0),y.body.gameObject=null},p&&(this.world.has(f)&&this.world.remove(f,!0),this.world.add(f)),this._originComponent){var S=f.render.sprite.xOffset,T=f.render.sprite.yOffset,b=f.centerOfMass.x,P=f.centerOfMass.y;if(c(b,.5)&&c(P,.5))this.setOrigin(S+.5,T+.5);else{var w=f.centerOffset.x,A=f.centerOffset.y;this.setOrigin(S+w/this.displayWidth,T+A/this.displayHeight)}}return this},setBody:function(f,p){if(!f)return this;var m;typeof f=="string"&&(f={type:f});var y=h(f,"type","rectangle"),S=h(f,"x",this._tempVec2.x),T=h(f,"y",this._tempVec2.y),b=h(f,"width",this.width),P=h(f,"height",this.height);switch(y){case"rectangle":m=a.rectangle(S,T,b,P,p);break;case"circle":var w=h(f,"radius",Math.max(b,P)/2),A=h(f,"maxSides",25);m=a.circle(S,T,w,p,A);break;case"trapezoid":var R=h(f,"slope",.5);m=a.trapezoid(S,T,b,P,R,p);break;case"polygon":var D=h(f,"sides",5),L=h(f,"radius",Math.max(b,P)/2);m=a.polygon(S,T,D,L,p);break;case"fromVertices":case"fromVerts":var k=h(f,"verts",null);if(k)if(typeof k=="string"&&(k=u.fromPath(k)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,k),m=this.body;else{var B=h(f,"flagInternal",!1),F=h(f,"removeCollinear",.01),G=h(f,"minimumArea",10);m=a.fromVertices(S,T,k,p,B,F,G)}break;case"fromPhysicsEditor":m=l.parseBody(S,T,f,p);break;case"fromPhysicsTracer":m=o.parseBody(S,T,f,p);break}return m&&this.setExistingBody(m,f.addToWorld),this}};r.exports=v}),38083:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1121),g=s(53614),c=s(35810),h={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,o){return this.setSleepStartEvent(l),this.setSleepEndEvent(o),this},setSleepStartEvent:function(l){if(l){var o=this.world;c.on(this.body,"sleepStart",function(u){o.emit(a.SLEEP_START,u,this)})}else c.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var o=this.world;c.on(this.body,"sleepEnd",function(u){o.emit(a.SLEEP_END,u,this)})}else c.off(this.body,"sleepEnd");return this}};r.exports=h}),90556:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={setStatic:function(c){return a.setStatic(this.body,c),this},isStatic:function(){return this.body.isStatic}};r.exports=g}),85436:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g=s(36383),c=s(86554),h=s(30954),l=4,o={x:{get:function(){return this.body.position.x},set:function(u){this._tempVec2.set(u,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(u){this._tempVec2.set(this.x,u),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this.setScale(u,u)}},scaleX:{get:function(){return this._scaleX},set:function(u){var v=1/this._scaleX,f=1/this._scaleY;this._scaleX=u,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,v,f),a.scale(this.body,u,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(u){var v=1/this._scaleX,f=1/this._scaleY;this._scaleY=u,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,v,f),a.scale(this.body,this._scaleX,u)}},angle:{get:function(){return h(this.body.angle*g.RAD_TO_DEG)},set:function(u){this.rotation=h(u)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(u){this._rotation=c(u),a.setAngle(this.body,this._rotation)}},setPosition:function(u,v){return u===void 0&&(u=0),v===void 0&&(v=u),this._tempVec2.set(u,v),a.setPosition(this.body,this._tempVec2),this},setRotation:function(u){return u===void 0&&(u=0),this._rotation=c(u),a.setAngle(this.body,u),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,a.setAngle(this.body,this.rotation),this},setScale:function(u,v,f){u===void 0&&(u=1),v===void 0&&(v=u);var p=1/this._scaleX,m=1/this._scaleY;return this._scaleX=u,this._scaleY=v,a.scale(this.body,p,m,f),a.scale(this.body,u,v,f),this}};r.exports=o}),42081:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={setVelocityX:function(c){return this._tempVec2.set(c,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(c){return this._tempVec2.set(this.body.velocity.x,c),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(c,h){return this._tempVec2.set(c,h),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(c){return a.setAngularVelocity(this.body,c),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(c){return a.setAngularSpeed(this.body,c),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};r.exports=g}),31884:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}}),85608:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"}),1213:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"}),25968:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"}),67205:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"}),39438:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"}),44823:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"}),92593:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"}),60128:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"}),76861:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"}),92362:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"}),76408:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"}),93971:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"}),5656:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),47861:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),79099:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"}),35906:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"}),1121:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}}),3875:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}}),22562:((r,x,s)=>{var a={};r.exports=a;var g=s(41598),c=s(31725),h=s(53614),l=s(53402),o=s(15647),u=s(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(f){var p={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:f.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!f.hasOwnProperty("position")&&f.hasOwnProperty("vertices")?f.position=g.centre(f.vertices):f.hasOwnProperty("vertices")||(p.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var m=l.extend(p,f);return v(m,f),m.setOnCollideWith=function(y,S){return S?this.onCollideWith[y.id]=S:delete this.onCollideWith[y.id],this},m},a.nextGroup=function(f){return f?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var v=function(f,p){if(p=p||{},a.set(f,{bounds:f.bounds||o.create(f.vertices),positionPrev:f.positionPrev||c.clone(f.position),anglePrev:f.anglePrev||f.angle,vertices:f.vertices,parts:f.parts||[f],isStatic:f.isStatic,isSleeping:f.isSleeping,parent:f.parent||f}),g.rotate(f.vertices,f.angle,f.position),u.rotate(f.axes,f.angle),o.update(f.bounds,f.vertices,f.velocity),a.set(f,{axes:p.axes||f.axes,area:p.area||f.area,mass:p.mass||f.mass,inertia:p.inertia||f.inertia}),f.parts.length===1){var m=f.bounds,y=f.centerOfMass,S=f.centerOffset,T=m.max.x-m.min.x,b=m.max.y-m.min.y;y.x=-(m.min.x-f.position.x)/T,y.y=-(m.min.y-f.position.y)/b,S.x=T*y.x,S.y=b*y.y}};a.set=function(f,p,m){var y;typeof p=="string"&&(y=p,p={},p[y]=m);for(y in p)if(Object.prototype.hasOwnProperty.call(p,y))switch(m=p[y],y){case"isStatic":a.setStatic(f,m);break;case"isSleeping":h.set(f,m);break;case"mass":a.setMass(f,m);break;case"density":a.setDensity(f,m);break;case"inertia":a.setInertia(f,m);break;case"vertices":a.setVertices(f,m);break;case"position":a.setPosition(f,m);break;case"angle":a.setAngle(f,m);break;case"velocity":a.setVelocity(f,m);break;case"angularVelocity":a.setAngularVelocity(f,m);break;case"speed":a.setSpeed(f,m);break;case"angularSpeed":a.setAngularSpeed(f,m);break;case"parts":a.setParts(f,m);break;case"centre":a.setCentre(f,m);break;default:f[y]=m}},a.setStatic=function(f,p){for(var m=0;m<f.parts.length;m++){var y=f.parts[m];p?(y.isStatic||(y._original={restitution:y.restitution,friction:y.friction,mass:y.mass,inertia:y.inertia,density:y.density,inverseMass:y.inverseMass,inverseInertia:y.inverseInertia}),y.restitution=0,y.friction=1,y.mass=y.inertia=y.density=1/0,y.inverseMass=y.inverseInertia=0,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.anglePrev=y.angle,y.angularVelocity=0,y.speed=0,y.angularSpeed=0,y.motion=0):y._original&&(y.restitution=y._original.restitution,y.friction=y._original.friction,y.mass=y._original.mass,y.inertia=y._original.inertia,y.density=y._original.density,y.inverseMass=y._original.inverseMass,y.inverseInertia=y._original.inverseInertia,y._original=null),y.isStatic=p}},a.setMass=function(f,p){var m=f.inertia/(f.mass/6);f.inertia=m*(p/6),f.inverseInertia=1/f.inertia,f.mass=p,f.inverseMass=1/f.mass,f.density=f.mass/f.area},a.setDensity=function(f,p){a.setMass(f,p*f.area),f.density=p},a.setInertia=function(f,p){f.inertia=p,f.inverseInertia=1/f.inertia},a.setVertices=function(f,p){p[0].body===f?f.vertices=p:f.vertices=g.create(p,f),f.axes=u.fromVertices(f.vertices),f.area=g.area(f.vertices),a.setMass(f,f.density*f.area);var m=g.centre(f.vertices);g.translate(f.vertices,m,-1),a.setInertia(f,a._inertiaScale*g.inertia(f.vertices,f.mass)),g.translate(f.vertices,f.position),o.update(f.bounds,f.vertices,f.velocity)},a.setParts=function(f,p,m){var y;for(p=p.slice(0),f.parts.length=0,f.parts.push(f),f.parent=f,y=0;y<p.length;y++){var S=p[y];S!==f&&(S.parent=f,f.parts.push(S))}if(f.parts.length!==1){if(m=typeof m<"u"?m:!0,m){var T=[];for(y=0;y<p.length;y++)T=T.concat(p[y].vertices);g.clockwiseSort(T);var b=g.hull(T),P=g.centre(b);a.setVertices(f,b),g.translate(f.vertices,P)}var w=a._totalProperties(f),A=w.centre.x,R=w.centre.y,D=f.bounds,L=f.centerOfMass,k=f.centerOffset;o.update(D,f.vertices,f.velocity),L.x=-(D.min.x-A)/(D.max.x-D.min.x),L.y=-(D.min.y-R)/(D.max.y-D.min.y),k.x=A,k.y=R,f.area=w.area,f.parent=f,f.position.x=A,f.position.y=R,f.positionPrev.x=A,f.positionPrev.y=R,a.setMass(f,w.mass),a.setInertia(f,w.inertia),a.setPosition(f,w.centre)}},a.setCentre=function(f,p,m){m?(f.positionPrev.x+=p.x,f.positionPrev.y+=p.y,f.position.x+=p.x,f.position.y+=p.y):(f.positionPrev.x=p.x-(f.position.x-f.positionPrev.x),f.positionPrev.y=p.y-(f.position.y-f.positionPrev.y),f.position.x=p.x,f.position.y=p.y)},a.setPosition=function(f,p,m){var y=c.sub(p,f.position);m?(f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.velocity.x=y.x,f.velocity.y=y.y,f.speed=c.magnitude(y)):(f.positionPrev.x+=y.x,f.positionPrev.y+=y.y);for(var S=0;S<f.parts.length;S++){var T=f.parts[S];T.position.x+=y.x,T.position.y+=y.y,g.translate(T.vertices,y),o.update(T.bounds,T.vertices,f.velocity)}},a.setAngle=function(f,p,m){var y=p-f.angle;m?(f.anglePrev=f.angle,f.angularVelocity=y,f.angularSpeed=Math.abs(y)):f.anglePrev+=y;for(var S=0;S<f.parts.length;S++){var T=f.parts[S];T.angle+=y,g.rotate(T.vertices,y,f.position),u.rotate(T.axes,y),o.update(T.bounds,T.vertices,f.velocity),S>0&&c.rotateAbout(T.position,y,f.position,T.position)}},a.setVelocity=function(f,p){var m=f.deltaTime/a._baseDelta;f.positionPrev.x=f.position.x-p.x*m,f.positionPrev.y=f.position.y-p.y*m,f.velocity.x=(f.position.x-f.positionPrev.x)/m,f.velocity.y=(f.position.y-f.positionPrev.y)/m,f.speed=c.magnitude(f.velocity)},a.getVelocity=function(f){var p=a._baseDelta/f.deltaTime;return{x:(f.position.x-f.positionPrev.x)*p,y:(f.position.y-f.positionPrev.y)*p}},a.getSpeed=function(f){return c.magnitude(a.getVelocity(f))},a.setSpeed=function(f,p){a.setVelocity(f,c.mult(c.normalise(a.getVelocity(f)),p))},a.setAngularVelocity=function(f,p){var m=f.deltaTime/a._baseDelta;f.anglePrev=f.angle-p*m,f.angularVelocity=(f.angle-f.anglePrev)/m,f.angularSpeed=Math.abs(f.angularVelocity)},a.getAngularVelocity=function(f){return(f.angle-f.anglePrev)*a._baseDelta/f.deltaTime},a.getAngularSpeed=function(f){return Math.abs(a.getAngularVelocity(f))},a.setAngularSpeed=function(f,p){a.setAngularVelocity(f,l.sign(a.getAngularVelocity(f))*p)},a.translate=function(f,p,m){a.setPosition(f,c.add(f.position,p),m)},a.rotate=function(f,p,m,y){if(!m)a.setAngle(f,f.angle+p,y);else{var S=Math.cos(p),T=Math.sin(p),b=f.position.x-m.x,P=f.position.y-m.y;a.setPosition(f,{x:m.x+(b*S-P*T),y:m.y+(b*T+P*S)},y),a.setAngle(f,f.angle+p,y)}},a.scale=function(f,p,m,y){var S=0,T=0;y=y||f.position;for(var b=f.inertia===1/0,P=0;P<f.parts.length;P++){var w=f.parts[P];w.scale.x=p,w.scale.y=m,g.scale(w.vertices,p,m,y),w.axes=u.fromVertices(w.vertices),w.area=g.area(w.vertices),a.setMass(w,f.density*w.area),g.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),a.setInertia(w,a._inertiaScale*g.inertia(w.vertices,w.mass)),g.translate(w.vertices,{x:w.position.x,y:w.position.y}),P>0&&(S+=w.area,T+=w.inertia),w.position.x=y.x+(w.position.x-y.x)*p,w.position.y=y.y+(w.position.y-y.y)*m,o.update(w.bounds,w.vertices,f.velocity)}f.parts.length>1&&(f.area=S,f.isStatic||(a.setMass(f,f.density*S),a.setInertia(f,T))),f.circleRadius&&(p===m?f.circleRadius*=p:f.circleRadius=null),b&&a.setInertia(f,1/0)},a.update=function(f,p){p=(typeof p<"u"?p:16.666666666666668)*f.timeScale;var m=p*p,y=a._timeCorrection?p/(f.deltaTime||p):1,S=1-f.frictionAir*(p/l._baseDelta),T=(f.position.x-f.positionPrev.x)*y,b=(f.position.y-f.positionPrev.y)*y;f.velocity.x=T*S+f.force.x/f.mass*m,f.velocity.y=b*S+f.force.y/f.mass*m,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.position.x+=f.velocity.x,f.position.y+=f.velocity.y,f.deltaTime=p,f.angularVelocity=(f.angle-f.anglePrev)*S*y+f.torque/f.inertia*m,f.anglePrev=f.angle,f.angle+=f.angularVelocity,f.speed=c.magnitude(f.velocity),f.angularSpeed=Math.abs(f.angularVelocity);for(var P=0;P<f.parts.length;P++){var w=f.parts[P];g.translate(w.vertices,f.velocity),P>0&&(w.position.x+=f.velocity.x,w.position.y+=f.velocity.y),f.angularVelocity!==0&&(g.rotate(w.vertices,f.angularVelocity,f.position),u.rotate(w.axes,f.angularVelocity),P>0&&c.rotateAbout(w.position,f.angularVelocity,f.position,w.position)),o.update(w.bounds,w.vertices,f.velocity)}},a.updateVelocities=function(f){var p=a._baseDelta/f.deltaTime,m=f.velocity;m.x=(f.position.x-f.positionPrev.x)*p,m.y=(f.position.y-f.positionPrev.y)*p,f.speed=Math.sqrt(m.x*m.x+m.y*m.y),f.angularVelocity=(f.angle-f.anglePrev)*p,f.angularSpeed=Math.abs(f.angularVelocity)},a.applyForce=function(f,p,m){var y={x:p.x-f.position.x,y:p.y-f.position.y};f.force.x+=m.x,f.force.y+=m.y,f.torque+=y.x*m.y-y.y*m.x},a._totalProperties=function(f){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},m=f.parts.length===1?0:1;m<f.parts.length;m++){var y=f.parts[m],S=y.mass!==1/0?y.mass:1;p.mass+=S,p.area+=y.area,p.inertia+=y.inertia,p.centre=c.add(p.centre,c.mult(y.position,S))}return p.centre=c.div(p.centre,p.mass),p},a.wrap=function(f,p){var m=o.wrap(f.bounds,p);return m&&a.translate(f,m),m}})()}),69351:((r,x,s)=>{var a={};r.exports=a;var g=s(35810),c=s(53402),h=s(15647),l=s(22562);(function(){a.create=function(o){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},a.setModified=function(o,u,v,f){if(g.trigger(o,"compositeModified",o),o.isModified=u,u&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),v&&o.parent&&a.setModified(o.parent,u,v,f),f)for(var p=0;p<o.composites.length;p++){var m=o.composites[p];a.setModified(m,u,v,f)}},a.add=function(o,u){var v=[].concat(u);g.trigger(o,"beforeAdd",{object:u});for(var f=0;f<v.length;f++){var p=v[f];switch(p.type){case"body":if(p.parent!==p){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(o,p);break;case"constraint":a.addConstraint(o,p);break;case"composite":a.addComposite(o,p);break;case"mouseConstraint":a.addConstraint(o,p.constraint);break}}return g.trigger(o,"afterAdd",{object:u}),o},a.remove=function(o,u,v){var f=[].concat(u);g.trigger(o,"beforeRemove",{object:u});for(var p=0;p<f.length;p++){var m=f[p];switch(m.type){case"body":a.removeBody(o,m,v);break;case"constraint":a.removeConstraint(o,m,v);break;case"composite":a.removeComposite(o,m,v);break;case"mouseConstraint":a.removeConstraint(o,m.constraint);break}}return g.trigger(o,"afterRemove",{object:u}),o},a.addComposite=function(o,u){return o.composites.push(u),u.parent=o,a.setModified(o,!0,!0,!1),o},a.removeComposite=function(o,u,v){var f=c.indexOf(o.composites,u);if(f!==-1){var p=a.allBodies(u);a.removeCompositeAt(o,f);for(var m=0;m<p.length;m++)p[m].sleepCounter=0}if(v)for(var m=0;m<o.composites.length;m++)a.removeComposite(o.composites[m],u,!0);return o},a.removeCompositeAt=function(o,u){return o.composites.splice(u,1),a.setModified(o,!0,!0,!1),o},a.addBody=function(o,u){return o.bodies.push(u),a.setModified(o,!0,!0,!1),o},a.removeBody=function(o,u,v){var f=c.indexOf(o.bodies,u);if(f!==-1&&(a.removeBodyAt(o,f),u.sleepCounter=0),v)for(var p=0;p<o.composites.length;p++)a.removeBody(o.composites[p],u,!0);return o},a.removeBodyAt=function(o,u){return o.bodies.splice(u,1),a.setModified(o,!0,!0,!1),o},a.addConstraint=function(o,u){return o.constraints.push(u),a.setModified(o,!0,!0,!1),o},a.removeConstraint=function(o,u,v){var f=c.indexOf(o.constraints,u);if(f!==-1&&a.removeConstraintAt(o,f),v)for(var p=0;p<o.composites.length;p++)a.removeConstraint(o.composites[p],u,!0);return o},a.removeConstraintAt=function(o,u){return o.constraints.splice(u,1),a.setModified(o,!0,!0,!1),o},a.clear=function(o,u,v){if(v)for(var f=0;f<o.composites.length;f++)a.clear(o.composites[f],u,!0);return u?o.bodies=o.bodies.filter(function(p){return p.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,a.setModified(o,!0,!0,!1),o},a.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var u=[].concat(o.bodies),v=0;v<o.composites.length;v++)u=u.concat(a.allBodies(o.composites[v]));return o.cache&&(o.cache.allBodies=u),u},a.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var u=[].concat(o.constraints),v=0;v<o.composites.length;v++)u=u.concat(a.allConstraints(o.composites[v]));return o.cache&&(o.cache.allConstraints=u),u},a.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var u=[].concat(o.composites),v=0;v<o.composites.length;v++)u=u.concat(a.allComposites(o.composites[v]));return o.cache&&(o.cache.allComposites=u),u},a.get=function(o,u,v){var f,p;switch(v){case"body":f=a.allBodies(o);break;case"constraint":f=a.allConstraints(o);break;case"composite":f=a.allComposites(o).concat(o);break}return f?(p=f.filter(function(m){return m.id.toString()===u.toString()}),p.length===0?null:p[0]):null},a.move=function(o,u,v){return a.remove(o,u),a.add(v,u),o},a.rebase=function(o){for(var u=a.allBodies(o).concat(a.allConstraints(o)).concat(a.allComposites(o)),v=0;v<u.length;v++)u[v].id=c.nextId();return o},a.translate=function(o,u,v){for(var f=v?a.allBodies(o):o.bodies,p=0;p<f.length;p++)l.translate(f[p],u);return o},a.rotate=function(o,u,v,f){for(var p=Math.cos(u),m=Math.sin(u),y=f?a.allBodies(o):o.bodies,S=0;S<y.length;S++){var T=y[S],b=T.position.x-v.x,P=T.position.y-v.y;l.setPosition(T,{x:v.x+(b*p-P*m),y:v.y+(b*m+P*p)}),l.rotate(T,u)}return o},a.scale=function(o,u,v,f,p){for(var m=p?a.allBodies(o):o.bodies,y=0;y<m.length;y++){var S=m[y],T=S.position.x-f.x,b=S.position.y-f.y;l.setPosition(S,{x:f.x+T*u,y:f.y+b*v}),l.scale(S,u,v)}return o},a.bounds=function(o){for(var u=a.allBodies(o),v=[],f=0;f<u.length;f+=1){var p=u[f];v.push(p.bounds.min,p.bounds.max)}return h.create(v)},a.wrap=function(o,u){var v=h.wrap(a.bounds(o),u);return v&&a.translate(o,v),v}})()}),4372:((r,x,s)=>{var a={};r.exports=a;var g=s(69351);(function(){a.create=g.create,a.add=g.add,a.remove=g.remove,a.clear=g.clear,a.addComposite=g.addComposite,a.addBody=g.addBody,a.addConstraint=g.addConstraint})()}),52284:((r,x,s)=>{var a={};r.exports=a;var g=s(41598),c=s(4506);(function(){var h=[],l={overlap:0,axis:null},o={overlap:0,axis:null};a.create=function(u,v){return{pair:null,collided:!1,bodyA:u,bodyB:v,parentA:u.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(u,v,f){if(a._overlapAxes(l,u.vertices,v.vertices,u.axes),l.overlap<=0||(a._overlapAxes(o,v.vertices,u.vertices,v.axes),o.overlap<=0))return null;var p=f&&f.table[c.id(u,v)],m;p?m=p.collision:(m=a.create(u,v),m.collided=!0,m.bodyA=u.id<v.id?u:v,m.bodyB=u.id<v.id?v:u,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent),u=m.bodyA,v=m.bodyB;var y;l.overlap<o.overlap?y=l:y=o;var S=m.normal,T=m.tangent,b=m.penetration,P=m.supports,w=y.overlap,A=y.axis,R=A.x,D=A.y,L=v.position.x-u.position.x,k=v.position.y-u.position.y;R*L+D*k>=0&&(R=-R,D=-D),S.x=R,S.y=D,T.x=-D,T.y=R,b.x=R*w,b.y=D*w,m.depth=w;var B=a._findSupports(u,v,S,1),F=0;if(g.contains(u.vertices,B[0])&&(P[F++]=B[0]),g.contains(u.vertices,B[1])&&(P[F++]=B[1]),F<2){var G=a._findSupports(v,u,S,-1);g.contains(v.vertices,G[0])&&(P[F++]=G[0]),F<2&&g.contains(v.vertices,G[1])&&(P[F++]=G[1])}return F===0&&(P[F++]=B[0]),m.supportCount=F,m},a._overlapAxes=function(u,v,f,p){var m=v.length,y=f.length,S=v[0].x,T=v[0].y,b=f[0].x,P=f[0].y,w=p.length,A=Number.MAX_VALUE,R=0,D,L,k,B,F,G;for(F=0;F<w;F++){var N=p[F],W=N.x,X=N.y,$=S*W+T*X,J=b*W+P*X,V=$,Y=J;for(G=1;G<m;G+=1)B=v[G].x*W+v[G].y*X,B>V?V=B:B<$&&($=B);for(G=1;G<y;G+=1)B=f[G].x*W+f[G].y*X,B>Y?Y=B:B<J&&(J=B);if(L=V-J,k=Y-$,D=L<k?L:k,D<A&&(A=D,R=F,D<=0))break}u.axis=p[R],u.overlap=A},a._findSupports=function(u,v,f,p){var m=v.vertices,y=m.length,S=u.position.x,T=u.position.y,b=f.x*p,P=f.y*p,w=m[0],A=w,R=b*(S-A.x)+P*(T-A.y),D,L,k;for(k=1;k<y;k+=1)A=m[k],L=b*(S-A.x)+P*(T-A.y),L<R&&(R=L,w=A);return D=m[(y+w.index-1)%y],R=b*(S-D.x)+P*(T-D.y),A=m[(w.index+1)%y],b*(S-A.x)+P*(T-A.y)<R?(h[0]=w,h[1]=A,h):(h[0]=w,h[1]=D,h)}})()}),43424:(r=>{var x={};r.exports=x,(function(){x.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}})()}),81388:((r,x,s)=>{var a={};r.exports=a;var g=s(53402),c=s(52284);(function(){a.create=function(h){var l={bodies:[],collisions:[],pairs:null};return g.extend(l,h)},a.setBodies=function(h,l){h.bodies=l.slice(0)},a.clear=function(h){h.bodies=[],h.collisions=[]},a.collisions=function(h){var l=h.pairs,o=h.bodies,u=o.length,v=a.canCollide,f=c.collides,p=h.collisions,m=0,y,S;for(o.sort(a._compareBoundsX),y=0;y<u;y++){var T=o[y],b=T.bounds,P=T.bounds.max.x,w=T.bounds.max.y,A=T.bounds.min.y,R=T.isStatic||T.isSleeping,D=T.parts.length,L=D===1;for(S=y+1;S<u;S++){var k=o[S],B=k.bounds;if(B.min.x>P)break;if(!(w<B.min.y||A>B.max.y)&&!(R&&(k.isStatic||k.isSleeping))&&v(T.collisionFilter,k.collisionFilter)){var F=k.parts.length;if(L&&F===1){var G=f(T,k,l);G&&(p[m++]=G)}else for(var N=D>1?1:0,W=F>1?1:0,X=N;X<D;X++)for(var $=T.parts[X],b=$.bounds,J=W;J<F;J++){var V=k.parts[J],B=V.bounds;if(!(b.min.x>B.max.x||b.max.x<B.min.x||b.max.y<B.min.y||b.min.y>B.max.y)){var G=f($,V,l);G&&(p[m++]=G)}}}}}return p.length!==m&&(p.length=m),p},a.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},a._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()}),4506:((r,x,s)=>{var a={};r.exports=a;var g=s(43424);(function(){a.create=function(c,h){var l=c.bodyA,o=c.bodyB,u={id:a.id(l,o),bodyA:l,bodyB:o,collision:c,contacts:[g.create(),g.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||o.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(u,c,h),u},a.update=function(c,h,l){var o=h.supports,u=h.supportCount,v=c.contacts,f=h.parentA,p=h.parentB;c.isActive=!0,c.timeUpdated=l,c.collision=h,c.separation=h.depth,c.inverseMass=f.inverseMass+p.inverseMass,c.friction=f.friction<p.friction?f.friction:p.friction,c.frictionStatic=f.frictionStatic>p.frictionStatic?f.frictionStatic:p.frictionStatic,c.restitution=f.restitution>p.restitution?f.restitution:p.restitution,c.slop=f.slop>p.slop?f.slop:p.slop,c.contactCount=u,h.pair=c;var m=o[0],y=v[0],S=o[1],T=v[1];(T.vertex===m||y.vertex===S)&&(v[1]=y,v[0]=y=T,T=v[1]),y.vertex=m,T.vertex=S},a.setActive=function(c,h,l){h?(c.isActive=!0,c.timeUpdated=l):(c.isActive=!1,c.contactCount=0)},a.id=function(c,h){return c.id<h.id?c.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+c.id.toString(36)}})()}),99561:((r,x,s)=>{var a={};r.exports=a;var g=s(4506),c=s(53402);(function(){a.create=function(h){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},a.update=function(h,l,o){var u=g.update,v=g.create,f=g.setActive,p=h.table,m=h.list,y=m.length,S=y,T=h.collisionStart,b=h.collisionEnd,P=h.collisionActive,w=l.length,A=0,R=0,D=0,L,k,B;for(B=0;B<w;B++)L=l[B],k=L.pair,k?(k.isActive&&(P[D++]=k),u(k,L,o)):(k=v(L,o),p[k.id]=k,T[A++]=k,m[S++]=k);for(S=0,y=m.length,B=0;B<y;B++)k=m[B],k.timeUpdated>=o?m[S++]=k:(f(k,!1,o),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?m[S++]=k:(b[R++]=k,delete p[k.id]));m.length!==S&&(m.length=S),T.length!==A&&(T.length=A),b.length!==R&&(b.length=R),P.length!==D&&(P.length=D)},a.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()}),73296:((r,x,s)=>{var a={};r.exports=a;var g=s(31725),c=s(52284),h=s(15647),l=s(66280),o=s(41598);(function(){a.collides=function(u,v){for(var f=[],p=v.length,m=u.bounds,y=c.collides,S=h.overlaps,T=0;T<p;T++){var b=v[T],P=b.parts.length,w=P===1?0:1;if(u!==b&&S(b.bounds,m))for(var A=w;A<P;A++){var R=b.parts[A];if(S(R.bounds,m)){var D=y(R,u);if(D){f.push(D);break}}}}return f},a.ray=function(u,v,f,p){p=p||1e-100;for(var m=g.angle(v,f),y=g.magnitude(g.sub(v,f)),S=(f.x+v.x)*.5,T=(f.y+v.y)*.5,b=l.rectangle(S,T,y,p,{angle:m}),P=a.collides(b,u),w=0;w<P.length;w+=1){var A=P[w];A.body=A.bodyB=A.bodyA}return P},a.region=function(u,v,f){for(var p=[],m=0;m<u.length;m++){var y=u[m],S=h.overlaps(y.bounds,v);(S&&!f||!S&&f)&&p.push(y)}return p},a.point=function(u,v){for(var f=[],p=0;p<u.length;p++){var m=u[p];if(h.contains(m.bounds,v))for(var y=m.parts.length===1?0:1;y<m.parts.length;y++){var S=m.parts[y];if(h.contains(S.bounds,v)&&o.contains(S.vertices,v)){f.push(m);break}}}return f}})()}),66272:((r,x,s)=>{var a={};r.exports=a;var g=s(41598),c=s(53402),h=s(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(l){var o,u,v,f=l.length;for(o=0;o<f;o++)u=l[o],u.isActive&&(v=u.contactCount,u.collision.parentA.totalContacts+=v,u.collision.parentB.totalContacts+=v)},a.solvePosition=function(l,o,u){var v,f,p,m,y,S,T,b,P=a._positionDampen*(u||1),w=c.clamp(o/c._baseDelta,0,1),A=l.length;for(v=0;v<A;v++)f=l[v],!(!f.isActive||f.isSensor)&&(p=f.collision,m=p.parentA,y=p.parentB,S=p.normal,f.separation=p.depth+S.x*(y.positionImpulse.x-m.positionImpulse.x)+S.y*(y.positionImpulse.y-m.positionImpulse.y));for(v=0;v<A;v++)f=l[v],!(!f.isActive||f.isSensor)&&(p=f.collision,m=p.parentA,y=p.parentB,S=p.normal,b=f.separation-f.slop*w,(m.isStatic||y.isStatic)&&(b*=2),m.isStatic||m.isSleeping||(T=P/m.totalContacts,m.positionImpulse.x+=S.x*b*T,m.positionImpulse.y+=S.y*b*T),y.isStatic||y.isSleeping||(T=P/y.totalContacts,y.positionImpulse.x-=S.x*b*T,y.positionImpulse.y-=S.y*b*T))},a.postSolvePosition=function(l){for(var o=a._positionWarming,u=l.length,v=g.translate,f=h.update,p=0;p<u;p++){var m=l[p],y=m.positionImpulse,S=y.x,T=y.y,b=m.velocity;if(m.totalContacts=0,S!==0||T!==0){for(var P=0;P<m.parts.length;P++){var w=m.parts[P];v(w.vertices,y),f(w.bounds,w.vertices,b),w.position.x+=S,w.position.y+=T}m.positionPrev.x+=S,m.positionPrev.y+=T,S*b.x+T*b.y<0?(y.x=0,y.y=0):(y.x*=o,y.y*=o)}}},a.preSolveVelocity=function(l){var o=l.length,u,v;for(u=0;u<o;u++){var f=l[u];if(!(!f.isActive||f.isSensor)){var p=f.contacts,m=f.contactCount,y=f.collision,S=y.parentA,T=y.parentB,b=y.normal,P=y.tangent;for(v=0;v<m;v++){var w=p[v],A=w.vertex,R=w.normalImpulse,D=w.tangentImpulse;if(R!==0||D!==0){var L=b.x*R+P.x*D,k=b.y*R+P.y*D;S.isStatic||S.isSleeping||(S.positionPrev.x+=L*S.inverseMass,S.positionPrev.y+=k*S.inverseMass,S.anglePrev+=S.inverseInertia*((A.x-S.position.x)*k-(A.y-S.position.y)*L)),T.isStatic||T.isSleeping||(T.positionPrev.x-=L*T.inverseMass,T.positionPrev.y-=k*T.inverseMass,T.anglePrev-=T.inverseInertia*((A.x-T.position.x)*k-(A.y-T.position.y)*L))}}}}},a.solveVelocity=function(l,o){var u=o/c._baseDelta,v=u*u,f=v*u,p=-a._restingThresh*u,m=a._restingThreshTangent,y=a._frictionNormalMultiplier*u,S=a._frictionMaxStatic,T=l.length,b,P,w,A;for(w=0;w<T;w++){var R=l[w];if(!(!R.isActive||R.isSensor)){var D=R.collision,L=D.parentA,k=D.parentB,B=D.normal.x,F=D.normal.y,G=D.tangent.x,N=D.tangent.y,W=R.inverseMass,X=R.friction*R.frictionStatic*y,$=R.contacts,J=R.contactCount,V=1/J,Y=L.position.x-L.positionPrev.x,z=L.position.y-L.positionPrev.y,K=L.angle-L.anglePrev,H=k.position.x-k.positionPrev.x,Q=k.position.y-k.positionPrev.y,j=k.angle-k.anglePrev;for(A=0;A<J;A++){var q=$[A],tt=q.vertex,st=tt.x-L.position.x,nt=tt.y-L.position.y,at=tt.x-k.position.x,ot=tt.y-k.position.y,mt=Y-nt*K,St=z+st*K,Ct=H-ot*j,kt=Q+at*j,Vt=mt-Ct,It=St-kt,yt=B*Vt+F*It,Lt=G*Vt+N*It,Ft=R.separation+yt,$t=Math.min(Ft,1);$t=Ft<0?0:$t;var Jt=$t*X;Lt<-Jt||Lt>Jt?(P=Lt>0?Lt:-Lt,b=R.friction*(Lt>0?1:-1)*f,b<-P?b=-P:b>P&&(b=P)):(b=Lt,P=S);var jt=st*F-nt*B,Zt=at*F-ot*B,Yt=V/(W+L.inverseInertia*jt*jt+k.inverseInertia*Zt*Zt),ke=(1+R.restitution)*yt*Yt;if(b*=Yt,yt<p)q.normalImpulse=0;else{var ze=q.normalImpulse;q.normalImpulse+=ke,q.normalImpulse>0&&(q.normalImpulse=0),ke=q.normalImpulse-ze}if(Lt<-m||Lt>m)q.tangentImpulse=0;else{var ce=q.tangentImpulse;q.tangentImpulse+=b,q.tangentImpulse<-P&&(q.tangentImpulse=-P),q.tangentImpulse>P&&(q.tangentImpulse=P),b=q.tangentImpulse-ce}var Ae=B*ke+G*b,Re=F*ke+N*b;L.isStatic||L.isSleeping||(L.positionPrev.x+=Ae*L.inverseMass,L.positionPrev.y+=Re*L.inverseMass,L.anglePrev+=(st*Re-nt*Ae)*L.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=Ae*k.inverseMass,k.positionPrev.y-=Re*k.inverseMass,k.anglePrev-=(at*Re-ot*Ae)*k.inverseInertia)}}}}})()}),48140:((r,x,s)=>{var a={};r.exports=a;var g=s(41598),c=s(31725),h=s(53614),l=s(15647),o=s(66615),u=s(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(v){var f=v;f.bodyA&&!f.pointA&&(f.pointA={x:0,y:0}),f.bodyB&&!f.pointB&&(f.pointB={x:0,y:0});var p=f.bodyA?c.add(f.bodyA.position,f.pointA):f.pointA,m=f.bodyB?c.add(f.bodyB.position,f.pointB):f.pointB,y=c.magnitude(c.sub(p,m));f.length=typeof f.length<"u"?f.length:y,f.id=f.id||u.nextId(),f.label=f.label||"Constraint",f.type="constraint",f.stiffness=f.stiffness||(f.length>0?1:.7),f.damping=f.damping||0,f.angularStiffness=f.angularStiffness||0,f.angleA=f.bodyA?f.bodyA.angle:f.angleA,f.angleB=f.bodyB?f.bodyB.angle:f.angleB,f.plugin={};var S={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return f.length===0&&f.stiffness>.1?(S.type="pin",S.anchors=!1):f.stiffness<.9&&(S.type="spring"),f.render=u.extend(S,f.render),f},a.preSolveAll=function(v){for(var f=0;f<v.length;f+=1){var p=v[f],m=p.constraintImpulse;p.isStatic||m.x===0&&m.y===0&&m.angle===0||(p.position.x+=m.x,p.position.y+=m.y,p.angle+=m.angle)}},a.solveAll=function(v,f){for(var p=u.clamp(f/u._baseDelta,0,1),m=0;m<v.length;m+=1){var y=v[m],S=!y.bodyA||y.bodyA&&y.bodyA.isStatic,T=!y.bodyB||y.bodyB&&y.bodyB.isStatic;(S||T)&&a.solve(v[m],p)}for(m=0;m<v.length;m+=1)y=v[m],S=!y.bodyA||y.bodyA&&y.bodyA.isStatic,T=!y.bodyB||y.bodyB&&y.bodyB.isStatic,!S&&!T&&a.solve(v[m],p)},a.solve=function(v,f){var p=v.bodyA,m=v.bodyB,y=v.pointA,S=v.pointB;if(!(!p&&!m)){p&&!p.isStatic&&(c.rotate(y,p.angle-v.angleA,y),v.angleA=p.angle),m&&!m.isStatic&&(c.rotate(S,m.angle-v.angleB,S),v.angleB=m.angle);var T=y,b=S;if(p&&(T=c.add(p.position,y)),m&&(b=c.add(m.position,S)),!(!T||!b)){var P=c.sub(T,b),w=c.magnitude(P);w<a._minLength&&(w=a._minLength);var A=(w-v.length)/w,R=v.stiffness>=1||v.length===0,D=R?v.stiffness*f:v.stiffness*f*f,L=v.damping*f,k=c.mult(P,A*D),B=(p?p.inverseMass:0)+(m?m.inverseMass:0),F=(p?p.inverseInertia:0)+(m?m.inverseInertia:0),G=B+F,N,W,X,$,J;if(L>0){var V=c.create();X=c.div(P,w),J=c.sub(m&&c.sub(m.position,m.positionPrev)||V,p&&c.sub(p.position,p.positionPrev)||V),$=c.dot(X,J)}p&&!p.isStatic&&(W=p.inverseMass/B,p.constraintImpulse.x-=k.x*W,p.constraintImpulse.y-=k.y*W,p.position.x-=k.x*W,p.position.y-=k.y*W,L>0&&(p.positionPrev.x-=L*X.x*$*W,p.positionPrev.y-=L*X.y*$*W),N=c.cross(y,k)/G*a._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle-=N,p.angle-=N),m&&!m.isStatic&&(W=m.inverseMass/B,m.constraintImpulse.x+=k.x*W,m.constraintImpulse.y+=k.y*W,m.position.x+=k.x*W,m.position.y+=k.y*W,L>0&&(m.positionPrev.x+=L*X.x*$*W,m.positionPrev.y+=L*X.y*$*W),N=c.cross(S,k)/G*a._torqueDampen*m.inverseInertia*(1-v.angularStiffness),m.constraintImpulse.angle+=N,m.angle+=N)}}},a.postSolveAll=function(v){for(var f=0;f<v.length;f++){var p=v[f],m=p.constraintImpulse;if(!(p.isStatic||m.x===0&&m.y===0&&m.angle===0)){h.set(p,!1);for(var y=0;y<p.parts.length;y++){var S=p.parts[y];g.translate(S.vertices,m),y>0&&(S.position.x+=m.x,S.position.y+=m.y),m.angle!==0&&(g.rotate(S.vertices,m.angle,p.position),o.rotate(S.axes,m.angle),y>0&&c.rotateAbout(S.position,m.angle,p.position,S.position)),l.update(S.bounds,S.vertices,p.velocity)}m.angle*=a._warming,m.x*=a._warming,m.y*=a._warming}}},a.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},a.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},a.currentLength=function(v){var f=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),p=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),m=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),S=f-m,T=p-y;return Math.sqrt(S*S+T*T)}})()}),53402:((r,x,s)=>{var a={};r.exports=a,(function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(c,h){var l,o;typeof h=="boolean"?(l=2,o=h):(l=1,o=!0);for(var u=l;u<arguments.length;u++){var v=arguments[u];if(v)for(var f in v)o&&v[f]&&v[f].constructor===Object&&(!c[f]||c[f].constructor===Object)?(c[f]=c[f]||{},a.extend(c[f],o,v[f])):c[f]=v[f]}return c},a.clone=function(c,h){return a.extend({},h,c)},a.keys=function(c){if(Object.keys)return Object.keys(c);var h=[];for(var l in c)h.push(l);return h},a.values=function(c){var h=[];if(Object.keys){for(var l=Object.keys(c),o=0;o<l.length;o++)h.push(c[l[o]]);return h}for(var u in c)h.push(c[u]);return h},a.get=function(c,h,l,o){h=h.split(".").slice(l,o);for(var u=0;u<h.length;u+=1)c=c[h[u]];return c},a.set=function(c,h,l,o,u){var v=h.split(".").slice(o,u);return a.get(c,h,0,-1)[v[v.length-1]]=l,l},a.shuffle=function(c){for(var h=c.length-1;h>0;h--){var l=Math.floor(a.random()*(h+1)),o=c[h];c[h]=c[l],c[l]=o}return c},a.choose=function(c){return c[Math.floor(a.random()*c.length)]},a.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},a.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},a.isFunction=function(c){return typeof c=="function"},a.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},a.isString=function(c){return toString.call(c)==="[object String]"},a.clamp=function(c,h,l){return c<h?h:c>l?l:c},a.sign=function(c){return c<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(c,h){return c=typeof c<"u"?c:0,h=typeof h<"u"?h:1,c+g()*(h-c)};var g=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[c]||(a.warn(c),a._warnedOnce[c]=!0)},a.deprecated=function(c,h,l){c[h]=a.chain(function(){a.warnOnce("🔅 deprecated 🔅",l)},c[h])},a.nextId=function(){return a._nextId++},a.indexOf=function(c,h){if(c.indexOf)return c.indexOf(h);for(var l=0;l<c.length;l++)if(c[l]===h)return l;return-1},a.map=function(c,h){if(c.map)return c.map(h);for(var l=[],o=0;o<c.length;o+=1)l.push(h(c[o]));return l},a.topologicalSort=function(c){var h=[],l=[],o=[];for(var u in c)!l[u]&&!o[u]&&a._topologicalSort(u,l,o,c,h);return h},a._topologicalSort=function(c,h,l,o,u){var v=o[c]||[];l[c]=!0;for(var f=0;f<v.length;f+=1){var p=v[f];l[p]||h[p]||a._topologicalSort(p,h,l,o,u)}l[c]=!1,h[c]=!0,u.push(c)},a.chain=function(){for(var c=[],h=0;h<arguments.length;h+=1){var l=arguments[h];l._chained?c.push.apply(c,l._chained):c.push(l)}var o=function(){for(var u,v=new Array(arguments.length),f=0,p=arguments.length;f<p;f++)v[f]=arguments[f];for(f=0;f<c.length;f+=1){var m=c[f].apply(u,v);typeof m<"u"&&(u=m)}return u};return o._chained=c,o},a.chainPathBefore=function(c,h,l){return a.set(c,h,a.chain(l,a.get(c,h)))},a.chainPathAfter=function(c,h,l){return a.set(c,h,a.chain(a.get(c,h),l))},a.setDecomp=function(c){a._decomp=c},a.getDecomp=function(){var c=a._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof s.g<"u"&&(c=s.g.decomp)}catch{c=null}return c}})()}),48413:((r,x,s)=>{var a={};r.exports=a;var g=s(53614),c=s(66272),h=s(81388),l=s(99561),o=s(35810),u=s(69351),v=s(48140),f=s(53402),p=s(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(m){m=m||{};var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},S=f.extend(y,m);return S.world=m.world||u.create({label:"World"}),S.pairs=m.pairs||l.create(),S.detector=m.detector||h.create(),S.detector.pairs=S.pairs,S.grid={buckets:[]},S.world.gravity=S.gravity,S.broadphase=S.grid,S.metrics={},S},a.update=function(m,y){var S=f.now(),T=m.world,b=m.detector,P=m.pairs,w=m.timing,A=w.timestamp,R;y>a._deltaMax&&f.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),y=typeof y<"u"?y:f._baseDelta,y*=w.timeScale,w.timestamp+=y,w.lastDelta=y;var D={timestamp:w.timestamp,delta:y};o.trigger(m,"beforeUpdate",D);var L=u.allBodies(T),k=u.allConstraints(T),B=u.allComposites(T);for(T.isModified&&(h.setBodies(b,L),u.setModified(T,!1,!1,!0)),m.enableSleeping&&g.update(L,y),a._bodiesApplyGravity(L,m.gravity),a.wrap(L,B),a.attractors(L),y>0&&a._bodiesUpdate(L,y),o.trigger(m,"beforeSolve",D),v.preSolveAll(L),R=0;R<m.constraintIterations;R++)v.solveAll(k,y);v.postSolveAll(L);var F=h.collisions(b);l.update(P,F,A),m.enableSleeping&&g.afterCollisions(P.list),P.collisionStart.length>0&&o.trigger(m,"collisionStart",{pairs:P.collisionStart,timestamp:w.timestamp,delta:y});var G=f.clamp(20/m.positionIterations,0,1);for(c.preSolvePosition(P.list),R=0;R<m.positionIterations;R++)c.solvePosition(P.list,y,G);for(c.postSolvePosition(L),v.preSolveAll(L),R=0;R<m.constraintIterations;R++)v.solveAll(k,y);for(v.postSolveAll(L),c.preSolveVelocity(P.list),R=0;R<m.velocityIterations;R++)c.solveVelocity(P.list,y);return a._bodiesUpdateVelocities(L),P.collisionActive.length>0&&o.trigger(m,"collisionActive",{pairs:P.collisionActive,timestamp:w.timestamp,delta:y}),P.collisionEnd.length>0&&o.trigger(m,"collisionEnd",{pairs:P.collisionEnd,timestamp:w.timestamp,delta:y}),a._bodiesClearForces(L),o.trigger(m,"afterUpdate",D),m.timing.lastElapsed=f.now()-S,m},a.merge=function(m,y){if(f.extend(m,y),y.world){m.world=y.world,a.clear(m);for(var S=u.allBodies(m.world),T=0;T<S.length;T++){var b=S[T];g.set(b,!1),b.id=f.nextId()}}},a.clear=function(m){l.clear(m.pairs),h.clear(m.detector)},a._bodiesClearForces=function(m){for(var y=m.length,S=0;S<y;S++){var T=m[S];T.force.x=0,T.force.y=0,T.torque=0}},a._bodiesApplyGravity=function(m,y){var S=typeof y.scale<"u"?y.scale:.001,T=m.length;if(!(y.x===0&&y.y===0||S===0))for(var b=0;b<T;b++){var P=m[b];P.ignoreGravity||P.isStatic||P.isSleeping||(P.force.y+=P.mass*y.y*S,P.force.x+=P.mass*y.x*S)}},a._bodiesUpdate=function(m,y){for(var S=m.length,T=0;T<S;T++){var b=m[T];b.isStatic||b.isSleeping||p.update(b,y)}},a._bodiesUpdateVelocities=function(m){for(var y=m.length,S=0;S<y;S++)p.updateVelocities(m[S])},a.wrap=function(m,y){for(var S=0;S<m.length;S+=1){var T=m[S];T.wrapBounds!==null&&p.wrap(T,T.wrapBounds)}for(S=0;S<y.length;S+=1){var b=y[S];b.wrapBounds!==null&&u.wrap(b,b.wrapBounds)}},a.attractors=function(m){for(var y=0;y<m.length;y++){var S=m[y],T=S.attractors;if(T&&T.length>0)for(var b=0;b<m.length;b++){var P=m[b];if(y!==b)for(var w=0;w<T.length;w++){var A=T[w],R=A;f.isFunction(A)&&(R=A(S,P)),R&&p.applyForce(P,P.position,R)}}}}})()}),35810:((r,x,s)=>{var a={};r.exports=a;var g=s(53402);(function(){a.on=function(c,h,l){for(var o=h.split(" "),u,v=0;v<o.length;v++)u=o[v],c.events=c.events||{},c.events[u]=c.events[u]||[],c.events[u].push(l);return l},a.off=function(c,h,l){if(!h){c.events={};return}typeof h=="function"&&(l=h,h=g.keys(c.events).join(" "));for(var o=h.split(" "),u=0;u<o.length;u++){var v=c.events[o[u]],f=[];if(l&&v)for(var p=0;p<v.length;p++)v[p]!==l&&f.push(v[p]);c.events[o[u]]=f}},a.trigger=function(c,h,l){var o,u,v,f,p=c.events;if(p&&g.keys(p).length>0){l||(l={}),o=h.split(" ");for(var m=0;m<o.length;m++)if(u=o[m],v=p[u],v){f=g.clone(l,!1),f.name=u,f.source=c;for(var y=0;y<v.length;y++)v[y].apply(c,[f])}}}})()}),6790:((r,x,s)=>{var a={};r.exports=a;var g=s(73832),c=s(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){g.use(a,Array.prototype.slice.call(arguments))},a.before=function(h,l){return h=h.replace(/^Matter./,""),c.chainPathBefore(a,h,l)},a.after=function(h,l){return h=h.replace(/^Matter./,""),c.chainPathAfter(a,h,l)}})()}),73832:((r,x,s)=>{var a={};r.exports=a;var g=s(53402);(function(){a._registry={},a.register=function(c){if(a.isPlugin(c)||g.warn("Plugin.register:",a.toString(c),"does not implement all required fields."),c.name in a._registry){var h=a._registry[c.name],l=a.versionParse(c.version).number,o=a.versionParse(h.version).number;l>o?(g.warn("Plugin.register:",a.toString(h),"was upgraded to",a.toString(c)),a._registry[c.name]=c):l<o?g.warn("Plugin.register:",a.toString(h),"can not be downgraded to",a.toString(c)):c!==h&&g.warn("Plugin.register:",a.toString(c),"is already registered to different plugin object")}else a._registry[c.name]=c;return c},a.resolve=function(c){return a._registry[a.dependencyParse(c).name]},a.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},a.isPlugin=function(c){return c&&c.name&&c.version&&c.install},a.isUsed=function(c,h){return c.used.indexOf(h)>-1},a.isFor=function(c,h){var l=c.for&&a.dependencyParse(c.for);return!c.for||h.name===l.name&&a.versionSatisfies(h.version,l.range)},a.use=function(c,h){if(c.uses=(c.uses||[]).concat(h||[]),c.uses.length===0){g.warn("Plugin.use:",a.toString(c),"does not specify any dependencies to install.");return}for(var l=a.dependencies(c),o=g.topologicalSort(l),u=[],v=0;v<o.length;v+=1)if(o[v]!==c.name){var f=a.resolve(o[v]);if(!f){u.push("❌ "+o[v]);continue}a.isUsed(c,f.name)||(a.isFor(f,c)||(g.warn("Plugin.use:",a.toString(f),"is for",f.for,"but installed on",a.toString(c)+"."),f._warned=!0),f.install?f.install(c):(g.warn("Plugin.use:",a.toString(f),"does not specify an install function."),f._warned=!0),f._warned?(u.push("🔶 "+a.toString(f)),delete f._warned):u.push("✅ "+a.toString(f)),c.used.push(f.name))}u.length>0&&!f.silent&&g.info(u.join("  "))},a.dependencies=function(c,h){var l=a.dependencyParse(c),o=l.name;if(h=h||{},!(o in h)){c=a.resolve(c)||c,h[o]=g.map(c.uses||[],function(v){a.isPlugin(v)&&a.register(v);var f=a.dependencyParse(v),p=a.resolve(v);return p&&!a.versionSatisfies(p.version,f.range)?(g.warn("Plugin.dependencies:",a.toString(p),"does not satisfy",a.toString(f),"used by",a.toString(l)+"."),p._warned=!0,c._warned=!0):p||(g.warn("Plugin.dependencies:",a.toString(v),"used by",a.toString(l),"could not be resolved."),c._warned=!0),f.name});for(var u=0;u<h[o].length;u+=1)a.dependencies(h[o][u],h);return h}},a.dependencyParse=function(c){if(g.isString(c)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(c)||g.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},a.versionParse=function(c){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(c)||g.warn("Plugin.versionParse:",c,"is not a valid version or range.");var l=h.exec(c),o=Number(l[4]),u=Number(l[5]),v=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:c,operator:l[1]||l[2]||"",major:o,minor:u,patch:v,parts:[o,u,v],prerelease:l[7],number:o*1e8+u*1e4+v}},a.versionSatisfies=function(c,h){h=h||"*";var l=a.versionParse(h),o=a.versionParse(c);if(l.isRange){if(l.operator==="*"||c==="*")return!0;if(l.operator===">")return o.number>l.number;if(l.operator===">=")return o.number>=l.number;if(l.operator==="~")return o.major===l.major&&o.minor===l.minor&&o.patch>=l.patch;if(l.operator==="^")return l.major>0?o.major===l.major&&o.number>=l.number:l.minor>0?o.minor===l.minor&&o.patch>=l.patch:o.patch===l.patch}return c===h||c==="*"}})()}),13037:((r,x,s)=>{var a={};r.exports=a;var g=s(35810),c=s(48413),h=s(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(o){var u={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},v=h.extend(u,o);return v.fps=0,v},a.run=function(o,u){return o.timeBuffer=a._frameDeltaFallback,(function v(f){o.frameRequestId=a._onNextFrame(o,v),f&&o.enabled&&a.tick(o,u,f)})(),o},a.tick=function(o,u,v){var f=h.now(),p=o.delta,m=0,y=v-o.timeLastTick;if((!y||!o.timeLastTick||y>Math.max(a._maxFrameDelta,o.maxFrameTime))&&(y=o.frameDelta||a._frameDeltaFallback),o.frameDeltaSmoothing){o.frameDeltaHistory.push(y),o.frameDeltaHistory=o.frameDeltaHistory.slice(-o.frameDeltaHistorySize);var S=o.frameDeltaHistory.slice(0).sort(),T=o.frameDeltaHistory.slice(S.length*a._smoothingLowerBound,S.length*a._smoothingUpperBound),b=l(T);y=b||y}o.frameDeltaSnapping&&(y=1e3/Math.round(1e3/y)),o.frameDelta=y,o.timeLastTick=v,o.timeBuffer+=o.frameDelta,o.timeBuffer=h.clamp(o.timeBuffer,0,o.frameDelta+p*a._timeBufferMargin),o.lastUpdatesDeferred=0;var P=o.maxUpdates||Math.ceil(o.maxFrameTime/p),w={timestamp:u.timing.timestamp};g.trigger(o,"beforeTick",w),g.trigger(o,"tick",w);for(var A=h.now();p>0&&o.timeBuffer>=p*a._timeBufferMargin;){g.trigger(o,"beforeUpdate",w),c.update(u,p),g.trigger(o,"afterUpdate",w),o.timeBuffer-=p,m+=1;var R=h.now()-f,D=h.now()-A,L=R+a._elapsedNextEstimate*D/m;if(m>=P||L>o.maxFrameTime){o.lastUpdatesDeferred=Math.round(Math.max(0,o.timeBuffer/p-a._timeBufferMargin));break}}u.timing.lastUpdatesPerFrame=m,g.trigger(o,"afterTick",w),o.frameDeltaHistory.length>=100&&(o.lastUpdatesDeferred&&Math.round(o.frameDelta/p)>P?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):o.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof o.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(o.deltaMin||o.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),o.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(o){a._cancelNextFrame(o)},a._onNextFrame=function(o,u){if(typeof window<"u"&&window.requestAnimationFrame)o.frameRequestId=window.requestAnimationFrame(u);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return o.frameRequestId},a._cancelNextFrame=function(o){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(o.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(o){for(var u=0,v=o.length,f=0;f<v;f+=1)u+=o[f];return u/v||0};a._mean=l})()}),53614:((r,x,s)=>{var a={};r.exports=a;var g=s(22562),c=s(35810),h=s(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(l,o){for(var u=o/h._baseDelta,v=a._motionSleepThreshold,f=0;f<l.length;f++){var p=l[f],m=g.getSpeed(p),y=g.getAngularSpeed(p),S=m*m+y*y;if(p.force.x!==0||p.force.y!==0){a.set(p,!1);continue}var T=Math.min(p.motion,S),b=Math.max(p.motion,S);p.motion=a._minBias*T+(1-a._minBias)*b,p.sleepThreshold>0&&p.motion<v?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/u&&a.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}},a.afterCollisions=function(l){for(var o=a._motionSleepThreshold,u=0;u<l.length;u++){var v=l[u];if(v.isActive){var f=v.collision,p=f.bodyA.parent,m=f.bodyB.parent;if(!(p.isSleeping&&m.isSleeping||p.isStatic||m.isStatic)&&(p.isSleeping||m.isSleeping)){var y=p.isSleeping&&!p.isStatic?p:m,S=y===p?m:p;!y.isStatic&&S.motion>o&&a.set(y,!1)}}}},a.set=function(l,o){var u=l.isSleeping;o?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,u||c.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,u&&c.trigger(l,"sleepEnd"))}})()}),66280:((r,x,s)=>{var a={};r.exports=a;var g=s(41598),c=s(53402),h=s(22562),l=s(15647),o=s(31725);(function(){a.rectangle=function(u,v,f,p,m){m=m||{};var y={label:"Rectangle Body",position:{x:u,y:v},vertices:g.fromPath("L 0 0 L "+f+" 0 L "+f+" "+p+" L 0 "+p)};if(m.chamfer){var S=m.chamfer;y.vertices=g.chamfer(y.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete m.chamfer}return h.create(c.extend({},y,m))},a.trapezoid=function(u,v,f,p,m,y){y=y||{},m>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),m*=.5;var S=(1-m*2)*f,T=f*m,b=T+S,P=b+T,w;m<.5?w="L 0 0 L "+T+" "+-p+" L "+b+" "+-p+" L "+P+" 0":w="L 0 0 L "+b+" "+-p+" L "+P+" 0";var A={label:"Trapezoid Body",position:{x:u,y:v},vertices:g.fromPath(w)};if(y.chamfer){var R=y.chamfer;A.vertices=g.chamfer(A.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete y.chamfer}return h.create(c.extend({},A,y))},a.circle=function(u,v,f,p,m){p=p||{};var y={label:"Circle Body",circleRadius:f};m=m||25;var S=Math.ceil(Math.max(10,Math.min(m,f)));return S%2===1&&(S+=1),a.polygon(u,v,S,f,c.extend({},y,p))},a.polygon=function(u,v,f,p,m){if(m=m||{},f<3)return a.circle(u,v,p,m);for(var y=2*Math.PI/f,S="",T=y*.5,b=0;b<f;b+=1){var P=T+b*y,w=Math.cos(P)*p,A=Math.sin(P)*p;S+="L "+w.toFixed(3)+" "+A.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:u,y:v},vertices:g.fromPath(S)};if(m.chamfer){var D=m.chamfer;R.vertices=g.chamfer(R.vertices,D.radius,D.quality,D.qualityMin,D.qualityMax),delete m.chamfer}return h.create(c.extend({},R,m))},a.fromVertices=function(u,v,f,p,m,y,S,T){var b=c.getDecomp(),P,w,A,R,D,L,k,B,F,G,N;for(P=!!(b&&b.quickDecomp),p=p||{},A=[],m=typeof m<"u"?m:!1,y=typeof y<"u"?y:.01,S=typeof S<"u"?S:10,T=typeof T<"u"?T:.01,c.isArray(f[0])||(f=[f]),G=0;G<f.length;G+=1)if(L=f[G],R=g.isConvex(L),D=!R,D&&!P&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!P)R?L=g.clockwiseSort(L):L=g.hull(L),A.push({position:{x:u,y:v},vertices:L});else{var W=L.map(function(q){return[q.x,q.y]});b.makeCCW(W),y!==!1&&b.removeCollinearPoints(W,y),T!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(W,T);var X=b.quickDecomp(W);for(k=0;k<X.length;k++){var $=X[k],J=$.map(function(q){return{x:q[0],y:q[1]}});S>0&&g.area(J)<S||A.push({position:g.centre(J),vertices:J})}}for(k=0;k<A.length;k++)A[k]=h.create(c.extend(A[k],p));if(m){var V=5;for(k=0;k<A.length;k++){var Y=A[k];for(B=k+1;B<A.length;B++){var z=A[B];if(l.overlaps(Y.bounds,z.bounds)){var K=Y.vertices,H=z.vertices;for(F=0;F<Y.vertices.length;F++)for(N=0;N<z.vertices.length;N++){var Q=o.magnitudeSquared(o.sub(K[(F+1)%K.length],H[N])),j=o.magnitudeSquared(o.sub(K[F],H[(N+1)%H.length]));Q<V&&j<V&&(K[F].isInternal=!0,H[N].isInternal=!0)}}}}}return A.length>1?(w=h.create(c.extend({parts:A.slice(0)},p)),h.setPosition(w,{x:u,y:v}),w):A[0]},a.flagCoincidentParts=function(u,v){v===void 0&&(v=5);for(var f=0;f<u.length;f++)for(var p=u[f],m=f+1;m<u.length;m++){var y=u[m];if(l.overlaps(p.bounds,y.bounds))for(var S=p.vertices,T=y.vertices,b=0;b<p.vertices.length;b++)for(var P=0;P<y.vertices.length;P++){var w=o.magnitudeSquared(o.sub(S[(b+1)%S.length],T[P])),A=o.magnitudeSquared(o.sub(S[b],T[(P+1)%T.length]));w<v&&A<v&&(S[b].isInternal=!0,T[P].isInternal=!0)}}return u}})()}),74116:((r,x,s)=>{var a={};r.exports=a;var g=s(69351),c=s(48140),h=s(53402),l=s(22562),o=s(66280);(function(){a.stack=function(u,v,f,p,m,y,S){for(var T=g.create({label:"Stack"}),b=u,P=v,w,A=0,R=0;R<p;R++){for(var D=0,L=0;L<f;L++){var k=S(b,P,L,R,w,A);if(k){var B=k.bounds.max.y-k.bounds.min.y,F=k.bounds.max.x-k.bounds.min.x;B>D&&(D=B),l.translate(k,{x:F*.5,y:B*.5}),b=k.bounds.max.x+m,g.addBody(T,k),w=k,A+=1}else b+=m}P+=D+y,b=u}return T},a.chain=function(u,v,f,p,m,y){for(var S=u.bodies,T=1;T<S.length;T++){var b=S[T-1],P=S[T],w=b.bounds.max.y-b.bounds.min.y,A=b.bounds.max.x-b.bounds.min.x,R=P.bounds.max.y-P.bounds.min.y,D=P.bounds.max.x-P.bounds.min.x,L={bodyA:b,pointA:{x:A*v,y:w*f},bodyB:P,pointB:{x:D*p,y:R*m}},k=h.extend(L,y);g.addConstraint(u,c.create(k))}return u.label+=" Chain",u},a.mesh=function(u,v,f,p,m){var y=u.bodies,S,T,b,P,w;for(S=0;S<f;S++){for(T=1;T<v;T++)b=y[T-1+S*v],P=y[T+S*v],g.addConstraint(u,c.create(h.extend({bodyA:b,bodyB:P},m)));if(S>0)for(T=0;T<v;T++)b=y[T+(S-1)*v],P=y[T+S*v],g.addConstraint(u,c.create(h.extend({bodyA:b,bodyB:P},m))),p&&T>0&&(w=y[T-1+(S-1)*v],g.addConstraint(u,c.create(h.extend({bodyA:w,bodyB:P},m)))),p&&T<v-1&&(w=y[T+1+(S-1)*v],g.addConstraint(u,c.create(h.extend({bodyA:w,bodyB:P},m))))}return u.label+=" Mesh",u},a.pyramid=function(u,v,f,p,m,y,S){return a.stack(u,v,f,p,m,y,function(T,b,P,w,A,R){var D=Math.min(p,Math.ceil(f/2)),L=A?A.bounds.max.x-A.bounds.min.x:0;if(!(w>D)){w=D-w;var k=w,B=f-1-w;if(!(P<k||P>B)){R===1&&l.translate(A,{x:(P+(f%2===1?1:-1))*L,y:0});var F=A?P*L:0;return S(u+F+P*m,b,P,w,A,R)}}})},a.newtonsCradle=function(u,v,f,p,m){for(var y=g.create({label:"Newtons Cradle"}),S=0;S<f;S++){var T=1.9,b=o.circle(u+S*(p*T),v+m,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),P=c.create({pointA:{x:u+S*(p*T),y:v},bodyB:b});g.addBody(y,b),g.addConstraint(y,P)}return y},a.car=function(u,v,f,p,m){var y=l.nextGroup(!0),S=20,T=-f*.5+S,b=f*.5-S,P=0,w=g.create({label:"Car"}),A=o.rectangle(u,v,f,p,{collisionFilter:{group:y},chamfer:{radius:p*.5},density:2e-4}),R=o.circle(u+T,v+P,m,{collisionFilter:{group:y},friction:.8}),D=o.circle(u+b,v+P,m,{collisionFilter:{group:y},friction:.8}),L=c.create({bodyB:A,pointB:{x:T,y:P},bodyA:R,stiffness:1,length:0}),k=c.create({bodyB:A,pointB:{x:b,y:P},bodyA:D,stiffness:1,length:0});return g.addBody(w,A),g.addBody(w,R),g.addBody(w,D),g.addConstraint(w,L),g.addConstraint(w,k),w},a.softBody=function(u,v,f,p,m,y,S,T,b,P){b=h.extend({inertia:1/0},b),P=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},P);var w=a.stack(u,v,f,p,m,y,function(A,R){return o.circle(A,R,T,b)});return a.mesh(w,f,p,S,P),w.label="Soft Body",w}})()}),66615:((r,x,s)=>{var a={};r.exports=a;var g=s(31725),c=s(53402);(function(){a.fromVertices=function(h){for(var l={},o=0;o<h.length;o++){var u=(o+1)%h.length,v=g.normalise({x:h[u].y-h[o].y,y:h[o].x-h[u].x}),f=v.y===0?1/0:v.x/v.y;f=f.toFixed(3).toString(),l[f]=v}return c.values(l)},a.rotate=function(h,l){if(l!==0)for(var o=Math.cos(l),u=Math.sin(l),v=0;v<h.length;v++){var f=h[v],p;p=f.x*o-f.y*u,f.y=f.x*u+f.y*o,f.x=p}}})()}),15647:(r=>{var x={};r.exports=x,(function(){x.create=function(s){var a={min:{x:0,y:0},max:{x:0,y:0}};return s&&x.update(a,s),a},x.update=function(s,a,g){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var c=0;c<a.length;c++){var h=a[c];h.x>s.max.x&&(s.max.x=h.x),h.x<s.min.x&&(s.min.x=h.x),h.y>s.max.y&&(s.max.y=h.y),h.y<s.min.y&&(s.min.y=h.y)}g&&(g.x>0?s.max.x+=g.x:s.min.x+=g.x,g.y>0?s.max.y+=g.y:s.min.y+=g.y)},x.contains=function(s,a){return a.x>=s.min.x&&a.x<=s.max.x&&a.y>=s.min.y&&a.y<=s.max.y},x.overlaps=function(s,a){return s.min.x<=a.max.x&&s.max.x>=a.min.x&&s.max.y>=a.min.y&&s.min.y<=a.max.y},x.translate=function(s,a){s.min.x+=a.x,s.max.x+=a.x,s.min.y+=a.y,s.max.y+=a.y},x.shift=function(s,a){var g=s.max.x-s.min.x,c=s.max.y-s.min.y;s.min.x=a.x,s.max.x=a.x+g,s.min.y=a.y,s.max.y=a.y+c},x.wrap=function(s,a,g){var c=null,h=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(s.min.x>a.max.x?c=a.min.x-s.max.x:s.max.x<a.min.x&&(c=a.max.x-s.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(s.min.y>a.max.y?h=a.min.y-s.max.y:s.max.y<a.min.y&&(h=a.max.y-s.min.y)),c!==null||h!==null)return{x:c||0,y:h||0}}})()}),74058:((r,x,s)=>{var a={};r.exports=a,s(15647);var g=s(53402);(function(){a.pathToVertices=function(c,h){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,o,u,v,f,p,m,y,S,T,b=[],P,w,A=0,R=0,D=0;h=h||15;var L=function(B,F,G){var N=G%2===1&&G>1;if(!S||B!=S.x||F!=S.y){S&&N?(P=S.x,w=S.y):(P=0,w=0);var W={x:P+B,y:w+F};(N||!S)&&(S=W),b.push(W),R=P+B,D=w+F}},k=function(B){var F=B.pathSegTypeAsLetter.toUpperCase();if(F!=="Z"){switch(F){case"M":case"L":case"T":case"C":case"S":case"Q":R=B.x,D=B.y;break;case"H":R=B.x;break;case"V":D=B.y;break}L(R,D,B.pathSegType)}};for(a._svgPathToAbsolute(c),u=c.getTotalLength(),p=[],l=0;l<c.pathSegList.numberOfItems;l+=1)p.push(c.pathSegList.getItem(l));for(m=p.concat();A<u;){if(T=c.getPathSegAtLength(A),f=p[T],f!=y){for(;m.length&&m[0]!=f;)k(m.shift());y=f}switch(f.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=c.getPointAtLength(A),L(v.x,v.y,0);break}A+=h}for(l=0,o=m.length;l<o;++l)k(m[l]);return b},a._svgPathToAbsolute=function(c){for(var h,l,o,u,v,f,p=c.pathSegList,m=0,y=0,S=p.numberOfItems,T=0;T<S;++T){var b=p.getItem(T),P=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in b&&(m=b.x),"y"in b&&(y=b.y);else switch("x1"in b&&(o=m+b.x1),"x2"in b&&(v=m+b.x2),"y1"in b&&(u=y+b.y1),"y2"in b&&(f=y+b.y2),"x"in b&&(m+=b.x),"y"in b&&(y+=b.y),P){case"m":p.replaceItem(c.createSVGPathSegMovetoAbs(m,y),T);break;case"l":p.replaceItem(c.createSVGPathSegLinetoAbs(m,y),T);break;case"h":p.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(m),T);break;case"v":p.replaceItem(c.createSVGPathSegLinetoVerticalAbs(y),T);break;case"c":p.replaceItem(c.createSVGPathSegCurvetoCubicAbs(m,y,o,u,v,f),T);break;case"s":p.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(m,y,v,f),T);break;case"q":p.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(m,y,o,u),T);break;case"t":p.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(m,y),T);break;case"a":p.replaceItem(c.createSVGPathSegArcAbs(m,y,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),T);break;case"z":case"Z":m=h,y=l;break}(P=="M"||P=="m")&&(h=m,l=y)}}})()}),31725:(r=>{var x={};r.exports=x,(function(){x.create=function(s,a){return{x:s||0,y:a||0}},x.clone=function(s){return{x:s.x,y:s.y}},x.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},x.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},x.rotate=function(s,a,g){var c=Math.cos(a),h=Math.sin(a);g||(g={});var l=s.x*c-s.y*h;return g.y=s.x*h+s.y*c,g.x=l,g},x.rotateAbout=function(s,a,g,c){var h=Math.cos(a),l=Math.sin(a);c||(c={});var o=g.x+((s.x-g.x)*h-(s.y-g.y)*l);return c.y=g.y+((s.x-g.x)*l+(s.y-g.y)*h),c.x=o,c},x.normalise=function(s){var a=x.magnitude(s);return a===0?{x:0,y:0}:{x:s.x/a,y:s.y/a}},x.dot=function(s,a){return s.x*a.x+s.y*a.y},x.cross=function(s,a){return s.x*a.y-s.y*a.x},x.cross3=function(s,a,g){return(a.x-s.x)*(g.y-s.y)-(a.y-s.y)*(g.x-s.x)},x.add=function(s,a,g){return g||(g={}),g.x=s.x+a.x,g.y=s.y+a.y,g},x.sub=function(s,a,g){return g||(g={}),g.x=s.x-a.x,g.y=s.y-a.y,g},x.mult=function(s,a){return{x:s.x*a,y:s.y*a}},x.div=function(s,a){return{x:s.x/a,y:s.y/a}},x.perp=function(s,a){return a=a===!0?-1:1,{x:a*-s.y,y:a*s.x}},x.neg=function(s){return{x:-s.x,y:-s.y}},x.angle=function(s,a){return Math.atan2(a.y-s.y,a.x-s.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]})()}),41598:((r,x,s)=>{var a={};r.exports=a;var g=s(31725),c=s(53402);(function(){a.create=function(h,l){for(var o=[],u=0;u<h.length;u++){var v=h[u],f={x:v.x,y:v.y,index:u,body:l,isInternal:!1};o.push(f)}return o},a.fromPath=function(h,l){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,u=[];return h.replace(o,function(v,f,p){u.push({x:parseFloat(f),y:parseFloat(p)})}),a.create(u,l)},a.centre=function(h){for(var l=a.area(h,!0),o={x:0,y:0},u,v,f,p=0;p<h.length;p++)f=(p+1)%h.length,u=g.cross(h[p],h[f]),v=g.mult(g.add(h[p],h[f]),u),o=g.add(o,v);return g.div(o,6*l)},a.mean=function(h){for(var l={x:0,y:0},o=0;o<h.length;o++)l.x+=h[o].x,l.y+=h[o].y;return g.div(l,h.length)},a.area=function(h,l){for(var o=0,u=h.length-1,v=0;v<h.length;v++)o+=(h[u].x-h[v].x)*(h[u].y+h[v].y),u=v;return l?o/2:Math.abs(o)/2},a.inertia=function(h,l){for(var o=0,u=0,v=h,f,p,m=0;m<v.length;m++)p=(m+1)%v.length,f=Math.abs(g.cross(v[p],v[m])),o+=f*(g.dot(v[p],v[p])+g.dot(v[p],v[m])+g.dot(v[m],v[m])),u+=f;return l/6*(o/u)},a.translate=function(h,l,o){o=typeof o<"u"?o:1;var u=h.length,v=l.x*o,f=l.y*o,p;for(p=0;p<u;p++)h[p].x+=v,h[p].y+=f;return h},a.rotate=function(h,l,o){if(l!==0){var u=Math.cos(l),v=Math.sin(l),f=o.x,p=o.y,m=h.length,y,S,T,b;for(b=0;b<m;b++)y=h[b],S=y.x-f,T=y.y-p,y.x=f+(S*u-T*v),y.y=p+(S*v+T*u);return h}},a.contains=function(h,l){for(var o=l.x,u=l.y,v=h.length,f=h[v-1],p,m=0;m<v;m++){if(p=h[m],(o-f.x)*(p.y-f.y)+(u-f.y)*(f.x-p.x)>0)return!1;f=p}return!0},a.scale=function(h,l,o,u){if(l===1&&o===1)return h;u=u||a.centre(h);for(var v,f,p=0;p<h.length;p++)v=h[p],f=g.sub(v,u),h[p].x=u.x+f.x*l,h[p].y=u.y+f.y*o;return h},a.chamfer=function(h,l,o,u,v){typeof l=="number"?l=[l]:l=l||[8],o=typeof o<"u"?o:-1,u=u||2,v=v||14;for(var f=[],p=0;p<h.length;p++){var m=h[p-1>=0?p-1:h.length-1],y=h[p],S=h[(p+1)%h.length],T=l[p<l.length?p:l.length-1];if(T===0){f.push(y);continue}var b=g.normalise({x:y.y-m.y,y:m.x-y.x}),P=g.normalise({x:S.y-y.y,y:y.x-S.x}),w=Math.sqrt(2*Math.pow(T,2)),A=g.mult(c.clone(b),T),R=g.normalise(g.mult(g.add(b,P),.5)),D=g.sub(y,g.mult(R,w)),L=o;o===-1&&(L=Math.pow(T,.32)*1.75),L=c.clamp(L,u,v),L%2===1&&(L+=1);for(var k=Math.acos(g.dot(b,P)),B=k/L,F=0;F<L;F++)f.push(g.add(g.rotate(A,B*F),D))}return f},a.clockwiseSort=function(h){var l=a.mean(h);return h.sort(function(o,u){return g.angle(l,o)-g.angle(l,u)}),h},a.isConvex=function(h){var l=0,o=h.length,u,v,f,p;if(o<3)return null;for(u=0;u<o;u++)if(v=(u+1)%o,f=(u+2)%o,p=(h[v].x-h[u].x)*(h[f].y-h[v].y),p-=(h[v].y-h[u].y)*(h[f].x-h[v].x),p<0?l|=1:p>0&&(l|=2),l===3)return!1;return l!==0?!0:null},a.hull=function(h){var l=[],o=[],u,v;for(h=h.slice(0),h.sort(function(f,p){var m=f.x-p.x;return m!==0?m:f.y-p.y}),v=0;v<h.length;v+=1){for(u=h[v];o.length>=2&&g.cross3(o[o.length-2],o[o.length-1],u)<=0;)o.pop();o.push(u)}for(v=h.length-1;v>=0;v-=1){for(u=h[v];l.length>=2&&g.cross3(l[l.length-2],l[l.length-1],u)<=0;)l.pop();l.push(u)}return l.pop(),o.pop(),l.concat(o)}})()}),55973:(r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:k,quickDecomp:N,isSimple:F,removeCollinearPoints:W,removeDuplicatePoints:X,makeCCW:S};function x(V,Y,z){z=z||0;var K=[0,0],H,Q,j,q,tt,st,nt;return H=V[1][1]-V[0][1],Q=V[0][0]-V[1][0],j=H*V[0][0]+Q*V[0][1],q=Y[1][1]-Y[0][1],tt=Y[0][0]-Y[1][0],st=q*Y[0][0]+tt*Y[0][1],nt=H*tt-q*Q,$(nt,0,z)||(K[0]=(tt*j-Q*st)/nt,K[1]=(H*st-q*j)/nt),K}function s(V,Y,z,K){var H=Y[0]-V[0],Q=Y[1]-V[1],j=K[0]-z[0],q=K[1]-z[1];if(j*Q-q*H===0)return!1;var tt=(H*(z[1]-V[1])+Q*(V[0]-z[0]))/(j*Q-q*H),st=(j*(V[1]-z[1])+q*(z[0]-V[0]))/(q*H-j*Q);return tt>=0&&tt<=1&&st>=0&&st<=1}function a(V,Y,z){return(Y[0]-V[0])*(z[1]-V[1])-(z[0]-V[0])*(Y[1]-V[1])}function g(V,Y,z){return a(V,Y,z)>0}function c(V,Y,z){return a(V,Y,z)>=0}function h(V,Y,z){return a(V,Y,z)<0}function l(V,Y,z){return a(V,Y,z)<=0}var o=[],u=[];function v(V,Y,z,K){if(K){var H=o,Q=u;H[0]=Y[0]-V[0],H[1]=Y[1]-V[1],Q[0]=z[0]-Y[0],Q[1]=z[1]-Y[1];var j=H[0]*Q[0]+H[1]*Q[1],q=Math.sqrt(H[0]*H[0]+H[1]*H[1]),tt=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),st=Math.acos(j/(q*tt));return st<K}else return a(V,Y,z)===0}function f(V,Y){var z=Y[0]-V[0],K=Y[1]-V[1];return z*z+K*K}function p(V,Y){var z=V.length;return V[Y<0?Y%z+z:Y%z]}function m(V){V.length=0}function y(V,Y,z,K){for(var H=z;H<K;H++)V.push(Y[H])}function S(V){for(var Y=0,z=V,K=1;K<V.length;++K)(z[K][1]<z[Y][1]||z[K][1]===z[Y][1]&&z[K][0]>z[Y][0])&&(Y=K);return g(p(V,Y-1),p(V,Y),p(V,Y+1))?!1:(T(V),!0)}function T(V){for(var Y=[],z=V.length,K=0;K!==z;K++)Y.push(V.pop());for(var K=0;K!==z;K++)V[K]=Y[K]}function b(V,Y){return h(p(V,Y-1),p(V,Y),p(V,Y+1))}var P=[],w=[];function A(V,Y,z){var K,H,Q=P,j=w;if(c(p(V,Y+1),p(V,Y),p(V,z))&&l(p(V,Y-1),p(V,Y),p(V,z)))return!1;H=f(p(V,Y),p(V,z));for(var q=0;q!==V.length;++q)if(!((q+1)%V.length===Y||q===Y)&&c(p(V,Y),p(V,z),p(V,q+1))&&l(p(V,Y),p(V,z),p(V,q))&&(Q[0]=p(V,Y),Q[1]=p(V,z),j[0]=p(V,q),j[1]=p(V,q+1),K=x(Q,j),f(p(V,Y),K)<H))return!1;return!0}function R(V,Y,z){for(var K=0;K!==V.length;++K)if(!(K===Y||K===z||(K+1)%V.length===Y||(K+1)%V.length===z)&&s(p(V,Y),p(V,z),p(V,K),p(V,K+1)))return!1;return!0}function D(V,Y,z,K){var H=K||[];if(m(H),Y<z)for(var Q=Y;Q<=z;Q++)H.push(V[Q]);else{for(var Q=0;Q<=z;Q++)H.push(V[Q]);for(var Q=Y;Q<V.length;Q++)H.push(V[Q])}return H}function L(V){for(var Y=[],z=[],K=[],H=[],Q=Number.MAX_VALUE,j=0;j<V.length;++j)if(b(V,j)){for(var q=0;q<V.length;++q)if(A(V,j,q)){z=L(D(V,j,q,H)),K=L(D(V,q,j,H));for(var tt=0;tt<K.length;tt++)z.push(K[tt]);z.length<Q&&(Y=z,Q=z.length,Y.push([p(V,j),p(V,q)]))}}return Y}function k(V){var Y=L(V);return Y.length>0?B(V,Y):[V]}function B(V,Y){if(Y.length===0)return[V];if(Y instanceof Array&&Y.length&&Y[0]instanceof Array&&Y[0].length===2&&Y[0][0]instanceof Array){for(var z=[V],K=0;K<Y.length;K++)for(var H=Y[K],Q=0;Q<z.length;Q++){var j=z[Q],q=B(j,H);if(q){z.splice(Q,1),z.push(q[0],q[1]);break}}return z}else{var H=Y,K=V.indexOf(H[0]),Q=V.indexOf(H[1]);return K!==-1&&Q!==-1?[D(V,K,Q),D(V,Q,K)]:!1}}function F(V){var Y=V,z;for(z=0;z<Y.length-1;z++)for(var K=0;K<z-1;K++)if(s(Y[z],Y[z+1],Y[K],Y[K+1]))return!1;for(z=1;z<Y.length-2;z++)if(s(Y[0],Y[Y.length-1],Y[z],Y[z+1]))return!1;return!0}function G(V,Y,z,K,H){H=H||0;var Q=Y[1]-V[1],j=V[0]-Y[0],q=Q*V[0]+j*V[1],tt=K[1]-z[1],st=z[0]-K[0],nt=tt*z[0]+st*z[1],at=Q*st-tt*j;return $(at,0,H)?[0,0]:[(st*q-j*nt)/at,(Q*nt-tt*q)/at]}function N(V,Y,z,K,H,Q,j){Q=Q||100,j=j||0,H=H||25,Y=typeof Y<"u"?Y:[],z=z||[],K=K||[];var q=[0,0],tt=[0,0],st=[0,0],nt=0,at=0,ot=0,mt=0,St=0,Ct=0,kt=0,Vt=[],It=[],yt=V,Lt=V;if(Lt.length<3)return Y;if(j++,j>Q)return console.warn("quickDecomp: max level ("+Q+") reached."),Y;for(var Ft=0;Ft<V.length;++Ft)if(b(yt,Ft)){z.push(yt[Ft]),nt=at=Number.MAX_VALUE;for(var $t=0;$t<V.length;++$t)g(p(yt,Ft-1),p(yt,Ft),p(yt,$t))&&l(p(yt,Ft-1),p(yt,Ft),p(yt,$t-1))&&(st=G(p(yt,Ft-1),p(yt,Ft),p(yt,$t),p(yt,$t-1)),h(p(yt,Ft+1),p(yt,Ft),st)&&(ot=f(yt[Ft],st),ot<at&&(at=ot,tt=st,Ct=$t))),g(p(yt,Ft+1),p(yt,Ft),p(yt,$t+1))&&l(p(yt,Ft+1),p(yt,Ft),p(yt,$t))&&(st=G(p(yt,Ft+1),p(yt,Ft),p(yt,$t),p(yt,$t+1)),g(p(yt,Ft-1),p(yt,Ft),st)&&(ot=f(yt[Ft],st),ot<nt&&(nt=ot,q=st,St=$t)));if(Ct===(St+1)%V.length)st[0]=(tt[0]+q[0])/2,st[1]=(tt[1]+q[1])/2,K.push(st),Ft<St?(y(Vt,yt,Ft,St+1),Vt.push(st),It.push(st),Ct!==0&&y(It,yt,Ct,yt.length),y(It,yt,0,Ft+1)):(Ft!==0&&y(Vt,yt,Ft,yt.length),y(Vt,yt,0,St+1),Vt.push(st),It.push(st),y(It,yt,Ct,Ft+1));else{if(Ct>St&&(St+=V.length),mt=Number.MAX_VALUE,St<Ct)return Y;for(var $t=Ct;$t<=St;++$t)c(p(yt,Ft-1),p(yt,Ft),p(yt,$t))&&l(p(yt,Ft+1),p(yt,Ft),p(yt,$t))&&(ot=f(p(yt,Ft),p(yt,$t)),ot<mt&&R(yt,Ft,$t)&&(mt=ot,kt=$t%V.length));Ft<kt?(y(Vt,yt,Ft,kt+1),kt!==0&&y(It,yt,kt,Lt.length),y(It,yt,0,Ft+1)):(Ft!==0&&y(Vt,yt,Ft,Lt.length),y(Vt,yt,0,kt+1),y(It,yt,kt,Ft+1))}return Vt.length<It.length?(N(Vt,Y,z,K,H,Q,j),N(It,Y,z,K,H,Q,j)):(N(It,Y,z,K,H,Q,j),N(Vt,Y,z,K,H,Q,j)),Y}return Y.push(V),Y}function W(V,Y){for(var z=0,K=V.length-1;V.length>3&&K>=0;--K)v(p(V,K-1),p(V,K),p(V,K+1),Y)&&(V.splice(K%V.length,1),z++);return z}function X(V,Y){for(var z=V.length-1;z>=1;--z)for(var K=V[z],H=z-1;H>=0;--H)if(J(K,V[H],Y)){V.splice(z,1);continue}}function $(V,Y,z){return z=z||0,Math.abs(V-Y)<=z}function J(V,Y,z){return $(V[0],Y[0],z)&&$(V[1],Y[1],z)}}),52018:((r,x,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=s(83419),g=new a({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=g}),42363:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=x}),37277:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},s={},a={};a.register=function(g,c,h,l){l===void 0&&(l=!1),x[g]={plugin:c,mapping:h,custom:l}},a.registerCustom=function(g,c,h,l){s[g]={plugin:c,mapping:h,data:l}},a.hasCore=function(g){return x.hasOwnProperty(g)},a.hasCustom=function(g){return s.hasOwnProperty(g)},a.getCore=function(g){return x[g]},a.getCustom=function(g){return s[g]},a.getCustomClass=function(g){return s.hasOwnProperty(g)?s[g].plugin:null},a.remove=function(g){x.hasOwnProperty(g)&&delete x[g]},a.removeCustom=function(g){s.hasOwnProperty(g)&&delete s[g]},a.destroyCorePlugins=function(){for(var g in x)x.hasOwnProperty(g)&&delete x[g]},a.destroyCustomPlugins=function(){for(var g in s)s.hasOwnProperty(g)&&delete s[g]},r.exports=a}),77332:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8443),c=s(50792),h=s(74099),l=s(44603),o=s(39429),u=s(95540),v=s(37277),f=s(72905),p=s(8054),m=new a({Extends:c,initialize:function(S){c.call(this),this.game=S,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],S.isBooted||S.config.renderType===p.HEADLESS?this.boot():S.events.once(g.BOOT,this.boot,this)},boot:function(){var y,S,T,b,P,w,A,R=this.game.config,D=R.installGlobalPlugins;for(D=D.concat(this._pendingGlobal),y=0;y<D.length;y++)S=D[y],T=u(S,"key",null),b=u(S,"plugin",null),P=u(S,"start",!1),w=u(S,"mapping",null),A=u(S,"data",null),T&&(b?this.install(T,b,P,w,A):console.warn("Missing `plugin` for key: "+T));for(D=R.installScenePlugins,D=D.concat(this._pendingScene),y=0;y<D.length;y++)S=D[y],T=u(S,"key",null),b=u(S,"plugin",null),w=u(S,"mapping",null),T&&(b?this.installScenePlugin(T,b,w):console.warn("Missing `plugin` for key: "+T));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(y,S,T){var b,P,w,A=this.game,R=y.scene,D=y.settings.map,L=y.settings.isBooted;for(b=0;b<S.length;b++)P=S[b],A[P]?(y[P]=A[P],D.hasOwnProperty(P)&&(R[D[P]]=y[P])):P==="game"&&D.hasOwnProperty(P)&&(R[D[P]]=A);for(var k=0;k<T.length;k++)for(w=T[k],b=0;b<w.length;b++)if(P=w[b],!!v.hasCore(P)){var B=v.getCore(P),F=B.mapping,G=new B.plugin(R,this,F);y[F]=G,B.custom?R[F]=G:D.hasOwnProperty(F)&&(R[D[F]]=G),L&&G.boot()}for(w=this.plugins,b=0;b<w.length;b++){var N=w[b];N.mapping&&(R[N.mapping]=N.plugin)}},getDefaultScenePlugins:function(){var y=this.game.config.defaultPlugins;return y=y.concat(this.scenePlugins),y},installScenePlugin:function(y,S,T,b,P){if(P===void 0&&(P=!1),typeof S!="function"){console.warn("Invalid Scene Plugin: "+y);return}if(v.hasCore(y)||v.register(y,S,T,!0),this.scenePlugins.indexOf(y)===-1)this.scenePlugins.push(y);else if(!P&&v.hasCore(y)){console.warn("Scene Plugin key in use: "+y);return}if(b){var w=new S(b,this,y);b.sys[y]=w,T&&T!==""&&(b[T]=w),w.boot()}},install:function(y,S,T,b,P){if(T===void 0&&(T=!1),b===void 0&&(b=null),P===void 0&&(P=null),typeof S!="function")return console.warn("Invalid Plugin: "+y),null;if(v.hasCustom(y))return console.warn("Plugin key in use: "+y),null;if(b!==null&&(T=!0),!this.game.isBooted)this._pendingGlobal.push({key:y,plugin:S,start:T,mapping:b,data:P});else if(v.registerCustom(y,S,b,P),T)return this.start(y);return null},getIndex:function(y){for(var S=this.plugins,T=0;T<S.length;T++){var b=S[T];if(b.key===y)return T}return-1},getEntry:function(y){var S=this.getIndex(y);if(S!==-1)return this.plugins[S]},isActive:function(y){var S=this.getEntry(y);return S&&S.active},start:function(y,S){S===void 0&&(S=y);var T=this.getEntry(S);return T&&!T.active?(T.active=!0,T.plugin.start()):T||(T=this.createEntry(y,S)),T?T.plugin:null},createEntry:function(y,S){var T=v.getCustom(y);if(T){var b=new T.plugin(this);T={key:S,plugin:b,active:!0,mapping:T.mapping,data:T.data},this.plugins.push(T),b.init(T.data),b.start()}return T},stop:function(y){var S=this.getEntry(y);return S&&S.active&&(S.active=!1,S.plugin.stop()),this},get:function(y,S){S===void 0&&(S=!0);var T=this.getEntry(y);if(T)return T.plugin;var b=this.getClass(y);return b&&S?(T=this.createEntry(y,y),T?T.plugin:null):b||null},getClass:function(y){return v.getCustomClass(y)},removeGlobalPlugin:function(y){var S=this.getEntry(y);S&&f(this.plugins,S),v.removeCustom(y)},removeScenePlugin:function(y){f(this.scenePlugins,y),v.remove(y)},registerGameObject:function(y,S,T){return S&&o.register(y,S),T&&l.register(y,T),this},removeGameObject:function(y,S,T){return S===void 0&&(S=!0),T===void 0&&(T=!0),S&&o.remove(y),T&&l.remove(y),this},registerFileType:function(y,S,T){h.register(y,S),T&&T.sys.load&&(T.sys.load[y]=S)},destroy:function(){for(var y=0;y<this.plugins.length;y++)this.plugins[y].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=m}),45145:((r,x,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=s(52018),g=s(83419),c=s(44594),h=new g({Extends:a,initialize:function(o,u,v){a.call(this,u),this.scene=o,this.systems=o.sys,this.pluginKey=v,o.sys.events.once(c.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=h}),18922:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}}),63595:(()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const x=performance.now(),s=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,g=(c,h)=>{const l=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(o>a){const u=this.mozFrameDelay||l.totalFrameDelay-s.totalFrameDelay||0,v=h-c;r(h,{presentationTime:h+u*1e3,expectedDisplayTime:h+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:o,processingDuration:u}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(u=>g(h,u))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(c=>g(x,c)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})}),10312:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}}),29795:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=x}),68627:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19715),g=s(32880),c=s(83419),h=s(8054),l=s(50792),o=s(92503),u=s(56373),v=s(97480),f=s(69442),p=s(8443),m=s(61340),y=new c({Extends:l,initialize:function(T){l.call(this);var b=T.config;this.config={clearBeforeRender:b.clearBeforeRender,backgroundColor:b.backgroundColor,antialias:b.antialias,roundPixels:b.roundPixels,transparent:b.transparent},this.game=T,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=T.canvas;var P={alpha:b.transparent,desynchronized:b.desynchronized,willReadFrequently:!1};this.gameContext=b.context?b.context:this.gameCanvas.getContext("2d",P),this.currentContext=this.gameContext,this.antialias=b.antialias,this.blendModes=u(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new m,this._tempMatrix2=new m,this._tempMatrix3=new m,this.isBooted=!1,this.init()},init:function(){var S=this.game;S.events.once(p.BOOT,function(){var T=this.config;if(!T.transparent){var b=this.gameContext,P=this.gameCanvas;b.fillStyle=T.backgroundColor.rgba,b.fillRect(0,0,P.width,P.height)}},this),S.textures.once(f.READY,this.boot,this)},boot:function(){var S=this.game,T=S.scale.baseSize;this.width=T.width,this.height=T.height,this.isBooted=!0,S.scale.on(v.RESIZE,this.onResize,this),this.resize(T.width,T.height)},onResize:function(S,T){(T.width!==this.width||T.height!==this.height)&&this.resize(T.width,T.height)},resize:function(S,T){this.width=S,this.height=T,this.emit(o.RESIZE,S,T)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(S){return this.currentContext.globalCompositeOperation=S,this},setContext:function(S){return this.currentContext=S||this.gameContext,this},setAlpha:function(S){return this.currentContext.globalAlpha=S,this},preRender:function(){var S=this.gameContext,T=this.config,b=this.width,P=this.height;S.globalAlpha=1,S.globalCompositeOperation="source-over",S.setTransform(1,0,0,1,0,0),this.emit(o.PRE_RENDER_CLEAR),T.clearBeforeRender&&(S.clearRect(0,0,b,P),T.transparent||(S.fillStyle=T.backgroundColor.rgba,S.fillRect(0,0,b,P))),S.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(S,T,b){var P=T.length;this.emit(o.RENDER,S,b);var w=b.x,A=b.y,R=b.width,D=b.height,L=b.renderToTexture?b.context:S.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(w,A,R,D),L.clip()),b.emit(a.PRE_RENDER,b),this.currentContext=L;var k=b.mask;k&&k.preRenderCanvas(this,null,b._maskCamera),b.transparent||(L.fillStyle=b.backgroundColor.rgba,L.fillRect(w,A,R,D)),L.globalAlpha=b.alpha,L.globalCompositeOperation="source-over",this.drawCount+=P,b.renderToTexture&&b.emit(a.PRE_RENDER,b),b.matrix.copyToContext(L);for(var B=0;B<P;B++){var F=T[B];F.mask&&F.mask.preRenderCanvas(this,F,b),F.renderCanvas(this,F,b),F.mask&&F.mask.postRenderCanvas(this,F,b)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,b.flashEffect.postRenderCanvas(L),b.fadeEffect.postRenderCanvas(L),b.dirty=!1,k&&k.postRenderCanvas(this),L.restore(),b.renderToTexture&&(b.emit(a.POST_RENDER,b),b.renderToGame&&S.sys.context.drawImage(b.canvas,w,A)),b.emit(a.POST_RENDER,b)},postRender:function(){var S=this.gameContext;S.restore(),this.emit(o.POST_RENDER);var T=this.snapshotState;T.callback&&(g(this.gameCanvas,T),T.callback=null)},snapshotCanvas:function(S,T,b,P,w,A,R,D,L){b===void 0&&(b=!1),this.snapshotArea(P,w,A,R,T,D,L);var k=this.snapshotState;return k.getPixel=b,g(S,k),k.callback=null,this},snapshot:function(S,T,b){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,S,T,b)},snapshotArea:function(S,T,b,P,w,A,R){var D=this.snapshotState;return D.callback=w,D.type=A,D.encoder=R,D.getPixel=!1,D.x=S,D.y=T,D.width=Math.min(b,this.gameCanvas.width),D.height=Math.min(P,this.gameCanvas.height),this},snapshotPixel:function(S,T,b){return this.snapshotArea(S,T,1,1,b),this.snapshotState.getPixel=!0,this},batchSprite:function(S,T,b,P){var w=b.alpha*S.alpha;if(w!==0){var A=this.currentContext,R=this._tempMatrix1,D=this._tempMatrix2,L=T.canvasData,k=L.x,B=L.y,F=T.cutWidth,G=T.cutHeight,N=T.customPivot,W=T.source.resolution,X=S.displayOriginX,$=S.displayOriginY,J=-X+T.x,V=-$+T.y;if(S.isCropped){var Y=S._crop;(Y.flipX!==S.flipX||Y.flipY!==S.flipY)&&T.updateCropUVs(Y,S.flipX,S.flipY),F=Y.cw,G=Y.ch,k=Y.cx,B=Y.cy,J=-X+Y.x,V=-$+Y.y,S.flipX&&(J>=0?J=-(J+F):J<0&&(J=Math.abs(J)-F)),S.flipY&&(V>=0?V=-(V+G):V<0&&(V=Math.abs(V)-G))}var z=1,K=1;S.flipX&&(N||(J+=-T.realWidth+X*2),z=-1),S.flipY&&(N||(V+=-T.realHeight+$*2),K=-1);var H=S.x,Q=S.y;if(b.roundPixels&&(H=Math.floor(H),Q=Math.floor(Q)),D.applyITRS(H,Q,S.rotation,S.scaleX*z,S.scaleY*K),R.copyFrom(b.matrix),P?(R.multiplyWithOffset(P,-b.scrollX*S.scrollFactorX,-b.scrollY*S.scrollFactorY),D.e=H,D.f=Q):(D.e-=b.scrollX*S.scrollFactorX,D.f-=b.scrollY*S.scrollFactorY),R.multiply(D),b.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),A.save(),R.setToContext(A),A.globalCompositeOperation=this.blendModes[S.blendMode],A.globalAlpha=w,A.imageSmoothingEnabled=!T.source.scaleMode,S.mask&&S.mask.preRenderCanvas(this,S,b),F>0&&G>0){var j=F/W,q=G/W;b.roundPixels&&(J=Math.floor(J+.5),V=Math.floor(V+.5),j+=.5,q+=.5),A.drawImage(T.source.image,k,B,F,G,J,V,j,q)}S.mask&&S.mask.postRenderCanvas(this,S,b),A.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=y}),55830:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}}),56373:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(89289),c=function(){var h=[],l=g.supportNewBlendModes,o="source-over";return h[a.NORMAL]=o,h[a.ADD]="lighter",h[a.MULTIPLY]=l?"multiply":o,h[a.SCREEN]=l?"screen":o,h[a.OVERLAY]=l?"overlay":o,h[a.DARKEN]=l?"darken":o,h[a.LIGHTEN]=l?"lighten":o,h[a.COLOR_DODGE]=l?"color-dodge":o,h[a.COLOR_BURN]=l?"color-burn":o,h[a.HARD_LIGHT]=l?"hard-light":o,h[a.SOFT_LIGHT]=l?"soft-light":o,h[a.DIFFERENCE]=l?"difference":o,h[a.EXCLUSION]=l?"exclusion":o,h[a.HUE]=l?"hue":o,h[a.SATURATION]=l?"saturation":o,h[a.COLOR]=l?"color":o,h[a.LUMINOSITY]=l?"luminosity":o,h[a.ERASE]="destination-out",h[a.SOURCE_IN]="source-in",h[a.SOURCE_OUT]="source-out",h[a.SOURCE_ATOP]="source-atop",h[a.DESTINATION_OVER]="destination-over",h[a.DESTINATION_IN]="destination-in",h[a.DESTINATION_OUT]="destination-out",h[a.DESTINATION_ATOP]="destination-atop",h[a.LIGHTER]="lighter",h[a.COPY]="copy",h[a.XOR]="xor",h};r.exports=c}),20926:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(c,h,l,o,u){var v=o.alpha*l.alpha;if(v<=0)return!1;var f=a(l,o,u).calc;return h.globalCompositeOperation=c.blendModes[l.blendMode],h.globalAlpha=v,h.save(),f.setToContext(h),h.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:c.antialias,!0};r.exports=g}),63899:(r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="losewebgl"}),6119:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"}),48070:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"}),15640:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"}),8912:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"}),87124:(r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="restorewebgl"}),92503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}}),36909:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(92503),Snapshot:s(89966)},r.exports.Canvas=s(55830),r.exports.WebGL=s(4159)}),32880:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(40987),c=s(95540),h=function(l,o){var u=c(o,"callback"),v=c(o,"type","image/png"),f=c(o,"encoder",.92),p=Math.abs(Math.round(c(o,"x",0))),m=Math.abs(Math.round(c(o,"y",0))),y=Math.floor(c(o,"width",l.width)),S=Math.floor(c(o,"height",l.height)),T=c(o,"getPixel",!1);if(T){var b=l.getContext("2d",{willReadFrequently:!1}),P=b.getImageData(p,m,1,1),w=P.data;u.call(null,new g(w[0],w[1],w[2],w[3]))}else if(p!==0||m!==0||y!==l.width||S!==l.height){var A=a.createWebGL(this,y,S),R=A.getContext("2d",{willReadFrequently:!0});y>0&&S>0&&R.drawImage(l,p,m,y,S,0,0,y,S);var D=new Image;D.onerror=function(){u.call(null),a.remove(A)},D.onload=function(){u.call(null,D),a.remove(A)},D.src=A.toDataURL(v,f)}else{var L=new Image;L.onerror=function(){u.call(null)},L.onload=function(){u.call(null,L)},L.src=l.toDataURL(v,f)}};r.exports=h}),88815:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(40987),c=s(95540),h=function(l,o){var u=l,v=c(o,"callback"),f=c(o,"type","image/png"),p=c(o,"encoder",.92),m=Math.abs(Math.round(c(o,"x",0))),y=Math.abs(Math.round(c(o,"y",0))),S=c(o,"getPixel",!1),T=c(o,"isFramebuffer",!1),b=T?c(o,"bufferWidth",1):u.drawingBufferWidth,P=T?c(o,"bufferHeight",1):u.drawingBufferHeight;if(S){var w=new Uint8Array(4),A=T?y:P-y;u.readPixels(m,A,1,1,u.RGBA,u.UNSIGNED_BYTE,w),v.call(null,new g(w[0],w[1],w[2],w[3]))}else{var R=Math.floor(c(o,"width",b)),D=Math.floor(c(o,"height",P)),L=R*D*4,k=new Uint8Array(L);u.readPixels(m,P-y-D,R,D,u.RGBA,u.UNSIGNED_BYTE,k);for(var B=a.createWebGL(this,R,D),F=B.getContext("2d",{willReadFrequently:!0}),G=F.getImageData(0,0,R,D),N=G.data,W=0;W<D;W++)for(var X=0;X<R;X++){var $=((D-W-1)*R+X)*4,J=T?L-(W*R+(R-X))*4:(W*R+X)*4;N[J+0]=k[$+0],N[J+1]=k[$+1],N[J+2]=k[$+2],N[J+3]=k[$+3]}F.putImageData(G,0,0);var V=new Image;V.onerror=function(){v.call(null),a.remove(B)},V.onload=function(){v.call(null,V),a.remove(B)},V.src=B.toDataURL(f,p)}};r.exports=h}),89966:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:s(32880),WebGL:s(88815)}}),7530:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36060),c=s(90330),h=s(82264),l=s(95540),o=s(32302),u=s(63448),v=s(31302),f=s(58918),p=s(14811),m=s(92651),y=s(96569),S=s(56527),T=s(57516),b=s(43439),P=s(81041),w=s(12385),A=s(7589),R=s(95428),D=s(72905),L=new a({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new c([[g.UTILITY_PIPELINE,A],[g.MULTI_PIPELINE,T],[g.BITMAPMASK_PIPELINE,v],[g.SINGLE_PIPELINE,w],[g.ROPE_PIPELINE,P],[g.LIGHT_PIPELINE,y],[g.POINTLIGHT_PIPELINE,b],[g.MOBILE_PIPELINE,S]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(k,B,F){var G=this.renderer,N=this.renderTargets;this.frameInc=Math.floor(l(k,"frameInc",32));var W=G.width,X=G.height,$=this.game.config.disablePreFX,J=this.game.config.disablePostFX;if(J||this.postPipelineClasses.setAll([[String(p.BARREL),f.Barrel],[String(p.BLOOM),f.Bloom],[String(p.BLUR),f.Blur],[String(p.BOKEH),f.Bokeh],[String(p.CIRCLE),f.Circle],[String(p.COLOR_MATRIX),f.ColorMatrix],[String(p.DISPLACEMENT),f.Displacement],[String(p.GLOW),f.Glow],[String(p.GRADIENT),f.Gradient],[String(p.PIXELATE),f.Pixelate],[String(p.SHADOW),f.Shadow],[String(p.SHINE),f.Shine],[String(p.VIGNETTE),f.Vignette],[String(p.WIPE),f.Wipe]]),!$){this.classes.set(g.FX_PIPELINE,m);for(var V=Math.min(W,X),Y=Math.ceil(V/this.frameInc),z=1;z<Y;z++){var K=z*this.frameInc;N.push(new o(G,K,K)),N.push(new o(G,K,K)),N.push(new o(G,K,K)),this.maxDimension=K}N.push(new o(G,W,X,1,0,!0,!0)),N.push(new o(G,W,X,1,0,!0,!0)),N.push(new o(G,W,X,1,0,!0,!0))}var H,Q,j=this,q=this.game;if(this.classes.each(function(st,nt){H=j.add(st,new nt({game:q})),st===g.UTILITY_PIPELINE&&(j.UTILITY_PIPELINE=H,j.fullFrame1=H.fullFrame1,j.fullFrame2=H.fullFrame2,j.halfFrame1=H.halfFrame1,j.halfFrame2=H.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),$||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),k)for(Q in k){var tt=k[Q];H=new tt(q),H.name=Q,H.isPostFX?this.postPipelineClasses.set(Q,tt):this.has(Q)||(this.classes.set(Q,tt),this.add(Q,H))}this.default=this.get(B),F&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(k){var B=this.get(k);return B&&(this.default=B),B},add:function(k,B){if(B.isPostFX){console.warn(k+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,G=this.renderer;return F.has(k)?console.warn("Pipeline exists: "+k):(B.name=k,B.manager=this,F.set(k,B)),B.hasBooted||B.boot(),G.width!==0&&G.height!==0&&!B.isPreFX&&B.resize(G.width,G.height),B},addPostPipeline:function(k,B){this.postPipelineClasses.has(k)||this.postPipelineClasses.set(k,B)},flush:function(){this.current&&this.current.flush()},has:function(k){var B=this.pipelines;return typeof k=="string"?B.has(k):!!B.contains(k)},get:function(k){var B=this.pipelines;if(typeof k=="string")return B.get(k);if(B.contains(k))return k},getPostPipeline:function(k,B,F){var G=this.postPipelineClasses,N,W="",X=typeof k;if(X==="string"||X==="number"?(N=G.get(k),W=k):X==="function"?(G.contains(k)&&(N=k),W=k.name):X==="object"&&(N=G.get(k.name),W=k.name),N){var $=new N(this.game,F);return $.name=W,B&&($.gameObject=B),this.postPipelineInstances.push($),$}},removePostPipeline:function(k){D(this.postPipelineInstances,k)},remove:function(k,B,F){B===void 0&&(B=!0),F===void 0&&(F=!0),this.pipelines.delete(k),B&&this.classes.delete(k),F&&this.postPipelineClasses.delete(k)},set:function(k,B,F){if(!k.isPostFX)return this.isCurrent(k,F)||(this.flush(),this.current&&this.current.unbind(),this.current=k,k.bind(F)),k.updateProjectionMatrix(),k.onBind(B),k},preBatch:function(k){if(k.hasPostPipeline){this.flush();for(var B=k.postPipelines,F=B.length-1;F>=0;F--){var G=B[F];G.active&&G.preBatch(k)}}},postBatch:function(k){if(k.hasPostPipeline){this.flush();for(var B=k.postPipelines,F=0;F<B.length;F++){var G=B[F];G.active&&G.postBatch(k)}}},preBatchCamera:function(k){if(k.hasPostPipeline){this.flush();for(var B=k.postPipelines,F=B.length-1;F>=0;F--){var G=B[F];G.active&&G.preBatch(k)}}},postBatchCamera:function(k){if(k.hasPostPipeline){this.flush();for(var B=k.postPipelines,F=0;F<B.length;F++){var G=B[F];G.active&&G.postBatch(k)}}},isCurrent:function(k,B){var F=this.renderer,G=this.current;return G&&!B&&(B=G.currentShader),!(G!==k||B.program!==F.currentProgram)},copyFrame:function(k,B,F,G,N){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(k,B,F,G,N),this},copyToGame:function(k){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(k),this},drawFrame:function(k,B,F,G){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(k,B,F,G),this},blendFrames:function(k,B,F,G,N){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(k,B,F,G,N),this},blendFramesAdditive:function(k,B,F,G,N){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(k,B,F,G,N),this},clearFrame:function(k,B){return this.UTILITY_PIPELINE.clearFrame(k,B),this},blitFrame:function(k,B,F,G,N,W){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(k,B,F,G,N,W),this},copyFrameRect:function(k,B,F,G,N,W,X,$){return this.UTILITY_PIPELINE.copyFrameRect(k,B,F,G,N,W,X,$),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(k){return this.UTILITY_PIPELINE.bind(k)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(k,B){B.restoreContext()}),R(this.postPipelineInstances,function(k){k.restoreContext()})},rebind:function(k){k===void 0&&this.previous&&(k=this.previous);var B=this.renderer,F=B.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),B.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var G=B.vaoExtension;G&&G.bindVertexArrayOES(null);var N=this.pipelines.entries;for(var W in N)N[W].glReset=!0;k&&(this.current=k,k.rebind())},clear:function(){var k=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,k.currentProgram=null,k.setBlendMode(0,!0);var B=k.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(k){var B=this.renderTargets,F=3;if(k>this.maxDimension)return this.targetIndex=B.length-F,B[this.targetIndex];var G=(u(k,this.frameInc,0,!0)-1)*F;return this.targetIndex=G,B[G]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=L}),32302:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92503),c=new a({initialize:function(l,o,u,v,f,p,m,y,S){v===void 0&&(v=1),f===void 0&&(f=0),p===void 0&&(p=!0),m===void 0&&(m=!1),y===void 0&&(y=!0),S===void 0&&(S=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=f,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=y,this.forceClamp=S,this.init(o,u),m?this.renderer.on(g.RESIZE,this.resize,this):this.autoResize=!1},init:function(h,l){var o=this.renderer;this.texture=o.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,l){if(this.autoResize&&this.willResize(h,l)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l}return this},willResize:function(h,l){return typeof h!="number"||typeof l!="number"?!1:(h=Math.round(h*this.scale),l=Math.round(l*this.scale),h=Math.max(h,1),l=Math.max(l,1),h!==this.width||l!==this.height)},bind:function(h,l,o){h===void 0&&(h=!1);var u=this.renderer;if(h&&u.flush(),l&&o&&this.resize(l,o),u.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}u.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(h,l,o,u){var v=this.renderer,f=v.gl;v.pushFramebuffer(this.framebuffer),h!==void 0&&l!==void 0&&o!==void 0&&u!==void 0?(f.enable(f.SCISSOR_TEST),f.scissor(h,l,o,u)):f.disable(f.SCISSOR_TEST),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),v.popFramebuffer(),v.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var l=this.renderer;return h&&l.flush(),l.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(g.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=c}),70554:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(x,s,a,g){var c=(x*255|0)&255,h=(s*255|0)&255,l=(a*255|0)&255,o=(g*255|0)&255;return(o<<24|c<<16|h<<8|l)>>>0},getTintAppendFloatAlpha:function(x,s){var a=(s*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,s){var a=(x>>16|0)&255,g=(x>>8|0)&255,c=(x|0)&255,h=(s*255|0)&255;return(h<<24|c<<16|g<<8|a)>>>0},getFloatsFromUintRGB:function(x){var s=(x>>16|0)&255,a=(x>>8|0)&255,g=(x|0)&255;return[s/255,a/255,g/255]},checkShaderMax:function(x,s){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?a:Math.min(a,s)},parseFragmentShaderMaxTextures:function(x,s){if(!x)return"";for(var a="",g=0;g<s;g++)g>0&&(a+=`
	else `),g<s-1&&(a+="if (outTexId < "+g+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,s.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,s,a,g){return a===void 0&&(a=s.config.glowFXQuality),g===void 0&&(g=s.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/g).toFixed(7)),x=x.replace(/__DIST__/gi,g.toFixed(0)+".0"),x}}}),29100:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(62644),c=s(50792),h=s(77085),l=s(95540),o=s(37867),u=s(92503),v=s(32302),f=s(70554),p=s(38683),m=new a({Extends:c,initialize:function(S){c.call(this);var T=S.game,b=T.renderer,P=b.gl;this.name=l(S,"name","WebGLPipeline"),this.game=T,this.renderer=b,this.manager,this.gl=P,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(S,"topology",P.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(S,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=S,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(S,"resizeUniform","")},boot:function(){var y,S=this.gl,T=this.config,b=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var P=this.renderTargets,w=l(T,"renderTarget",!1);typeof w=="boolean"&&w&&(w=1);var A=b.width,R=b.height;if(typeof w=="number")for(y=0;y<w;y++)P.push(new v(b,A,R,1,0,!0));else if(Array.isArray(w))for(y=0;y<w.length;y++){var D=l(w[y],"scale",1),L=l(w[y],"minFilter",0),k=l(w[y],"autoClear",1),B=l(w[y],"autoResize",!1),F=l(w[y],"width",null),G=l(w[y],"height",F);F?P.push(new v(b,F,G,1,L,k,B)):P.push(new v(b,A,R,D,L,k,B))}P.length&&(this.currentRenderTarget=P[0]),this.setShadersFromConfig(T);var N=this.shaders,W=0;for(y=0;y<N.length;y++)N[y].vertexSize>W&&(W=N[y].vertexSize);var X=l(T,"batchSize",b.config.batchSize);this.vertexCapacity=X*6;var $=new ArrayBuffer(this.vertexCapacity*W);this.vertexData=$,this.bytes=new Uint8Array($),this.vertexViewF32=new Float32Array($),this.vertexViewU32=new Uint32Array($);var J=l(T,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=b.createVertexBuffer($,S.STATIC_DRAW)):this.vertexBuffer=b.createVertexBuffer($.byteLength,S.DYNAMIC_DRAW),this.setVertexBuffer(),y=N.length-1;y>=0;y--)N[y].rebind();this.hasBooted=!0,b.on(u.RESIZE,this.resize,this),b.on(u.PRE_RENDER,this.onPreRender,this),b.on(u.RENDER,this.onRender,this),b.on(u.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(y,S,T){var b=this.renderer;if(y!==this.currentShader||b.currentProgram!==this.currentShader.program){this.flush();var P=this.setVertexBuffer(T);P&&!S&&(S=!0),y.bind(S,!1),this.currentShader=y}return this},getShaderByName:function(y){for(var S=this.shaders,T=0;T<S.length;T++)if(S[T].name===y)return S[T]},setShadersFromConfig:function(y){var S,T=this.shaders,b=this.renderer;for(S=0;S<T.length;S++)T[S].destroy();var P="vertShader",w="fragShader",A="attributes",R=l(y,P,null),D=f.parseFragmentShaderMaxTextures(l(y,w,null),b.maxTextures),L=l(y,A,null),k=l(y,"shaders",[]),B=k.length;if(B===0)R&&D&&(this.shaders=[new p(this,"default",R,D,g(L))]);else{var F=[];for(S=0;S<B;S++){var G=k[S],N,W,X,$;if(typeof G=="string"?(N="default",W=R,X=f.parseFragmentShaderMaxTextures(G,b.maxTextures),$=L):(N=l(G,"name","default"),W=l(G,P,R),X=f.parseFragmentShaderMaxTextures(l(G,w,D),b.maxTextures),$=l(G,A,L)),N==="default"){var J=X.split(`
`),V=J[0].trim();V.indexOf("#define SHADER_NAME")>-1&&(N=V.substring(20))}W&&X&&F.push(new p(this,N,W,X,g($)))}this.shaders=F}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(y){return this.currentBatch={start:this.vertexCount,count:0,texture:[y],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=y,this.batch.push(this.currentBatch),0},addTextureToBatch:function(y){var S=this.currentBatch;S&&(S.texture.push(y),S.unit++,S.maxUnit++)},pushBatch:function(y){if(!this.currentBatch||this.forceZero&&y!==this.currentTexture)return this.createBatch(y);if(y===this.currentTexture)return this.currentUnit;var S=this.currentBatch,T=S.texture.indexOf(y);return T===-1?S.texture.length===this.renderer.maxTextures?this.createBatch(y):(S.unit++,S.maxUnit++,S.texture.push(y),this.currentUnit=S.unit,this.currentTexture=y,S.unit):(this.currentUnit=T,this.currentTexture=y,T)},setGameObject:function(y,S){return S===void 0&&(S=y.frame),this.pushBatch(S.source.glTexture)},shouldFlush:function(y){return y===void 0&&(y=0),this.vertexCount+y>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(y,S){(y!==this.width||S!==this.height)&&this.flush(),this.width=y,this.height=S;for(var T=this.renderTargets,b=0;b<T.length;b++)T[b].resize(y,S);return this.setProjectionMatrix(y,S),this.resizeUniform&&this.set2f(this.resizeUniform,y,S),this.emit(h.RESIZE,y,S,this),this.onResize(y,S),this},setProjectionMatrix:function(y,S){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=y,this.projectionHeight=S,T.ortho(0,y,S,0,-1e3,1e3);for(var b=this.shaders,P="uProjectionMatrix",w=0;w<b.length;w++){var A=b[w];A.hasUniform(P)&&(A.resetUniform(P),A.setMatrix4fv(P,!1,T.val,A))}return this},flipProjectionMatrix:function(y){y===void 0&&(y=!0);var S=this.projectionMatrix;if(!S)return this;var T=this.projectionWidth,b=this.projectionHeight;y?S.ortho(0,T,0,b,-1e3,1e3):S.ortho(0,T,b,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,S.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var y=this.renderer.projectionWidth,S=this.renderer.projectionHeight;(this.projectionWidth!==y||this.projectionHeight!==S)&&this.setProjectionMatrix(y,S)}},bind:function(y){if(y===void 0&&(y=this.currentShader),this.glReset)return this.rebind(y);var S=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,S=!0),y.bind(S),this.currentShader=y,this.activeTextures.length=0,this.emit(h.BIND,this,y),this.onActive(y),this},rebind:function(y){this.activeBuffer=null,this.setVertexBuffer();for(var S=this.shaders,T=S.length-1;T>=0;T--){var b=S[T].rebind();(!y||b===y)&&(this.currentShader=b)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var y=this.shaders,S=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,S&&this.setVertexBuffer();for(var T=0;T<y.length;T++){var b=y[T];b.syncUniforms(),S&&b.rebind()}},setVertexBuffer:function(y){if(y===void 0&&(y=this.vertexBuffer),y!==this.activeBuffer){var S=this.gl;return this.gl.bindBuffer(S.ARRAY_BUFFER,y.webGLBuffer),this.activeBuffer=y,!0}return!1},preBatch:function(y){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(y),this},postBatch:function(y){return this.onDraw(this.currentRenderTarget),this.onPostBatch(y),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(y){if(y===void 0&&(y=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,y),this.onBeforeFlush(y);var S=this.gl,T=this.vertexCount,b=this.currentShader.vertexSize,P=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.DYNAMIC_DRAW):S.bufferSubData(S.ARRAY_BUFFER,0,this.bytes.subarray(0,T*b));var w,A,R,D=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||S.activeTexture(S.TEXTURE0),w=0;w<D.length;w++)A=D[w],R=A.texture[0],L[0]!==R&&(S.bindTexture(S.TEXTURE_2D,R.webGLTexture),L[0]=R),S.drawArrays(P,A.start,A.count);else for(w=0;w<D.length;w++){A=D[w];for(var k=0;k<=A.maxUnit;k++)R=A.texture[k],L[k]!==R&&(S.activeTexture(S.TEXTURE0+k),S.bindTexture(S.TEXTURE_2D,R.webGLTexture),L[k]=R);S.drawArrays(P,A.start,A.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,y),this.onAfterFlush(y)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(y,S,T,b,P,w,A){var R=this.vertexViewF32,D=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++L]=y,R[++L]=S,R[++L]=T,R[++L]=b,R[++L]=P,R[++L]=w,D[++L]=A,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$,J,V){V===void 0&&(V=this.currentUnit);var Y=!1;this.shouldFlush(6)&&(this.flush(),Y=!0),this.currentBatch||(V=this.setTexture2D(J));var z=this.vertexViewF32,K=this.vertexViewU32,H=this.vertexCount*this.currentShader.vertexComponentCount-1;return z[++H]=S,z[++H]=T,z[++H]=L,z[++H]=k,z[++H]=V,z[++H]=$,K[++H]=G,z[++H]=b,z[++H]=P,z[++H]=L,z[++H]=F,z[++H]=V,z[++H]=$,K[++H]=W,z[++H]=w,z[++H]=A,z[++H]=B,z[++H]=F,z[++H]=V,z[++H]=$,K[++H]=X,z[++H]=S,z[++H]=T,z[++H]=L,z[++H]=k,z[++H]=V,z[++H]=$,K[++H]=G,z[++H]=w,z[++H]=A,z[++H]=B,z[++H]=F,z[++H]=V,z[++H]=$,K[++H]=X,z[++H]=R,z[++H]=D,z[++H]=B,z[++H]=k,z[++H]=V,z[++H]=$,K[++H]=N,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),Y},batchTri:function(y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X){X===void 0&&(X=this.currentUnit);var $=!1;this.shouldFlush(3)&&(this.flush(),$=!0),this.currentBatch||(X=this.setTexture2D(W));var J=this.vertexViewF32,V=this.vertexViewU32,Y=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++Y]=S,J[++Y]=T,J[++Y]=R,J[++Y]=D,J[++Y]=X,J[++Y]=N,V[++Y]=B,J[++Y]=b,J[++Y]=P,J[++Y]=R,J[++Y]=k,J[++Y]=X,J[++Y]=N,V[++Y]=F,J[++Y]=w,J[++Y]=A,J[++Y]=L,J[++Y]=k,J[++Y]=X,J[++Y]=N,V[++Y]=G,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(y),$},drawFillRect:function(y,S,T,b,P,w,A,R){A===void 0&&(A=this.renderer.whiteTexture),R===void 0&&(R=!0),y=Math.floor(y),S=Math.floor(S);var D=Math.floor(y+T),L=Math.floor(S+b),k=this.setTexture2D(A),B=f.getTintAppendFloatAlphaAndSwap(P,w),F=0,G=0,N=1,W=1;R&&(G=1,W=0),this.batchQuad(null,y,S,y,L,D,L,D,S,F,G,N,W,B,B,B,B,0,A,k)},setTexture2D:function(y){return y===void 0&&(y=this.renderer.whiteTexture),this.pushBatch(y)},bindTexture:function(y,S){S===void 0&&(S=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+S),T.bindTexture(T.TEXTURE_2D,y.webGLTexture),this},bindRenderTarget:function(y,S){return this.bindTexture(y.texture,S)},setTime:function(y,S){return this.set1f(y,this.game.loop.getDuration(),S),this},setBoolean:function(y,S,T){return T===void 0&&(T=this.currentShader),T.setBoolean(y,S),this},set1f:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set1f(y,S),this},set2f:function(y,S,T,b){return b===void 0&&(b=this.currentShader),b.set2f(y,S,T),this},set3f:function(y,S,T,b,P){return P===void 0&&(P=this.currentShader),P.set3f(y,S,T,b),this},set4f:function(y,S,T,b,P,w){return w===void 0&&(w=this.currentShader),w.set4f(y,S,T,b,P),this},set1fv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set1fv(y,S),this},set2fv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set2fv(y,S),this},set3fv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set3fv(y,S),this},set4fv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set4fv(y,S),this},set1iv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set1iv(y,S),this},set2iv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set2iv(y,S),this},set3iv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set3iv(y,S),this},set4iv:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set4iv(y,S),this},set1i:function(y,S,T){return T===void 0&&(T=this.currentShader),T.set1i(y,S),this},set2i:function(y,S,T,b){return b===void 0&&(b=this.currentShader),b.set2i(y,S,T),this},set3i:function(y,S,T,b,P){return P===void 0&&(P=this.currentShader),P.set3i(y,S,T,b),this},set4i:function(y,S,T,b,P,w){return w===void 0&&(w=this.currentShader),w.set4i(y,S,T,b,P),this},setMatrix2fv:function(y,S,T,b){return b===void 0&&(b=this.currentShader),b.setMatrix2fv(y,S,T),this},setMatrix3fv:function(y,S,T,b){return b===void 0&&(b=this.currentShader),b.setMatrix3fv(y,S,T),this},setMatrix4fv:function(y,S,T,b){return b===void 0&&(b=this.currentShader),b.setMatrix4fv(y,S,T),this},destroy:function(){this.emit(h.DESTROY,this);var y,S=this.shaders;for(y=0;y<S.length;y++)S[y].destroy();var T=this.renderTargets;for(y=0;y<T.length;y++)T[y].destroy();var b=this.renderer;return b.deleteBuffer(this.vertexBuffer),b.off(u.RESIZE,this.resize,this),b.off(u.PRE_RENDER,this.onPreRender,this),b.off(u.RENDER,this.onRender,this),b.off(u.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=m}),74797:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95428),g=s(72905),c=s(19715),h=s(83419),l=s(8054),o=s(50792),u=s(92503),v=s(50030),f=s(37867),p=s(29747),m=s(7530),y=s(32302),S=s(97480),T=s(69442),b=s(70554),P=s(88815),w=s(26128),A=s(1482),R=s(82751),D=s(84387),L=s(93567),k=s(57183),B=new h({Extends:o,initialize:function(G){o.call(this);var N=G.config,W={alpha:N.transparent,desynchronized:N.desynchronized,depth:!0,antialias:N.antialiasGL,premultipliedAlpha:N.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:N.failIfMajorPerformanceCaveat,powerPreference:N.powerPreference,preserveDrawingBuffer:N.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:N.clearBeforeRender,antialias:N.antialias,backgroundColor:N.backgroundColor,contextCreation:W,roundPixels:N.roundPixels,maxTextures:N.maxTextures,maxTextureSize:N.maxTextureSize,batchSize:N.batchSize,maxLights:N.maxLights,mipmapFilter:N.mipmapFilter},this.game=G,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=G.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.previousContextLostHandler=p,this.previousContextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(F){var G,N=this.game,W=this.canvas,X=F.backgroundColor;if(N.config.context?G=N.config.context:G=W.getContext("webgl",F.contextCreation)||W.getContext("experimental-webgl",F.contextCreation),!G||G.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=G,this.setExtensions(),this.setContextHandlers(),N.context=G;for(var $=0;$<=27;$++)this.blendModes.push({func:[G.ONE,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_ADD});this.blendModes[1].func=[G.ONE,G.DST_ALPHA],this.blendModes[2].func=[G.DST_COLOR,G.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[G.ONE,G.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[G.ZERO,G.ONE_MINUS_SRC_ALPHA],equation:G.FUNC_REVERSE_SUBTRACT},this.glFormats=[G.BYTE,G.SHORT,G.UNSIGNED_BYTE,G.UNSIGNED_SHORT,G.FLOAT],this.glFuncMap={mat2:{func:G.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:G.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:G.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:G.uniform1f,length:1},"1fv":{func:G.uniform1fv,length:1},"1i":{func:G.uniform1i,length:1},"1iv":{func:G.uniform1iv,length:1},"2f":{func:G.uniform2f,length:2},"2fv":{func:G.uniform2fv,length:1},"2i":{func:G.uniform2i,length:2},"2iv":{func:G.uniform2iv,length:1},"3f":{func:G.uniform3f,length:3},"3fv":{func:G.uniform3fv,length:1},"3i":{func:G.uniform3i,length:3},"3iv":{func:G.uniform3iv,length:1},"4f":{func:G.uniform4f,length:4},"4fv":{func:G.uniform4fv,length:1},"4i":{func:G.uniform4i,length:4},"4iv":{func:G.uniform4iv,length:1}},(!F.maxTextures||F.maxTextures===-1)&&(F.maxTextures=G.getParameter(G.MAX_TEXTURE_IMAGE_UNITS)),F.maxTextureSize||(F.maxTextureSize=G.getParameter(G.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),G.disable(G.DEPTH_TEST),G.disable(G.CULL_FACE),G.enable(G.BLEND),G.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),G.clear(G.COLOR_BUFFER_BIT);var J=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return J.indexOf(F.mipmapFilter)!==-1&&(this.mipmapFilter=G[F.mipmapFilter]),this.maxTextures=b.checkShaderMax(G,F.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new m(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new f().identity(),N.textures.once(T.READY,this.boot,this),this},boot:function(){var F=this.game,G=this.pipelines,N=F.scale.baseSize,W=N.width,X=N.height;this.width=W,this.height=X,this.isBooted=!0,this.renderTarget=new y(this,W,X,1,0,!0,!0),this.maskTarget=new y(this,W,X,1,0,!0,!0),this.maskSource=new y(this,W,X,1,0,!0,!0);var $=F.config;G.boot($.pipeline,$.defaultPipeline,$.autoMobilePipeline),this.blankTexture=F.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=F.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=F.textures.getFrame("__WHITE").glTexture;var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,null),J.enable(J.SCISSOR_TEST),F.scale.on(S.RESIZE,this.onResize,this),this.resize(W,X)},setExtensions:function(){var F=this.gl,G=F.getSupportedExtensions();this.supportedExtensions=G;var N="ANGLE_instanced_arrays";this.instancedArraysExtension=G.indexOf(N)>-1?F.getExtension(N):null;var W="OES_vertex_array_object";this.vaoExtension=G.indexOf(W)>-1?F.getExtension(W):null},setContextHandlers:function(F,G){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof F=="function"?this.contextLostHandler=F.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof G=="function"?this.contextRestoredHandler=G.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(F){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(u.LOSE_WEBGL,this),F.preventDefault()},dispatchContextRestored:function(F){var G=this.gl;if(G.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),G.disable(G.BLEND),G.disable(G.DEPTH_TEST),G.enable(G.CULL_FACE),this.compression=this.getCompressedTextures();var N=function(W){W.createResource()};a(this.glTextureWrappers,N),a(this.glBufferWrappers,N),a(this.glFramebufferWrappers,N),a(this.glProgramWrappers,N),a(this.glAttribLocationWrappers,N),a(this.glUniformLocationWrappers,N),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(u.RESTORE_WEBGL,this),F.preventDefault()},createTemporaryTextures:function(){for(var F=this.gl,G=0;G<this.maxTextures;G++){var N=F.createTexture();F.activeTexture(F.TEXTURE0+G),F.bindTexture(F.TEXTURE_2D,N),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,1,1,0,F.RGBA,F.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(G)}},captureFrame:function(F,G){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(F,G,N){},stopCapture:function(){},onCapture:function(F){},onResize:function(F,G){(G.width!==this.width||G.height!==this.height)&&this.resize(G.width,G.height)},beginCapture:function(F,G){F===void 0&&(F=this.width),G===void 0&&(G=this.height),this.renderTarget.bind(!0,F,G),this.setProjectionMatrix(F,G)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(F,G){var N=this.gl;return this.width=F,this.height=G,this.setProjectionMatrix(F,G),N.viewport(0,0,F,G),this.drawingBufferHeight=N.drawingBufferHeight,N.scissor(0,N.drawingBufferHeight-G,F,G),this.defaultScissor[2]=F,this.defaultScissor[3]=G,this.emit(u.RESIZE,F,G),this},getCompressedTextures:function(){var F="WEBGL_compressed_texture_",G="WEBKIT_"+F,N="EXT_texture_compression_",W=function($,J){var V=$.getExtension(F+J)||$.getExtension(G+J)||$.getExtension(N+J);if(V){var Y={};for(var z in V)Y[V[z]]=z;return Y}},X=this.gl;return{ETC:W(X,"etc"),ETC1:W(X,"etc1"),ATC:W(X,"atc"),ASTC:W(X,"astc"),BPTC:W(X,"bptc"),RGTC:W(X,"rgtc"),PVRTC:W(X,"pvrtc"),S3TC:W(X,"s3tc"),S3TCSRGB:W(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(F,G){var N=this.compression[F.toUpperCase()];if(G in N)return N[G]},supportsCompressedTexture:function(F,G){var N=this.compression[F.toUpperCase()];return N?G?G in N:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(F,G){return(F!==this.projectionWidth||G!==this.projectionHeight)&&(this.projectionWidth=F,this.projectionHeight=G,this.projectionMatrix.ortho(0,F,G,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(F){return this.supportedExtensions?this.supportedExtensions.indexOf(F):!1},getExtension:function(F){return this.hasExtension(F)?(F in this.extensions||(this.extensions[F]=this.gl.getExtension(F)),this.extensions[F]):null},flush:function(){this.pipelines.flush()},pushScissor:function(F,G,N,W,X){X===void 0&&(X=this.drawingBufferHeight);var $=this.scissorStack,J=[F,G,N,W];return $.push(J),this.setScissor(F,G,N,W,X),this.currentScissor=J,J},setScissor:function(F,G,N,W,X){X===void 0&&(X=this.drawingBufferHeight);var $=this.gl,J=this.currentScissor,V=N>0&&W>0;if(J&&V){var Y=J[0],z=J[1],K=J[2],H=J[3];V=Y!==F||z!==G||K!==N||H!==W}V&&(this.flush(),$.scissor(F,X-G-W,N,W))},resetScissor:function(){var F=this.gl;F.enable(F.SCISSOR_TEST);var G=this.currentScissor;if(G){var N=G[0],W=G[1],X=G[2],$=G[3];X>0&&$>0&&F.scissor(N,this.drawingBufferHeight-W-$,X,$)}},popScissor:function(){var F=this.scissorStack;F.pop();var G=F[F.length-1];G&&this.setScissor(G[0],G[1],G[2],G[3]),this.currentScissor=G},hasActiveStencilMask:function(){var F=this.currentMask.mask,G=this.currentCameraMask.mask;return F&&F.isStencil||G&&G.isStencil},resetViewport:function(){var F=this.gl;F.viewport(0,0,this.width,this.height),this.drawingBufferHeight=F.drawingBufferHeight},setBlendMode:function(F,G){G===void 0&&(G=!1);var N=this.gl,W=this.blendModes[F];return G||F!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==F?(this.flush(),N.enable(N.BLEND),N.blendEquation(W.equation),W.func.length>2?N.blendFuncSeparate(W.func[0],W.func[1],W.func[2],W.func[3]):N.blendFunc(W.func[0],W.func[1]),this.currentBlendMode=F,!0):!1},addBlendMode:function(F,G){var N=this.blendModes.push({func:F,equation:G});return N-1},updateBlendMode:function(F,G,N){return this.blendModes[F]&&(this.blendModes[F].func=G,N&&(this.blendModes[F].equation=N)),this},removeBlendMode:function(F){return F>17&&this.blendModes[F]&&this.blendModes.splice(F,1),this},pushFramebuffer:function(F,G,N,W,X){return F===this.currentFramebuffer?this:(this.fboStack.push(F),this.setFramebuffer(F,G,N,W,X))},setFramebuffer:function(F,G,N,W,X){if(G===void 0&&(G=!1),N===void 0&&(N=!0),W===void 0&&(W=null),X===void 0&&(X=!1),F===this.currentFramebuffer)return this;var $=this.gl,J=this.width,V=this.height;return F&&F.renderTexture&&N?(J=F.renderTexture.width,V=F.renderTexture.height):this.flush(),F?$.bindFramebuffer($.FRAMEBUFFER,F.webGLFramebuffer):$.bindFramebuffer($.FRAMEBUFFER,null),N&&$.viewport(0,0,J,V),W&&$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,W.webGLTexture,0),X&&($.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT)),G&&(F?(this.drawingBufferHeight=V,this.pushScissor(0,0,J,V)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=F,this},popFramebuffer:function(F,G){F===void 0&&(F=!1),G===void 0&&(G=!0);var N=this.fboStack;N.pop();var W=N[N.length-1];return W||(W=null),this.setFramebuffer(W,F,G),W},restoreFramebuffer:function(F,G){F===void 0&&(F=!1),G===void 0&&(G=!0);var N=this.fboStack,W=N[N.length-1];W||(W=null),this.currentFramebuffer=null,this.setFramebuffer(W,F,G)},setProgram:function(F){return F!==this.currentProgram?(this.flush(),this.gl.useProgram(F.webGLProgram),this.currentProgram=F,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(F,G,N,W,X){X===void 0&&(X=!1);var $=this.gl,J=$.NEAREST,V=$.NEAREST,Y=$.CLAMP_TO_EDGE,z=null;G=F?F.width:G,N=F?F.height:N;var K=v(G,N);if(K&&!X&&(Y=$.REPEAT),W===l.ScaleModes.LINEAR&&this.config.antialias){var H=F&&F.compressed,Q=!H&&K||H&&F.mipmaps.length>1;J=this.mipmapFilter&&Q?this.mipmapFilter:$.LINEAR,V=$.LINEAR}return!F&&typeof G=="number"&&typeof N=="number"?z=this.createTexture2D(0,J,V,Y,Y,$.RGBA,null,G,N):z=this.createTexture2D(0,J,V,Y,Y,$.RGBA,F),z},createTexture2D:function(F,G,N,W,X,$,J,V,Y,z,K,H){typeof V!="number"&&(V=J?J.width:1),typeof Y!="number"&&(Y=J?J.height:1);var Q=new R(this.gl,F,G,N,W,X,$,J,V,Y,z,K,H);return this.glTextureWrappers.push(Q),Q},createFramebuffer:function(F,G,N,W){this.currentFramebuffer=null;var X=new D(this.gl,F,G,N,W);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(F,G){var N=this.gl;N&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==F&&(this.currentMask.mask=F,this.currentMask.camera=G))},drawBitmapMask:function(F,G,N){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),F.renderWebGL(this,F,G),this.maskSource.unbind(!0),this.maskTarget.unbind();var W=this.gl,X=this.getCurrentStencilMask();X?(W.enable(W.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(N),W.activeTexture(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,this.maskTarget.texture.webGLTexture),W.activeTexture(W.TEXTURE1),W.bindTexture(W.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(F,G){var N=new A(this.gl,F,G);return this.glProgramWrappers.push(N),N},createVertexBuffer:function(F,G){var N=this.gl,W=new w(N,F,N.ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},createAttribLocation:function(F,G){var N=new L(this.gl,F,G);return this.glAttribLocationWrappers.push(N),N},createUniformLocation:function(F,G){var N=new k(this.gl,F,G);return this.glUniformLocationWrappers.push(N),N},createIndexBuffer:function(F,G){var N=this.gl,W=new w(N,F,N.ELEMENT_ARRAY_BUFFER,G);return this.glBufferWrappers.push(W),W},deleteTexture:function(F){if(F)return g(this.glTextureWrappers,F),F.destroy(),this},deleteFramebuffer:function(F){return F?(g(this.fboStack,F),g(this.glFramebufferWrappers,F),F.destroy(),this):this},deleteProgram:function(F){return F&&(g(this.glProgramWrappers,F),F.destroy()),this},deleteAttribLocation:function(F){return F&&(g(this.glAttribLocationWrappers,F),F.destroy()),this},deleteUniformLocation:function(F){return F&&(g(this.glUniformLocationWrappers,F),F.destroy()),this},deleteBuffer:function(F){return F?(g(this.glBufferWrappers,F),F.destroy(),this):this},preRenderCamera:function(F){var G=F.x,N=F.y,W=F.width,X=F.height,$=F.backgroundColor;if(F.emit(c.PRE_RENDER,F),this.pipelines.preBatchCamera(F),this.pushScissor(G,N,W,X),F.mask&&(this.currentCameraMask.mask=F.mask,this.currentCameraMask.camera=F._maskCamera,F.mask.preRenderWebGL(this,F,F._maskCamera)),$.alphaGL>0){var J=this.pipelines.setMulti();J.drawFillRect(G,N,W,X,b.getTintFromFloats($.blueGL,$.greenGL,$.redGL,1),$.alphaGL)}},getCurrentStencilMask:function(){var F=null,G=this.maskStack,N=this.currentCameraMask;return G.length>0?F=G[G.length-1]:N.mask&&N.mask.isStencil&&(F=N),F},postRenderCamera:function(F){var G=F.flashEffect,N=F.fadeEffect;if(G.isRunning||N.isRunning||N.isComplete){var W=this.pipelines.setMulti();G.postRenderWebGL(W,b.getTintFromFloats),N.postRenderWebGL(W,b.getTintFromFloats)}F.dirty=!1,this.popScissor(),F.mask&&(this.currentCameraMask.mask=null,F.mask.postRenderWebGL(this,F._maskCamera)),this.pipelines.postBatchCamera(F),F.emit(c.POST_RENDER,F)},preRender:function(){if(!this.contextLost){var F=this.gl;if(F.bindFramebuffer(F.FRAMEBUFFER,null),this.emit(u.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var G=this.config.backgroundColor;F.clearColor(G.redGL,G.greenGL,G.blueGL,G.alphaGL),F.clear(F.COLOR_BUFFER_BIT|F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)}F.enable(F.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&F.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(u.PRE_RENDER)}},render:function(F,G,N){if(!this.contextLost){var W=G.length;if(this.emit(u.RENDER,F,N),this.preRenderCamera(N),W===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(N);return}this.currentType="";for(var X=this.currentMask,$=0;$<W;$++){this.finalType=$===W-1;var J=G[$],V=J.mask;X=this.currentMask,X.mask&&X.mask!==V&&X.mask.postRenderWebGL(this,X.camera),V&&X.mask!==V&&V.preRenderWebGL(this,J,N),J.blendMode!==this.currentBlendMode&&this.setBlendMode(J.blendMode);var Y=J.type;Y!==this.currentType&&(this.newType=!0,this.currentType=Y),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=G[$+1].type===this.currentType,J.renderWebGL(this,J,N),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(N)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var F=this.snapshotState;F.callback&&(P(this.gl,F),F.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var F=this.gl,G=this.getCurrentStencilMask();if(G){var N=G.mask;F.enable(F.STENCIL_TEST),N.invertAlpha?F.stencilFunc(F.NOTEQUAL,N.level,255):F.stencilFunc(F.EQUAL,N.level,255)}},snapshot:function(F,G,N){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,F,G,N)},snapshotArea:function(F,G,N,W,X,$,J){var V=this.snapshotState;return V.callback=X,V.type=$,V.encoder=J,V.getPixel=!1,V.x=F,V.y=G,V.width=N,V.height=W,this},snapshotPixel:function(F,G,N){return this.snapshotArea(F,G,1,1,N),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(F,G,N,W,X,$,J,V,Y,z,K){X===void 0&&(X=!1),$===void 0&&($=0),J===void 0&&(J=0),V===void 0&&(V=G),Y===void 0&&(Y=N),z==="pixel"&&(X=!0,z="image/png");var H=this.currentFramebuffer;this.snapshotArea($,J,V,Y,W,z,K);var Q=this.snapshotState;return Q.getPixel=X,Q.isFramebuffer=!0,Q.bufferWidth=G,Q.bufferHeight=N,Q.width=Math.min(Q.width,G),Q.height=Math.min(Q.height,N),this.setFramebuffer(F),P(this.gl,Q),this.setFramebuffer(H),Q.callback=null,Q.isFramebuffer=!1,this},canvasToTexture:function(F,G,N,W){N===void 0&&(N=!1),W===void 0&&(W=!1);var X=this.gl,$=X.NEAREST,J=X.NEAREST,V=F.width,Y=F.height,z=X.CLAMP_TO_EDGE,K=v(V,Y);return!N&&K&&(z=X.REPEAT),this.config.antialias&&($=K&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),G?(G.update(F,V,Y,W,z,z,$,J,G.format),G):this.createTexture2D(0,$,J,z,z,X.RGBA,F,V,Y,!0,!1,W)},createCanvasTexture:function(F,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.canvasToTexture(F,null,G,N)},updateCanvasTexture:function(F,G,N,W){return N===void 0&&(N=!1),W===void 0&&(W=!1),this.canvasToTexture(F,G,W,N)},videoToTexture:function(F,G,N,W){N===void 0&&(N=!1),W===void 0&&(W=!1);var X=this.gl,$=X.NEAREST,J=X.NEAREST,V=F.videoWidth,Y=F.videoHeight,z=X.CLAMP_TO_EDGE,K=v(V,Y);return!N&&K&&(z=X.REPEAT),this.config.antialias&&($=K&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),G?(G.update(F,V,Y,W,z,z,$,J,G.format),G):this.createTexture2D(0,$,J,z,z,X.RGBA,F,V,Y,!0,!0,W)},createVideoTexture:function(F,G,N){return G===void 0&&(G=!1),N===void 0&&(N=!1),this.videoToTexture(F,null,G,N)},updateVideoTexture:function(F,G,N,W){return N===void 0&&(N=!1),W===void 0&&(W=!1),this.videoToTexture(F,G,W,N)},createUint8ArrayTexture:function(F,G,N){var W=this.gl,X=W.NEAREST,$=W.NEAREST,J=W.CLAMP_TO_EDGE,V=v(G,N);return V&&(J=W.REPEAT),this.createTexture2D(0,X,$,J,J,W.RGBA,F,G,N)},setTextureFilter:function(F,G){var N=this.gl,W=G===0?N.LINEAR:N.NEAREST;N.activeTexture(N.TEXTURE0);var X=N.getParameter(N.TEXTURE_BINDING_2D);return N.bindTexture(N.TEXTURE_2D,F.webGLTexture),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,W),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,W),F.minFilter=W,F.magFilter=W,X&&N.bindTexture(N.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var F=function(G){G.destroy()};a(this.glAttribLocationWrappers,F),a(this.glBufferWrappers,F),a(this.glFramebufferWrappers,F),a(this.glProgramWrappers,F),a(this.glTextureWrappers,F),a(this.glUniformLocationWrappers,F),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=B}),38683:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95428),c=s(95540),h=s(14500),l=new a({initialize:function(u,v,f,p,m){this.pipeline=u,this.name=v,this.renderer=u.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=f,this.program=this.renderer.createProgram(f,p),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(m),this.createUniforms()},createAttributes:function(o){var u=0,v=0,f=[];this.vertexComponentCount=0;for(var p=0;p<o.length;p++){var m=o[p],y=m.name,S=c(m,"size",1),T=c(m,"type",h.FLOAT),b=T.enum,P=T.size,w=!!m.normalized;f.push({name:y,size:S,type:b,normalized:w,offset:v,enabled:!1,location:-1}),P===4?u+=S:u++,v+=S*P}this.vertexSize=v,this.vertexComponentCount=u,this.attributes=f},bind:function(o,u){return o===void 0&&(o=!1),u===void 0&&(u=!1),u&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(o){o===void 0&&(o=!1);for(var u=this.gl,v=this.renderer,f=this.vertexSize,p=this.attributes,m=this.program,y=0;y<p.length;y++){var S=p[y],T=S.size,b=S.type,P=S.offset,w=S.enabled,A=S.location,R=!!S.normalized;if(o){A!==-1&&v.deleteAttribLocation(A);var D=this.renderer.createAttribLocation(m,S.name);D.webGLAttribLocation>=0?(u.enableVertexAttribArray(D.webGLAttribLocation),u.vertexAttribPointer(D.webGLAttribLocation,T,b,R,f,P),S.enabled=!0,S.location=D):D.webGLAttribLocation!==-1&&u.disableVertexAttribArray(D.webGLAttribLocation)}else w?u.vertexAttribPointer(A.webGLAttribLocation,T,b,R,f,P):!w&&A!==-1&&A.webGLAttribLocation>-1&&(u.disableVertexAttribArray(A.webGLAttribLocation),S.location=-1)}return this},createUniforms:function(){var o=this.gl,u=this.program,v=this.uniforms,f,p,m,y=o.getProgramParameter(u.webGLProgram,o.ACTIVE_UNIFORMS);for(f=0;f<y;f++){var S=o.getActiveUniform(u.webGLProgram,f);if(S){p=S.name,m=this.renderer.createUniformLocation(u,p),m!==null&&(v[p]={name:p,location:m,setter:null,value1:null,value2:null,value3:null,value4:null});var T=p.indexOf("[");T>0&&(p=p.substr(0,T),v.hasOwnProperty(p)||(m=this.renderer.createUniformLocation(u,p),m!==null&&(v[p]={name:p,location:m,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var o=this.gl;this.renderer.setProgram(this.program);for(var u in this.uniforms){var v=this.uniforms[u];v.setter&&v.setter.call(o,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(o){return this.uniforms.hasOwnProperty(o)},resetUniform:function(o){var u=this.uniforms[o];return u&&(u.value1=null,u.value2=null,u.value3=null,u.value4=null),this},setUniform1:function(o,u,v,f){var p=this.uniforms[u];return p?((f||p.value1!==v)&&(p.setter||(p.setter=o),p.value1=v,this.renderer.setProgram(this.program),o.call(this.gl,p.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(o,u,v,f,p){var m=this.uniforms[u];return m?((p||m.value1!==v||m.value2!==f)&&(m.setter||(m.setter=o),m.value1=v,m.value2=f,this.renderer.setProgram(this.program),o.call(this.gl,m.location.webGLUniformLocation,v,f),this.pipeline.currentShader=this),this):this},setUniform3:function(o,u,v,f,p,m){var y=this.uniforms[u];return y?((m||y.value1!==v||y.value2!==f||y.value3!==p)&&(y.setter||(y.setter=o),y.value1=v,y.value2=f,y.value3=p,this.renderer.setProgram(this.program),o.call(this.gl,y.location.webGLUniformLocation,v,f,p),this.pipeline.currentShader=this),this):this},setUniform4:function(o,u,v,f,p,m,y){var S=this.uniforms[u];return S?((y||S.value1!==v||S.value2!==f||S.value3!==p||S.value4!==m)&&(S.setter||(S.setter=o),S.value1=v,S.value2=f,S.value3=p,S.value4=m,this.renderer.setProgram(this.program),o.call(this.gl,S.location.webGLUniformLocation,v,f,p,m),this.pipeline.currentShader=this),this):this},setBoolean:function(o,u){return this.setUniform1(this.gl.uniform1i,o,Number(u))},set1f:function(o,u){return this.setUniform1(this.gl.uniform1f,o,u)},set2f:function(o,u,v){return this.setUniform2(this.gl.uniform2f,o,u,v)},set3f:function(o,u,v,f){return this.setUniform3(this.gl.uniform3f,o,u,v,f)},set4f:function(o,u,v,f,p){return this.setUniform4(this.gl.uniform4f,o,u,v,f,p)},set1fv:function(o,u){return this.setUniform1(this.gl.uniform1fv,o,u,!0)},set2fv:function(o,u){return this.setUniform1(this.gl.uniform2fv,o,u,!0)},set3fv:function(o,u){return this.setUniform1(this.gl.uniform3fv,o,u,!0)},set4fv:function(o,u){return this.setUniform1(this.gl.uniform4fv,o,u,!0)},set1iv:function(o,u){return this.setUniform1(this.gl.uniform1iv,o,u,!0)},set2iv:function(o,u){return this.setUniform1(this.gl.uniform2iv,o,u,!0)},set3iv:function(o,u){return this.setUniform1(this.gl.uniform3iv,o,u,!0)},set4iv:function(o,u){return this.setUniform1(this.gl.uniform4iv,o,u,!0)},set1i:function(o,u){return this.setUniform1(this.gl.uniform1i,o,u)},set2i:function(o,u,v){return this.setUniform2(this.gl.uniform2i,o,u,v)},set3i:function(o,u,v,f){return this.setUniform3(this.gl.uniform3i,o,u,v,f)},set4i:function(o,u,v,f,p){return this.setUniform4(this.gl.uniform4i,o,u,v,f,p)},setMatrix2fv:function(o,u,v){return this.setUniform2(this.gl.uniformMatrix2fv,o,u,v,!0)},setMatrix3fv:function(o,u,v){return this.setUniform2(this.gl.uniformMatrix3fv,o,u,v,!0)},setMatrix4fv:function(o,u,v){return this.setUniform2(this.gl.uniformMatrix4fv,o,u,v,!0)},createProgram:function(o,u){return o===void 0&&(o=this.vertSrc),u===void 0&&(u=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=u,this.program=this.renderer.createProgram(o,u),this.createUniforms(),this.rebind()},destroy:function(){var o=this.renderer;g(this.uniforms,function(u){o.deleteUniformLocation(u.location)}),this.uniforms=null,g(this.attributes,function(u){o.deleteAttribLocation(u.location)}),this.attributes=null,o.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=l}),14500:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=x}),4159:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14500),g=s(79291),c={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};c=g(!1,c,a),r.exports=c}),31302:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(78908),h=s(85191),l=s(14500),o=s(29100),u=new a({Extends:o,initialize:function(f){f.fragShader=g(f,"fragShader",c),f.vertShader=g(f,"vertShader",h),f.batchSize=g(f,"batchSize",1),f.vertices=g(f,"vertices",[-1,1,-1,-7,7,1]),f.attributes=g(f,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),o.call(this,f)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,f){o.prototype.resize.call(this,v,f),this.set2f("uResolution",v,f)},beginMask:function(v,f,p){this.renderer.beginBitmapMask(v,p)},endMask:function(v,f,p){var m=this.gl,y=this.renderer,S=v.bitmapMask;S&&m&&(y.drawBitmapMask(S,f,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),m.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),m.bindTexture(m.TEXTURE_2D,null))}});r.exports=u}),92651:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(58918),c=s(14811),h=s(95540),l=s(43558),o=s(89350),u=s(70554),v=new a({Extends:l,initialize:function(p){p.shaders=[u.setGlowQuality(o.FXGlowFrag,p.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],l.call(this,p);var m=this.game;this.glow=new g.Glow(m),this.shadow=new g.Shadow(m),this.pixelate=new g.Pixelate(m),this.vignette=new g.Vignette(m),this.shine=new g.Shine(m),this.gradient=new g.Gradient(m),this.circle=new g.Circle(m),this.barrel=new g.Barrel(m),this.wipe=new g.Wipe(m),this.bokeh=new g.Bokeh(m);var y=[];y[c.GLOW]=this.onGlow,y[c.SHADOW]=this.onShadow,y[c.PIXELATE]=this.onPixelate,y[c.VIGNETTE]=this.onVignette,y[c.SHINE]=this.onShine,y[c.BLUR]=this.onBlur,y[c.GRADIENT]=this.onGradient,y[c.BLOOM]=this.onBloom,y[c.COLOR_MATRIX]=this.onColorMatrix,y[c.CIRCLE]=this.onCircle,y[c.BARREL]=this.onBarrel,y[c.DISPLACEMENT]=this.onDisplacement,y[c.WIPE]=this.onWipe,y[c.BOKEH]=this.onBokeh,this.fxHandlers=y,this.source,this.target,this.swap},onDraw:function(f,p,m){this.source=f,this.target=p,this.swap=m;var y=f.width,S=f.height,T=this.tempSprite,b=this.fxHandlers;if(T&&T.preFX)for(var P=T.preFX.list,w=0;w<P.length;w++){var A=P[w];A.active&&b[A.type].call(this,A,y,S)}this.drawToGame(this.source)},runDraw:function(){var f=this.source,p=this.target;this.copy(f,p),this.source=p,this.target=f},onGlow:function(f,p,m){var y=this.shaders[c.GLOW];this.setShader(y),this.glow.onPreRender(f,y,p,m),this.runDraw()},onShadow:function(f){var p=this.shaders[c.SHADOW];this.setShader(p),this.shadow.onPreRender(f,p),this.runDraw()},onPixelate:function(f,p,m){var y=this.shaders[c.PIXELATE];this.setShader(y),this.pixelate.onPreRender(f,y,p,m),this.runDraw()},onVignette:function(f){var p=this.shaders[c.VIGNETTE];this.setShader(p),this.vignette.onPreRender(f,p),this.runDraw()},onShine:function(f,p,m){var y=this.shaders[c.SHINE];this.setShader(y),this.shine.onPreRender(f,y,p,m),this.runDraw()},onBlur:function(f,p,m){var y=h(f,"quality"),S=this.shaders[c.BLUR+y];this.setShader(S),this.set1i("uMainSampler",0),this.set2f("resolution",p,m),this.set1f("strength",h(f,"strength")),this.set3fv("color",h(f,"glcolor"));for(var T=h(f,"x"),b=h(f,"y"),P=h(f,"steps"),w=0;w<P;w++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,b),this.runDraw()},onGradient:function(f){var p=this.shaders[c.GRADIENT];this.setShader(p),this.gradient.onPreRender(f,p),this.runDraw()},onBloom:function(f,p,m){var y=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(y),this.set1i("uMainSampler",0),this.set1f("strength",h(f,"blurStrength")),this.set3fv("color",h(f,"glcolor"));for(var S=2/p*h(f,"offsetX"),T=2/m*h(f,"offsetY"),b=h(f,"steps"),P=0;P<b;P++)this.set2f("offset",S,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(f,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(f){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",f.getData()),this.set1f("uAlpha",f.alpha),this.runDraw()},onCircle:function(f,p,m){var y=this.shaders[c.CIRCLE];this.setShader(y),this.circle.onPreRender(f,y,p,m),this.runDraw()},onBarrel:function(f){var p=this.shaders[c.BARREL];this.setShader(p),this.barrel.onPreRender(f,p),this.runDraw()},onDisplacement:function(f){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",f.x,f.y),this.bindTexture(f.glTexture,1),this.runDraw()},onWipe:function(f){var p=this.shaders[c.WIPE];this.setShader(p),this.wipe.onPreRender(f,p),this.runDraw()},onBokeh:function(f,p,m){var y=this.shaders[c.BOKEH];this.setShader(y),this.bokeh.onPreRender(f,y,p,m),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});r.exports=v}),96569:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(31063),h=s(57516),l=s(61340),o=s(26099),u=s(29100),v=new a({Extends:h,initialize:function(p){var m=g(p,"fragShader",c);p.fragShader=m.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),h.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){u.prototype.boot.call(this)},onRender:function(f,p){var m=f.sys.lights;if(this.lightsActive=!1,!(!m||!m.active)){var y=m.getLights(p),S=y.length;this.lightsActive=!0;var T,b=this.renderer,P=b.height,w=p.matrix,A=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",m.ambientColor.r,m.ambientColor.g,m.ambientColor.b),this.set1i("uLightCount",S),T=0;T<S;T++){var R=y[T].light,D=R.color,L="uLights["+T+"].";w.transformPoint(R.x,R.y,A),this.set2f(L+"position",A.x-p.scrollX*R.scrollFactorX*p.zoom,P-(A.y-p.scrollY*R.scrollFactorY*p.zoom)),this.set3f(L+"color",D.r,D.g,D.b),this.set1f(L+"intensity",R.intensity),this.set1f(L+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(f){if(f!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(f){var m=-f,y=Math.cos(m),S=Math.sin(m);p[1]=S,p[3]=-S,p[0]=p[4]=y}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=f}},setTexture2D:function(f,p){var m=this.renderer;f===void 0&&(f=m.whiteTexture);var y=this.getNormalMap(p);this.isNewNormalMap(f,y)&&(this.flush(),this.createBatch(f),this.addTextureToBatch(y),this.currentNormalMap=y);var S=0;if(p&&p.parentContainer){var T=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);S=T.rotationNormalized}else p&&(S=p.rotation);return this.currentBatch===null&&(this.createBatch(f),this.addTextureToBatch(y)),this.setNormalMapRotation(S),0},setGameObject:function(f,p){p===void 0&&(p=f.frame);var m=p.glTexture,y=this.getNormalMap(f);if(this.isNewNormalMap(m,y)&&(this.flush(),this.createBatch(m),this.addTextureToBatch(y),this.currentNormalMap=y),f.parentContainer){var S=f.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(S.rotationNormalized)}else this.setNormalMapRotation(f.rotation);return this.currentBatch===null&&(this.createBatch(m),this.addTextureToBatch(y)),0},isNewNormalMap:function(f,p){return this.currentTexture!==f||this.currentNormalMap!==p},getNormalMap:function(f){var p;if(f)f.displayTexture?p=f.displayTexture.dataSource[f.displayFrame.sourceIndex]:f.texture?p=f.texture.dataSource[f.frame.sourceIndex]:f.tileset&&(Array.isArray(f.tileset)?p=f.tileset[0].image.dataSource[0]:p=f.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return p?p.glTexture:this.renderer.normalTexture},batchSprite:function(f,p,m){this.lightsActive&&h.prototype.batchSprite.call(this,f,p,m)},batchTexture:function(f,p,m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$,J,V,Y,z,K,H,Q,j,q,tt,st){this.lightsActive&&h.prototype.batchTexture.call(this,f,p,m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$,J,V,Y,z,K,H,Q,j,q,tt,st)},batchTextureFrame:function(f,p,m,y,S,T,b){this.lightsActive&&h.prototype.batchTextureFrame.call(this,f,p,m,y,S,T,b)}});r.exports=v}),56527:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(57516),h=s(45561),l=s(60722),o=s(14500),u=s(29100),v=new a({Extends:c,initialize:function(p){p.fragShader=g(p,"fragShader",h),p.vertShader=g(p,"vertShader",l),p.attributes=g(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",c.call(this,p)},boot:function(){u.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)}});r.exports=v}),57516:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94811),c=s(95540),h=s(98840),l=s(44667),o=s(61340),u=s(70554),v=s(14500),f=s(29100),p=new a({Extends:f,initialize:function(y){var S=y.game.renderer,T=c(y,"fragShader",h);y.fragShader=u.parseFragmentShaderMaxTextures(T,S.maxTextures),y.vertShader=c(y,"vertShader",l),y.attributes=c(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),y.resizeUniform="uResolution",f.call(this,y),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){f.prototype.boot.call(this);var m=this.renderer;this.set1iv("uMainSampler",m.textureIndexes),this.set2f("uResolution",m.width,m.height)},batchSprite:function(m,y,S){this.manager.set(this,m);var T=this._tempMatrix1,b=this._tempMatrix2,P=this._tempMatrix3,w=m.frame,A=w.glTexture,R=w.u0,D=w.v0,L=w.u1,k=w.v1,B=w.x,F=w.y,G=w.cutWidth,N=w.cutHeight,W=w.customPivot,X=m.displayOriginX,$=m.displayOriginY,J=-X+B,V=-$+F;if(m.isCropped){var Y=m._crop;(Y.flipX!==m.flipX||Y.flipY!==m.flipY)&&w.updateCropUVs(Y,m.flipX,m.flipY),R=Y.u0,D=Y.v0,L=Y.u1,k=Y.v1,G=Y.width,N=Y.height,B=Y.x,F=Y.y,J=-X+B,V=-$+F}var z=1,K=1;m.flipX&&(W||(J+=-w.realWidth+X*2),z=-1),m.flipY&&(W||(V+=-w.realHeight+$*2),K=-1);var H=m.x,Q=m.y;y.roundPixels&&(H=Math.floor(H),Q=Math.floor(Q)),b.applyITRS(H,Q,m.rotation,m.scaleX*z,m.scaleY*K),T.copyFrom(y.matrix),S?(T.multiplyWithOffset(S,-y.scrollX*m.scrollFactorX,-y.scrollY*m.scrollFactorY),b.e=H,b.f=Q):(b.e-=y.scrollX*m.scrollFactorX,b.f-=y.scrollY*m.scrollFactorY),T.multiply(b,P);var j=P.setQuad(J,V,J+G,V+N,y.renderRoundPixels),q=u.getTintAppendFloatAlpha,tt=y.alpha,st=q(m.tintTopLeft,tt*m._alphaTL),nt=q(m.tintTopRight,tt*m._alphaTR),at=q(m.tintBottomLeft,tt*m._alphaBL),ot=q(m.tintBottomRight,tt*m._alphaBR);this.shouldFlush(6)&&this.flush();var mt=this.setGameObject(m,w);this.manager.preBatch(m),this.batchQuad(m,j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],R,D,L,k,st,nt,at,ot,m.tintFill,A,mt),this.manager.postBatch(m)},batchTexture:function(m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$,J,V,Y,z,K,H,Q,j,q,tt,st,nt,at,ot){ot===void 0&&(ot=!1),this.manager.set(this,m);var mt=this._tempMatrix1,St=this._tempMatrix2,Ct=this._tempMatrix3,kt=X/S+j,Vt=$/T+q,It=(X+J)/S+j,yt=($+V)/T+q,Lt=w,Ft=A,$t=-N,Jt=-W;if(m.isCropped){var jt=m._crop,Zt=jt.width,Yt=jt.height;Lt=Zt,Ft=Yt,w=Zt,A=Yt,X=jt.x,$=jt.y;var ke=X,ze=$;k&&(ke=J-jt.x-Zt),B&&(ze=V-jt.y-Yt),kt=ke/S+j,Vt=ze/T+q,It=(ke+Zt)/S+j,yt=(ze+Yt)/T+q,$t=-N+X,Jt=-W+$}B=B^(!nt&&y.isRenderTexture?1:0),k&&(Lt*=-1,$t+=w),B&&(Ft*=-1,Jt+=A),tt.roundPixels&&(b=Math.floor(b),P=Math.floor(P)),St.applyITRS(b,P,L,R,D),mt.copyFrom(tt.matrix),st?(mt.multiplyWithOffset(st,-tt.scrollX*F,-tt.scrollY*G),St.e=b,St.f=P):(St.e-=tt.scrollX*F,St.f-=tt.scrollY*G),mt.multiply(St,Ct);var ce=Ct.setQuad($t,Jt,$t+Lt,Jt+Ft,tt.renderRoundPixels);at==null&&(at=this.setTexture2D(y)),m&&!ot&&this.manager.preBatch(m),this.batchQuad(m,ce[0],ce[1],ce[2],ce[3],ce[4],ce[5],ce[6],ce[7],kt,Vt,It,yt,Y,z,K,H,Q,y,at),m&&!ot&&this.manager.postBatch(m)},batchTextureFrame:function(m,y,S,T,b,P,w){this.manager.set(this);var A=this._tempMatrix1.copyFrom(P),R=this._tempMatrix2;w?A.multiply(w,R):R=A;var D=R.setQuad(y,S,y+m.width,S+m.height),L=this.setTexture2D(m.source.glTexture);T=u.getTintAppendFloatAlpha(T,b),this.batchQuad(null,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],m.u0,m.v0,m.u1,m.v1,T,T,T,T,0,m.glTexture,L)},batchFillRect:function(m,y,S,T,b,P){this.renderer.pipelines.set(this);var w=this.calcMatrix;P&&P.multiply(b,w);var A=w.setQuad(m,y,m+S,y+T),R=this.fillTint;this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(m,y,S,T,b,P,w,A){this.renderer.pipelines.set(this);var R=this.calcMatrix;A&&A.multiply(w,R);var D=R.getX(m,y),L=R.getY(m,y),k=R.getX(S,T),B=R.getY(S,T),F=R.getX(b,P),G=R.getY(b,P),N=this.fillTint;this.batchTri(null,D,L,k,B,F,G,0,0,1,1,N.TL,N.TR,N.BL,2)},batchStrokeTriangle:function(m,y,S,T,b,P,w,A,R){var D=this.tempTriangle;D[0].x=m,D[0].y=y,D[0].width=w,D[1].x=S,D[1].y=T,D[1].width=w,D[2].x=b,D[2].y=P,D[2].width=w,D[3].x=m,D[3].y=y,D[3].width=w,this.batchStrokePath(D,w,!1,A,R)},batchFillPath:function(m,y,S){this.renderer.pipelines.set(this);var T=this.calcMatrix;S&&S.multiply(y,T);for(var b=m.length,P=this.polygonCache,w,A,R=this.fillTint.TL,D=this.fillTint.TR,L=this.fillTint.BL,k=0;k<b;++k)A=m[k],P.push(A.x,A.y);w=g(P),b=w.length;for(var B=0;B<b;B+=3){var F=w[B+0]*2,G=w[B+1]*2,N=w[B+2]*2,W=P[F+0],X=P[F+1],$=P[G+0],J=P[G+1],V=P[N+0],Y=P[N+1],z=T.getX(W,X),K=T.getY(W,X),H=T.getX($,J),Q=T.getY($,J),j=T.getX(V,Y),q=T.getY(V,Y);this.batchTri(null,z,K,H,Q,j,q,0,0,1,1,R,D,L,2)}P.length=0},batchStrokePath:function(m,y,S,T,b){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var P=m.length-1,w=0;w<P;w++){var A=m[w],R=m[w+1];this.batchLine(A.x,A.y,R.x,R.y,A.width/2,R.width/2,y,w,!S&&w===P-1,T,b)}},batchLine:function(m,y,S,T,b,P,w,A,R,D,L){this.renderer.pipelines.set(this);var k=this.calcMatrix;L&&L.multiply(D,k);var B=S-m,F=T-y,G=Math.sqrt(B*B+F*F);if(G!==0){var N=b*(T-y)/G,W=b*(m-S)/G,X=P*(T-y)/G,$=P*(m-S)/G,J=S-X,V=T-$,Y=m-N,z=y-W,K=S+X,H=T+$,Q=m+N,j=y+W,q=k.getX(J,V),tt=k.getY(J,V),st=k.getX(Y,z),nt=k.getY(Y,z),at=k.getX(K,H),ot=k.getY(K,H),mt=k.getX(Q,j),St=k.getY(Q,j),Ct=this.strokeTint,kt=Ct.TL,Vt=Ct.TR,It=Ct.BL,yt=Ct.BR;if(this.batchQuad(null,mt,St,st,nt,q,tt,at,ot,0,0,1,1,kt,Vt,It,yt,2),!(w<=2)){var Lt=this.prevQuad,Ft=this.firstQuad;A>0&&Lt[4]?this.batchQuad(null,mt,St,st,nt,Lt[0],Lt[1],Lt[2],Lt[3],0,0,1,1,kt,Vt,It,yt,2):(Ft[0]=mt,Ft[1]=St,Ft[2]=st,Ft[3]=nt,Ft[4]=1),R&&Ft[4]?this.batchQuad(null,q,tt,at,ot,Ft[0],Ft[1],Ft[2],Ft[3],0,0,1,1,kt,Vt,It,yt,2):(Lt[0]=q,Lt[1]=tt,Lt[2]=at,Lt[3]=ot,Lt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,f.prototype.destroy.call(this),this}});r.exports=p}),43439:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(4127),h=s(89924),l=s(29100),o=new a({Extends:l,initialize:function(v){v.vertShader=g(v,"vertShader",h),v.fragShader=g(v,"fragShader",c),v.attributes=g(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,v)},onRender:function(u,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(u,v,f,p,m,y,S,T,b,P,w,A){var R=u.color,D=u.intensity,L=u.radius,k=u.attenuation,B=R.r*D,F=R.g*D,G=R.b*D,N=v.alpha*u.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(f,p,w,A,L,k,B,F,G,N),this.batchLightVert(m,y,w,A,L,k,B,F,G,N),this.batchLightVert(S,T,w,A,L,k,B,F,G,N),this.batchLightVert(f,p,w,A,L,k,B,F,G,N),this.batchLightVert(S,T,w,A,L,k,B,F,G,N),this.batchLightVert(b,P,w,A,L,k,B,F,G,N),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(u,v,f,p,m,y,S,T,b,P){var w=this.vertexViewF32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++A]=u,w[++A]=v,w[++A]=f,w[++A]=p,w[++A]=m,w[++A]=y,w[++A]=S,w[++A]=T,w[++A]=b,w[++A]=P,this.vertexCount++}});r.exports=o}),84057:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89422),c=s(95540),h=s(27681),l=s(49627),o=s(29100),u=new a({Extends:o,initialize:function(f){f.renderTarget=c(f,"renderTarget",1),f.fragShader=c(f,"fragShader",h),f.vertShader=c(f,"vertShader",l),f.attributes=c(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.batchSize=1,f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,f),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){o.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height);for(var p=this.renderTargets,m=0;m<p.length;m++)p[m].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,f,p){p===void 0&&(p=!1);var m=this.gl;m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture.webGLTexture);var y=m.getParameter(m.FRAMEBUFFER_BINDING);m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,f.texture.webGLTexture,0),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),p&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,y))},copyFrame:function(v,f,p,m,y){this.manager.copyFrame(v,f,p,m,y)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,f,p){this.manager.drawFrame(v,f,p,this.colorMatrix)},blendFrames:function(v,f,p,m,y){this.manager.blendFrames(v,f,p,m,y)},blendFramesAdditive:function(v,f,p,m,y){this.manager.blendFramesAdditive(v,f,p,m,y)},clearFrame:function(v,f){this.manager.clearFrame(v,f)},blitFrame:function(v,f,p,m,y,S){this.manager.blitFrame(v,f,p,m,y,S)},copyFrameRect:function(v,f,p,m,y,S,T,b){this.manager.copyFrameRect(v,f,p,m,y,S,T,b)},bindAndDraw:function(v,f,p,m,y){p===void 0&&(p=!0),m===void 0&&(m=!0);var S=this.gl,T=this.renderer;this.bind(y),this.set1i("uMainSampler",0),f?(S.viewport(0,0,f.width,f.height),S.bindFramebuffer(S.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,f.texture.webGLTexture,0),p&&(m?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||S.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture.webGLTexture),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),f&&(S.bindTexture(S.TEXTURE_2D,null),S.bindFramebuffer(S.FRAMEBUFFER,T.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),o.prototype.destroy.call(this),this}});r.exports=u}),43558:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(67502),c=s(83419),h=s(96293),l=s(95540),o=s(57516),u=s(27681),v=s(87841),f=s(32302),p=s(45561),m=s(60722),y=s(29100),S=new c({Extends:o,initialize:function(b){var P=l(b,"fragShader",u),w=l(b,"vertShader",m),A=l(b,"drawShader",u),R=[{name:"DrawSprite",fragShader:p,vertShader:m},{name:"CopySprite",fragShader:P,vertShader:w},{name:"DrawGame",fragShader:A,vertShader:m},{name:"ColorMatrix",fragShader:h}],D=l(b,"shaders",[]);b.shaders=R.concat(D),b.vertShader||(b.vertShader=w),b.batchSize=1,o.call(this,b),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){y.prototype.boot.call(this);var T=this.shaders,b=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new f(b,b.width,b.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var P=new ArrayBuffer(168);this.quadVertexData=P,this.quadVertexViewF32=new Float32Array(P),this.quadVertexBuffer=b.createVertexBuffer(P,this.gl.STATIC_DRAW),this.onResize(b.width,b.height),this.currentShader=this.copyShader,this.set2f("uResolution",b.width,b.height)},onResize:function(T,b){var P=this.quadVertexViewF32;P[1]=b,P[22]=b,P[14]=T,P[28]=T,P[35]=T,P[36]=b},batchQuad:function(T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$,J,V,Y){var z=Math.min(b,w,R,L),K=Math.min(P,A,D,k),H=Math.max(b,w,R,L),Q=Math.max(P,A,D,k),j=H-z,q=Q-K,tt=this.spriteBounds.setTo(z,K,j,q),st=T?T.preFX.padding:0,nt=j+st*2,at=q+st*2,ot=Math.abs(Math.max(nt,at)),mt=this.manager.getRenderTarget(ot),St=this.targetBounds.setTo(0,0,mt.width,mt.height);g(St,Math.round(tt.centerX),Math.round(tt.centerY)),this.tempSprite=T;var Ct=this.gl,kt=this.renderer;kt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",kt.width,kt.height),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,mt),T.preFX.onFX(this));var Vt=this.fsTarget;return this.flush(),Ct.viewport(0,0,kt.width,kt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,Vt.framebuffer.webGLFramebuffer),Ct.framebufferTexture2D(Ct.FRAMEBUFFER,Ct.COLOR_ATTACHMENT0,Ct.TEXTURE_2D,Vt.texture.webGLTexture,0),Ct.clearColor(0,0,0,0),Ct.clear(Ct.COLOR_BUFFER_BIT),this.setTexture2D(Y),this.batchVert(b,P,B,F,0,V,W),this.batchVert(w,A,B,N,0,V,$),this.batchVert(R,D,G,N,0,V,J),this.batchVert(b,P,B,F,0,V,W),this.batchVert(R,D,G,N,0,V,J),this.batchVert(L,k,G,F,0,V,X),this.flush(),this.flipProjectionMatrix(!1),Ct.activeTexture(Ct.TEXTURE0),Ct.bindTexture(Ct.TEXTURE_2D,mt.texture.webGLTexture),Ct.copyTexSubImage2D(Ct.TEXTURE_2D,0,0,0,St.x,St.y,St.width,St.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,null),Ct.bindTexture(Ct.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(mt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,b,P,w,A,R,D){P===void 0&&(P=!0),w===void 0&&(w=!0),A===void 0&&(A=!1),D===void 0&&(D=this.copyShader);var L=this.gl,k=this.tempSprite;R&&(D=this.colorMatrixShader),this.currentShader=D;var B=this.setVertexBuffer(this.quadVertexBuffer);D.bind(B,!1);var F=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",F.width,F.height),k.preFX.onFXCopy(this),this.onCopySprite(T,b,k),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,T.texture.webGLTexture),T.height>b.height)L.viewport(0,0,T.width,T.height),this.setTargetUVs(T,b);else{var G=b.height-T.height;L.viewport(0,G,T.width,T.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,b.texture.webGLTexture,0),P&&(L.clearColor(0,0,0,+!w),L.clear(L.COLOR_BUFFER_BIT)),A){var N=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),A&&this.renderer.setBlendMode(N),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(T,b){var P=this.gl;this.set1i("uMainSampler",0),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,T.texture.webGLTexture),P.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),P.bindFramebuffer(P.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,b.texture.webGLTexture,0),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.quadVertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null)},blendFrames:function(T,b,P,w,A){this.manager.blendFrames(T,b,P,w,A)},blendFramesAdditive:function(T,b,P,w,A){this.manager.blendFramesAdditive(T,b,P,w,A)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var b=this.gl,P=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var w=this._tempMatrix1.loadIdentity(),A=this.targetBounds.x,R=this.targetBounds.y,D=A+T.width,L=R+T.height,k=w.getX(A,R),B=w.getX(A,L),F=w.getX(D,L),G=w.getX(D,R),N=w.getY(A,R),W=w.getY(A,L),X=w.getY(D,L),$=w.getY(D,R),J=16777215;this.batchVert(k,N,0,0,0,0,J),this.batchVert(B,W,0,1,0,0,J),this.batchVert(F,X,1,1,0,0,J),this.batchVert(k,N,0,0,0,0,J),this.batchVert(F,X,1,1,0,0,J),this.batchVert(G,$,1,0,0,0,J),P.restoreFramebuffer(!1,!0),P.currentFramebuffer||b.viewport(0,0,P.width,P.height),P.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,b,P,w,A,R,D,L){var k=this.quadVertexViewF32;k[2]=T,k[3]=b,k[9]=P,k[10]=w,k[16]=A,k[17]=R,k[23]=T,k[24]=b,k[30]=A,k[31]=R,k[37]=D,k[38]=L},setTargetUVs:function(T,b){var P=b.height/T.height;P>.5?P=.5-(P-.5):P=.5+(.5-P),this.setUVs(0,P,0,1+P,1,1+P,1,P)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});r.exports=S}),81041:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(57516),h=new a({Extends:c,initialize:function(o){o.topology=5,o.batchSize=g(o,"batchSize",256),c.call(this,o)}});r.exports=h}),12385:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(57516),h=s(45561),l=s(60722),o=s(29100),u=new a({Extends:c,initialize:function(f){f.fragShader=g(f,"fragShader",h),f.vertShader=g(f,"vertShader",l),f.forceZero=!0,c.call(this,f)},boot:function(){o.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height)}});r.exports=u}),7589:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35407),g=s(10312),c=s(83419),h=s(89422),l=s(96293),o=s(36682),u=s(95540),v=s(48247),f=s(49627),p=s(29100),m=new c({Extends:p,initialize:function(S){S.renderTarget=u(S,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),S.vertShader=u(S,"vertShader",f),S.shaders=u(S,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:l}]),S.attributes=u(S,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),S.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],S.batchSize=1,p.call(this,S),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){p.prototype.boot.call(this);var y=this.shaders,S=this.renderTargets;this.copyShader=y[0],this.addShader=y[1],this.linearShader=y[2],this.colorMatrixShader=y[3],this.fullFrame1=S[0],this.fullFrame2=S[1],this.halfFrame1=S[2],this.halfFrame2=S[3]},copyFrame:function(y,S,T,b,P){T===void 0&&(T=1),b===void 0&&(b=!0),P===void 0&&(P=!0);var w=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,y.texture.webGLTexture),S?(w.viewport(0,0,S.width,S.height),w.bindFramebuffer(w.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,S.texture.webGLTexture,0)):w.viewport(0,0,y.width,y.height),b&&(P?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blitFrame:function(y,S,T,b,P,w,A){T===void 0&&(T=1),b===void 0&&(b=!0),P===void 0&&(P=!0),w===void 0&&(w=!1),A===void 0&&(A=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,y.texture.webGLTexture),y.height>S.height)R.viewport(0,0,y.width,y.height),this.setTargetUVs(y,S);else{var D=S.height-y.height;R.viewport(0,D,y.width,y.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,S.texture.webGLTexture,0),b&&(P?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),w){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}A&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),w&&this.renderer.setBlendMode(L),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(y,S,T,b,P,w,A,R){A===void 0&&(A=!0),R===void 0&&(R=!0);var D=this.gl;D.bindFramebuffer(D.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,y.texture.webGLTexture,0),A&&(R?D.clearColor(0,0,0,0):D.clearColor(0,0,0,1),D.clear(D.COLOR_BUFFER_BIT)),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,S.texture.webGLTexture),D.copyTexSubImage2D(D.TEXTURE_2D,0,0,0,T,b,P,w),D.bindFramebuffer(D.FRAMEBUFFER,null),D.bindTexture(D.TEXTURE_2D,null)},copyToGame:function(y){var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,y.texture.webGLTexture),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6)},drawFrame:function(y,S,T,b){T===void 0&&(T=!0),b===void 0&&(b=this.colorMatrix);var P=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",b.getData()),this.set1f("uAlpha",b.alpha),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,y.texture.webGLTexture),S?(P.viewport(0,0,S.width,S.height),P.bindFramebuffer(P.FRAMEBUFFER,S.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,S.texture.webGLTexture,0)):P.viewport(0,0,y.width,y.height),T?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blendFrames:function(y,S,T,b,P,w){b===void 0&&(b=1),P===void 0&&(P=!0),w===void 0&&(w=this.linearShader);var A=this.gl;this.setShader(w),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",b),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,y.texture.webGLTexture),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,S.texture.webGLTexture),T?(A.bindFramebuffer(A.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,T.texture.webGLTexture,0),A.viewport(0,0,T.width,T.height)):A.viewport(0,0,y.width,y.height),P?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},blendFramesAdditive:function(y,S,T,b,P){this.blendFrames(y,S,T,b,P,this.addShader)},clearFrame:function(y,S){S===void 0&&(S=!0);var T=this.gl;T.viewport(0,0,y.width,y.height),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),S?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var b=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,b.webGLFramebuffer)},setUVs:function(y,S,T,b,P,w,A,R){var D=this.vertexViewF32;D[2]=y,D[3]=S,D[6]=T,D[7]=b,D[10]=P,D[11]=w,D[14]=y,D[15]=S,D[18]=P,D[19]=w,D[22]=A,D[23]=R},setTargetUVs:function(y,S){var T=S.height/y.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=m}),36060:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=x}),84817:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"}),36712:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"}),40285:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"}),65918:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"}),92852:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"}),56072:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"}),57566:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"}),77085:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}}),54812:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(99155),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.amount=1},onPreRender:function(l,o){l=this.getController(l),this.set1f("amount",l.amount,o)}});r.exports=h}),67329:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(24400),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var o=this.getController(),u=this.fullFrame1,v=this.fullFrame2;this.copyFrame(l,v);for(var f=2/l.width*o.offsetX,p=2/l.height*o.offsetY,m=0;m<o.steps;m++)this.set2f("offset",f,0),this.copySprite(l,u),this.set2f("offset",0,p),this.copySprite(u,l);this.blendFrames(v,l,u,o.strength),this.copyToGame(u)}});r.exports=h}),8861:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(41514),c=s(51078),h=s(94328),l=s(84057),o=new a({Extends:l,initialize:function(v){l.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(u){var v=this.getController(),f=this.gl,p=this.fullFrame1,m=f.getParameter(f.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),f.activeTexture(f.TEXTURE0),f.viewport(0,0,u.width,u.height),this.set1i("uMainSampler",0),this.set2f("resolution",u.width,u.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var y=0;y<v.steps;y++)this.set2f("offset",v.x,0),this.copySprite(u,p),this.set2f("offset",0,v.y),this.copySprite(p,u);f.bindFramebuffer(f.FRAMEBUFFER,m),f.bindTexture(f.TEXTURE_2D,null),this.copyToGame(u)}});r.exports=o}),51051:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(90610),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,o,u,v){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("amount",l.amount,o),this.set1f("contrast",l.contrast,o),this.set1f("strength",l.strength,o),this.set2f("blur",l.blurX,l.blurY,o),this.setBoolean("isTiltShift",l.isTiltShift,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});r.exports=h}),89428:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91899),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,o,u,v){l=this.getController(l),this.set1f("scale",l.scale,o),this.set1f("feather",l.feather,o),this.set1f("thickness",l.thickness,o),this.set3fv("color",l.glcolor,o),this.set4fv("backgroundColor",l.glcolor2,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});r.exports=h}),88904:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(84057),c=new a({Extends:g,initialize:function(l){g.call(this,{game:l})},onDraw:function(h){var l=this.fullFrame1;this.controller?this.manager.drawFrame(h,l,!0,this.controller):this.drawFrame(h,l),this.copyToGame(l)}});r.exports=c}),63563:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(47838),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var o=this.game.textures.getFrame(l);o&&(this.glTexture=o.glTexture)},onDraw:function(l){var o=this.getController(),u=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(l,u),this.copyToGame(u)}});r.exports=h}),94045:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=s(98656),h=s(84057),l=s(70554),o=new a({Extends:h,initialize:function(v,f){var p=g(f,"quality",.1),m=g(f,"distance",10);h.call(this,{game:v,fragShader:l.setGlowQuality(c,v,p,m)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(u,v,f,p){u=this.getController(u),this.set1f("outerStrength",u.outerStrength,v),this.set1f("innerStrength",u.innerStrength,v),this.set4fv("glowColor",u.glcolor,v),this.setBoolean("knockout",u.knockout,v),f&&p&&this.set2f("resolution",f,p,v)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=o}),74088:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(70463),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,o){l=this.getController(l),this.set1f("alpha",l.alpha,o),this.set1i("size",l.size,o),this.set3fv("color1",l.glcolor1,o),this.set3fv("color2",l.glcolor2,o),this.set2f("positionFrom",l.fromX,l.fromY,o),this.set2f("positionTo",l.toX,l.toY,o)}});r.exports=h}),99636:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50831),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.amount=1},onPreRender:function(l,o,u,v){l=this.getController(l),this.set1f("amount",l.amount,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});r.exports=h}),34700:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92595),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,o){l=this.getController(l);var u=l.samples;this.set1i("samples",u,o),this.set1f("intensity",l.intensity,o),this.set1f("decay",l.decay,o),this.set1f("power",l.power/u,o),this.set2f("lightPosition",l.x,l.y,o),this.set4fv("color",l.glcolor,o)}});r.exports=h}),91157:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72464),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,o,u,v){l=this.getController(l),this.setTime("time",o),this.set1f("speed",l.speed,o),this.set1f("lineWidth",l.lineWidth,o),this.set1f("gradient",l.gradient,o),this.setBoolean("reveal",l.reveal,o),u&&v&&this.set2f("resolution",u,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});r.exports=h}),27797:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39249),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,o){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("strength",l.strength,o),this.set2f("position",l.x,l.y,o)}});r.exports=h}),67603:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(2878),c=s(84057),h=new a({Extends:c,initialize:function(o){c.call(this,{game:o,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,o){l=this.getController(l);var u=l.progress,v=l.wipeWidth,f=l.direction,p=l.axis;this.set4f("config",u,v,f,p,o),this.setBoolean("reveal",l.reveal,o)}});r.exports=h}),58918:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};r.exports=a}),96615:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36060),g=s(79291),c={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};c=g(!1,c,a),r.exports=c}),35407:(r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)}),78908:(r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)}),85191:(r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)}),96293:(r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)}),36682:(r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)}),99155:(r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)}),24400:(r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)}),94328:(r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),41514:(r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),51078:(r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)}),90610:(r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)}),91899:(r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)}),47838:(r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)}),98656:(r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)}),70463:(r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)}),50831:(r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)}),92595:(r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)}),72464:(r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)}),39249:(r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)}),2878:(r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)}),31063:(r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)}),48247:(r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)}),41214:(r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)}),39653:(r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)}),62143:(r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),47940:(r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),98840:(r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),44667:(r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),4127:(r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)}),89924:(r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)}),27681:(r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)}),49627:(r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)}),45561:(r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)}),60722:(r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)}),89350:((r,x,s)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}}),93567:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLAttribLocation=-1,this.gl=h,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=g}),26128:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=l,this.bufferType=o,this.bufferUsage=u,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var h=this.bufferType,l=c.createBuffer();this.webGLBuffer=l,c.bindBuffer(h,this.webGLBuffer),c.bufferData(h,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(h,null)}}},destroy:function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=g}),84387:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new a({initialize:function(l,o,u,v,f){this.webGLFramebuffer=null,this.gl=l,this.width=o,this.height=u,this.renderTexture=v,this.addDepthStencilBuffer=!!f,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l=this.renderTexture,o=0,u=h.createFramebuffer();if(this.webGLFramebuffer=u,h.bindFramebuffer(h.FRAMEBUFFER,u),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l.webGLTexture,0),o=h.checkFramebufferStatus(h.FRAMEBUFFER),o!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[o]||o));if(this.addDepthStencilBuffer){var v=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,v),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,v)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(l));var o=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&h.deleteRenderbuffer(o),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=c}),1482:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLProgram=null,this.gl=h,this.vertexSource=l,this.fragmentSource=o,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var h=c.createProgram(),l=c.createShader(c.VERTEX_SHADER),o=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(l,this.vertexSource),c.shaderSource(o,this.fragmentSource),c.compileShader(l),c.compileShader(o);var u=`Shader failed:
`;if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Vertex "+u+c.getShaderInfoLog(l));if(!c.getShaderParameter(o,c.COMPILE_STATUS))throw new Error("Fragment "+u+c.getShaderInfoLog(o));if(c.attachShader(h,l),c.attachShader(h,o),c.linkProgram(h),!c.getProgramParameter(h,c.LINK_STATUS))throw new Error("Link "+u+c.getProgramInfoLog(h));c.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=g}),82751:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50030),c=new a({initialize:function(l,o,u,v,f,p,m,y,S,T,b,P,w){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=o,this.minFilter=u,this.magFilter=v,this.wrapT=f,this.wrapS=p,this.format=m,this.pixels=y,this.width=S,this.height=T,this.pma=b??!0,this.forceSize=!!P,this.flipY=!!w,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var l=h.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(h,l,o,u,v,f,p,m,y){if(!(l===0||o===0)){this.pixels=h,this.width=l,this.height=o,this.flipY=u,this.wrapS=v,this.wrapT=f,this.minFilter=p,this.magFilter=m,this.format=y;var S=this.gl;S.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var l=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var o=this.pixels,u=this.mipLevel,v=this.width,f=this.height,p=this.format,m=!1;if(o==null)h.texImage2D(h.TEXTURE_2D,u,p,v,f,0,p,h.UNSIGNED_BYTE,null),m=g(v,f);else if(o.compressed){v=o.width,f=o.height,m=o.generateMipmap;for(var y=0;y<o.mipmaps.length;y++)h.compressedTexImage2D(h.TEXTURE_2D,y,o.internalFormat,o.mipmaps[y].width,o.mipmaps[y].height,0,o.mipmaps[y].data)}else o instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,u,p,v,f,0,p,h.UNSIGNED_BYTE,o),m=g(v,f)):(this.forceSize||(v=o.width,f=o.height),h.texImage2D(h.TEXTURE_2D,u,p,p,h.UNSIGNED_BYTE,o),m=g(v,f));m&&h.generateMipmap(h.TEXTURE_2D),l?h.bindTexture(h.TEXTURE_2D,l):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=c}),57183:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLUniformLocation=null,this.gl=h,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=g}),9503:((r,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};r.exports=a}),76531:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13560),g=s(83419),c=s(45319),h=s(50792),l=s(97480),o=s(8443),u=s(57811),v=s(74403),f=s(45818),p=s(29747),m=s(87841),y=s(86555),S=s(56583),T=s(26099),b=s(38058),P=new g({Extends:h,initialize:function(A){h.call(this),this.game=A,this.canvas,this.canvasBounds=new m,this.parent=null,this.parentIsWindow=!1,this.parentSize=new y,this.gameSize=new y,this.baseSize=new y,this.displaySize=new y,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new T(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:p,windowResize:p,fullScreenChange:p,fullScreenError:p}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var w=this.game;this.canvas=w.canvas,this.fullscreen=w.device.fullscreen;var A=this.scaleMode;A!==a.SCALE_MODE.RESIZE&&A!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(A),A===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),w.events.on(o.PRE_STEP,this.step,this),w.events.once(o.READY,this.refresh,this),w.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(w){this.getParent(w),this.getParentBounds();var A=w.width,R=w.height,D=w.scaleMode,L=w.zoom,k=w.autoRound;if(typeof A=="string")if(A.substr(-1)!=="%")A=parseInt(A,10);else{var B=this.parentSize.width;B===0&&(B=window.innerWidth);var F=parseInt(A,10)/100;A=Math.floor(B*F)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var G=this.parentSize.height;G===0&&(G=window.innerHeight);var N=parseInt(R,10)/100;R=Math.floor(G*N)}this.scaleMode=D,this.autoRound=k,this.autoCenter=w.autoCenter,this.resizeInterval=w.resizeInterval,k&&(A=Math.floor(A),R=Math.floor(R)),this.gameSize.setSize(A,R),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(A,R),k&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),w.minWidth>0&&this.displaySize.setMin(w.minWidth*L,w.minHeight*L),w.maxWidth>0&&this.displaySize.setMax(w.maxWidth*L,w.maxHeight*L),this.displaySize.setSize(A,R),(w.snapWidth>0||w.snapHeight>0)&&this.displaySize.setSnap(w.snapWidth,w.snapHeight),this.orientation=f(A,R)},getParent:function(w){var A=w.parent;if(A!==null){if(this.parent=v(A),this.parentIsWindow=this.parent===document.body,w.expandParent&&w.scaleMode!==a.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}w.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=v(w.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var w=this.parentSize,A=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(A.height=u(!0));var R=A.width,D=A.height;if(w.width!==R||w.height!==D)return w.setSize(R,D),!0;if(this.canvas){var L=this.canvasBounds,k=this.canvas.getBoundingClientRect();if(k.x!==L.x||k.y!==L.y)return!0}return!1},lockOrientation:function(w){var A=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return A?A.call(screen,w):!1},setParentSize:function(w,A){return this.parentSize.setSize(w,A),this.refresh()},setGameSize:function(w,A){var R=this.autoRound;R&&(w=Math.floor(w),A=Math.floor(A));var D=this.width,L=this.height;return this.gameSize.resize(w,A),this.baseSize.resize(w,A),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(w/A),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(D,L)},resize:function(w,A){var R=this.zoom,D=this.autoRound;D&&(w=Math.floor(w),A=Math.floor(A));var L=this.width,k=this.height;this.gameSize.resize(w,A),this.baseSize.resize(w,A),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(w*R,A*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var B=this.canvas.style,F=w*R,G=A*R;return D&&(F=Math.floor(F),G=Math.floor(G)),(F!==w||G!==A)&&(B.width=F+"px",B.height=G+"px"),this.refresh(L,k)},setZoom:function(w){return this.zoom=w,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(w,A){return w===void 0&&(w=0),A===void 0&&(A=w),this.displaySize.setSnap(w,A),this.refresh()},refresh:function(w,A){w===void 0&&(w=this.width),A===void 0&&(A=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var D=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=D.marginLeft,L.marginTop=D.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,w,A),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var w=f(this.width,this.height);w!==this.orientation&&(this.orientation=w,this.emit(l.ORIENTATION_CHANGE,w))}},updateScale:function(){var w=this.canvas.style,A=this.gameSize.width,R=this.gameSize.height,D,L,k=this.zoom,B=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(A*k,R*k),D=this.displaySize.width,L=this.displaySize.height,B&&(D=Math.floor(D),L=Math.floor(L)),this._resetZoom&&(w.width=D+"px",w.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),D=this.displaySize.width,L=this.displaySize.height,B&&(D=Math.floor(D),L=Math.floor(L)),this.canvas.width=D,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var F=this.game.config.width,G=this.game.config.height,N=this.parentSize.width,W=this.parentSize.height,X=N/F,$=W/G,J,V;X<$?(J=F,V=X!==0?W/X:G):(J=$!==0?N/$:F,V=G);var Y=c(J,this.displaySize.minWidth,this.displaySize.maxWidth),z=c(V,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(Y,z),this.gameSize.setSize(Y,z),B&&(Y=Math.floor(Y),z=Math.floor(z)),this.canvas.width=Y,this.canvas.height=z;var K=N*(Y/J),H=W*(z/V);this.displaySize.setSize(K,H),D=this.displaySize.width,L=this.displaySize.height,B&&(D=Math.floor(D),L=Math.floor(L)),w.width=D+"px",w.height=L+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),D=this.displaySize.width,L=this.displaySize.height,B&&(D=Math.floor(D),L=Math.floor(L)),w.width=D+"px",w.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var w=S(this.parentSize.width,this.gameSize.width,0,!0),A=S(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(w,A),1)},updateCenter:function(){var w=this.autoCenter;if(w!==a.CENTER.NO_CENTER){var A=this.canvas,R=A.style,D=A.getBoundingClientRect(),L=D.width,k=D.height,B=Math.floor((this.parentSize.width-L)/2),F=Math.floor((this.parentSize.height-k)/2);w===a.CENTER.CENTER_HORIZONTALLY?F=0:w===a.CENTER.CENTER_VERTICALLY&&(B=0),R.marginLeft=B+"px",R.marginTop=F+"px"}},updateBounds:function(){var w=this.canvasBounds,A=this.canvas.getBoundingClientRect();w.x=A.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),w.y=A.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),w.width=A.width,w.height=A.height},transformX:function(w){return(w-this.canvasBounds.left)*this.displayScale.x},transformY:function(w){return(w-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(w){w===void 0&&(w={navigationUI:"hide"});var A=this.fullscreen;if(!A.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!A.active){var R=this.getFullscreenTarget();A.keyboard?R[A.request](Element.ALLOW_KEYBOARD_INPUT):R[A.request](w)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(w){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,w)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var w=document.createElement("div");w.style.margin="0",w.style.padding="0",w.style.width="100%",w.style.height="100%",this.fullscreenTarget=w,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var A=this.canvas.parentNode;A.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var w=this.fullscreenTarget;if(w&&w.parentNode){var A=w.parentNode;A.insertBefore(this.canvas,w),A.removeChild(w)}}},stopFullscreen:function(){var w=this.fullscreen;if(!w.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;w.active&&document[w.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(w){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(w)},startListeners:function(){var w=this,A=this.domlisteners;if(A.orientationChange=function(){w.updateBounds(),w._checkOrientation=!0,w.dirty=!0,w.refresh()},A.windowResize=function(){w.updateBounds(),w.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",A.orientationChange,!1):window.addEventListener("orientationchange",A.orientationChange,!1),window.addEventListener("resize",A.windowResize,!1),this.fullscreen.available){A.fullScreenChange=function(D){return w.onFullScreenChange(D)},A.fullScreenError=function(D){return w.onFullScreenError(D)};var R=["webkit","moz",""];R.forEach(function(D){document.addEventListener(D+"fullscreenchange",A.fullScreenChange,!1),document.addEventListener(D+"fullscreenerror",A.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",A.fullScreenChange,!1),document.addEventListener("MSFullscreenError",A.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(w,A){w instanceof b||(A=w,w=void 0),A===void 0&&(A=new m);var R=this.baseSize,D=this.parentSize,L=this.canvasBounds,k=this.displayScale,B=L.x>=0?0:-(L.x*k.x),F=L.y>=0?0:-(L.y*k.y),G;D.width>=L.width?G=R.width:G=R.width-(L.width-D.width)*k.x;var N;return D.height>=L.height?N=R.height:N=R.height-(L.height-D.height)*k.y,A.setTo(B,F,G,N),w&&(A.width/=w.zoomX,A.height/=w.zoomY,A.centerX=w.centerX+w.scrollX,A.centerY=w.centerY+w.scrollY),A},step:function(w,A){this.parent&&(this._lastCheck+=A,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var w=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",w.orientationChange,!1):window.removeEventListener("orientationchange",w.orientationChange,!1),window.removeEventListener("resize",w.windowResize,!1);var A=["webkit","moz",""];A.forEach(function(R){document.removeEventListener(R+"fullscreenchange",w.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",w.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",w.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=P}),64743:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}}),39218:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}}),81050:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}}),80805:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}}),13560:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};r.exports=a}),56139:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"}),2336:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"}),47412:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"}),51452:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"}),20666:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"}),47945:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"}),97480:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}}),93364:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(13560),c={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};c=a(!1,c,g.CENTER),c=a(!1,c,g.ORIENTATION),c=a(!1,c,g.SCALE_MODE),c=a(!1,c,g.ZOOM),r.exports=c}),27397:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(35355),c=function(h){var l=h.game.config.defaultPhysicsSystem,o=a(h.settings,"physics",!1);if(!(!l&&!o)){var u=[];if(l&&u.push(g(l+"Physics")),o)for(var v in o)v=g(v.concat("Physics")),u.indexOf(v)===-1&&u.push(v);return u}};r.exports=c}),52106:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(c){var h=c.plugins.getDefaultScenePlugins(),l=a(c.settings,"plugins",!1);return Array.isArray(l)?l:h||[]};r.exports=g}),87033:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=x}),97482:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(2368),c=new a({initialize:function(l){this.sys=new g(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=c}),60903:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89993),c=s(44594),h=s(8443),l=s(35154),o=s(54899),u=s(29747),v=s(97482),f=s(2368),p=new a({initialize:function(y,S){if(this.game=y,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,S){Array.isArray(S)||(S=[S]);for(var T=0;T<S.length;T++)this._pending.push({key:"default",scene:S[T],autoStart:T===0,data:{}})}y.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var m,y,S,T;for(m=0;m<this._pending.length;m++){y=this._pending[m],S=y.key,T=y.scene;var b;T instanceof v?b=this.createSceneFromInstance(S,T):typeof T=="object"?b=this.createSceneFromObject(S,T):typeof T=="function"&&(b=this.createSceneFromFunction(S,T)),S=b.sys.settings.key,this.keys[S]=b,this.scenes.push(b),this._data[S]&&(b.sys.settings.data=this._data[S].data,this._data[S].autoStart&&(y.autoStart=!0)),(y.autoStart||b.sys.settings.active)&&this._start.push(S)}for(this._pending.length=0,this._data={},this.isBooted=!0,m=0;m<this._start.length;m++)y=this._start[m],this.start(y);this._start.length=0}},processQueue:function(){var m=this._pending.length,y=this._queue.length;if(!(m===0&&y===0)){var S,T;if(m){for(S=0;S<m;S++)T=this._pending[S],this.add(T.key,T.scene,T.autoStart,T.data);for(S=0;S<this._start.length;S++)T=this._start[S],this.start(T);this._start.length=0,this._pending.length=0}for(S=0;S<this._queue.length;S++)T=this._queue[S],this[T.op](T.keyA,T.keyB,T.data);this._queue.length=0}},add:function(m,y,S,T){if(S===void 0&&(S=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:m,scene:y,autoStart:S,data:T}),this.isBooted||(this._data[m]={data:T}),null;m=this.getKey(m,y);var b;return y instanceof v?b=this.createSceneFromInstance(m,y):typeof y=="object"?(y.key=m,b=this.createSceneFromObject(m,y)):typeof y=="function"&&(b=this.createSceneFromFunction(m,y)),b.sys.settings.data=T,m=b.sys.settings.key,this.keys[m]=b,this.scenes.push(b),(S||b.sys.settings.active)&&(this._pending.length?this._start.push(m):this.start(m)),b},remove:function(m){if(this.isProcessing)return this.queueOp("remove",m);var y=this.getScene(m);if(!y||y.sys.isTransitioning())return this;var S=this.scenes.indexOf(y),T=y.sys.settings.key;return S>-1&&(delete this.keys[T],this.scenes.splice(S,1),this._start.indexOf(T)>-1&&(S=this._start.indexOf(T),this._start.splice(S,1)),y.sys.destroy()),this},bootScene:function(m){var y=m.sys,S=y.settings;y.sceneUpdate=u,m.init&&(m.init.call(m,S.data),S.status=g.INIT,S.isTransition&&y.events.emit(c.TRANSITION_INIT,S.transitionFrom,S.transitionDuration));var T;y.load&&(T=y.load,T.reset()),T&&m.preload?(m.preload.call(m),S.status=g.LOADING,T.once(o.COMPLETE,this.loadComplete,this),T.start()):this.create(m)},loadComplete:function(m){this.create(m.scene)},payloadComplete:function(m){this.bootScene(m.scene)},update:function(m,y){this.processQueue(),this.isProcessing=!0;for(var S=this.scenes.length-1;S>=0;S--){var T=this.scenes[S].sys;T.settings.status>g.START&&T.settings.status<=g.RUNNING&&T.step(m,y),T.scenePlugin&&T.scenePlugin._target&&T.scenePlugin.step(m,y)}},render:function(m){for(var y=0;y<this.scenes.length;y++){var S=this.scenes[y].sys;S.settings.visible&&S.settings.status>=g.LOADING&&S.settings.status<g.SLEEPING&&S.render(m)}this.isProcessing=!1},create:function(m){var y=m.sys,S=y.settings;m.create&&(S.status=g.CREATING,m.create.call(m,S.data),S.status===g.DESTROYED)||(S.isTransition&&y.events.emit(c.TRANSITION_START,S.transitionFrom,S.transitionDuration),m.update&&(y.sceneUpdate=m.update),S.status=g.RUNNING,y.events.emit(c.CREATE,m))},createSceneFromFunction:function(m,y){var S=new y;if(S instanceof v){var T=S.sys.settings.key;if(T!==""&&(m=T),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return this.createSceneFromInstance(m,S)}else return S.sys=new f(S),S.sys.settings.key=m,S.sys.init(this.game),S},createSceneFromInstance:function(m,y){var S=y.sys.settings.key;return S===""&&(y.sys.settings.key=m),y.sys.init(this.game),y},createSceneFromObject:function(m,y){var S=new v(y),T=S.sys.settings.key;T!==""?m=T:S.sys.settings.key=m,S.sys.init(this.game);for(var b=["init","preload","create","update","render"],P=0;P<b.length;P++){var w=l(y,b[P],null);w&&(S[b[P]]=w)}if(y.hasOwnProperty("extend")){for(var A in y.extend)if(y.extend.hasOwnProperty(A)){var R=y.extend[A];A==="data"&&S.hasOwnProperty("data")&&typeof R=="object"?S.data.merge(R):A!=="sys"&&(S[A]=R)}}return S},getKey:function(m,y){if(m||(m="default"),typeof y=="function")return m;if(y instanceof v?m=y.sys.settings.key:typeof y=="object"&&y.hasOwnProperty("key")&&(m=y.key),this.keys.hasOwnProperty(m))throw new Error("Cannot add Scene with duplicate key: "+m);return m},getScenes:function(m,y){m===void 0&&(m=!0),y===void 0&&(y=!1);for(var S=[],T=this.scenes,b=0;b<T.length;b++){var P=T[b];P&&(!m||m&&P.sys.isActive())&&S.push(P)}return y?S.reverse():S},getScene:function(m){if(typeof m=="string"){if(this.keys[m])return this.keys[m]}else for(var y=0;y<this.scenes.length;y++)if(m===this.scenes[y])return m;return null},isActive:function(m){var y=this.getScene(m);return y?y.sys.isActive():null},isPaused:function(m){var y=this.getScene(m);return y?y.sys.isPaused():null},isVisible:function(m){var y=this.getScene(m);return y?y.sys.isVisible():null},isSleeping:function(m){var y=this.getScene(m);return y?y.sys.isSleeping():null},pause:function(m,y){var S=this.getScene(m);return S&&S.sys.pause(y),this},resume:function(m,y){var S=this.getScene(m);return S&&S.sys.resume(y),this},sleep:function(m,y){var S=this.getScene(m);return S&&!S.sys.isTransitioning()&&S.sys.sleep(y),this},wake:function(m,y){var S=this.getScene(m);return S&&S.sys.wake(y),this},run:function(m,y){var S=this.getScene(m);if(!S){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===m){this.queueOp("start",m,y);break}return this}S.sys.isSleeping()?S.sys.wake(y):S.sys.isPaused()?S.sys.resume(y):this.start(m,y)},start:function(m,y){if(!this.isBooted)return this._data[m]={autoStart:!0,data:y},this;var S=this.getScene(m);if(!S)return console.warn("Scene key not found: "+m),this;var T=S.sys,b=T.settings.status;if(b>=g.START&&b<=g.CREATING)return this;if(b>=g.RUNNING&&b<=g.SLEEPING)T.shutdown(),T.sceneUpdate=u,T.start(y);else{T.sceneUpdate=u,T.start(y);var P;if(T.load&&(P=T.load),P&&T.settings.hasOwnProperty("pack")&&(P.reset(),P.addPack({payload:T.settings.pack})))return T.settings.status=g.LOADING,P.once(o.COMPLETE,this.payloadComplete,this),P.start(),this}return this.bootScene(S),this},stop:function(m,y){var S=this.getScene(m);if(S&&!S.sys.isTransitioning()&&S.sys.settings.status!==g.SHUTDOWN){var T=S.sys.load;T&&(T.off(o.COMPLETE,this.loadComplete,this),T.off(o.COMPLETE,this.payloadComplete,this)),S.sys.shutdown(y)}return this},switch:function(m,y,S){var T=this.getScene(m),b=this.getScene(y);return T&&b&&T!==b&&(this.sleep(m),this.isSleeping(y)?this.wake(y,S):this.start(y,S)),this},getAt:function(m){return this.scenes[m]},getIndex:function(m){var y=this.getScene(m);return this.scenes.indexOf(y)},bringToTop:function(m){if(this.isProcessing)return this.queueOp("bringToTop",m);var y=this.getIndex(m),S=this.scenes;if(y!==-1&&y<S.length){var T=this.getScene(m);S.splice(y,1),S.push(T)}return this},sendToBack:function(m){if(this.isProcessing)return this.queueOp("sendToBack",m);var y=this.getIndex(m);if(y!==-1&&y>0){var S=this.getScene(m);this.scenes.splice(y,1),this.scenes.unshift(S)}return this},moveDown:function(m){if(this.isProcessing)return this.queueOp("moveDown",m);var y=this.getIndex(m);if(y>0){var S=y-1,T=this.getScene(m),b=this.getAt(S);this.scenes[y]=b,this.scenes[S]=T}return this},moveUp:function(m){if(this.isProcessing)return this.queueOp("moveUp",m);var y=this.getIndex(m);if(y<this.scenes.length-1){var S=y+1,T=this.getScene(m),b=this.getAt(S);this.scenes[y]=b,this.scenes[S]=T}return this},moveAbove:function(m,y){if(m===y)return this;if(this.isProcessing)return this.queueOp("moveAbove",m,y);var S=this.getIndex(m),T=this.getIndex(y);if(S!==-1&&T!==-1&&T<S){var b=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(S+(T>S),0,b)}return this},moveBelow:function(m,y){if(m===y)return this;if(this.isProcessing)return this.queueOp("moveBelow",m,y);var S=this.getIndex(m),T=this.getIndex(y);if(S!==-1&&T!==-1&&T>S){var b=this.getAt(T);this.scenes.splice(T,1),S===0?this.scenes.unshift(b):this.scenes.splice(S-(T<S),0,b)}return this},queueOp:function(m,y,S,T){return this._queue.push({op:m,keyA:y,keyB:S,data:T}),this},swapPosition:function(m,y){if(m===y)return this;if(this.isProcessing)return this.queueOp("swapPosition",m,y);var S=this.getIndex(m),T=this.getIndex(y);if(S!==T&&S!==-1&&T!==-1){var b=this.getAt(S);this.scenes[S]=this.scenes[T],this.scenes[T]=b}return this},dump:function(){for(var m=[],y=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],S=0;S<this.scenes.length;S++){var T=this.scenes[S].sys,b=T.settings.visible&&(T.settings.status===g.RUNNING||T.settings.status===g.PAUSED)?"[*] ":"[-] ";b+=T.settings.key+" ("+y[T.settings.status]+")",m.push(b)}console.log(m.join(`
`))},destroy:function(){for(var m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys;y.destroy()}this.systemScene.sys.destroy(),this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=p}),52209:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(44594),h=s(95540),l=s(37277),o=new g({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},start:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",u,v),this},restart:function(u){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,u),this},transition:function(u){u===void 0&&(u={});var v=h(u,"target",!1),f=this.manager.getScene(v);if(!v||!this.checkValidTransition(f))return!1;var p=h(u,"duration",1e3);this._elapsed=0,this._target=f,this._duration=p,this._willSleep=h(u,"sleep",!1),this._willRemove=h(u,"remove",!1);var m=h(u,"onUpdate",null);m&&(this._onUpdate=m,this._onUpdateScope=h(u,"onUpdateScope",this.scene));var y=h(u,"allowInput",!1);this.settings.transitionAllowInput=y;var S=f.sys.settings;S.isTransition=!0,S.transitionFrom=this.scene,S.transitionDuration=p,S.transitionAllowInput=y,h(u,"moveAbove",!1)?this.manager.moveAbove(this.key,v):h(u,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),f.sys.isSleeping()?f.sys.wake(h(u,"data")):this.manager.start(v,h(u,"data"));var T=h(u,"onStart",null),b=h(u,"onStartScope",this.scene);return T&&T.call(b,this.scene,f,p),this.systems.events.emit(c.TRANSITION_OUT,f,p),!0},checkValidTransition:function(u){return!(!u||u.sys.isActive()||u.sys.isTransitioning()||u===this.scene||this.systems.isTransitioning())},step:function(u,v){this._elapsed+=v,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var u=this._target.sys,v=this._target.sys.settings;u.events.emit(c.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(u,v,f,p){return this.manager.add(u,v,f,p)},launch:function(u,v){return u&&u!==this.key&&this.manager.queueOp("start",u,v),this},run:function(u,v){return u&&u!==this.key&&this.manager.queueOp("run",u,v),this},pause:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("pause",u,v),this},resume:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("resume",u,v),this},sleep:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("sleep",u,v),this},wake:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("wake",u,v),this},switch:function(u,v){return u!==this.key&&this.manager.queueOp("switch",this.key,u,v),this},stop:function(u,v){return u===void 0&&(u=this.key),this.manager.queueOp("stop",u,v),this},setActive:function(u,v,f){v===void 0&&(v=this.key);var p=this.manager.getScene(v);return p&&p.sys.setActive(u,f),this},setVisible:function(u,v){v===void 0&&(v=this.key);var f=this.manager.getScene(v);return f&&f.sys.setVisible(u),this},isSleeping:function(u){return u===void 0&&(u=this.key),this.manager.isSleeping(u)},isActive:function(u){return u===void 0&&(u=this.key),this.manager.isActive(u)},isPaused:function(u){return u===void 0&&(u=this.key),this.manager.isPaused(u)},isVisible:function(u){return u===void 0&&(u=this.key),this.manager.isVisible(u)},swapPosition:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.swapPosition(u,v),this},moveAbove:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveAbove(u,v),this},moveBelow:function(u,v){return v===void 0&&(v=this.key),u!==v&&this.manager.moveBelow(u,v),this},remove:function(u){return u===void 0&&(u=this.key),this.manager.remove(u),this},moveUp:function(u){return u===void 0&&(u=this.key),this.manager.moveUp(u),this},moveDown:function(u){return u===void 0&&(u=this.key),this.manager.moveDown(u),this},bringToTop:function(u){return u===void 0&&(u=this.key),this.manager.bringToTop(u),this},sendToBack:function(u){return u===void 0&&(u=this.key),this.manager.sendToBack(u),this},get:function(u){return this.manager.getScene(u)},getStatus:function(u){var v=this.manager.getScene(u);if(v)return v.sys.getStatus()},getIndex:function(u){return u===void 0&&(u=this.key),this.manager.getIndex(u)},shutdown:function(){var u=this.systems.events;u.off(c.SHUTDOWN,this.shutdown,this),u.off(c.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",o,"scenePlugin"),r.exports=o}),55681:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89993),g=s(35154),c=s(46975),h=s(87033),l={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:a.PENDING,key:g(o,"key",""),active:g(o,"active",!1),visible:g(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(o,"pack",!1),cameras:g(o,"cameras",null),map:g(o,"map",c(h,g(o,"mapAdd",{}))),physics:g(o,"physics",{}),loader:g(o,"loader",{}),plugins:g(o,"plugins",!1),input:g(o,"input",{})}}};r.exports=l}),2368:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89993),c=s(42363),h=s(44594),l=s(27397),o=s(52106),u=s(29747),v=s(55681),f=new a({initialize:function(m,y){this.scene=m,this.game,this.renderer,this.config=y,this.settings=v.create(y),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=u},init:function(p){this.settings.status=g.INIT,this.sceneUpdate=u,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var m=p.plugins;this.plugins=m,m.addToScene(this,c.Global,[c.CoreScene,o(this),l(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(p,m){var y=this.events;y.emit(h.PRE_UPDATE,p,m),y.emit(h.UPDATE,p,m),this.sceneUpdate.call(this.scene,p,m),y.emit(h.POST_UPDATE,p,m)},render:function(p){var m=this.displayList;m.depthSort(),this.events.emit(h.PRE_RENDER,p),this.cameras.render(p,m),this.events.emit(h.RENDER,p)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(p){var m=this.settings,y=this.getStatus();return y!==g.CREATING&&y!==g.RUNNING?console.warn("Cannot pause non-running Scene",m.key):this.settings.active&&(m.status=g.PAUSED,m.active=!1,this.events.emit(h.PAUSE,this,p)),this},resume:function(p){var m=this.events,y=this.settings;return this.settings.active||(y.status=g.RUNNING,y.active=!0,m.emit(h.RESUME,this,p)),this},sleep:function(p){var m=this.settings,y=this.getStatus();return y!==g.CREATING&&y!==g.RUNNING?console.warn("Cannot sleep non-running Scene",m.key):(m.status=g.SLEEPING,m.active=!1,m.visible=!1,this.events.emit(h.SLEEP,this,p)),this},wake:function(p){var m=this.events,y=this.settings;return y.status=g.RUNNING,y.active=!0,y.visible=!0,m.emit(h.WAKE,this,p),y.isTransition&&m.emit(h.TRANSITION_WAKE,y.transitionFrom,y.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var p=this.settings.status;return p>g.PENDING&&p<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(p){return this.settings.visible=p,this},setActive:function(p,m){return p?this.resume(m):this.pause(m)},start:function(p){var m=this.events,y=this.settings;p&&(y.data=p),y.status=g.START,y.active=!0,y.visible=!0,m.emit(h.START,this),m.emit(h.READY,this,p)},shutdown:function(p){var m=this.events,y=this.settings;m.off(h.TRANSITION_INIT),m.off(h.TRANSITION_START),m.off(h.TRANSITION_COMPLETE),m.off(h.TRANSITION_OUT),y.status=g.SHUTDOWN,y.active=!1,y.visible=!1,m.emit(h.SHUTDOWN,this,p)},destroy:function(){var p=this.events,m=this.settings;m.status=g.DESTROYED,m.active=!1,m.visible=!1,p.emit(h.DESTROY,this),p.removeAllListeners();for(var y=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],S=0;S<y.length;S++)this[y[S]]=null}});r.exports=f}),89993:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=x}),69830:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"}),7919:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"}),46763:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"}),11763:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),71555:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),36735:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"}),3809:(r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"}),90716:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"}),58262:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"}),91633:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"}),10319:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"}),87132:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),81961:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"}),90194:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"}),6265:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"}),33178:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"}),43063:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"}),11259:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"}),61611:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"}),45209:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"}),22966:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"}),21747:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"}),44594:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}}),62194:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89993),g=s(79291),c={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};c=g(!1,c,a),r.exports=c}),30341:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(14463),h=s(79291),l=s(29747),o=new a({Extends:g,initialize:function(v,f,p){g.call(this),this.manager=v,this.key=f,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(console.error("addMarker "+u.name+" already exists in Sound"),!1):(u=h(!0,{name:"",start:0,duration:this.totalDuration-(u.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},u),this.markers[u.name]=u,!0)},updateMarker:function(u){return!u||!u.name||typeof u.name!="string"?!1:this.markers[u.name]?(this.markers[u.name]=h(!0,this.markers[u.name],u),!0):(console.warn("Audio Marker: "+u.name+" missing in Sound: "+this.key),!1)},removeMarker:function(u){var v=this.markers[u];return v?(this.markers[u]=null,v):null},play:function(u,v){if(u===void 0&&(u=""),typeof u=="object"&&(v=u,u=""),typeof u!="string")return!1;if(!u)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[u])return console.warn("Marker: "+u+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[u],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var u=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,f=Math.pow(u,v);this.totalRate=this.currentConfig.rate*this.manager.rate*f},destroy:function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=o}),85034:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(41786),c=s(50792),h=s(14463),l=s(8443),o=s(46710),u=s(58731),v=s(29747),f=s(26099),p=new a({Extends:c,initialize:function(y){c.call(this),this.game=y,this.jsonCache=y.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new f;var S=y.events;S.on(l.BLUR,this.onGameBlur,this),S.on(l.FOCUS,this.onGameFocus,this),S.on(l.PRE_STEP,this.update,this),S.once(l.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(m,y){y===void 0&&(y={});var S=this.add(m,y);S.spritemap=this.jsonCache.get(m).spritemap;for(var T in S.spritemap)if(S.spritemap.hasOwnProperty(T)){var b=g(y),P=S.spritemap[T];b.loop=P.hasOwnProperty("loop")?P.loop:!1,S.addMarker({name:T,start:P.start,duration:P.end-P.start,config:b})}return S},get:function(m){return u(this.sounds,"key",m)},getAll:function(m){return m?o(this.sounds,"key",m):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(m,y){var S=this.add(m);return S.once(h.COMPLETE,S.destroy,S),y?y.name?(S.addMarker(y),S.play(y.name)):S.play(y):S.play()},playAudioSprite:function(m,y,S){var T=this.addAudioSprite(m);return T.once(h.COMPLETE,T.destroy,T),T.play(y,S)},remove:function(m){var y=this.sounds.indexOf(m);return y!==-1?(m.destroy(),this.sounds.splice(y,1),!0):!1},removeAll:function(){this.sounds.forEach(function(m){m.destroy()}),this.sounds.length=0},removeByKey:function(m){for(var y=0,S=this.sounds.length-1;S>=0;S--){var T=this.sounds[S];T.key===m&&(T.destroy(),this.sounds.splice(S,1),y++)}return y},pauseAll:function(){this.forEachActiveSound(function(m){m.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(m){m.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(m){m.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(m){var y=0;return this.getAll(m).forEach(function(S){S.stop()&&y++}),y},isPlaying:function(m){var y=this.sounds,S=y.length-1,T;if(m===void 0){for(;S>=0;S--)if(T=this.sounds[S],T.isPlaying)return!0}else for(;S>=0;S--)if(T=this.sounds[S],T.key===m&&T.isPlaying)return!0;return!1},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(m,y){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var S=this.sounds.length-1;S>=0;S--)this.sounds[S].pendingRemove&&this.sounds.splice(S,1);this.sounds.forEach(function(T){T.update(m,y)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(m,y){var S=this;this.sounds.forEach(function(T,b){T&&!T.pendingRemove&&m.call(y||S,T,b,S.sounds)})},setRate:function(m){return this.rate=m,this},rate:{get:function(){return this._rate},set:function(m){this._rate=m,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(h.GLOBAL_RATE,this,m)}},setDetune:function(m){return this.detune=m,this},detune:{get:function(){return this._detune},set:function(m){this._detune=m,this.forEachActiveSound(function(y){y.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,m)}}});r.exports=p}),14747:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33684),g=s(25960),c=s(57490),h={create:function(l){var o=l.config.audio,u=l.device.audio;return o.noAudio||!u.webAudio&&!u.audioData?new g(l):u.webAudio&&!o.disableWebAudio?new c(l):new a(l)}};r.exports=h}),19723:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),98882:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"}),57506:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"}),73146:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"}),11305:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"}),40577:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"}),30333:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"}),20394:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"}),21802:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"}),1299:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"}),99190:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"}),97125:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"}),89259:(r=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"}),79986:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"}),17586:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),19618:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"}),42306:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"}),10387:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"}),48959:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),9960:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"}),19180:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"}),98328:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"}),50401:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"}),52498:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"}),14463:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}}),64895:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),c=s(14463),h=s(45319),l=new g({Extends:a,initialize:function(u,v,f){if(f===void 0&&(f={}),this.tags=u.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,u,v,f)},play:function(o,u){return this.manager.isLocked(this,"play",[o,u])||!a.prototype.play.call(this,o,u)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,u=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),u===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+u*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var u=this.tags[o];if(u.dataset.used==="false")return u.dataset.used="true",this.audio=u,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&v.push(p)},this),v.sort(function(p,m){return p.loop===m.loop?m.seek/m.duration-p.seek/p.duration:p.loop?1:-1});var f=v[0];return this.audio=f.audio,f.reset(),f.audio=null,f.startTime=0,f.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(u){console.warn(u)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var u=this.currentMarker?this.currentMarker.start:0,v=u+this.duration,f=this.audio.currentTime;if(this.currentConfig.loop)f>=v-this.manager.loopEndOffset?(this.audio.currentTime=u+Math.max(0,f-v),f=this.audio.currentTime):f<u&&(this.audio.currentTime+=u,f=this.audio.currentTime),f<this.previousTime&&this.emit(c.LOOPED,this);else if(f>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=f}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(c.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(c.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,c.RATE,o)&&(this.calculateRate(),this.emit(c.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,c.DETUNE,o)&&(this.calculateRate(),this.emit(c.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(c.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(c.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(c.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});r.exports=l}),33684:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85034),g=s(83419),c=s(14463),h=s(64895),l=new g({Extends:a,initialize:function(u){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,u)},add:function(o,u){var v=new h(this,o,u);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(p,m){for(var y=0;y<m.length;y++)if(m[y].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var u=!1,v=function(){u=!0},f=function(){if(u){u=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",f);var p=[];if(o.game.cache.audio.entries.each(function(y,S){for(var T=0;T<S.length;T++){var b=S[T];b.dataset.locked==="true"&&p.push(b)}return!0}),p.length!==0){var m=p[p.length-1];m.oncanplaythrough=function(){m.oncanplaythrough=null,p.forEach(function(y){y.dataset.locked="false"}),o.unlocked=!0},p.forEach(function(y){y.load()})}};this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(m){m.currentMarker===null&&m.duration===0&&(m.duration=m.tags[0].duration),m.totalDuration=m.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",f,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,u,v){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:u,value:v}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(u){u.updateMute()}),this.emit(c.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(u){u.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,o)}}});r.exports=l}),23717:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}}),4603:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),c=s(50792),h=s(79291),l=s(29747),o=function(){return!1},u=function(){return null},v=function(){return this},f=new g({Extends:c,initialize:function(m,y,S){S===void 0&&(S={}),c.call(this),this.manager=m,this.key=y,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},S),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:u,play:o,pause:o,resume:o,stop:o,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:u,resetConfig:u,update:l,calculateRate:u,destroy:function(){a.prototype.destroy.call(this)}});r.exports=f}),25960:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85034),g=s(83419),c=s(50792),h=s(4603),l=s(29747),o=new g({Extends:c,initialize:function(v){c.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(u,v){var f=new h(this,u,v);return this.sounds.push(f),f},addAudioSprite:function(u,v){var f=this.add(u,v);return f.spritemap={},f},get:function(u){return a.prototype.get.call(this,u)},getAll:function(u){return a.prototype.getAll.call(this,u)},play:function(u,v){return!1},playAudioSprite:function(u,v,f){return!1},remove:function(u){return a.prototype.remove.call(this,u)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(u){return a.prototype.removeByKey.call(this,u)},stopByKey:function(u){return a.prototype.stopByKey.call(this,u)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(u,v){a.prototype.forEachActiveSound.call(this,u,v)},destroy:function(){a.prototype.destroy.call(this)}});r.exports=o}),71741:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),c=s(14463),h=s(95540),l=new g({Extends:a,initialize:function(u,v,f){if(f===void 0&&(f={}),this.audioBuffer=u.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=u.context.createGain(),this.volumeNode=u.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),u.context.createPanner&&(this.spatialNode=u.context.createPanner(),this.volumeNode.connect(this.spatialNode)),u.context.createStereoPanner?(this.pannerNode=u.context.createStereoPanner(),u.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(u.destination)):u.context.createPanner?this.spatialNode.connect(u.destination):this.volumeNode.connect(u.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,u,v,f)},play:function(o,u){return a.prototype.play.call(this,o,u)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,u=this.currentConfig.delay,v=this.manager.context.currentTime+u,f=(this.currentMarker?this.currentMarker.start:0)+o,p=this.duration-o;this.playTime=v-o,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,f),Math.max(0,p)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),u=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,u),Math.max(0,v))},createBufferSource:function(){var o=this,u=this.manager.context.createBufferSource();return u.buffer=this.audioBuffer,u.connect(this.muteNode),u.onended=function(v){var f=v.target;(f===o.source||f===o.loopSource)&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},u},stopAndRemoveBufferSource:function(){if(this.source){var o=this.source;this.source=null,o.stop(),o.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var u=this.spatialNode;u.panningModel=h(o,"panningModel","equalpower"),u.distanceModel=h(o,"distanceModel","inverse"),u.orientationX.value=h(o,"orientationX",0),u.orientationY.value=h(o,"orientationY",0),u.orientationZ.value=h(o,"orientationZ",-1),u.refDistance=h(o,"refDistance",1),u.maxDistance=h(o,"maxDistance",1e4),u.rolloffFactor=h(o,"rolloffFactor",1),u.coneInnerAngle=h(o,"coneInnerAngle",360),u.coneOuterAngle=h(o,"coneOuterAngle",0),u.coneOuterGain=h(o,"coneOuterGain",0),this.spatialSource=h(o,"follow",null),this.spatialSource||(u.positionX.value=h(o,"x",0),u.positionY.value=h(o,"y",0),u.positionZ.value=h(o,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=h(this.spatialSource,"x",null),u=h(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),u&&u!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=u)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,u=0;u<this.rateUpdates.length;u++){var v=0;u<this.rateUpdates.length-1?v=this.rateUpdates[u+1].time:v=this.manager.context.currentTime-this.playTime,o+=(v-this.rateUpdates[u].time)*this.rateUpdates[u].rate}return o},getLoopTime:function(){for(var o=0,u=0;u<this.rateUpdates.length-1;u++)o+=(this.rateUpdates[u+1].time-this.rateUpdates[u].time)*this.rateUpdates[u].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-o)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(c.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(c.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(c.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(c.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(c.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});r.exports=l}),57490:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(53134),g=s(85034),c=s(83419),h=s(14463),l=s(8443),o=s(71741),u=s(95540),v=new c({Extends:g,initialize:function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",g.call(this,p),this.locked&&(p.isBooted?this.unlock():p.events.once(l.BOOT,this.unlock,this)),p.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var f=this.context;window.setTimeout(function(){f&&(f.suspend(),f.resume())},100)},createAudioContext:function(f){var p=f.config.audio;if(p.context)return p.context.resume(),p.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,p){var m=new o(this,f,p);return this.sounds.push(m),m},decodeAudio:function(f,p){var m;Array.isArray(f)?m=f:m=[{key:f,data:p}];for(var y=this.game.cache.audio,S=m.length,T=0;T<m.length;T++){var b=m[T],P=b.key,w=b.data;typeof w=="string"&&(w=a(w));var A=(function(D,L){y.add(D,L),this.emit(h.DECODED,D),S--,S===0&&this.emit(h.DECODED_ALL)}).bind(this,P),R=(function(D,L){console.error("Error decoding audio: "+D+" - ",L?L.message:""),S--,S===0&&this.emit(h.DECODED_ALL)}).bind(this,P);this.context.decodeAudioData(w,A,R)}},setListenerPosition:function(f,p){return f===void 0&&(f=this.game.scale.width/2),p===void 0&&(p=this.game.scale.height/2),this.listenerPosition.set(f,p),this},unlock:function(){var f=this,p=document.body,m=function y(){if(f.context&&p){var S=p.removeEventListener.bind(p);f.context.resume().then(function(){S("touchstart",y),S("touchend",y),S("mousedown",y),S("mouseup",y),S("keydown",y),f.unlocked=!0},function(){S("touchstart",y),S("touchend",y),S("mousedown",y),S("mouseup",y),S("keydown",y)})}};p&&(p.addEventListener("touchstart",m,!1),p.addEventListener("touchend",m,!1),p.addEventListener("mousedown",m,!1),p.addEventListener("mouseup",m,!1),p.addEventListener("keydown",m,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;f&&!this.locked&&(f.state==="suspended"||f.state==="interrupted")&&f.resume()},update:function(f,p){var m=this.context.listener,y=u(this.listenerPosition,"x",null),S=u(this.listenerPosition,"y",null);if(m&&m.positionX!==void 0)y&&y!==this._spatialx&&(this._spatialx=m.positionX.value=y),S&&S!==this._spatialy&&(this._spatialy=m.positionY.value=S);else if(m){y&&y!==this._spatialx&&(this._spatialx=y),S&&S!==this._spatialy&&(this._spatialy=S);var T=u(m,"z",0);m.setPosition(this._spatialx||0,this._spatialy||0,T)}g.prototype.update.call(this,f,p),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),g.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(h.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(h.GLOBAL_VOLUME,this,f)}}});r.exports=v}),73162:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37105),g=s(83419),c=s(29747),h=s(19186),l=new g({initialize:function(u){this.parent=u,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},add:function(o,u){return u?a.Add(this.list,o):a.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,u,v){return v?a.AddAt(this.list,o,u):a.AddAt(this.list,o,u,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,u){return o?(u===void 0&&(u=function(v,f){return v[o]-f[o]}),h(this.list,u),this):this},getByName:function(o){return a.GetFirst(this.list,"name",o)},getRandom:function(o,u){return a.GetRandom(this.list,o,u)},getFirst:function(o,u,v,f){return a.GetFirst(this.list,o,u,v,f)},getAll:function(o,u,v,f){return a.GetAll(this.list,o,u,v,f)},count:function(o,u){return a.CountAllMatching(this.list,o,u)},swap:function(o,u){a.Swap(this.list,o,u)},moveTo:function(o,u){return a.MoveTo(this.list,o,u)},moveAbove:function(o,u){return a.MoveAbove(this.list,o,u)},moveBelow:function(o,u){return a.MoveBelow(this.list,o,u)},remove:function(o,u){return u?a.Remove(this.list,o):a.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,u){return u?a.RemoveAt(this.list,o):a.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,u,v){return v?a.RemoveBetween(this.list,o,u):a.RemoveBetween(this.list,o,u,this.removeCallback,this)},removeAll:function(o){for(var u=this.list.length;u--;)this.remove(this.list[u],o);return this},bringToTop:function(o){return a.BringToTop(this.list,o)},sendToBack:function(o){return a.SendToBack(this.list,o)},moveUp:function(o){return a.MoveUp(this.list,o),o},moveDown:function(o){return a.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(o,u){return a.Replace(this.list,o,u)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,u,v,f){return a.SetAll(this.list,o,u,v,f),this},each:function(o,u){for(var v=[null],f=2;f<arguments.length;f++)v.push(arguments[f]);for(f=0;f<this.list.length;f++)v[0]=this.list[f],o.apply(u,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=l}),90330:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(c){if(Array.isArray(c))for(var h=0;h<c.length;h++)this.set(c[h][0],c[h][1]);return this},set:function(c,h){return this.has(c)||this.size++,this.entries[c]=h,this},get:function(c){if(this.has(c))return this.entries[c]},getArray:function(){var c=[],h=this.entries;for(var l in h)c.push(h[l]);return c},has:function(c){return this.entries.hasOwnProperty(c)},delete:function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var c=[],h=this.entries;for(var l in h)c.push(h[l]);return c},dump:function(){var c=this.entries;console.group("Map");for(var h in c)console.log(h,c[h]);console.groupEnd()},each:function(c){var h=this.entries;for(var l in h)if(c(l,h[l])===!1)break;return this},contains:function(c){var h=this.entries;for(var l in h)if(h[l]===c)return!0;return!1},merge:function(c,h){h===void 0&&(h=!1);var l=this.entries,o=c.entries;for(var u in o)l.hasOwnProperty(u)&&h?l[u]=o[u]:this.set(u,o[u]);return this}});r.exports=g}),25774:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(82348),h=new a({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var o=this._pending,u=o.indexOf(l);u!==-1&&o.splice(u,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,o=this._destroy,u=l.length;u--;)o.push(l[u]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,o=this._active,u,v;for(u=0;u<l.length;u++){v=l[u];var f=o.indexOf(v);f!==-1&&(o.splice(f,1),this.emit(c.PROCESS_QUEUE_REMOVE,v))}for(l.length=0,l=this._pending,u=0;u<l.length;u++)v=l[u],(!this.checkQueue||this.checkQueue&&o.indexOf(v)===-1)&&(o.push(v),this.emit(c.PROCESS_QUEUE_ADD,v));return l.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=h}),59542:((r,x,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43886);function g(w){if(!(this instanceof g))return new g(w);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(w){var A=this.data,R=[],D=this.toBBox;if(!T(w,A))return R;for(var L=[],k,B,F,G;A;){for(k=0,B=A.children.length;k<B;k++)F=A.children[k],G=A.leaf?D(F):F,T(w,G)&&(A.leaf?R.push(F):S(w,G)?this._all(F,R):L.push(F));A=L.pop()}return R},collides:function(w){var A=this.data,R=this.toBBox;if(!T(w,A))return!1;for(var D=[],L,k,B,F;A;){for(L=0,k=A.children.length;L<k;L++)if(B=A.children[L],F=A.leaf?R(B):B,T(w,F)){if(A.leaf||S(w,F))return!0;D.push(B)}A=D.pop()}return!1},load:function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var A=0,R=w.length;A<R;A++)this.insert(w[A]);return this}var D=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=D;else if(this.data.height===D.height)this._splitRoot(this.data,D);else{if(this.data.height<D.height){var L=this.data;this.data=D,D=L}this._insert(D,this.data.height-D.height-1,!0)}return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=b([]),this},remove:function(w,A){if(!w)return this;for(var R=this.data,D=this.toBBox(w),L=[],k=[],B,F,G,N;R||L.length;){if(R||(R=L.pop(),F=L[L.length-1],B=k.pop(),N=!0),R.leaf&&(G=c(w,R.children,A),G!==-1))return R.children.splice(G,1),L.push(R),this._condense(L),this;!N&&!R.leaf&&S(R,D)?(L.push(R),k.push(B),B=0,F=R,R=R.children[0]):F?(B++,R=F.children[B],N=!1):R=null}return this},toBBox:function(w){return w},compareMinX:u,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,A){for(var R=[];w;)w.leaf?A.push.apply(A,w.children):R.push.apply(R,w.children),w=R.pop();return A},_build:function(w,A,R,D){var L=R-A+1,k=this._maxEntries,B;if(L<=k)return B=b(w.slice(A,R+1)),h(B,this.toBBox),B;D||(D=Math.ceil(Math.log(L)/Math.log(k)),k=Math.ceil(L/Math.pow(k,D-1))),B=b([]),B.leaf=!1,B.height=D;var F=Math.ceil(L/k),G=F*Math.ceil(Math.sqrt(k)),N,W,X,$;for(P(w,A,R,G,this.compareMinX),N=A;N<=R;N+=G)for(X=Math.min(N+G-1,R),P(w,N,X,F,this.compareMinY),W=N;W<=X;W+=F)$=Math.min(W+F-1,X),B.children.push(this._build(w,W,$,D-1));return h(B,this.toBBox),B},_chooseSubtree:function(w,A,R,D){for(var L,k,B,F,G,N,W,X;D.push(A),!(A.leaf||D.length-1===R);){for(W=X=1/0,L=0,k=A.children.length;L<k;L++)B=A.children[L],G=f(B),N=m(w,B)-G,N<X?(X=N,W=G<W?G:W,F=B):N===X&&G<W&&(W=G,F=B);A=F||A.children[0]}return A},_insert:function(w,A,R){var D=this.toBBox,L=R?w:D(w),k=[],B=this._chooseSubtree(L,this.data,A,k);for(B.children.push(w),o(B,L);A>=0&&k[A].children.length>this._maxEntries;)this._split(k,A),A--;this._adjustParentBBoxes(L,k,A)},_split:function(w,A){var R=w[A],D=R.children.length,L=this._minEntries;this._chooseSplitAxis(R,L,D);var k=this._chooseSplitIndex(R,L,D),B=b(R.children.splice(k,R.children.length-k));B.height=R.height,B.leaf=R.leaf,h(R,this.toBBox),h(B,this.toBBox),A?w[A-1].children.push(B):this._splitRoot(R,B)},_splitRoot:function(w,A){this.data=b([w,A]),this.data.height=w.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(w,A,R){var D,L,k,B,F,G,N,W;for(G=N=1/0,D=A;D<=R-A;D++)L=l(w,0,D,this.toBBox),k=l(w,D,R,this.toBBox),B=y(L,k),F=f(L)+f(k),B<G?(G=B,W=D,N=F<N?F:N):B===G&&F<N&&(N=F,W=D);return W},_chooseSplitAxis:function(w,A,R){var D=w.leaf?this.compareMinX:u,L=w.leaf?this.compareMinY:v,k=this._allDistMargin(w,A,R,D),B=this._allDistMargin(w,A,R,L);k<B&&w.children.sort(D)},_allDistMargin:function(w,A,R,D){w.children.sort(D);var L=this.toBBox,k=l(w,0,A,L),B=l(w,R-A,R,L),F=p(k)+p(B),G,N;for(G=A;G<R-A;G++)N=w.children[G],o(k,w.leaf?L(N):N),F+=p(k);for(G=R-A-1;G>=A;G--)N=w.children[G],o(B,w.leaf?L(N):N),F+=p(B);return F},_adjustParentBBoxes:function(w,A,R){for(var D=R;D>=0;D--)o(A[D],w)},_condense:function(w){for(var A=w.length-1,R;A>=0;A--)w[A].children.length===0?A>0?(R=w[A-1].children,R.splice(R.indexOf(w[A]),1)):this.clear():h(w[A],this.toBBox)},compareMinX:function(w,A){return w.left-A.left},compareMinY:function(w,A){return w.top-A.top},toBBox:function(w){return{minX:w.left,minY:w.top,maxX:w.right,maxY:w.bottom}}};function c(w,A,R){if(!R)return A.indexOf(w);for(var D=0;D<A.length;D++)if(R(w,A[D]))return D;return-1}function h(w,A){l(w,0,w.children.length,A,w)}function l(w,A,R,D,L){L||(L=b(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var k=A,B;k<R;k++)B=w.children[k],o(L,w.leaf?D(B):B);return L}function o(w,A){return w.minX=Math.min(w.minX,A.minX),w.minY=Math.min(w.minY,A.minY),w.maxX=Math.max(w.maxX,A.maxX),w.maxY=Math.max(w.maxY,A.maxY),w}function u(w,A){return w.minX-A.minX}function v(w,A){return w.minY-A.minY}function f(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function p(w){return w.maxX-w.minX+(w.maxY-w.minY)}function m(w,A){return(Math.max(A.maxX,w.maxX)-Math.min(A.minX,w.minX))*(Math.max(A.maxY,w.maxY)-Math.min(A.minY,w.minY))}function y(w,A){var R=Math.max(w.minX,A.minX),D=Math.max(w.minY,A.minY),L=Math.min(w.maxX,A.maxX),k=Math.min(w.maxY,A.maxY);return Math.max(0,L-R)*Math.max(0,k-D)}function S(w,A){return w.minX<=A.minX&&w.minY<=A.minY&&A.maxX<=w.maxX&&A.maxY<=w.maxY}function T(w,A){return A.minX<=w.maxX&&A.minY<=w.maxY&&A.maxX>=w.minX&&A.maxY>=w.minY}function b(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(w,A,R,D,L){for(var k=[A,R],B;k.length;)R=k.pop(),A=k.pop(),!(R-A<=D)&&(B=A+Math.ceil((R-A)/D/2)*D,a(w,B,A,R,L),k.push(A,B,B,R))}r.exports=g}),35072:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var l=0;l<h.length;l++)this.set(h[l])},set:function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},get:function(c,h){for(var l=0;l<this.entries.length;l++){var o=this.entries[l];if(o[c]===h)return o}},getArray:function(){return this.entries.slice(0)},delete:function(c){var h=this.entries.indexOf(c);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var h=this.entries[c];console.log(h)}console.groupEnd()},each:function(c,h){var l,o=this.entries.slice(),u=o.length;if(h)for(l=0;l<u&&c.call(h,o[l],l)!==!1;l++);else for(l=0;l<u&&c(o[l],l)!==!1;l++);return this},iterate:function(c,h){var l,o=this.entries.length;if(h)for(l=0;l<o&&c.call(h,this.entries[l],l)!==!1;l++);else for(l=0;l<o&&c(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(c){var h,l=[];for(h=1;h<arguments.length;h++)l.push(arguments[h]);var o=this.entries.length;for(h=0;h<o;h++){var u=this.entries[h];u[c].apply(u,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(c){return this.entries.indexOf(c)>-1},union:function(c){var h=new g;return c.entries.forEach(function(l){h.set(l)}),this.entries.forEach(function(l){h.set(l)}),h},intersect:function(c){var h=new g;return this.entries.forEach(function(l){c.contains(l)&&h.set(l)}),h},difference:function(c){var h=new g;return this.entries.forEach(function(l){c.contains(l)||h.set(l)}),h},size:{get:function(){return this.entries.length},set:function(c){return c<this.entries.length?this.entries.length=c:this.entries.length}}});r.exports=g}),86555:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),c=s(56583),h=s(26099),l=new g({initialize:function(u,v,f,p){u===void 0&&(u=0),v===void 0&&(v=u),f===void 0&&(f=0),p===void 0&&(p=null),this._width=u,this._height=v,this._parent=p,this.aspectMode=f,this.aspectRatio=v===0?1:u/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.snapTo.set(o,u),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.minWidth=a(o,0,this.maxWidth),this.minHeight=a(u,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,u){return o===void 0&&(o=Number.MAX_VALUE),u===void 0&&(u=o),this.maxWidth=a(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(u,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,u){switch(o===void 0&&(o=0),u===void 0&&(u=o),this.aspectMode){case l.NONE:this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(c(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(u,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(o,u,!0);break;case l.ENVELOP:this.constrain(o,u,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,u){return this._width=this.getNewWidth(c(o,this.snapTo.x)),this._height=this.getNewHeight(c(u,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,u){return u===void 0&&(u=!0),o=a(o,this.minWidth,this.maxWidth),u&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,u){return u===void 0&&(u=!0),o=a(o,this.minHeight,this.maxHeight),u&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,u,v){o===void 0&&(o=0),u===void 0&&(u=o),v===void 0&&(v=!0),o=this.getNewWidth(o),u=this.getNewHeight(u);var f=this.snapTo,p=u===0?1:o/u;return v&&this.aspectRatio>p||!v&&this.aspectRatio<p?(o=c(o,f.x),u=o/this.aspectRatio,f.y>0&&(u=c(u,f.y),o=u*this.aspectRatio)):(v&&this.aspectRatio<p||!v&&this.aspectRatio>p)&&(u=c(u,f.y),o=u*this.aspectRatio,f.x>0&&(o=c(o,f.x),u=o*(1/this.aspectRatio))),this._width=o,this._height=u,this},fitTo:function(o,u){return this.constrain(o,u,!0)},envelop:function(o,u){return this.constrain(o,u,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,r.exports=l}),15238:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"}),56187:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"}),82348:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}}),41392:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}}),57382:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),c=s(40987),h=s(8054),l=s(50030),o=s(79237),u=new a({Extends:o,initialize:function(f,p,m,y,S){o.call(this,f,p,m,y,S),this.add("__BASE",0,0,0,y,S),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=y,this.height=S,this.imageData=this.context.getImageData(0,0,y,S),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(v,f,p,m){return m===void 0&&(m=!0),this.context.drawImage(p,v,f),m&&this.update(),this},drawFrame:function(v,f,p,m,y){p===void 0&&(p=0),m===void 0&&(m=0),y===void 0&&(y=!0);var S=this.manager.getFrame(v,f);if(S){var T=S.canvasData,b=S.cutWidth,P=S.cutHeight,w=S.source.resolution;this.context.drawImage(S.source.image,T.x,T.y,b,P,p,m,b/w,P/w),y&&this.update()}return this},setPixel:function(v,f,p,m,y,S){S===void 0&&(S=255),v=Math.abs(Math.floor(v)),f=Math.abs(Math.floor(f));var T=this.getIndex(v,f);if(T>-1){var b=this.context.getImageData(v,f,1,1);b.data[0]=p,b.data[1]=m,b.data[2]=y,b.data[3]=S,this.context.putImageData(b,v,f)}return this},putData:function(v,f,p,m,y,S,T){return m===void 0&&(m=0),y===void 0&&(y=0),S===void 0&&(S=v.width),T===void 0&&(T=v.height),this.context.putImageData(v,f,p,m,y,S,T),this},getData:function(v,f,p,m){v=g(Math.floor(v),0,this.width-1),f=g(Math.floor(f),0,this.height-1),p=g(p,1,this.width-v),m=g(m,1,this.height-f);var y=this.context.getImageData(v,f,p,m);return y},getPixel:function(v,f,p){p||(p=new c);var m=this.getIndex(v,f);if(m>-1){var y=this.data,S=y[m+0],T=y[m+1],b=y[m+2],P=y[m+3];p.setTo(S,T,b,P)}return p},getPixels:function(v,f,p,m){v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=this.width),m===void 0&&(m=p),v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f));for(var y=g(v,0,this.width),S=g(v+p,0,this.width),T=g(f,0,this.height),b=g(f+m,0,this.height),P=new c,w=[],A=T;A<b;A++){for(var R=[],D=y;D<S;D++)P=this.getPixel(D,A,P),R.push({x:D,y:A,color:P.color,alpha:P.alphaGL});w.push(R)}return w},getIndex:function(v,f){return v=Math.abs(Math.round(v)),f=Math.abs(Math.round(f)),v<this.width&&f<this.height?(v+f*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,f,p,m,y){return v===void 0&&(v=0),f===void 0&&(f=0),p===void 0&&(p=this.width),m===void 0&&(m=this.height),y===void 0&&(y=!0),this.context.clearRect(v,f,p,m),y&&this.update(),this},setSize:function(v,f){return f===void 0&&(f=v),(v!==this.width||f!==this.height)&&(this.canvas.width=v,this.canvas.height=f,this._source.width=v,this._source.height=f,this._source.isPowerOf2=l(v,f),this.frames.__BASE.setSize(v,f,0,0),this.width=v,this.height=f,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=u}),81320:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(38058),c=s(27919),h=s(83419),l=s(8054),o=s(4327),u=s(95540),v=s(36060),f=s(32302),p=s(79237),m=s(70554),y=new h({Extends:p,initialize:function(T,b,P,w,A){P===void 0&&(P=256),w===void 0&&(w=256),A===void 0&&(A=!0),this.type="DynamicTexture";var R=T.game.renderer,D=R&&R.type===l.CANVAS,L=D?c.create2D(this,P,w):[this];p.call(this,T,b,L,P,w),this.add("__BASE",0,0,0,P,w),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=D?L:null,this.context=D?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,P,w).setScene(T.game.scene.systemScene,!1),this.renderTarget=D?null:new f(R,P,w,1,0,!1,!1,!0,!1),this.pipeline=D?null:R.pipelines.get(v.SINGLE_PIPELINE),this.setSize(P,w,A)},setSize:function(S,T,b){T===void 0&&(T=S),b===void 0&&(b=!0),b&&(S=Math.floor(S),T=Math.floor(T),S%2!==0&&S++,T%2!==0&&T++);var P=this.get(),w=P.source;if(S!==this.width||T!==this.height){this.canvas&&(this.canvas.width=S,this.canvas.height=T);var A=this.renderTarget;A&&(A.willResize(S,T)&&A.resize(S,T),A.texture!==w.glTexture&&this.renderer.deleteTexture(w.glTexture),this.setFromRenderTarget()),this.camera.setSize(S,T),w.width=S,w.height=T,P.setSize(S,T),this.width=S,this.height=T}else{var R=this.getSourceImage();P.cutX+S>R.width&&(S=R.width-P.cutX),P.cutY+T>R.height&&(T=R.height-P.cutY),P.setSize(S,T,P.cutX,P.cutY)}return this},setFromRenderTarget:function(){var S=this.get(),T=S.source,b=this.renderTarget;return T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=b.texture,this},setIsSpriteTexture:function(S){return this.isSpriteTexture=S,this},fill:function(S,T,b,P,w,A){var R=this.camera,D=this.renderer;T===void 0&&(T=1),b===void 0&&(b=0),P===void 0&&(P=0),w===void 0&&(w=this.width),A===void 0&&(A=this.height);var L=S>>16&255,k=S>>8&255,B=S&255,F=this.renderTarget;if(R.preRender(),F){F.bind(!0);var G=this.pipeline.manager.set(this.pipeline),N=D.width/F.width,W=D.height/F.height,X=F.height-(P+A);G.drawFillRect(b*N,X*W,w*N,A*W,m.getTintFromFloats(B/255,k/255,L/255,1),T),F.unbind(!0)}else{var $=this.context;D.setContext($),$.globalCompositeOperation="source-over",$.fillStyle="rgba("+L+","+k+","+B+","+T+")",$.fillRect(b,P,w,A),D.setContext()}return this.dirty=!0,this},clear:function(S,T,b,P){if(this.dirty){var w=this.context,A=this.renderTarget;A?A.clear(S,T,b,P):w&&(S!==void 0&&T!==void 0&&b!==void 0&&P!==void 0?w.clearRect(S,T,b,P):(w.save(),w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,this.width,this.height),w.restore())),this.dirty=!1}return this},stamp:function(S,T,b,P,w){b===void 0&&(b=0),P===void 0&&(P=0);var A=u(w,"alpha",1),R=u(w,"tint",16777215),D=u(w,"angle",0),L=u(w,"rotation",0),k=u(w,"scale",1),B=u(w,"scaleX",k),F=u(w,"scaleY",k),G=u(w,"originX",.5),N=u(w,"originY",.5),W=u(w,"blendMode",0),X=u(w,"erase",!1),$=u(w,"skipBatch",!1),J=this.manager.resetStamp(A,R);return J.setAngle(0),D!==0?J.setAngle(D):L!==0&&J.setRotation(L),J.setScale(B,F),J.setTexture(S,T),J.setOrigin(G,N),J.setBlendMode(W),X&&(this._eraseMode=!0),$?this.batchGameObject(J,b,P):this.draw(J,b,P),X&&(this._eraseMode=!1),this},erase:function(S,T,b){return this._eraseMode=!0,this.draw(S,T,b),this._eraseMode=!1,this},draw:function(S,T,b,P,w){return this.beginDraw(),this.batchDraw(S,T,b,P,w),this.endDraw(),this},drawFrame:function(S,T,b,P,w,A){return this.beginDraw(),this.batchDrawFrame(S,T,b,P,w,A),this.endDraw(),this},repeat:function(S,T,b,P,w,A,R,D,L){if(b===void 0&&(b=0),P===void 0&&(P=0),w===void 0&&(w=this.width),A===void 0&&(A=this.height),R===void 0&&(R=1),D===void 0&&(D=16777215),L===void 0&&(L=!1),S instanceof o?T=S:T=this.manager.getFrame(S,T),!T)return this;var k=this.manager.resetStamp(R,D);k.setFrame(T),k.setOrigin(0);var B=T.width,F=T.height;w=Math.floor(w),A=Math.floor(A);var G=Math.ceil(w/B),N=Math.ceil(A/F),W=G*B-w,X=N*F-A;W>0&&(W=B-W),X>0&&(X=F-X),b<0&&(G+=Math.ceil(Math.abs(b)/B)),P<0&&(N+=Math.ceil(Math.abs(P)/F));var $=b,J=P,V=!1,Y=this.manager.stampCrop.setTo(0,0,B,F);L||this.beginDraw();for(var z=0;z<N;z++){if(J+F<0){J+=F;continue}for(var K=0;K<G;K++){if(V=!1,$+B<0){$+=B;continue}else $<0&&(V=!0,Y.width=B+$,Y.x=B-Y.width);J<0&&(V=!0,Y.height=F+J,Y.y=F-Y.height),W>0&&K===G-1&&(V=!0,Y.width=W),X>0&&z===N-1&&(V=!0,Y.height=X),V&&k.setCrop(Y),this.batchGameObject(k,$,J),k.isCropped=!1,Y.setTo(0,0,B,F),$+=B}$=b,J+=F}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var S=this.camera,T=this.renderer,b=this.renderTarget;S.preRender(),b?T.beginCapture(b.width,b.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(S,T,b,P,w){return Array.isArray(S)||(S=[S]),this.batchList(S,T,b,P,w),this},batchDrawFrame:function(S,T,b,P,w,A){b===void 0&&(b=0),P===void 0&&(P=0),w===void 0&&(w=1),A===void 0&&(A=16777215);var R=this.manager.getFrame(S,T);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,b,P,A,w,this.camera.matrix,null):this.batchTextureFrame(R,b,P,w,A)),this},endDraw:function(S){if(S===void 0&&(S=this._eraseMode),this.isDrawing){var T=this.renderer,b=this.renderTarget;if(b){var P=T.endCapture(),w=T.pipelines.setUtility();w.blitFrame(P,b,1,!1,!1,S,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(S,T,b,P,w){var A=S.length;if(A!==0)for(var R=0;R<A;R++){var D=S[R];!D||D===this||(D.renderWebGL||D.renderCanvas?this.batchGameObject(D,T,b):D.isParent||D.list?this.batchGroup(D.getChildren(),T,b):typeof D=="string"?this.batchTextureFrameKey(D,null,T,b,P,w):D instanceof o?this.batchTextureFrame(D,T,b,P,w):Array.isArray(D)&&this.batchList(D,T,b,P,w))}},batchGroup:function(S,T,b){T===void 0&&(T=0),b===void 0&&(b=0);for(var P=0;P<S.length;P++){var w=S[P];w.willRender(this.camera)&&this.batchGameObject(w,w.x+T,w.y+b)}},batchGameObject:function(S,T,b){T===void 0&&(T=S.x),b===void 0&&(b=S.y);var P=S.x,w=S.y,A=this.camera,R=this.renderer,D=this._eraseMode,L=S.mask;if(S.setPosition(T,b),this.canvas){if(D){var k=S.blendMode;S.blendMode=a.ERASE}L&&L.preRenderCanvas(R,S,A),S.renderCanvas(R,S,A,null),L&&L.postRenderCanvas(R,S,A),D&&(S.blendMode=k)}else R&&(L&&L.preRenderWebGL(R,S,A),D||R.setBlendMode(S.blendMode),S.renderWebGL(R,S,A),L&&L.postRenderWebGL(R,A,this.renderTarget));S.setPosition(P,w)},batchTextureFrameKey:function(S,T,b,P,w,A){var R=this.manager.getFrame(S,T);R&&this.batchTextureFrame(R,b,P,w,A)},batchTextureFrame:function(S,T,b,P,w){T===void 0&&(T=0),b===void 0&&(b=0),P===void 0&&(P=1),w===void 0&&(w=16777215);var A=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(S,T,b,w,P,A,null);else{var D=this.context,L=S.canvasData,k=S.source.image;D.save(),D.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",D.globalAlpha=P,A.setToContext(D),L.width>0&&L.height>0&&D.drawImage(k,L.x,L.y,L.width,L.height,T,b,L.width,L.height),D.restore()}},snapshotArea:function(S,T,b,P,w,A,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,w,!1,S,T,b,P,A,R):this.renderer.snapshotCanvas(this.canvas,w,!1,S,T,b,P,A,R),this},snapshot:function(S,T,b){return this.snapshotArea(0,0,this.width,this.height,S,T,b)},snapshotPixel:function(S,T,b){return this.snapshotArea(S,T,1,1,b,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(S,T,b,P){var w=this.manager.resetStamp();w.setTexture(this),w.setOrigin(0),w.renderWebGL(S,w,b,P)},renderCanvas:function(){},destroy:function(){var S=this.manager.stamp;S&&S.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=y}),4327:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),c=s(79291),h=new a({initialize:function(o,u,v,f,p,m,y){this.texture=o,this.name=u,this.source=o.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(m,y,f,p)},setCutPosition:function(l,o){return l===void 0&&(l=0),o===void 0&&(o=0),this.cutX=l,this.cutY=o,this.updateUVs()},setCutSize:function(l,o){return this.cutWidth=l,this.cutHeight=o,this.updateUVs()},setSize:function(l,o,u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.setCutPosition(u,v),this.setCutSize(l,o),this.width=l,this.height=o,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(o/2);var f=this.data,p=f.cut;p.x=u,p.y=v,p.w=l,p.h=o,p.r=u+l,p.b=v+o,f.sourceSize.w=l,f.sourceSize.h=o,f.spriteSourceSize.w=l,f.spriteSourceSize.h=o,f.radius=.5*Math.sqrt(l*l+o*o);var m=f.drawImage;return m.x=u,m.y=v,m.width=l,m.height=o,this.updateUVs()},setTrim:function(l,o,u,v,f,p){var m=this.data,y=m.spriteSourceSize;return m.trim=!0,m.sourceSize.w=l,m.sourceSize.h=o,y.x=u,y.y=v,y.w=f,y.h=p,y.r=u+f,y.b=v+p,this.x=u,this.y=v,this.width=f,this.height=p,this.halfWidth=f*.5,this.halfHeight=p*.5,this.centerX=Math.floor(f/2),this.centerY=Math.floor(p/2),this.updateUVs()},setScale9:function(l,o,u,v){var f=this.data;return f.scale9=!0,f.is3Slice=o===0&&v===this.height,f.scale9Borders.x=l,f.scale9Borders.y=o,f.scale9Borders.w=u,f.scale9Borders.h=v,this},setCropUVs:function(l,o,u,v,f,p,m){var y=this.cutX,S=this.cutY,T=this.cutWidth,b=this.cutHeight,P=this.realWidth,w=this.realHeight;o=g(o,0,P),u=g(u,0,w),v=g(v,0,P-o),f=g(f,0,w-u);var A=y+o,R=S+u,D=v,L=f,k=this.data;if(k.trim){var B=k.spriteSourceSize;v=g(v,0,B.x+T-o),f=g(f,0,B.y+b-u);var F=o+v,G=u+f,N=!(B.r<o||B.b<u||B.x>F||B.y>G);if(N){var W=Math.max(B.x,o),X=Math.max(B.y,u),$=Math.min(B.r,F)-W,J=Math.min(B.b,G)-X;D=$,L=J,p?A=y+(T-(W-B.x)-$):A=y+(W-B.x),m?R=S+(b-(X-B.y)-J):R=S+(X-B.y),o=W,u=X,v=$,f=J}else A=0,R=0,D=0,L=0}else p&&(A=y+(T-o-v)),m&&(R=S+(b-u-f));var V=this.source.width,Y=this.source.height;return l.u0=Math.max(0,A/V),l.v0=Math.max(0,R/Y),l.u1=Math.min(1,(A+D)/V),l.v1=Math.min(1,(R+L)/Y),l.x=o,l.y=u,l.cx=A,l.cy=R,l.cw=D,l.ch=L,l.width=v,l.height=f,l.flipX=p,l.flipY=m,l},updateCropUVs:function(l,o,u){return this.setCropUVs(l,l.x,l.y,l.width,l.height,o,u)},setUVs:function(l,o,u,v,f,p){var m=this.data.drawImage;return m.width=l,m.height=o,this.u0=u,this.v0=v,this.u1=f,this.v1=p,this},updateUVs:function(){var l=this.cutX,o=this.cutY,u=this.cutWidth,v=this.cutHeight,f=this.data.drawImage;f.width=u,f.height=v;var p=this.source.width,m=this.source.height;return this.u0=l/p,this.v0=o/m,this.u1=(l+u)/p,this.v1=(o+v)/m,this},updateUVsInverted:function(){var l=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/o,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var l=new h(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=c(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=h}),79237:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(4327),c=s(11876),h='Texture "%s" has no frame "%s"',l=new a({initialize:function(u,v,f,p,m){Array.isArray(f)||(f=[f]),this.manager=u,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var y=0;y<f.length;y++)this.source.push(new c(this,f[y],p,m))},add:function(o,u,v,f,p,m){if(this.has(o))return null;var y=new g(this,o,u,v,f,p,m);return this.frames[o]=y,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,y},remove:function(o){if(this.has(o)){var u=this.get(o);return u.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var u=this.frames[o];return u||(console.warn(h,this.key,o),u=this.frames[this.firstFrame]),u},getTextureSourceIndex:function(o){for(var u=0;u<this.source.length;u++)if(this.source[u]===o)return u;return-1},getFramesFromTextureSource:function(o,u){u===void 0&&(u=!1);var v=[];for(var f in this.frames)if(!(f==="__BASE"&&!u)){var p=this.frames[f];p.sourceIndex===o&&v.push(p)}return v},getFrameBounds:function(o){o===void 0&&(o=0);for(var u=this.getFramesFromTextureSource(o,!0),v=u[0],f=v.cutX,p=v.cutY,m=v.cutX+v.cutWidth,y=v.cutY+v.cutHeight,S=1;S<u.length;S++){var T=u[S];T.cutX<f&&(f=T.cutX),T.cutY<p&&(p=T.cutY),T.cutX+T.cutWidth>m&&(m=T.cutX+T.cutWidth),T.cutY+T.cutHeight>y&&(y=T.cutY+T.cutHeight)}return{x:f,y:p,width:m-f,height:y-p}},getFrameNames:function(o){o===void 0&&(o=!1);var u=Object.keys(this.frames);if(!o){var v=u.indexOf("__BASE");v!==-1&&u.splice(v,1)}return u},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var u=this.frames[o];return u?u.source.image:(console.warn(h,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var u=this.frames[o],v;return u?v=u.sourceIndex:(console.warn(h,this.key,o),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++){var v=this.source[u];this.dataSource.push(new c(this,o[u],v.width,v.height))}},setFilter:function(o){var u;for(u=0;u<this.source.length;u++)this.source[u].setFilter(o);for(u=0;u<this.dataSource.length;u++)this.dataSource[u].setFilter(o)},destroy:function(){var o,u=this.source,v=this.dataSource;for(o=0;o<u.length;o++)u[o]&&u[o].destroy();for(o=0;o<v.length;o++)v[o]&&v[o].destroy();for(var f in this.frames){var p=this.frames[f];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=l}),17130:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(57382),c=s(83419),h=s(40987),l=s(8054),o=s(81320),u=s(50792),v=s(69442),f=s(4327),p=s(8443),m=s(99584),y=s(35154),S=s(88571),T=s(41212),b=s(61309),P=s(87841),w=s(79237),A=new c({Extends:u,initialize:function(D){u.call(this),this.game=D,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new P,this.silentWarnings=!1,D.events.once(p.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(D){this.stamp=new S(D).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var D=R.key;return this.list.hasOwnProperty(D)&&(R.destroy(),this.emit(v.REMOVE,D),this.emit(v.REMOVE_KEY+D)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,D){if(this.checkKey(R)){var L=this,k=new Image;k.onerror=function(){L.emit(v.ERROR,R)},k.onload=function(){var B=L.create(R,k);B&&(b.Image(B,0),L.emit(v.ADD,R,B),L.emit(v.ADD_KEY+R,B),L.emit(v.LOAD,R,B))},k.src=D}return this},getBase64:function(R,D,L,k){L===void 0&&(L="image/png"),k===void 0&&(k=.92);var B="",F=this.getFrame(R,D);if(F&&(F.source.isRenderTexture||F.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(F){var G=F.canvasData,N=a.create2D(this,G.width,G.height),W=N.getContext("2d",{willReadFrequently:!0});G.width>0&&G.height>0&&W.drawImage(F.source.image,G.x,G.y,G.width,G.height,0,0,G.width,G.height),B=N.toDataURL(L,k),a.remove(N)}return B},addImage:function(R,D,L){var k=null;return this.checkKey(R)&&(k=this.create(R,D),b.Image(k,0),L&&k.setDataSource(L),this.emit(v.ADD,R,k),this.emit(v.ADD_KEY+R,k)),k},addGLTexture:function(R,D){var L=null;if(this.checkKey(R)){var k=D.width,B=D.height;L=this.create(R,D,k,B),L.add("__BASE",0,0,0,k,B),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)}return L},addCompressedTexture:function(R,D,L){var k=null;if(this.checkKey(R)){if(k=this.create(R,D),k.add("__BASE",0,0,0,D.width,D.height),L){var B=function(G,N,W){Array.isArray(W.textures)||Array.isArray(W.frames)?b.JSONArray(G,N,W):b.JSONHash(G,N,W)};if(Array.isArray(L))for(var F=0;F<L.length;F++)B(k,F,L[F]);else B(k,0,L)}this.emit(v.ADD,R,k),this.emit(v.ADD_KEY+R,k)}return k},addRenderTexture:function(R,D){var L=null;return this.checkKey(R)&&(L=this.create(R,D),L.add("__BASE",0,0,0,D.width,D.height),this.emit(v.ADD,R,L),this.emit(v.ADD_KEY+R,L)),L},generate:function(R,D){if(this.checkKey(R)){var L=a.create(this,1,1);return D.canvas=L,m(D),this.addCanvas(R,L)}else return null},createCanvas:function(R,D,L){if(D===void 0&&(D=256),L===void 0&&(L=256),this.checkKey(R)){var k=a.create(this,D,L,l.CANVAS,!0);return this.addCanvas(R,k)}return null},addCanvas:function(R,D,L){L===void 0&&(L=!1);var k=null;return L?k=new g(this,R,D,D.width,D.height):this.checkKey(R)&&(k=new g(this,R,D,D.width,D.height),this.list[R]=k,this.emit(v.ADD,R,k),this.emit(v.ADD_KEY+R,k)),k},addDynamicTexture:function(R,D,L){var k=null;return typeof R=="string"&&!this.exists(R)?k=new o(this,R,D,L):(k=R,R=k.key),this.checkKey(R)?(this.list[R]=k,this.emit(v.ADD,R,k),this.emit(v.ADD_KEY+R,k)):k=null,k},addAtlas:function(R,D,L,k){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(R,D,L,k):this.addAtlasJSONHash(R,D,L,k)},addAtlasJSONArray:function(R,D,L,k){var B=null;if(D instanceof w?(R=D.key,B=D):this.checkKey(R)&&(B=this.create(R,D)),B){if(Array.isArray(L))for(var F=L.length===1,G=0;G<B.source.length;G++){var N=F?L[0]:L[G];b.JSONArray(B,G,N)}else b.JSONArray(B,0,L);k&&B.setDataSource(k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B)}return B},addAtlasJSONHash:function(R,D,L,k){var B=null;if(D instanceof w?(R=D.key,B=D):this.checkKey(R)&&(B=this.create(R,D)),B){if(Array.isArray(L))for(var F=0;F<L.length;F++)b.JSONHash(B,F,L[F]);else b.JSONHash(B,0,L);k&&B.setDataSource(k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B)}return B},addAtlasXML:function(R,D,L,k){var B=null;return D instanceof w?(R=D.key,B=D):this.checkKey(R)&&(B=this.create(R,D)),B&&(b.AtlasXML(B,0,L),k&&B.setDataSource(k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B)),B},addUnityAtlas:function(R,D,L,k){var B=null;return D instanceof w?(R=D.key,B=D):this.checkKey(R)&&(B=this.create(R,D)),B&&(b.UnityYAML(B,0,L),k&&B.setDataSource(k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B)),B},addSpriteSheet:function(R,D,L,k){var B=null;if(D instanceof w?(R=D.key,B=D):this.checkKey(R)&&(B=this.create(R,D)),B){var F=B.source[0].width,G=B.source[0].height;b.SpriteSheet(B,0,0,0,F,G,L),k&&B.setDataSource(k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B)}return B},addSpriteSheetFromAtlas:function(R,D){if(!this.checkKey(R))return null;var L=y(D,"atlas",null),k=y(D,"frame",null);if(!(!L||!k)){var B=this.get(L),F=B.get(k);if(F){var G=F.source.image;G||(G=F.source.glTexture);var N=this.create(R,G);return F.trimmed?b.SpriteSheetFromAtlas(N,F,D):b.SpriteSheet(N,0,F.cutX,F.cutY,F.cutWidth,F.cutHeight,D),this.emit(v.ADD,R,N),this.emit(v.ADD_KEY+R,N),N}}},addUint8Array:function(R,D,L,k){if(!this.checkKey(R)||D.length/4!==L*k)return null;var B=this.create(R,D,L,k);return B.add("__BASE",0,0,0,L,k),this.emit(v.ADD,R,B),this.emit(v.ADD_KEY+R,B),B},create:function(R,D,L,k){var B=null;return this.checkKey(R)&&(B=new w(this,R,D,L,k),this.list[R]=B),B},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof w?R:R instanceof f?R.texture:this.list.__MISSING},cloneFrame:function(R,D){if(this.list[R])return this.list[R].get(D).clone()},getFrame:function(R,D){if(this.list[R])return this.list[R].get(D)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(T(R))return this.getFrame(R.key,R.frame);if(R instanceof w)return R.get();if(R instanceof f)return R}else return},getTextureKeys:function(){var R=[];for(var D in this.list)D!=="__DEFAULT"&&D!=="__MISSING"&&D!=="__WHITE"&&D!=="__NORMAL"&&R.push(D);return R},getPixel:function(R,D,L,k){var B=this.getFrame(L,k);if(B){R-=B.x,D-=B.y;var F=B.data.cut;if(R+=F.x,D+=F.y,R>=F.x&&R<F.r&&D>=F.y&&D<F.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(B.source.image,R,D,1,1,0,0,1,1);var N=G.getImageData(0,0,1,1);return new h(N.data[0],N.data[1],N.data[2],N.data[3])}}return null},getPixelAlpha:function(R,D,L,k){var B=this.getFrame(L,k);if(B){R-=B.x,D-=B.y;var F=B.data.cut;if(R+=F.x,D+=F.y,R>=F.x&&R<F.r&&D>=F.y&&D<F.b){var G=this._tempContext;G.clearRect(0,0,1,1),G.drawImage(B.source.image,R,D,1,1,0,0,1,1);var N=G.getImageData(0,0,1,1);return N.data[3]}}return null},setTexture:function(R,D,L){return this.list[D]&&(R.texture=this.list[D],R.frame=R.texture.get(L)),R},renameTexture:function(R,D){var L=this.get(R);return L&&R!==D?(L.key=D,this.list[D]=L,delete this.list[R],!0):!1},each:function(R,D){for(var L=[null],k=1;k<arguments.length;k++)L.push(arguments[k]);for(var B in this.list)L[0]=this.list[B],R.apply(D,L)},resetStamp:function(R,D){R===void 0&&(R=1),D===void 0&&(D=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(R),L.setTint(D),L.setTexture("__WHITE"),L},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});r.exports=A}),11876:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(83419),c=s(50030),h=s(29795),l=s(82751),o=new g({initialize:function(v,f,p,m,y){y===void 0&&(y=!1);var S=v.manager.game;this.renderer=S.renderer,this.texture=v,this.source=f,this.image=f.compressed?null:f,this.compressionAlgorithm=f.compressed?f.format:null,this.resolution=1,this.width=p||f.naturalWidth||f.videoWidth||f.width||0,this.height=m||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture"||f.type==="DynamicTexture",this.isGLTexture=f instanceof l,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=y,this.init(S)},init:function(u){var v=this.renderer;if(v){var f=this.source;if(v.gl){var p=this.image,m=this.flipY,y=this.width,S=this.height,T=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(p,!1,m):this.isVideo?this.glTexture=v.createVideoTexture(p,!1,m):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,y,S,T):this.isGLTexture?this.glTexture=f:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(f,void 0,void 0,T):f instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(f,y,S,T):this.glTexture=v.createTextureFromSource(p,y,S,T)}else this.isRenderTexture&&(this.image=f.canvas)}u.config.antialias||this.setFilter(1)},setFilter:function(u){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,u),this.scaleMode=u},setFlipY:function(u){return u===void 0&&(u=!0),u===this.flipY?this:(this.flipY=u,this.update(),this)},update:function(){var u=this.renderer,v=this.image,f=this.flipY,p=u.gl;p&&this.isCanvas?u.updateCanvasTexture(v,this.glTexture,f):p&&this.isVideo&&u.updateVideoTexture(v,this.glTexture,f)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=o}),19673:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};r.exports=x}),44538:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"}),63486:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"}),94851:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"}),29099:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"}),8678:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"}),86415:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"}),30879:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"}),69442:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}}),27458:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(19673),c={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:g,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};c=a(!1,c,g),r.exports=c}),89905:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=s.source[a];s.add("__BASE",a,0,0,c.width,c.height);for(var h=g.getElementsByTagName("SubTexture"),l,o=0;o<h.length;o++){var u=h[o].attributes,v=u.name.value,f=parseInt(u.x.value,10),p=parseInt(u.y.value,10),m=parseInt(u.width.value,10),y=parseInt(u.height.value,10);if(l=s.add(v,a,f,p,m,y),u.frameX){var S=Math.abs(parseInt(u.frameX.value,10)),T=Math.abs(parseInt(u.frameY.value,10)),b=parseInt(u.frameWidth.value,10),P=parseInt(u.frameHeight.value,10);l.setTrim(m,y,S,T,b,P)}}return s};r.exports=x}),72893:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.source[a];return s.add("__BASE",a,0,0,g.width,g.height),s};r.exports=x}),4832:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.source[a];return s.add("__BASE",a,0,0,g.width,g.height),s};r.exports=x}),78566:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(c,h,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=c.source[h];c.add("__BASE",h,0,0,o.width,o.height);for(var u=Array.isArray(l.textures)?l.textures[h].frames:l.frames,v,f=0;f<u.length;f++){var p=u[f];if(v=c.add(p.filename,h,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+p.filename);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var m=p.anchor||p.pivot;m&&(v.customPivot=!0,v.pivotX=m.x,v.pivotY=m.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=a(p)}for(var y in l)y!=="frames"&&(Array.isArray(l[y])?c.customData[y]=l[y].slice(0):c.customData[y]=l[y]);return c};r.exports=g}),39711:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(c,h,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=c.source[h];c.add("__BASE",h,0,0,o.width,o.height);var u=l.frames,v;for(var f in u)if(u.hasOwnProperty(f)){var p=u[f];if(v=c.add(f,h,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+f);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var m=p.anchor||p.pivot;m&&(v.customPivot=!0,v.pivotX=m.x,v.pivotY=m.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=a(p)}for(var y in l)y!=="frames"&&(Array.isArray(l[y])?c.customData[y]=l[y].slice(0):c.customData[y]=l[y]);return c};r.exports=g}),31403:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=[171,75,84,88,32,49,49,187,13,10,26,10],g,c=new Uint8Array(s,0,12);for(g=0;g<c.length;g++)if(c[g]!==a[g]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(s,12,13*h),o=l.getUint32(0,!0)===67305985,u=l.getUint32(1*h,o);if(u!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=l.getUint32(4*h,o),f=l.getUint32(6*h,o),p=l.getUint32(7*h,o),m=Math.max(1,l.getUint32(11*h,o)),y=l.getUint32(12*h,o),S=new Array(m),T=64+y,b=f,P=p;for(g=0;g<m;g++){var w=new Int32Array(s,T,1)[0];T+=4,S[g]={data:new Uint8Array(s,T,w),width:b,height:P},b=Math.max(1,b>>1),P=Math.max(1,P>>1),T+=w}return{mipmaps:S,width:f,height:p,internalFormat:v,compressed:!0,generateMipmap:!1}};r.exports=x}),82038:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(D,L,k,B,F,G,N){return N===void 0&&(N=16),Math.floor((D+k)/F)*Math.floor((L+B)/G)*N}function s(D,L){return D=Math.max(D,16),L=Math.max(L,8),D*L/4}function a(D,L){return D=Math.max(D,8),L=Math.max(L,8),D*L/2}function g(D,L){return Math.ceil(D/4)*Math.ceil(L/4)*16}function c(D,L){return x(D,L,3,3,4,4,8)}function h(D,L){return x(D,L,3,3,4,4)}function l(D,L){return x(D,L,4,3,5,4)}function o(D,L){return x(D,L,4,4,5,5)}function u(D,L){return x(D,L,5,4,6,5)}function v(D,L){return x(D,L,5,5,6,6)}function f(D,L){return x(D,L,7,4,8,5)}function p(D,L){return x(D,L,7,5,8,6)}function m(D,L){return x(D,L,7,7,8,8)}function y(D,L){return x(D,L,9,4,10,5)}function S(D,L){return x(D,L,9,5,10,6)}function T(D,L){return x(D,L,9,7,10,8)}function b(D,L){return x(D,L,9,9,10,10)}function P(D,L){return x(D,L,11,9,12,10)}function w(D,L){return x(D,L,11,11,12,12)}var A={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:o,glFormat:[37810,37842]},30:{sizeFunc:u,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:f,glFormat:[37813,37845]},33:{sizeFunc:p,glFormat:[37814,37846]},34:{sizeFunc:m,glFormat:[37815,37847]},35:{sizeFunc:y,glFormat:[37816,37848]},36:{sizeFunc:S,glFormat:[37817,37849]},37:{sizeFunc:T,glFormat:[37818,37850]},38:{sizeFunc:b,glFormat:[37819,37851]},39:{sizeFunc:P,glFormat:[37820,37852]},40:{sizeFunc:w,glFormat:[37821,37853]}},R=function(D){for(var L=new Uint32Array(D,0,13),k=L[0],B=k===55727696,F=B?L[2]:L[3],G=L[4],N=A[F].glFormat[G],W=A[F].sizeFunc,X=L[11],$=L[7],J=L[6],V=52+L[12],Y=new Uint8Array(D,V),z=new Array(X),K=0,H=$,Q=J,j=0;j<X;j++){var q=W(H,Q);z[j]={data:new Uint8Array(Y.buffer,Y.byteOffset+K,q),width:H,height:Q},H=Math.max(1,H>>1),Q=Math.max(1,Q>>1),K+=q}return{mipmaps:z,width:$,height:J,internalFormat:N,compressed:!0,generateMipmap:!1}};r.exports=R}),75549:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(c,h,l,o,u,v,f){var p=a(f,"frameWidth",null),m=a(f,"frameHeight",p);if(p===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var y=c.source[h];c.add("__BASE",h,0,0,y.width,y.height);var S=a(f,"startFrame",0),T=a(f,"endFrame",-1),b=a(f,"margin",0),P=a(f,"spacing",0),w=Math.floor((u-b+P)/(p+P)),A=Math.floor((v-b+P)/(m+P)),R=w*A;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(S>R||S<-R)&&(S=0),S<0&&(S=R+S),(T===-1||T>R||T<S)&&(T=R);for(var D=b,L=b,k=0,B=0,F=0,G=0;G<R;G++){k=0,B=0;var N=D+p,W=L+m;N>u&&(k=N-u),W>v&&(B=W-v),G>=S&&G<=T&&(c.add(F,h,l+D,o+L,p-k,m-B),F++),D+=p+P,D+p>u&&(D=b,L+=m+P)}return c};r.exports=g}),47534:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(c,h,l){var o=a(l,"frameWidth",null),u=a(l,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=c.source[0];c.add("__BASE",0,0,0,v.width,v.height),a(l,"startFrame",0),a(l,"endFrame",-1);for(var f=a(l,"margin",0),p=a(l,"spacing",0),m=h.cutX,y=h.cutY,S=h.cutWidth,T=h.cutHeight,b=h.realWidth,P=h.realHeight,w=Math.floor((b-f+p)/(o+p)),A=Math.floor((P-f+p)/(u+p)),R=h.x,D=o-R,L=o-(b-S-R),k=h.y,B=u-k,F=u-(P-T-k),G,N=f,W=f,X=0,$=0,J=0;J<A;J++){for(var V=J===0,Y=J===A-1,z=0;z<w;z++){var K=z===0,H=z===w-1;if(G=c.add(X,$,m+N,y+W,o,u),K||V||H||Y){var Q=K?R:0,j=V?k:0,q=0,tt=0;K&&(q+=o-D),H&&(q+=o-L),V&&(tt+=u-B),Y&&(tt+=u-F);var st=o-q,nt=u-tt;G.cutWidth=st,G.cutHeight=nt,G.setTrim(o,u,Q,j,st,nt)}N+=p,K?N+=D:H?N+=L:N+=o,X++}N=f,W+=p,V?W+=B:Y?W+=F:W+=u}return c};r.exports=g}),86147:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,s=function(g,c,h,l){var o=x-l.y-l.height;g.add(h,c,l.x,o,l.width,l.height)},a=function(g,c,h){var l=g.source[c];g.add("__BASE",c,0,0,l.width,l.height),x=l.height;for(var o=h.split(`
`),u=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",f="",p={x:0,y:0,width:0,height:0},m=0;m<o.length;m++){var y=o[m].match(u);if(y){var S=y[1]==="- ",T=y[2],b=y[3];if(S&&(f!==v&&(s(g,c,f,p),v=f),p={x:0,y:0,width:0,height:0}),T==="name"){f=b;continue}switch(T){case"x":case"y":case"width":case"height":p[T]=parseInt(b,10);break}}}return f!==v&&s(g,c,f,p),g};r.exports=a}),55222:((r,x,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(50030),g=function(v){for(var f=v.mipmaps,p=1;p<f.length;p++){var m=f[p].width,y=f[p].height;if(!a(m,y))return console.warn("Mip level "+p+" is not a power-of-two size: "+m+"x"+y),!1}var S=u[v.internalFormat];return S?S(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function c(v){for(var f=v.mipmaps,p=0;p<f.length;p++){var m=f[p].width,y=f[p].height;if((m<<p)%4!==0||(y<<p)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+m+"x"+y),!1}return!0}function h(){return!0}function l(v){var f=v.mipmaps,p=f[0];return a(p.width,p.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}function o(v){var f=v.mipmaps,p=f[0];return p.width%4!==0||p.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1):!0}var u={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:l,35841:l,35842:l,35843:l,33776:c,33777:c,33778:c,33779:c,35916:o,35917:o,35918:o,35919:o};r.exports=g}),61309:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}}),80341:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}}),16536:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,u,v,f,p){(o===void 0||o<=0)&&(o=32),(u===void 0||u<=0)&&(u=32),v===void 0&&(v=0),f===void 0&&(f=0),this.name=h,this.firstgid=l|0,this.imageWidth=o|0,this.imageHeight=u|0,this.imageMargin=v|0,this.imageSpacing=f|0,this.properties=p||{},this.images=[],this.total=0},containsImageIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},addImage:function(c,h,l,o){return this.images.push({gid:c,image:h,width:l,height:o}),this.total++,this}});r.exports=g}),27462:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){if(this.gids=[],h!==void 0)for(var l=0;l<h.length;++l)for(var o=h[l],u=0;u<o.total;++u)this.gids[o.firstgid+u]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(c){this.gids=c?this._gids:void 0}},getTypeIncludingTile:function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var h=this.gids[c.gid];if(h){var l=h.getTileData(c.gid);if(l)return l.type}}},setTextureAndFrame:function(c,h,l,o){if(h===null&&this.gids&&o.gid!==void 0){var u=this.gids[o.gid];u&&(h===null&&u.image!==void 0&&(h=u.image.key),l===null&&(l=o.gid-u.firstgid),c.scene.textures.getFrame(h,l)||(h=null,l=null))}c.setTexture(h,l)},setPropertiesFromTiledObject:function(c,h){if(this.gids!==void 0&&h.gid!==void 0){var l=this.gids[h.gid];l!==void 0&&this.setFromJSON(c,l.getTileProperties(h.gid))}this.setFromJSON(c,h.properties)},setFromJSON:function(c,h){if(h){if(Array.isArray(h)){for(var l=0;l<h.length;l++){var o=h[l];c[o.name]!==void 0?c[o.name]=o.value:c.setData(o.name,o.value)}return}for(var u in h)c[u]!==void 0?c[u]=h[u]:c.setData(u,h[u])}}});r.exports=g}),31989:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(87010),c=s(46177),h=s(49075),l=function(o,u,v,f,p,m,y,S){v===void 0&&(v=32),f===void 0&&(f=32),p===void 0&&(p=10),m===void 0&&(m=10),S===void 0&&(S=!1);var T=null;if(Array.isArray(y)){var b=u!==void 0?u:"map";T=c(b,a.ARRAY_2D,y,v,f,S)}else if(u!==void 0){var P=o.cache.tilemap.get(u);P?T=c(u,P.format,P.data,v,f,S):console.warn("No map data found for key "+u)}return T===null&&(T=new g({tileWidth:v,tileHeight:f,width:p,height:m})),new h(o,T)};r.exports=l}),23029:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),c=s(91907),h=s(62644),l=s(93232),o=new a({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(v,f,p,m,y,S,T,b){this.layer=v,this.index=f,this.x=p,this.y=m,this.width=y,this.height=S,this.right,this.bottom,this.baseWidth=T!==void 0?T:y,this.baseHeight=b!==void 0?b:S,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(u,v){return!(u<this.pixelX||v<this.pixelY||u>this.right||v>this.bottom)},copy:function(u){return this.index=u.index,this.alpha=u.alpha,this.properties=h(u.properties),this.visible=u.visible,this.setFlip(u.flipX,u.flipY),this.tint=u.tint,this.rotation=u.rotation,this.collideUp=u.collideUp,this.collideDown=u.collideDown,this.collideLeft=u.collideLeft,this.collideRight=u.collideRight,this.collisionCallback=u.collisionCallback,this.collisionCallbackContext=u.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(u){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,u);return f.x}return this.x*this.baseWidth},getRight:function(u){var v=this.tilemapLayer;return v?this.getLeft(u)+this.width*v.scaleX:this.getLeft(u)+this.width},getTop:function(u){var v=this.tilemapLayer;if(v){var f=v.tileToWorldXY(this.x,this.y,void 0,u);return f.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(u){var v=this.tilemapLayer;return v?this.getTop(u)+this.height*v.scaleY:this.getTop(u)+this.height},getBounds:function(u,v){return v===void 0&&(v=new l),v.x=this.getLeft(u),v.y=this.getTop(u),v.width=this.getRight(u)-v.x,v.height=this.getBottom(u)-v.y,v},getCenterX:function(u){return(this.getLeft(u)+this.getRight(u))/2},getCenterY:function(u){return(this.getTop(u)+this.getBottom(u))/2},intersects:function(u,v,f,p){return!(f<=this.pixelX||p<=this.pixelY||u>=this.right||v>=this.bottom)},isInteresting:function(u,v){return u&&v?this.canCollide||this.hasInterestingFace:u?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(u){if(u===void 0&&(u=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,u){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(u,v,f,p,m){if(v===void 0&&(v=u),f===void 0&&(f=u),p===void 0&&(p=u),m===void 0&&(m=!0),this.collideLeft=u,this.collideRight=v,this.collideUp=f,this.collideDown=p,this.faceLeft=u,this.faceRight=v,this.faceTop=f,this.faceBottom=p,m){var y=this.tilemapLayer;y&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(u,v){return u===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=u,this.collisionCallbackContext=v),this},setSize:function(u,v,f,p){return u!==void 0&&(this.width=u),v!==void 0&&(this.height=v),f!==void 0&&(this.baseWidth=f),p!==void 0&&(this.baseHeight=p),this.updatePixelXY(),this},updatePixelXY:function(){var u=this.layer.orientation;if(u===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(u===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(u===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(u===c.HEXAGONAL){var v=this.layer.staggerAxis,f=this.layer.staggerIndex,p=this.layer.hexSideLength,m,y;v==="y"?(y=(this.baseHeight-p)/2+p,f==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*y):v==="x"&&(m=(this.baseWidth-p)/2+p,this.pixelX=this.x*m,f==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var u=this.layer.tilemapLayer;if(u){var v=u.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var u=this.tilemapLayer;return u?u.tilemap:null}}});r.exports=o}),49075:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84101),g=s(83419),c=s(39506),h=s(80341),l=s(95540),o=s(14977),u=s(27462),v=s(91907),f=s(36305),p=s(19133),m=s(68287),y=s(23029),S=s(81086),T=s(20442),b=s(33629),P=new g({initialize:function(A,R){this.scene=A,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var D=this.orientation;this._convert={WorldToTileXY:S.GetWorldToTileXYFunction(D),WorldToTileX:S.GetWorldToTileXFunction(D),WorldToTileY:S.GetWorldToTileYFunction(D),TileToWorldXY:S.GetTileToWorldXYFunction(D),TileToWorldX:S.GetTileToWorldXFunction(D),TileToWorldY:S.GetTileToWorldYFunction(D),GetTileCorners:S.GetTileCornersFunction(D)}},setRenderOrder:function(w){var A=["right-down","left-down","right-up","left-up"];return typeof w=="number"&&(w=A[w]),A.indexOf(w)>-1&&(this.renderOrder=w),this},addTilesetImage:function(w,A,R,D,L,k,B,F){if(w===void 0)return null;A==null&&(A=w);var G=this.scene.sys.textures;if(!G.exists(A))return console.warn('Texture key "%s" not found',A),null;var N=G.get(A),W=this.getTilesetIndex(w);if(W===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',w,this.tilesets),null;var X=this.tilesets[W];return X?((R||D)&&X.setTileSize(R,D),(L||k)&&X.setSpacing(L,k),X.setImage(N),X):(R===void 0&&(R=this.tileWidth),D===void 0&&(D=this.tileHeight),L===void 0&&(L=0),k===void 0&&(k=0),B===void 0&&(B=0),F===void 0&&(F={x:0,y:0}),X=new b(w,B,R,D,L,k,void 0,void 0,F),X.setImage(N),this.tilesets.push(X),this.tiles=a(this),X)},copy:function(w,A,R,D,L,k,B,F){return F=this.getLayer(F),F!==null?(S.Copy(w,A,R,D,L,k,B,F),this):null},createBlankLayer:function(w,A,R,D,L,k,B,F){R===void 0&&(R=0),D===void 0&&(D=0),L===void 0&&(L=this.width),k===void 0&&(k=this.height),B===void 0&&(B=this.tileWidth),F===void 0&&(F=this.tileHeight);var G=this.getLayerIndex(w);if(G!==null)return console.warn("Invalid Tilemap Layer ID: "+w),null;for(var N=new o({name:w,tileWidth:B,tileHeight:F,width:L,height:k,orientation:this.orientation,hexSideLength:this.hexSideLength}),W,X=0;X<k;X++){W=[];for(var $=0;$<L;$++)W.push(new y(N,-1,$,X,B,F,this.tileWidth,this.tileHeight));N.data.push(W)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var J=new T(this.scene,this,this.currentLayerIndex,A,R,D);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(w,A,R,D){var L=this.getLayerIndex(w);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+w),typeof w=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var k=this.layers[L];if(k.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+w),null;this.currentLayerIndex=L,R===void 0&&(R=k.x),D===void 0&&(D=k.y);var B=new T(this.scene,this,L,A,R,D);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(w,A,R){R===void 0&&(R=!0);var D=[],L=this.getObjectLayer(w);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+w),D;var k=new u(R?this.tilesets:void 0);Array.isArray(A)||(A=[A]);for(var B=L.objects,F=0;F<A.length;F++){var G=A[F],N=l(G,"id",null),W=l(G,"gid",null),X=l(G,"name",null),$=l(G,"type",null);k.enabled=!l(G,"ignoreTileset",null);for(var J,V=[],Y=0;Y<B.length;Y++)J=B[Y],(N===null&&W===null&&X===null&&$===null||N!==null&&J.id===N||W!==null&&J.gid===W||X!==null&&J.name===X||$!==null&&k.getTypeIncludingTile(J)===$)&&V.push(J);for(var z=l(G,"classType",m),K=l(G,"scene",this.scene),H=l(G,"container",null),Q=l(G,"key",null),j=l(G,"frame",null),q=0;q<V.length;q++){J=V[q];var tt=new z(K);if(tt.setName(J.name),tt.setPosition(J.x,J.y),k.setTextureAndFrame(tt,Q,j,J),J.width&&(tt.displayWidth=J.width),J.height&&(tt.displayHeight=J.height),this.orientation===v.ISOMETRIC){var st=this.tileWidth/this.tileHeight,nt={x:tt.x-tt.y,y:(tt.x+tt.y)/st};tt.x=nt.x,tt.y=nt.y}var at={x:tt.originX*J.width,y:(tt.originY-(J.gid?1:0))*J.height};if(J.rotation){var ot=c(J.rotation);f(at,ot),tt.rotation=ot}tt.x+=at.x,tt.y+=at.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&tt.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(tt.visible=!1),k.setPropertiesFromTiledObject(tt,J),H?H.add(tt):K.add.existing(tt),D.push(tt)}}return D},createFromTiles:function(w,A,R,D,L,k){return k=this.getLayer(k),k===null?null:S.CreateFromTiles(w,A,R,D,L,k)},fill:function(w,A,R,D,L,k,B){return k===void 0&&(k=!0),B=this.getLayer(B),B===null?null:(S.Fill(w,A,R,D,L,k,B),this)},filterObjects:function(w,A,R){if(typeof w=="string"){var D=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+D),null}return w.objects.filter(A,R)},filterTiles:function(w,A,R,D,L,k,B,F){return F=this.getLayer(F),F===null?null:S.FilterTiles(w,A,R,D,L,k,B,F)},findByIndex:function(w,A,R,D){return D=this.getLayer(D),D===null?null:S.FindByIndex(w,A,R,D)},findObject:function(w,A,R){if(typeof w=="string"){var D=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+D),null}return w.objects.find(A,R)||null},findTile:function(w,A,R,D,L,k,B,F){return F=this.getLayer(F),F===null?null:S.FindTile(w,A,R,D,L,k,B,F)},forEachTile:function(w,A,R,D,L,k,B,F){return F=this.getLayer(F),F===null?null:(S.ForEachTile(w,A,R,D,L,k,B,F),this)},getImageIndex:function(w){return this.getIndex(this.images,w)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(w){return w.name})},getIndex:function(w,A){for(var R=0;R<w.length;R++)if(w[R].name===A)return R;return null},getLayer:function(w){var A=this.getLayerIndex(w);return A!==null?this.layers[A]:null},getObjectLayer:function(w){var A=this.getIndex(this.objects,w);return A!==null?this.objects[A]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(w){return w.name})},getLayerIndex:function(w){return w===void 0?this.currentLayerIndex:typeof w=="string"?this.getLayerIndexByName(w):typeof w=="number"&&w<this.layers.length?w:w instanceof T&&w.tilemap===this?w.layerIndex:null},getLayerIndexByName:function(w){return this.getIndex(this.layers,w)},getTileAt:function(w,A,R,D){return D=this.getLayer(D),D===null?null:S.GetTileAt(w,A,R,D)},getTileAtWorldXY:function(w,A,R,D,L){return L=this.getLayer(L),L===null?null:S.GetTileAtWorldXY(w,A,R,D,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(w){return w.name})},getTilesWithin:function(w,A,R,D,L,k){return k=this.getLayer(k),k===null?null:S.GetTilesWithin(w,A,R,D,L,k)},getTilesWithinShape:function(w,A,R,D){return D=this.getLayer(D),D===null?null:S.GetTilesWithinShape(w,A,R,D)},getTilesWithinWorldXY:function(w,A,R,D,L,k,B){return B=this.getLayer(B),B===null?null:S.GetTilesWithinWorldXY(w,A,R,D,L,k,B)},getTileset:function(w){var A=this.getIndex(this.tilesets,w);return A!==null?this.tilesets[A]:null},getTilesetIndex:function(w){return this.getIndex(this.tilesets,w)},hasTileAt:function(w,A,R){return R=this.getLayer(R),R===null?null:S.HasTileAt(w,A,R)},hasTileAtWorldXY:function(w,A,R,D){return D=this.getLayer(D),D===null?null:S.HasTileAtWorldXY(w,A,R,D)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(w){this.setLayer(w)}},putTileAt:function(w,A,R,D,L){return D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:S.PutTileAt(w,A,R,D,L)},putTileAtWorldXY:function(w,A,R,D,L,k){return D===void 0&&(D=!0),k=this.getLayer(k),k===null?null:S.PutTileAtWorldXY(w,A,R,D,L,k)},putTilesAt:function(w,A,R,D,L){return D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:(S.PutTilesAt(w,A,R,D,L),this)},randomize:function(w,A,R,D,L,k){return k=this.getLayer(k),k===null?null:(S.Randomize(w,A,R,D,L,k),this)},calculateFacesAt:function(w,A,R){return R=this.getLayer(R),R===null?null:(S.CalculateFacesAt(w,A,R),this)},calculateFacesWithin:function(w,A,R,D,L){return L=this.getLayer(L),L===null?null:(S.CalculateFacesWithin(w,A,R,D,L),this)},removeLayer:function(w){var A=this.getLayerIndex(w);if(A!==null){p(this.layers,A);for(var R=A;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===A&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(w){var A=this.getLayerIndex(w);return A!==null?(w=this.layers[A],w.tilemapLayer.destroy(),p(this.layers,A),this.currentLayerIndex===A&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var w=this.layers,A=0;A<w.length;A++)w[A].tilemapLayer&&w[A].tilemapLayer.destroy(!1);return w.length=0,this.currentLayerIndex=0,this},removeTile:function(w,A,R){A===void 0&&(A=-1),R===void 0&&(R=!0);var D=[];Array.isArray(w)||(w=[w]);for(var L=0;L<w.length;L++){var k=w[L];D.push(this.removeTileAt(k.x,k.y,!0,R,k.tilemapLayer)),A>-1&&this.putTileAt(A,k.x,k.y,R,k.tilemapLayer)}return D},removeTileAt:function(w,A,R,D,L){return R===void 0&&(R=!0),D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:S.RemoveTileAt(w,A,R,D,L)},removeTileAtWorldXY:function(w,A,R,D,L,k){return R===void 0&&(R=!0),D===void 0&&(D=!0),k=this.getLayer(k),k===null?null:S.RemoveTileAtWorldXY(w,A,R,D,L,k)},renderDebug:function(w,A,R){return R=this.getLayer(R),R===null?null:(this.orientation===v.ORTHOGONAL&&S.RenderDebug(w,A,R),this)},renderDebugFull:function(w,A){for(var R=this.layers,D=0;D<R.length;D++)S.RenderDebug(w,A,R[D]);return this},replaceByIndex:function(w,A,R,D,L,k,B){return B=this.getLayer(B),B===null?null:(S.ReplaceByIndex(w,A,R,D,L,k,B),this)},setCollision:function(w,A,R,D,L){return A===void 0&&(A=!0),R===void 0&&(R=!0),L===void 0&&(L=!0),D=this.getLayer(D),D===null?null:(S.SetCollision(w,A,R,D,L),this)},setCollisionBetween:function(w,A,R,D,L){return R===void 0&&(R=!0),D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:(S.SetCollisionBetween(w,A,R,D,L),this)},setCollisionByProperty:function(w,A,R,D){return A===void 0&&(A=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:(S.SetCollisionByProperty(w,A,R,D),this)},setCollisionByExclusion:function(w,A,R,D){return A===void 0&&(A=!0),R===void 0&&(R=!0),D=this.getLayer(D),D===null?null:(S.SetCollisionByExclusion(w,A,R,D),this)},setCollisionFromCollisionGroup:function(w,A,R){return w===void 0&&(w=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(S.SetCollisionFromCollisionGroup(w,A,R),this)},setTileIndexCallback:function(w,A,R,D){return D=this.getLayer(D),D===null?null:(S.SetTileIndexCallback(w,A,R,D),this)},setTileLocationCallback:function(w,A,R,D,L,k,B){return B=this.getLayer(B),B===null?null:(S.SetTileLocationCallback(w,A,R,D,L,k,B),this)},setLayer:function(w){var A=this.getLayerIndex(w);return A!==null&&(this.currentLayerIndex=A),this},setBaseTileSize:function(w,A){this.tileWidth=w,this.tileHeight=A,this.widthInPixels=this.width*w,this.heightInPixels=this.height*A;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=w,this.layers[R].baseTileHeight=A;for(var D=this.layers[R].data,L=this.layers[R].width,k=this.layers[R].height,B=0;B<k;B++)for(var F=0;F<L;F++){var G=D[B][F];G!==null&&G.setSize(void 0,void 0,w,A)}}return this},setLayerTileSize:function(w,A,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=w,R.tileHeight=A;for(var D=R.data,L=R.width,k=R.height,B=0;B<k;B++)for(var F=0;F<L;F++){var G=D[B][F];G!==null&&G.setSize(w,A)}return this},shuffle:function(w,A,R,D,L){return L=this.getLayer(L),L===null?null:(S.Shuffle(w,A,R,D,L),this)},swapByIndex:function(w,A,R,D,L,k,B){return B=this.getLayer(B),B===null?null:(S.SwapByIndex(w,A,R,D,L,k,B),this)},tileToWorldX:function(w,A,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(w,A,R)},tileToWorldY:function(w,A,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(w,A,R)},tileToWorldXY:function(w,A,R,D,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(w,A,R,D,L)},getTileCorners:function(w,A,R,D){return D=this.getLayer(D),D===null?null:this._convert.GetTileCorners(w,A,R,D)},weightedRandomize:function(w,A,R,D,L,k){return k=this.getLayer(k),k===null?null:(S.WeightedRandomize(A,R,D,L,w,k),this)},worldToTileX:function(w,A,R,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileX(w,A,R,D)},worldToTileY:function(w,A,R,D){return D=this.getLayer(D),D===null?null:this._convert.WorldToTileY(w,A,R,D)},worldToTileXY:function(w,A,R,D,L,k){return k=this.getLayer(k),k===null?null:this._convert.WorldToTileXY(w,A,R,D,L,k)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=P}),45939:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(31989);a.register("tilemap",function(c){var h=c!==void 0?c:{};return g(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})}),46029:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(31989);a.register("tilemap",function(c,h,l,o,u,v,f){return c===null&&(c=void 0),h===null&&(h=void 0),l===null&&(l=void 0),o===null&&(o=void 0),u===null&&(u=void 0),g(this.scene,c,h,l,o,u,v,f)})}),20442:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(78389),c=s(31401),h=s(95643),l=s(81086),o=s(19218),u=s(26099),v=new a({Extends:h,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,g,o],initialize:function(p,m,y,S,T,b){h.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=m,this.layerIndex=y,this.layer=m.layers[y],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new u,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(S),this.setAlpha(this.layer.alpha),this.setPosition(T,b),this.setOrigin(0,0),this.setSize(m.tileWidth*this.layer.width,m.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(f){var p=[],m=[],y=this.tilemap;Array.isArray(f)||(f=[f]);for(var S=0;S<f.length;S++){var T=f[S];if(typeof T=="string"&&(T=y.getTileset(T)),T){m.push(T);for(var b=T.firstgid,P=0;P<T.total;P++)p[b+P]=T}}this.gidMap=p,this.tileset=m},setRenderOrder:function(f){var p=["right-down","left-down","right-up","left-up"];return typeof f=="string"&&(f=p.indexOf(f)),f>=0&&f<4&&(this._renderOrder=f),this},calculateFacesAt:function(f,p){return l.CalculateFacesAt(f,p,this.layer),this},calculateFacesWithin:function(f,p,m,y){return l.CalculateFacesWithin(f,p,m,y,this.layer),this},createFromTiles:function(f,p,m,y,S){return l.CreateFromTiles(f,p,m,y,S,this.layer)},cull:function(f){return this.cullCallback(this.layer,f,this.culledTiles,this._renderOrder)},copy:function(f,p,m,y,S,T,b){return l.Copy(f,p,m,y,S,T,b,this.layer),this},fill:function(f,p,m,y,S,T){return l.Fill(f,p,m,y,S,T,this.layer),this},filterTiles:function(f,p,m,y,S,T,b){return l.FilterTiles(f,p,m,y,S,T,b,this.layer)},findByIndex:function(f,p,m){return l.FindByIndex(f,p,m,this.layer)},findTile:function(f,p,m,y,S,T,b){return l.FindTile(f,p,m,y,S,T,b,this.layer)},forEachTile:function(f,p,m,y,S,T,b){return l.ForEachTile(f,p,m,y,S,T,b,this.layer),this},setTint:function(f,p,m,y,S,T){f===void 0&&(f=16777215);var b=function(P){P.tint=f,P.tintFill=!1};return this.forEachTile(b,this,p,m,y,S,T)},setTintFill:function(f,p,m,y,S,T){f===void 0&&(f=16777215);var b=function(P){P.tint=f,P.tintFill=!0};return this.forEachTile(b,this,p,m,y,S,T)},getTileAt:function(f,p,m){return l.GetTileAt(f,p,m,this.layer)},getTileAtWorldXY:function(f,p,m,y){return l.GetTileAtWorldXY(f,p,m,y,this.layer)},getIsoTileAtWorldXY:function(f,p,m,y,S){m===void 0&&(m=!0);var T=this.tempVec;return l.IsometricWorldToTileXY(f,p,!0,T,S,this.layer,m),this.getTileAt(T.x,T.y,y)},getTilesWithin:function(f,p,m,y,S){return l.GetTilesWithin(f,p,m,y,S,this.layer)},getTilesWithinShape:function(f,p,m){return l.GetTilesWithinShape(f,p,m,this.layer)},getTilesWithinWorldXY:function(f,p,m,y,S,T){return l.GetTilesWithinWorldXY(f,p,m,y,S,T,this.layer)},hasTileAt:function(f,p){return l.HasTileAt(f,p,this.layer)},hasTileAtWorldXY:function(f,p,m){return l.HasTileAtWorldXY(f,p,m,this.layer)},putTileAt:function(f,p,m,y){return l.PutTileAt(f,p,m,y,this.layer)},putTileAtWorldXY:function(f,p,m,y,S){return l.PutTileAtWorldXY(f,p,m,y,S,this.layer)},putTilesAt:function(f,p,m,y){return l.PutTilesAt(f,p,m,y,this.layer),this},randomize:function(f,p,m,y,S){return l.Randomize(f,p,m,y,S,this.layer),this},removeTileAt:function(f,p,m,y){return l.RemoveTileAt(f,p,m,y,this.layer)},removeTileAtWorldXY:function(f,p,m,y,S){return l.RemoveTileAtWorldXY(f,p,m,y,S,this.layer)},renderDebug:function(f,p){return l.RenderDebug(f,p,this.layer),this},replaceByIndex:function(f,p,m,y,S,T){return l.ReplaceByIndex(f,p,m,y,S,T,this.layer),this},setSkipCull:function(f){return f===void 0&&(f=!0),this.skipCull=f,this},setCullPadding:function(f,p){return f===void 0&&(f=1),p===void 0&&(p=1),this.cullPaddingX=f,this.cullPaddingY=p,this},setCollision:function(f,p,m,y){return l.SetCollision(f,p,m,this.layer,y),this},setCollisionBetween:function(f,p,m,y){return l.SetCollisionBetween(f,p,m,y,this.layer),this},setCollisionByProperty:function(f,p,m){return l.SetCollisionByProperty(f,p,m,this.layer),this},setCollisionByExclusion:function(f,p,m){return l.SetCollisionByExclusion(f,p,m,this.layer),this},setCollisionFromCollisionGroup:function(f,p){return l.SetCollisionFromCollisionGroup(f,p,this.layer),this},setTileIndexCallback:function(f,p,m){return l.SetTileIndexCallback(f,p,m,this.layer),this},setTileLocationCallback:function(f,p,m,y,S,T){return l.SetTileLocationCallback(f,p,m,y,S,T,this.layer),this},shuffle:function(f,p,m,y){return l.Shuffle(f,p,m,y,this.layer),this},swapByIndex:function(f,p,m,y,S,T){return l.SwapByIndex(f,p,m,y,S,T,this.layer),this},tileToWorldX:function(f,p){return this.tilemap.tileToWorldX(f,p,this)},tileToWorldY:function(f,p){return this.tilemap.tileToWorldY(f,p,this)},tileToWorldXY:function(f,p,m,y){return this.tilemap.tileToWorldXY(f,p,m,y,this)},getTileCorners:function(f,p,m){return this.tilemap.getTileCorners(f,p,m,this)},weightedRandomize:function(f,p,m,y,S){return l.WeightedRandomize(p,m,y,S,f,this.layer),this},worldToTileX:function(f,p,m){return this.tilemap.worldToTileX(f,p,m,this)},worldToTileY:function(f,p,m){return this.tilemap.worldToTileY(f,p,m,this)},worldToTileXY:function(f,p,m,y,S){return this.tilemap.worldToTileXY(f,p,m,y,S,this)},destroy:function(f){f===void 0&&(f=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),f&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});r.exports=v}),16153:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=new a,c=new a,h=new a,l=function(o,u,v,f){var p=u.cull(v),m=p.length,y=v.alpha*u.alpha;if(!(m===0||y<=0)){var S=g,T=c,b=h;T.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),S.copyFrom(v.matrix);var P=o.currentContext,w=u.gidMap;P.save(),f?(S.multiplyWithOffset(f,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),T.e=u.x,T.f=u.y,S.multiply(T,b),b.copyToContext(P)):(T.e-=v.scrollX*u.scrollFactorX,T.f-=v.scrollY*u.scrollFactorY,T.copyToContext(P)),(!o.antialias||u.scaleX>1||u.scaleY>1)&&(P.imageSmoothingEnabled=!1);for(var A=0;A<m;A++){var R=p[A],D=w[R.index];if(D){var L=D.image.getSourceImage(),k=D.getTileTextureCoordinates(R.index),B=D.tileWidth,F=D.tileHeight;if(!(k===null||B===0||F===0)){var G=B*.5,N=F*.5;k.x+=D.tileOffset.x,k.y+=D.tileOffset.y,P.save(),P.translate(R.pixelX+G,R.pixelY+N),R.rotation!==0&&P.rotate(R.rotation),(R.flipX||R.flipY)&&P.scale(R.flipX?-1:1,R.flipY?-1:1),P.globalAlpha=y*R.alpha,P.drawImage(L,k.x,k.y,B,F,-G,-N,B,F),P.restore()}}}P.restore()}};r.exports=l}),19218:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,c=a;g=s(99558),c=s(16153),r.exports={renderWebGL:g,renderCanvas:c}}),99558:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(c,h,l){var o=h.cull(l),u=o.length,v=l.alpha*h.alpha;if(!(u===0||v<=0)){var f=h.gidMap,p=c.pipelines.set(h.pipeline,h),m=a.getTintAppendFloatAlpha,y=h.scrollFactorX,S=h.scrollFactorY,T=h.x,b=h.y,P=h.scaleX,w=h.scaleY;c.pipelines.preBatch(h);for(var A=0;A<u;A++){var R=o[A],D=f[R.index];if(D){var L=D.getTileTextureCoordinates(R.index),k=D.tileWidth,B=D.tileHeight;if(!(!L||k===0||B===0)){var F=k*.5,G=B*.5,N=D.glTexture,W=p.setTexture2D(N,h),X=k,$=B,J=L.x,V=L.y,Y=D.tileOffset.x,z=D.tileOffset.y,K=m(R.tint,v*R.alpha);p.batchTexture(h,N,N.width,N.height,T+R.pixelX*P+(F*P-Y),b+R.pixelY*w+(G*w-z),k,B,P,w,R.rotation,R.flipX,R.flipY,y,S,F,G,J,V,X,$,K,K,K,K,R.tintFill,0,0,l,null,!0,W,!0)}}}c.pipelines.postBatch(h)}};r.exports=g}),33629:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),c=new a({initialize:function(l,o,u,v,f,p,m,y,S){(u===void 0||u<=0)&&(u=32),(v===void 0||v<=0)&&(v=32),f===void 0&&(f=0),p===void 0&&(p=0),m===void 0&&(m={}),y===void 0&&(y={}),this.name=l,this.firstgid=o,this.tileWidth=u,this.tileHeight=v,this.tileMargin=f,this.tileSpacing=p,this.tileProperties=m,this.tileData=y,this.tileOffset=new g,S!==void 0&&this.tileOffset.set(S.x,S.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var l=this.getTileData(h);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var l=h.get(),o=h.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>o.width||l.height>o.height?this.updateTileData(l.width,l.height):this.updateTileData(o.width,o.height,o.x,o.y),this},setTileSize:function(h,l){return h!==void 0&&(this.tileWidth=h),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,l){return h!==void 0&&(this.tileMargin=h),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,l,o,u){o===void 0&&(o=0),u===void 0&&(u=0);var v=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),f=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||f%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),f=Math.floor(f),this.rows=v,this.columns=f,this.total=v*f,this.texCoordinates.length=0;for(var p=this.tileMargin+o,m=this.tileMargin+u,y=0;y<this.rows;y++){for(var S=0;S<this.columns;S++)this.texCoordinates.push({x:p,y:m}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+o,m+=this.tileHeight+this.tileSpacing}return this}});r.exports=c}),72023:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=function(c,h,l){var o=a(c,h,!0,l),u=a(c,h-1,!0,l),v=a(c,h+1,!0,l),f=a(c-1,h,!0,l),p=a(c+1,h,!0,l),m=o&&o.collides;return m&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),u&&u.collides&&(m&&(o.faceTop=!1),u.faceBottom=!m),v&&v.collides&&(m&&(o.faceBottom=!1),v.faceTop=!m),f&&f.collides&&(m&&(o.faceLeft=!1),f.faceRight=!m),p&&p.collides&&(m&&(o.faceRight=!1),p.faceLeft=!m),o&&!o.collides&&o.resetFaces(),o};r.exports=g}),42573:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=s(7386),c=function(h,l,o,u,v){for(var f=null,p=null,m=null,y=null,S=g(h,l,o,u,null,v),T=0;T<S.length;T++){var b=S[T];b&&(b.collides?(f=a(b.x,b.y-1,!0,v),p=a(b.x,b.y+1,!0,v),m=a(b.x-1,b.y,!0,v),y=a(b.x+1,b.y,!0,v),b.faceTop=!(f&&f.collides),b.faceBottom=!(p&&p.collides),b.faceLeft=!(m&&m.collides),b.faceRight=!(y&&y.collides)):b.resetFaces())}};r.exports=c}),33528:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=new a,c=function(h,l,o,u){var v=o.tilemapLayer,f=v.cullPaddingX,p=v.cullPaddingY,m=v.tilemap.tileToWorldXY(h,l,g,u,v);return m.x>u.worldView.x+v.scaleX*o.tileWidth*(-f-.5)&&m.x<u.worldView.right+v.scaleX*o.tileWidth*(f-.5)&&m.y>u.worldView.y+v.scaleY*o.tileHeight*(-p-1)&&m.y<u.worldView.bottom+v.scaleY*o.tileHeight*(p-.5)};r.exports=c}),1785:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42573),g=s(7386),c=s(62991),h=s(23029),l=function(o,u,v,f,p,m,y,S){y===void 0&&(y=!0);var T=g(o,u,v,f,null,S),b=[];T.forEach(function(k){var B=new h(k.layer,k.index,k.x,k.y,k.width,k.height,k.baseWidth,k.baseHeight);B.copy(k),b.push(B)});for(var P=p-o,w=m-u,A=0;A<b.length;A++){var R=b[A],D=R.x+P,L=R.y+w;c(D,L,S)&&S.data[L][D]&&(R.x=D,R.y=L,R.updatePixelXY(),S.data[L][D]=R)}y&&a(p-1,m-1,v+2,f+2,S),T.length=0,b.length=0};r.exports=l}),78419:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g=s(7386),c=s(27987),h=function(l,o,u,v,f,p){u||(u={}),Array.isArray(l)||(l=[l]);var m=p.tilemapLayer;v||(v=m.scene),f||(f=v.cameras.main);var y=p.width,S=p.height,T=g(0,0,y,S,null,p),b=[],P,w=function(L,k,B){for(var F=0;F<B.length;F++){var G=B[F];L.hasOwnProperty(G)||(L[G]=k[G])}};for(P=0;P<T.length;P++){var A=T[P],R=a(u);if(l.indexOf(A.index)!==-1){var D=m.tileToWorldXY(A.x,A.y,void 0,f,p);R.x=D.x,R.y=D.y,w(R,A,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=A.width*.5,R.y+=A.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=A.tileset.image,R.frame=A.index-A.tileset.firstgid),b.push(v.make.sprite(R))}}if(Array.isArray(o))for(P=0;P<l.length;P++)c(l[P],o[P],0,0,y,S,p);else if(o!==null)for(P=0;P<l.length;P++)c(l[P],o,0,0,y,S,p);return b};r.exports=h}),19545:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(63448),c=s(56583),h=new a,l=function(o,u){var v=o.tilemapLayer.tilemap,f=o.tilemapLayer,p=Math.floor(v.tileWidth*f.scaleX),m=Math.floor(v.tileHeight*f.scaleY),y=c(u.worldView.x-f.x,p,0,!0)-f.cullPaddingX,S=g(u.worldView.right-f.x,p,0,!0)+f.cullPaddingX,T=c(u.worldView.y-f.y,m,0,!0)-f.cullPaddingY,b=g(u.worldView.bottom-f.y,m,0,!0)+f.cullPaddingY;return h.setTo(y,T,S-y,b-T)};r.exports=l}),30003:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19545),g=s(32483),c=function(h,l,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=h.tilemapLayer,f=a(h,l);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(f.left=0,f.right=h.width,f.top=0,f.bottom=h.height),g(h,f,u,o),o};r.exports=c}),35137:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(42573),c=s(20576),h=function(l,o,u,v,f,p,m){for(var y=m.collideIndexes.indexOf(l)!==-1,S=a(o,u,v,f,null,m),T=0;T<S.length;T++)S[T].index=l,c(S[T],y);p&&g(o-1,u-1,v+2,f+2,m)};r.exports=h}),40253:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f,p){var m=a(l,o,u,v,f,p);return m.filter(c,h)};r.exports=g}),52692:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a===void 0&&(a=0),g===void 0&&(g=!1);var h=0,l,o,u;if(g){for(o=c.height-1;o>=0;o--)for(l=c.width-1;l>=0;l--)if(u=c.data[o][l],u&&u.index===s){if(h===a)return u;h+=1}}else for(o=0;o<c.height;o++)for(l=0;l<c.width;l++)if(u=c.data[o][l],u&&u.index===s){if(h===a)return u;h+=1}return null};r.exports=x}),66151:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f,p){var m=a(l,o,u,v,f,p);return m.find(c,h)||null};r.exports=g}),97560:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f,p){var m=a(l,o,u,v,f,p);m.forEach(c,h)};r.exports=g}),43305:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(30003),c=s(9474),h=s(14018),l=s(29747),o=s(54503),u=function(v){return v===a.ORTHOGONAL?g:v===a.HEXAGONAL?c:v===a.STAGGERED?o:v===a.ISOMETRIC?h:l};r.exports=u}),7423:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62991),g=function(c,h,l,o){if(a(c,h,o)){var u=o.data[h][c]||null;return u?u.index===-1?l?u:null:u:null}else return null};r.exports=g}),60540:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=s(26099),c=new g,h=function(l,o,u,v,f){return f.tilemapLayer.worldToTileXY(l,o,!0,c,v),a(c.x,c.y,u,f)};r.exports=h}),55826:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o){var u=o.baseTileWidth,v=o.baseTileHeight,f=o.tilemapLayer,p=0,m=0;f&&(l||(l=f.scene.cameras.main),p=f.x+l.scrollX*(1-f.scrollFactorX),m=f.y+l.scrollY*(1-f.scrollFactorY),u*=f.scaleX,v*=f.scaleY);var y=p+c*u,S=m+h*v;return[new a(y,S),new a(y+u,S),new a(y+u,S+v),new a(y,S+v)]};r.exports=g}),11758:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(27229),c=s(29747),h=s(55826),l=function(o){return o===a.ORTHOGONAL?h:o===a.ISOMETRIC?c:o===a.HEXAGONAL?g:(o===a.STAGGERED,c)};r.exports=l}),39167:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(29747),c=s(97281),h=function(l){return l===a.ORTHOGONAL?c:g};r.exports=h}),62e3:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(19951),c=s(14127),h=s(29747),l=s(97202),o=s(70326),u=function(v){return v===a.ORTHOGONAL?o:v===a.ISOMETRIC?c:v===a.HEXAGONAL?g:v===a.STAGGERED?l:h};r.exports=u}),5984:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(29747),c=s(28054),h=s(29650),l=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?c:g};r.exports=l}),7386:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(c,h,l,o,u,v){c===void 0&&(c=0),h===void 0&&(h=0),l===void 0&&(l=v.width),o===void 0&&(o=v.height),u||(u={});var f=a(u,"isNotEmpty",!1),p=a(u,"isColliding",!1),m=a(u,"hasInterestingFace",!1);c<0&&(l+=c,c=0),h<0&&(o+=h,h=0),c+l>v.width&&(l=Math.max(v.width-c,0)),h+o>v.height&&(o=Math.max(v.height-h,0));for(var y=[],S=h;S<h+o;S++)for(var T=c;T<c+l;T++){var b=v.data[S][T];if(b!==null){if(f&&b.index===-1||p&&!b.collides||m&&!b.hasInterestingFace)continue;y.push(b)}}return y};r.exports=g}),91141:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55738),g=s(7386),c=s(91865),h=s(29747),l=s(26099),o=s(91907),u=function(y,S){return c.RectangleToTriangle(S,y)},v=new l,f=new l,p=new l,m=function(y,S,T,b){if(b.orientation!==o.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(y===void 0)return[];var P=h;y instanceof a.Circle?P=c.CircleToRectangle:y instanceof a.Rectangle?P=c.RectangleToRectangle:y instanceof a.Triangle?P=u:y instanceof a.Line&&(P=c.LineToRectangle),b.tilemapLayer.worldToTileXY(y.left,y.top,!0,f,T);var w=f.x,A=f.y;b.tilemapLayer.worldToTileXY(y.right,y.bottom,!1,p,T);var R=Math.ceil(p.x),D=Math.ceil(p.y),L=Math.max(R-w,1),k=Math.max(D-A,1),B=g(w,A,L,k,S,b),F=b.tileWidth,G=b.tileHeight;b.tilemapLayer&&(F*=b.tilemapLayer.scaleX,G*=b.tilemapLayer.scaleY);for(var N=[],W=new a.Rectangle(0,0,F,G),X=0;X<B.length;X++){var $=B[X];b.tilemapLayer.tileToWorldXY($.x,$.y,v,T),W.x=v.x,W.y=v.y,P(y,W)&&N.push($)}return N};r.exports=m}),96523:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(26099),c=new g,h=new g,l=function(o,u,v,f,p,m,y){var S=y.tilemapLayer.tilemap._convert.WorldToTileXY;S(o,u,!0,c,m,y);var T=c.x,b=c.y;S(o+v,u+f,!1,h,m,y);var P=Math.ceil(h.x),w=Math.ceil(h.y);return a(T,b,P-T,w-b,p,y)};r.exports=l}),96113:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(20242),c=s(10095),h=function(l){return l===a.ORTHOGONAL?c:g};r.exports=h}),16926:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(86625),c=s(96897),h=s(29747),l=s(15108),o=s(85896),u=function(v){return v===a.ORTHOGONAL?o:v===a.ISOMETRIC?c:v===a.HEXAGONAL?g:v===a.STAGGERED?l:h};r.exports=u}),55762:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(20242),c=s(51900),h=s(63288),l=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?c:g};r.exports=l}),45091:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62991),g=function(c,h,l){if(a(c,h,l)){var o=l.data[h][c];return o!==null&&o.index>-1}else return!1};r.exports=g}),24152:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45091),g=s(26099),c=new g,h=function(l,o,u,v){v.tilemapLayer.worldToTileXY(l,o,!0,c,u);var f=c.x,p=c.y;return a(f,p,v)};r.exports=h}),90454:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63448),g=s(56583),c=function(h,l){var o=h.tilemapLayer.tilemap,u=h.tilemapLayer,v=Math.floor(o.tileWidth*u.scaleX),f=Math.floor(o.tileHeight*u.scaleY),p=h.hexSideLength,m,y,S,T;if(h.staggerAxis==="y"){var b=(f-p)/2+p;m=g(l.worldView.x-u.x,v,0,!0)-u.cullPaddingX,y=a(l.worldView.right-u.x,v,0,!0)+u.cullPaddingX,S=g(l.worldView.y-u.y,b,0,!0)-u.cullPaddingY,T=a(l.worldView.bottom-u.y,b,0,!0)+u.cullPaddingY}else{var P=(v-p)/2+p;m=g(l.worldView.x-u.x,P,0,!0)-u.cullPaddingX,y=a(l.worldView.right-u.x,P,0,!0)+u.cullPaddingX,S=g(l.worldView.y-u.y,f,0,!0)-u.cullPaddingY,T=a(l.worldView.bottom-u.y,f,0,!0)+u.cullPaddingY}return{left:m,right:y,top:S,bottom:T}};r.exports=c}),9474:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90454),g=s(32483),c=function(h,l,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=h.tilemapLayer,f=a(h,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=h.width,f.top=0,f.bottom=h.height),g(h,f,u,o),o};r.exports=c}),27229:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19951),g=s(26099),c=new g,h=function(l,o,u,v){var f=v.baseTileWidth,p=v.baseTileHeight,m=v.tilemapLayer;m&&(f*=m.scaleX,p*=m.scaleY);var y=a(l,o,c,u,v),S=[],T=.5773502691896257,b,P;v.staggerAxis==="y"?(b=T*f,P=p/2):(b=f/2,P=T*p);for(var w=0;w<6;w++){var A=2*Math.PI*(.5-w)/6;S.push(new g(y.x+b*Math.cos(A),y.y+P*Math.sin(A)))}return S};r.exports=h}),19951:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u){l||(l=new a);var v=u.baseTileWidth,f=u.baseTileHeight,p=u.tilemapLayer,m=0,y=0;p&&(o||(o=p.scene.cameras.main),m=p.x+o.scrollX*(1-p.scrollFactorX),y=p.y+o.scrollY*(1-p.scrollFactorY),v*=p.scaleX,f*=p.scaleY);var S=v/2,T=f/2,b,P,w=u.staggerAxis,A=u.staggerIndex;return w==="y"?(b=m+v*c+v,P=y+1.5*h*T+T,h%2===0&&(A==="odd"?b-=S:b+=S)):w==="x"&&A==="odd"&&(b=m+1.5*c*S+S,P=y+f*c+f,c%2===0&&(A==="odd"?P-=T:P+=T)),l.set(b,P)};r.exports=g}),86625:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u,v){o||(o=new a);var f=v.baseTileWidth,p=v.baseTileHeight,m=v.tilemapLayer;m&&(u||(u=m.scene.cameras.main),c=c-(m.x+u.scrollX*(1-m.scrollFactorX)),h=h-(m.y+u.scrollY*(1-m.scrollFactorY)),f*=m.scaleX,p*=m.scaleY);var y=.5773502691896257,S=-.3333333333333333,T=0,b=.6666666666666666,P=f/2,w=p/2,A,R,D,L,k;v.staggerAxis==="y"?(A=(c-P)/(y*f),R=(h-w)/w,D=y*A+S*R,L=T*A+b*R):(A=(c-P)/P,R=(h-w)/(y*p),D=S*A+y*R,L=b*A+T*R),k=-D-L;var B=Math.round(D),F=Math.round(L),G=Math.round(k),N=Math.abs(B-D),W=Math.abs(F-L),X=Math.abs(G-k);N>W&&N>X?B=-F-G:W>X&&(F=-B-G);var $,J=F;return v.staggerIndex==="odd"?$=J%2===0?F/2+B:F/2+B-.5:$=J%2===0?F/2+B:F/2+B+.5,o.set($,J)};r.exports=g}),62991:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s>=0&&s<g.width&&a>=0&&a<g.height};r.exports=x}),14018:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33528),g=function(c,h,l,o){l===void 0&&(l=[]),o===void 0&&(o=0),l.length=0;var u=c.tilemapLayer,v=c.data,f=c.width,p=c.height,m=u.skipCull,y=0,S=f,T=0,b=p,P,w,A;if(o===0)for(w=T;w<b;w++)for(P=y;P<S;P++)A=v[w][P],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!a(P,w,c,h)||l.push(A));else if(o===1)for(w=T;w<b;w++)for(P=S;P>=y;P--)A=v[w][P],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!a(P,w,c,h)||l.push(A));else if(o===2)for(w=b;w>=T;w--)for(P=y;P<S;P++)A=v[w][P],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!a(P,w,c,h)||l.push(A));else if(o===3)for(w=b;w>=T;w--)for(P=S;P>=y;P--)A=v[w][P],!(!A||A.index===-1||!A.visible||A.alpha===0)&&(!m&&!a(P,w,c,h)||l.push(A));return u.tilesDrawn=l.length,u.tilesTotal=f*p,l};r.exports=g}),14127:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u){l||(l=new a);var v=u.baseTileWidth,f=u.baseTileHeight,p=u.tilemapLayer,m=0,y=0;p&&(o||(o=p.scene.cameras.main),m=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,y=p.y+o.scrollY*(1-p.scrollFactorY),f*=p.scaleY);var S=m+(c-h)*(v/2),T=y+(c+h)*(f/2);return l.set(S,T)};r.exports=g}),96897:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u,v,f){o||(o=new a);var p=v.baseTileWidth,m=v.baseTileHeight,y=v.tilemapLayer;y&&(u||(u=y.scene.cameras.main),h=h-(y.y+u.scrollY*(1-y.scrollFactorY)),m*=y.scaleY,c=c-(y.x+u.scrollX*(1-y.scrollFactorX)),p*=y.scaleX);var S=p/2,T=m/2;c=c-S,f||(h=h-m);var b=.5*(c/S+h/T),P=.5*(-c/S+h/T);return l&&(b=Math.floor(b),P=Math.floor(P)),o.set(b,P)};r.exports=g}),71558:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23029),g=s(62991),c=s(72023),h=s(20576),l=function(o,u,v,f,p){if(f===void 0&&(f=!0),!g(u,v,p))return null;var m,y=p.data[v][u],S=y&&y.collides;o instanceof a?(p.data[v][u]===null&&(p.data[v][u]=new a(p,o.index,u,v,p.tileWidth,p.tileHeight)),p.data[v][u].copy(o)):(m=o,p.data[v][u]===null?p.data[v][u]=new a(p,m,u,v,p.tileWidth,p.tileHeight):p.data[v][u].index=m);var T=p.data[v][u],b=p.collideIndexes.indexOf(T.index)!==-1;if(m=o instanceof a?o.index:o,m===-1)T.width=p.tileWidth,T.height=p.tileHeight;else{var P=p.tilemapLayer.tilemap,w=P.tiles,A=w[m][2],R=P.tilesets[A];T.width=R.tileWidth,T.height=R.tileHeight}return h(T,b),f&&S!==T.collides&&c(u,v,p),T};r.exports=l}),26303:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71558),g=s(26099),c=new g,h=function(l,o,u,v,f,p){return p.tilemapLayer.worldToTileXY(o,u,!0,c,f,p),a(l,c.x,c.y,v,p)};r.exports=h}),14051:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42573),g=s(71558),c=function(h,l,o,u,v){if(u===void 0&&(u=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var f=h.length,p=h[0].length,m=0;m<f;m++)for(var y=0;y<p;y++){var S=h[m][y];g(S,l+y,o+m,!1,v)}u&&a(l-1,o-1,p+2,f+2,v)};r.exports=c}),77389:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(26546),c=function(h,l,o,u,v,f){var p,m=a(h,l,o,u,{},f);if(!v)for(v=[],p=0;p<m.length;p++)v.indexOf(m[p].index)===-1&&v.push(m[p].index);for(p=0;p<m.length;p++)m[p].index=g(v)};r.exports=c}),63557:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23029),g=s(62991),c=s(72023),h=function(l,o,u,v,f){if(u===void 0&&(u=!0),v===void 0&&(v=!0),!g(l,o,f))return null;var p=f.data[o][l];if(p)f.data[o][l]=u?null:new a(f,-1,l,o,f.tileWidth,f.tileHeight);else return null;return v&&p&&p.collides&&c(l,o,f),p};r.exports=h}),94178:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63557),g=s(26099),c=new g,h=function(l,o,u,v,f,p){return p.tilemapLayer.worldToTileXY(l,o,!0,c,f,p),a(c.x,c.y,u,v,p)};r.exports=h}),15533:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(3956),c=new g(105,210,231,150),h=new g(243,134,48,200),l=new g(40,39,37,150),o=function(u,v,f){v===void 0&&(v={});var p=v.tileColor!==void 0?v.tileColor:c,m=v.collidingTileColor!==void 0?v.collidingTileColor:h,y=v.faceColor!==void 0?v.faceColor:l,S=a(0,0,f.width,f.height,null,f);u.translateCanvas(f.tilemapLayer.x,f.tilemapLayer.y),u.scaleCanvas(f.tilemapLayer.scaleX,f.tilemapLayer.scaleY);for(var T=0;T<S.length;T++){var b=S[T],P=b.tileset?b.tileset.tileOffset:{x:0,y:0},w=b.width,A=b.height,R=b.pixelX-P.x,D=b.pixelY-P.y,L=b.collides?m:p;L!==null&&(u.fillStyle(L.color,L.alpha/255),u.fillRect(R,D,w,A)),R+=1,D+=1,w-=2,A-=2,y!==null&&(u.lineStyle(1,y.color,y.alpha/255),b.faceTop&&u.lineBetween(R,D,R+w,D),b.faceRight&&u.lineBetween(R+w,D,R+w,D+A),b.faceBottom&&u.lineBetween(R,D+A,R+w,D+A),b.faceLeft&&u.lineBetween(R,D,R,D+A))}};r.exports=o}),27987:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f){for(var p=a(l,o,u,v,null,f),m=0;m<p.length;m++)p[m]&&p[m].index===c&&(p[m].index=h)};r.exports=g}),32483:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=s.data,l=s.width,o=s.height,u=s.tilemapLayer,v=Math.max(0,a.left),f=Math.min(l,a.right),p=Math.max(0,a.top),m=Math.min(o,a.bottom),y,S,T;if(g===0)for(S=p;S<m;S++)for(y=v;h[S]&&y<f;y++)T=h[S][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&c.push(T);else if(g===1)for(S=p;S<m;S++)for(y=f;h[S]&&y>=v;y--)T=h[S][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&c.push(T);else if(g===2)for(S=m;S>=p;S--)for(y=v;h[S]&&y<f;y++)T=h[S][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&c.push(T);else if(g===3)for(S=m;S>=p;S--)for(y=f;h[S]&&y>=v;y--)T=h[S][y],!(!T||T.index===-1||!T.visible||T.alpha===0)&&c.push(T);return u.tilesDrawn=c.length,u.tilesTotal=l*o,c};r.exports=x}),57068:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),c=s(9589),h=function(l,o,u,v,f){o===void 0&&(o=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++)c(l[p],o,v);if(f)for(var m=0;m<v.height;m++)for(var y=0;y<v.width;y++){var S=v.data[m][y];S&&l.indexOf(S.index)!==-1&&a(S,o)}u&&g(0,0,v.width,v.height,v)};r.exports=h}),37266:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),c=s(9589),h=function(l,o,u,v,f,p){if(u===void 0&&(u=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),!(l>o)){for(var m=l;m<=o;m++)c(m,u,f);if(p)for(var y=0;y<f.height;y++)for(var S=0;S<f.width;S++){var T=f.data[y][S];T&&T.index>=l&&T.index<=o&&a(T,u)}v&&g(0,0,f.width,f.height,f)}};r.exports=h}),75661:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),c=s(9589),h=function(l,o,u,v){o===void 0&&(o=!0),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);for(var f=0;f<v.height;f++)for(var p=0;p<v.width;p++){var m=v.data[f][p];m&&l.indexOf(m.index)===-1&&(a(m,o),c(m.index,o,v))}u&&g(0,0,v.width,v.height,v)};r.exports=h}),64740:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),c=s(97022),h=function(l,o,u,v){o===void 0&&(o=!0),u===void 0&&(u=!0);for(var f=0;f<v.height;f++)for(var p=0;p<v.width;p++){var m=v.data[f][p];if(m){for(var y in l)if(c(m.properties,y)){var S=l[y];Array.isArray(S)||(S=[S]);for(var T=0;T<S.length;T++)m.properties[y]===S[T]&&a(m,o)}}}u&&g(0,0,v.width,v.height,v)};r.exports=h}),63307:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),c=function(h,l,o){h===void 0&&(h=!0),l===void 0&&(l=!0);for(var u=0;u<o.height;u++)for(var v=0;v<o.width;v++){var f=o.data[u][v];if(f){var p=f.getCollisionGroup();p&&p.objects&&p.objects.length>0&&a(f,h)}}l&&g(0,0,o.width,o.height,o)};r.exports=c}),9589:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=g.collideIndexes.indexOf(s);a&&c===-1?g.collideIndexes.push(s):!a&&c!==-1&&g.collideIndexes.splice(c,1)};r.exports=x}),20576:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};r.exports=x}),79583:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){if(typeof s=="number")c.callbacks[s]=a!==null?{callback:a,callbackContext:g}:void 0;else for(var h=0,l=s.length;h<l;h++)c.callbacks[s[h]]=a!==null?{callback:a,callbackContext:g}:void 0};r.exports=x}),93254:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f){for(var p=a(c,h,l,o,null,f),m=0;m<p.length;m++)p[m].setCollisionCallback(u,v)};r.exports=g}),32903:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(33680),c=function(h,l,o,u,v){var f=a(h,l,o,u,null,v),p=f.map(function(y){return y.index});g(p);for(var m=0;m<f.length;m++)f[m].index=p[m]};r.exports=c}),61325:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63448),g=s(56583),c=function(h,l){var o=h.tilemapLayer.tilemap,u=h.tilemapLayer,v=Math.floor(o.tileWidth*u.scaleX),f=Math.floor(o.tileHeight*u.scaleY),p=g(l.worldView.x-u.x,v,0,!0)-u.cullPaddingX,m=a(l.worldView.right-u.x,v,0,!0)+u.cullPaddingX,y=g(l.worldView.y-u.y,f/2,0,!0)-u.cullPaddingY,S=a(l.worldView.bottom-u.y,f/2,0,!0)+u.cullPaddingY;return{left:p,right:m,top:y,bottom:S}};r.exports=c}),54503:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61325),g=s(32483),c=function(h,l,o,u){o===void 0&&(o=[]),u===void 0&&(u=0),o.length=0;var v=h.tilemapLayer,f=a(h,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(f.left=0,f.right=h.width,f.top=0,f.bottom=h.height),g(h,f,u,o),o};r.exports=c}),97202:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u){l||(l=new a);var v=u.baseTileWidth,f=u.baseTileHeight,p=u.tilemapLayer,m=0,y=0;p&&(o||(o=p.scene.cameras.main),m=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,y=p.y+o.scrollY*(1-p.scrollFactorY),f*=p.scaleY);var S=m+c*v+h%2*(v/2),T=y+h*(f/2);return l.set(S,T)};r.exports=g}),28054:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=g.baseTileHeight,h=g.tilemapLayer,l=0;return h&&(a===void 0&&(a=h.scene.cameras.main),l=h.y+a.scrollY*(1-h.scrollFactorY),c*=h.scaleY),l+s*(c/2)+c};r.exports=x}),15108:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u,v){o||(o=new a);var f=v.baseTileWidth,p=v.baseTileHeight,m=v.tilemapLayer;m&&(u||(u=m.scene.cameras.main),h=h-(m.y+u.scrollY*(1-m.scrollFactorY)),p*=m.scaleY,c=c-(m.x+u.scrollX*(1-m.scrollFactorX)),f*=m.scaleX);var y=l?Math.floor(h/(p/2)):h/(p/2),S=l?Math.floor((c+y%2*.5*f)/f):(c+y%2*.5*f)/f;return o.set(S,y)};r.exports=g}),51900:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=c.baseTileHeight,l=c.tilemapLayer;return l&&(g||(g=l.scene.cameras.main),s=s-(l.y+g.scrollY*(1-l.scrollFactorY)),h*=l.scaleY),a?Math.floor(s/(h/2)):s/(h/2)};r.exports=x}),86560:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(c,h,l,o,u,v,f){for(var p=a(l,o,u,v,null,f),m=0;m<p.length;m++)p[m]&&(p[m].index===c?p[m].index=h:p[m].index===h&&(p[m].index=c))};r.exports=g}),97281:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=g.baseTileWidth,h=g.tilemapLayer,l=0;return h&&(a||(a=h.scene.cameras.main),l=h.x+a.scrollX*(1-h.scrollFactorX),c*=h.scaleX),l+s*c};r.exports=x}),70326:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97281),g=s(29650),c=s(26099),h=function(l,o,u,v,f){return u||(u=new c(0,0)),u.x=a(l,v,f),u.y=g(o,v,f),u};r.exports=h}),29650:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=g.baseTileHeight,h=g.tilemapLayer,l=0;return h&&(a||(a=h.scene.cameras.main),l=h.y+a.scrollY*(1-h.scrollFactorY),c*=h.scaleY),l+s*c};r.exports=x}),77366:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(75508),c=function(h,l,o,u,v,f){if(v){var p,m=a(h,l,o,u,null,f),y=0;for(p=0;p<v.length;p++)y+=v[p].weight;if(!(y<=0))for(p=0;p<m.length;p++){for(var S=g.RND.frac()*y,T=0,b=-1,P=0;P<v.length;P++)if(T+=v[P].weight,S<=T){var w=v[P].index;b=Array.isArray(w)?w[Math.floor(g.RND.frac()*w.length)]:w;break}m[p].index=b}}};r.exports=c}),10095:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85896),g=s(26099),c=new g,h=function(l,o,u,v){return a(l,0,o,c,u,v),c.x};r.exports=h}),85896:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(c,h,l,o,u,v){l===void 0&&(l=!0),o||(o=new a);var f=v.baseTileWidth,p=v.baseTileHeight,m=v.tilemapLayer;m&&(u||(u=m.scene.cameras.main),c=c-(m.x+u.scrollX*(1-m.scrollFactorX)),h=h-(m.y+u.scrollY*(1-m.scrollFactorY)),f*=m.scaleX,p*=m.scaleY);var y=c/f,S=h/p;return l&&(y=Math.floor(y),S=Math.floor(S)),o.set(y,S)};r.exports=g}),63288:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85896),g=s(26099),c=new g,h=function(l,o,u,v){return a(0,l,o,c,u,v),c.y};r.exports=h}),81086:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}}),91907:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}}),21829:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:s(91907)};r.exports=a}),62501:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(21829),c={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};c=a(!1,c,g.ORIENTATION),r.exports=c}),14977:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91907),c=s(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=c(o,"name","layer"),this.id=c(o,"id",0),this.x=c(o,"x",0),this.y=c(o,"y",0),this.width=c(o,"width",0),this.height=c(o,"height",0),this.tileWidth=c(o,"tileWidth",0),this.tileHeight=c(o,"tileHeight",0),this.baseTileWidth=c(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(o,"baseTileHeight",this.tileHeight),this.orientation=c(o,"orientation",g.ORTHOGONAL),this.widthInPixels=c(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(o,"alpha",1),this.visible=c(o,"visible",!0),this.properties=c(o,"properties",[]),this.indexes=c(o,"indexes",[]),this.collideIndexes=c(o,"collideIndexes",[]),this.callbacks=c(o,"callbacks",[]),this.bodies=c(o,"bodies",[]),this.data=c(o,"data",[]),this.tilemapLayer=c(o,"tilemapLayer",null),this.hexSideLength=c(o,"hexSideLength",0),this.staggerAxis=c(o,"staggerAxis","y"),this.staggerIndex=c(o,"staggerIndex","odd")}});r.exports=h}),87010:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91907),c=s(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=c(o,"name","map"),this.width=c(o,"width",0),this.height=c(o,"height",0),this.infinite=c(o,"infinite",!1),this.tileWidth=c(o,"tileWidth",0),this.tileHeight=c(o,"tileHeight",0),this.widthInPixels=c(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(o,"heightInPixels",this.height*this.tileHeight),this.format=c(o,"format",null),this.orientation=c(o,"orientation",g.ORTHOGONAL),this.renderOrder=c(o,"renderOrder","right-down"),this.version=c(o,"version","1"),this.properties=c(o,"properties",{}),this.layers=c(o,"layers",[]),this.images=c(o,"images",[]),this.objects=c(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(o,"collision",{}),this.tilesets=c(o,"tilesets",[]),this.imageCollections=c(o,"imageCollections",[]),this.tiles=c(o,"tiles",[]),this.hexSideLength=c(o,"hexSideLength",0),this.staggerAxis=c(o,"staggerAxis","y"),this.staggerIndex=c(o,"staggerIndex","odd")}});r.exports=h}),48700:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=new a({initialize:function(l){l===void 0&&(l={}),this.name=g(l,"name","object layer"),this.id=g(l,"id",0),this.opacity=g(l,"opacity",1),this.properties=g(l,"properties",{}),this.propertyTypes=g(l,"propertytypes",{}),this.type=g(l,"type","objectgroup"),this.visible=g(l,"visible",!0),this.objects=g(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=c}),6641:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=function(c){return c=c.toLowerCase(),c==="isometric"?a.ISOMETRIC:c==="staggered"?a.STAGGERED:c==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};r.exports=g}),46177:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(2342),c=s(82593),h=s(46594),l=s(87021),o=function(u,v,f,p,m,y){var S;switch(v){case a.ARRAY_2D:S=g(u,f,p,m,y);break;case a.CSV:S=c(u,f,p,m,y);break;case a.TILED_JSON:S=h(u,f,y);break;case a.WELTMEISTER:S=l(u,f,y);break;default:console.warn("Unrecognized tilemap data format: "+v),S=null}return S};r.exports=o}),2342:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(14977),c=s(87010),h=s(23029),l=function(o,u,v,f,p){for(var m=new g({tileWidth:v,tileHeight:f}),y=new c({name:o,tileWidth:v,tileHeight:f,format:a.ARRAY_2D,layers:[m]}),S=[],T=u.length,b=0,P=0;P<u.length;P++){S[P]=[];for(var w=u[P],A=0;A<w.length;A++){var R=parseInt(w[A],10);isNaN(R)||R===-1?S[P][A]=p?null:new h(m,-1,A,P,v,f):S[P][A]=new h(m,R,A,P,v,f)}b===0&&(b=w.length)}return y.width=m.width=b,y.height=m.height=T,y.widthInPixels=m.widthInPixels=b*v,y.heightInPixels=m.heightInPixels=T*f,m.data=S,y};r.exports=l}),82593:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(2342),c=function(h,l,o,u,v){var f=l.trim().split(`
`).map(function(m){return m.split(",")}),p=g(h,f,o,u,v);return p.format=a.CSV,p};r.exports=c}),6656:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14977),g=s(23029),c=function(h,l){for(var o=[],u=0;u<h.layer.length;u++){for(var v=h.layer[u],f=new a({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),p=[],m=[],y=0;y<v.data.length;y++){for(var S=0;S<v.data[y].length;S++){var T=v.data[y][S]-1,b;T>-1?b=new g(f,T,S,y,v.tilesize,v.tilesize):b=l?null:new g(f,-1,S,y,v.tilesize,v.tilesize),p.push(b)}m.push(p),p=[]}f.data=m,o.push(f)}return o};r.exports=c}),96483:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=function(c){for(var h=[],l=[],o=0;o<c.layer.length;o++){var u=c.layer[o],v=u.tilesetName;v!==""&&l.indexOf(v)===-1&&(l.push(v),h.push(new a(v,0,u.tilesize,u.tilesize,0,0)))}return h};r.exports=g}),87021:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(87010),c=s(6656),h=s(96483),l=function(o,u,v){if(u.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var f=0,p=0,m=0;m<u.layer.length;m++)u.layer[m].width>f&&(f=u.layer[m].width),u.layer[m].height>p&&(p=u.layer[m].height);var y=new g({width:f,height:p,name:o,tileWidth:u.layer[0].tilesize,tileHeight:u.layer[0].tilesize,format:a.WELTMEISTER});return y.layers=c(u,v),y.tilesets=h(u),y};r.exports=l}),52833:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}}),57442:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}}),51233:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=function(c){for(var h,l,o,u,v,f=0;f<c.layers.length;f++){h=c.layers[f],u=null;for(var p=0;p<h.data.length;p++){v=h.data[p];for(var m=0;m<v.length;m++)l=v[m],!(l===null||l.index<0)&&(o=c.tiles[l.index][2],u=c.tilesets[o],l.width=u.tileWidth,l.height=u.tileHeight,u.tileProperties&&u.tileProperties[l.index-u.firstgid]&&(l.properties=a(l.properties,u.tileProperties[l.index-u.firstgid])))}}};r.exports=g}),41868:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=window.atob(s),g=a.length,c=new Array(g/4),h=0;h<g;h+=4)c[h/4]=(a.charCodeAt(h)|a.charCodeAt(h+1)<<8|a.charCodeAt(h+2)<<16|a.charCodeAt(h+3)<<24)>>>0;return c};r.exports=x}),84101:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=function(c){var h,l,o=[];for(h=0;h<c.imageCollections.length;h++)for(var u=c.imageCollections[h],v=u.images,f=0;f<v.length;f++){var p=v[f],m={x:0,y:p.height-c.tileHeight};l=new a(p.image,p.gid,p.width,p.height,0,0,void 0,void 0,m),l.updateTileData(p.width,p.height),c.tilesets.push(l)}for(h=0;h<c.tilesets.length;h++){l=c.tilesets[h];for(var y=l.tileMargin,S=l.tileMargin,T=0,b=0,P=0,w=l.firstgid;w<l.firstgid+l.total&&(o[w]=[y,S,h],y+=l.tileWidth+l.tileSpacing,T++,!(T===l.total||(b++,b===l.columns&&(y=l.tileMargin,S+=l.tileHeight+l.tileSpacing,b=0,P++,P===l.rows))));w++);}return o};r.exports=g}),79677:((r,x,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(c,h,l){if(!h)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=h.x+a(h,"startx",0)*c.tilewidth+a(h,"offsetx",0),u=h.y+a(h,"starty",0)*c.tileheight+a(h,"offsety",0);return{i:0,layers:h.layers,name:l.name+h.name+"/",opacity:l.opacity*h.opacity,visible:l.visible&&h.visible,x:l.x+o,y:l.y+u}};r.exports=g}),29920:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,s=1073741824,a=536870912,g=function(c){var h=!!(c&x),l=!!(c&s),o=!!(c&a);c=c&536870911;var u=0,v=!1;return h&&l&&o?(u=Math.PI/2,v=!0):h&&l&&!o?(u=Math.PI,v=!1):h&&!l&&o?(u=Math.PI/2,v=!1):h&&!l&&!o?(u=0,v=!0):!h&&l&&o?(u=3*Math.PI/2,v=!1):!h&&l&&!o?(u=Math.PI,v=!0):!h&&!l&&o?(u=3*Math.PI/2,v=!0):!h&&!l&&!o&&(u=0,v=!1),{gid:c,flippedHorizontal:h,flippedVertical:l,flippedAntiDiagonal:o,rotation:u,flipped:v}};r.exports=g}),12635:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(79677),c=function(h){for(var l=[],o=[],u=g(h);u.i<u.layers.length||o.length>0;){if(u.i>=u.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=o.pop();continue}var v=u.layers[u.i];if(u.i++,v.type!=="imagelayer"){if(v.type==="group"){var f=g(h,v,u);o.push(u),u=f}continue}var p=a(v,"offsetx",0)+a(v,"startx",0),m=a(v,"offsety",0)+a(v,"starty",0);l.push({name:u.name+v.name,image:v.image,x:u.x+p+v.x,y:u.y+m+v.y,alpha:u.opacity*v.opacity,visible:u.visible&&v.visible,properties:a(v,"properties",{})})}return l};r.exports=c}),46594:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(51233),g=s(84101),c=s(91907),h=s(62644),l=s(80341),o=s(6641),u=s(87010),v=s(12635),f=s(22611),p=s(28200),m=s(24619),y=function(S,T,b){var P=h(T),w=new u({width:P.width,height:P.height,name:S,tileWidth:P.tilewidth,tileHeight:P.tileheight,orientation:o(P.orientation),format:l.TILED_JSON,version:P.version,properties:P.properties,renderOrder:P.renderorder,infinite:P.infinite});if(w.orientation===c.HEXAGONAL)if(w.hexSideLength=P.hexsidelength,w.staggerAxis=P.staggeraxis,w.staggerIndex=P.staggerindex,w.staggerAxis==="y"){var A=(w.tileHeight-w.hexSideLength)/2;w.widthInPixels=w.tileWidth*(w.width+.5),w.heightInPixels=w.height*(w.hexSideLength+A)+A}else{var R=(w.tileWidth-w.hexSideLength)/2;w.widthInPixels=w.width*(w.hexSideLength+R)+R,w.heightInPixels=w.tileHeight*(w.height+.5)}w.layers=p(P,b),w.images=v(P);var D=m(P);return w.tilesets=D.tilesets,w.imageCollections=D.imageCollections,w.objects=f(P),w.tiles=g(w),a(w),w};r.exports=y}),52205:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(18254),g=s(29920),c=function(o){return{x:o.x,y:o.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(o,u,v){u===void 0&&(u=0),v===void 0&&(v=0);var f=a(o,h);if(f.x+=u,f.y+=v,o.gid){var p=g(o.gid);f.gid=p.gid,f.flippedHorizontal=p.flippedHorizontal,f.flippedVertical=p.flippedVertical,f.flippedAntiDiagonal=p.flippedAntiDiagonal}else o.polyline?f.polyline=o.polyline.map(c):o.polygon?f.polygon=o.polygon.map(c):o.ellipse?f.ellipse=o.ellipse:o.text?f.text=o.text:o.point?f.point=!0:f.rectangle=!0;return f};r.exports=l}),22611:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(52205),c=s(48700),h=s(79677),l=function(o){for(var u=[],v=[],f=h(o);f.i<f.layers.length||v.length>0;){if(f.i>=f.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=v.pop();continue}var p=f.layers[f.i];if(f.i++,p.opacity*=f.opacity,p.visible=f.visible&&p.visible,p.type!=="objectgroup"){if(p.type==="group"){var m=h(o,p,f);v.push(f),f=m}continue}p.name=f.name+p.name;for(var y=f.x+a(p,"startx",0)+a(p,"offsetx",0),S=f.y+a(p,"starty",0)+a(p,"offsety",0),T=[],b=0;b<p.objects.length;b++){var P=g(p.objects[b],y,S);T.push(P)}var w=new c(p);w.objects=T,u.push(w)}return u};r.exports=l}),28200:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41868),g=s(91907),c=s(79677),h=s(6641),l=s(95540),o=s(14977),u=s(29920),v=s(23029),f=function(p,m){for(var y=l(p,"infinite",!1),S=[],T=[],b=c(p);b.i<b.layers.length||T.length>0;){if(b.i>=b.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}b=T.pop();continue}var P=b.layers[b.i];if(b.i++,P.type!=="tilelayer"){if(P.type==="group"){var w=c(p,P,b);T.push(b),b=w}continue}if(P.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+P.name+"'");continue}else if(P.encoding&&P.encoding==="base64"){if(P.chunks)for(var A=0;A<P.chunks.length;A++)P.chunks[A].data=a(P.chunks[A].data);P.data&&(P.data=a(P.data)),delete P.encoding}var R,D,L,k,B,F,G=[],N=0;if(y){var W=l(P,"startx",0)+P.x,X=l(P,"starty",0)+P.y;R=new o({name:b.name+P.name,id:P.id,x:b.x+l(P,"offsetx",0)+W*p.tilewidth,y:b.y+l(P,"offsety",0)+X*p.tileheight,width:P.width,height:P.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:b.opacity*P.opacity,visible:b.visible&&P.visible,properties:l(P,"properties",[]),orientation:h(p.orientation)}),R.orientation===g.HEXAGONAL&&(R.hexSideLength=p.hexsidelength,R.staggerAxis=p.staggeraxis,R.staggerIndex=p.staggerindex,R.staggerAxis==="y"?(B=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+B)+B):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var $=0;$<P.height;$++){G[$]=[null];for(var J=0;J<P.width;J++)G[$][J]=null}for($=0,nt=P.chunks.length;$<nt;$++)for(var V=P.chunks[$],Y=V.x-W,z=V.y-X,K=0,H=0,Q=V.data.length;H<Q;H++){var j=N+Y,q=K+z;D=u(V.data[H]),D.gid>0?(L=new v(R,D.gid,j,q,p.tilewidth,p.tileheight),L.rotation=D.rotation,L.flipX=D.flipped,G[q][j]=L):(k=m?null:new v(R,-1,j,q,p.tilewidth,p.tileheight),G[q][j]=k),N++,N===V.width&&(K++,N=0)}}else{R=new o({name:b.name+P.name,id:P.id,x:b.x+l(P,"offsetx",0)+P.x,y:b.y+l(P,"offsety",0)+P.y,width:P.width,height:P.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:b.opacity*P.opacity,visible:b.visible&&P.visible,properties:l(P,"properties",[]),orientation:h(p.orientation)}),R.orientation===g.HEXAGONAL&&(R.hexSideLength=p.hexsidelength,R.staggerAxis=p.staggeraxis,R.staggerIndex=p.staggerindex,R.staggerAxis==="y"?(B=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+B)+B):(F=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+F)+F,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var tt=[],st=0,nt=P.data.length;st<nt;st++)D=u(P.data[st]),D.gid>0?(L=new v(R,D.gid,N,G.length,p.tilewidth,p.tileheight),L.rotation=D.rotation,L.flipX=D.flipped,tt.push(L)):(k=m?null:new v(R,-1,N,G.length,p.tilewidth,p.tileheight),tt.push(k)),N++,N===P.width&&(G.push(tt),N=0,tt=[])}R.data=G,S.push(R)}return S};r.exports=f}),24619:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=s(16536),c=s(52205),h=s(57880),l=function(o){for(var u=[],v=[],f=null,p,m=0;m<o.tilesets.length;m++){var y=o.tilesets[m];if(y.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(y.image){var S=new a(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,void 0,void 0,y.tileoffset);if(o.version>1){var T=void 0,b=void 0;if(Array.isArray(y.tiles)){T=T||{},b=b||{};for(var P=0;P<y.tiles.length;P++){var w=y.tiles[P];if(w.properties){var A={};w.properties.forEach(function($){A[$.name]=$.value}),b[w.id]=A}if(w.objectgroup&&((T[w.id]||(T[w.id]={})).objectgroup=w.objectgroup,w.objectgroup.objects)){var R=w.objectgroup.objects.map(function($){return c($)});T[w.id].objectgroup.objects=R}w.animation&&((T[w.id]||(T[w.id]={})).animation=w.animation),w.type&&((T[w.id]||(T[w.id]={})).type=w.type)}}Array.isArray(y.wangsets)&&(T=T||{},b=b||{},h(y.wangsets,T)),T&&(S.tileData=T,S.tileProperties=b)}else if(y.tileproperties&&(S.tileProperties=y.tileproperties),y.tiles){S.tileData=y.tiles;for(p in S.tileData){var D=S.tileData[p].objectgroup;if(D&&D.objects){var L=D.objects.map(function($){return c($)});S.tileData[p].objectgroup.objects=L}}}S.updateTileData(y.imagewidth,y.imageheight),u.push(S)}else{var k=new g(y.name,y.firstgid,y.tilewidth,y.tileheight,y.margin,y.spacing,y.properties),B=0;for(P=0;P<y.tiles.length;P++){w=y.tiles[P];var F=w.image,G=parseInt(w.id,10),N=y.firstgid+G,W=w.imagewidth,X=w.imageheight;k.addImage(N,F,W,X),B=Math.max(G,B)}k.maxId=B,v.push(k)}f&&(f.lastgid=y.firstgid-1),f=y}return{tilesets:u,imageCollections:v}};r.exports=l}),57880:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<s.length;g++){var c=s[g],h=g;if(c.name&&c.name!==""&&(h=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var l={},o={},u,v,f;if(Array.isArray(c.edgecolors))for(u=0;u<c.edgecolors.length;u++)f=1+u,v=c.edgecolors[u],v.name!==""&&(l[f]=v.name);if(Array.isArray(c.cornercolors))for(u=0;u<c.cornercolors.length;u++)f=1+u,v=c.cornercolors[u],v.name!==""&&(o[f]=v.name);if(Array.isArray(c.colors))for(u=0;u<c.colors.length;u++)v=c.colors[u],f=1+u,v.name!==""&&(l[f]=o[f]=v.name);for(var p=[l,o,l,o,l,o,l,o],m=0;m<c.wangtiles.length;m++){var y=c.wangtiles[m],S=a[y.tileid]||(a[y.tileid]={});S=S.wangid||(S.wangid={});for(var T=[],b=0;b<Math.min(p.length,y.wangid.length);b++){if(v=y.wangid[b],v===0){T.push(void 0);continue}var P=p[b][v];if(P!==void 0){T.push(P);continue}T.push(v)}S[h]=T}}}};r.exports=x}),96761:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}}),33385:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),c=s(44594),h=s(94880),l=s(72905),o=new a({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(c.BOOT,this.boot,this),v.sys.events.on(c.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var u=this.systems.events;u.on(c.PRE_UPDATE,this.preUpdate,this),u.on(c.UPDATE,this.update,this),u.once(c.SHUTDOWN,this.shutdown,this)},addEvent:function(u){var v;if(u instanceof h){if(v=u,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat,v.delay<=0&&v.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else v=new h(u);return this._pendingInsertion.push(v),v},delayedCall:function(u,v,f,p){return this.addEvent({delay:u,callback:v,args:f,callbackScope:p})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(u){Array.isArray(u)||(u=[u]);for(var v=0;v<u.length;v++){var f=u[v];l(this._pendingRemoval,f),l(this._pendingInsertion,f),l(this._active,f)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var u=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(u===0&&v===0)){var f,p;for(f=0;f<u;f++){p=this._pendingRemoval[f];var m=this._active.indexOf(p);m>-1&&this._active.splice(m,1),p.destroy()}for(f=0;f<v;f++)p=this._pendingInsertion[f],this._active.push(p);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(u,v){if(this.now=u,!this.paused){v*=this.timeScale;for(var f=0;f<this._active.length;f++){var p=this._active[f];if(!p.paused&&(p.elapsed+=v*p.timeScale,p.elapsed>=p.delay)){var m=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,m>=p.delay)for(;m>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),m-=p.delay,p.repeatCount--;p.elapsed=m,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},shutdown:function(){var u;for(u=0;u<this._pendingInsertion.length;u++)this._pendingInsertion[u].destroy();for(u=0;u<this._active.length;u++)this._active[u].destroy();for(u=0;u<this._pendingRemoval.length;u++)this._pendingRemoval[u].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(c.PRE_UPDATE,this.preUpdate,this),v.off(c.UPDATE,this.update,this),v.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",o,"time"),r.exports=o}),96120:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(39429),h=s(95540),l=s(44594),o=s(89809),u=new a({Extends:g,initialize:function(f,p){g.call(this),this.scene=f,this.systems=f.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var m=this.systems.events;m.on(l.PRE_UPDATE,this.preUpdate,this),m.on(l.UPDATE,this.update,this),m.once(l.SHUTDOWN,this.destroy,this),p&&this.add(p)},preUpdate:function(v,f){this.paused||(this.elapsed+=f*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var v,f=this.events,p=!1,m=this.systems,y;for(v=0;v<f.length;v++){var S=f[v];if(!S.complete&&S.time<=this.elapsed){if(S.complete=!0,this.totalComplete++,y=S.target?S.target:this,S.if&&!S.if.call(y,S))continue;if(S.once&&(p=!0),S.set&&S.target)for(var T in S.set)S.target[T]=S.set[T];this.iteration&&S.repeat++,S.loop&&S.repeat&&S.loop.call(y),S.tween&&(S.tweenInstance=m.tweens.add(S.tween)),S.sound&&(typeof S.sound=="string"?m.sound.play(S.sound):m.sound.play(S.sound.key,S.sound.config)),S.event&&this.emit(S.event,y),S.run&&S.run.call(y),S.stop&&this.stop()}}if(p)for(v=0;v<f.length;v++)f[v].complete&&f[v].once&&(f.splice(v,1),v--);this.totalComplete>=f.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){this.paused=!0;for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&(p.tweenInstance.paused=!0)}return this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){this.paused=!1;for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&(p.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var f=this.events,p=0;p<f.length;p++){var m=f[p];m.complete=!1,v||(m.repeat=0),m.tweenInstance&&m.tweenInstance.stop()}return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var f=this.events,p=0;f.length>0&&(p=f[f.length-1].time);for(var m=0;m<v.length;m++){var y=v[m],S=h(y,"at",0),T=h(y,"in",null);T!==null&&(S=this.elapsed+T);var b=h(y,"from",null);b!==null&&(S=p+b),f.push({complete:!1,time:S,repeat:0,if:h(y,"if",null),run:h(y,"run",null),loop:h(y,"loop",null),event:h(y,"event",null),target:h(y,"target",null),set:h(y,"set",null),tween:h(y,"tween",null),sound:h(y,"sound",null),once:h(y,"once",!1),stop:h(y,"stop",!1)}),p=S}return this.complete=!1,this},clear:function(){for(var v=this.events,f=0;f<v.length;f++){var p=v[f];p.tweenInstance&&p.tweenInstance.stop()}return v=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(l.PRE_UPDATE,this.preUpdate,this),v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});c.register("timeline",function(v){return new u(this.scene,v)}),r.exports=u}),94880:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),c=new a({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(h){if(this.delay=g(h,"delay",0),this.repeat=g(h,"repeat",0),this.loop=g(h,"loop",!1),this.callback=g(h,"callback",void 0),this.callbackScope=g(h,"callbackScope",this),this.args=g(h,"args",[]),this.timeScale=g(h,"timeScale",1),this.startAt=g(h,"startAt",0),this.paused=g(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=c}),35945:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),89809:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:s(35945)}}),90291:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}}),40382:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(83419),c=s(43491),h=s(88032),l=s(37277),o=s(44594),u=s(93109),v=s(86081),f=s(8357),p=s(43960),m=s(26012),y=new g({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(S){Array.isArray(S)||(S=[S]);for(var T=[],b=0;b<S.length;b++){var P=S[b];P instanceof v||P instanceof p?T.push(P):Array.isArray(P.tweens)?T.push(m(this,P)):T.push(f(this,P))}return T.length===1?T[0]:T},add:function(S){var T=S,b=this.tweens;return T instanceof v||T instanceof p||(Array.isArray(T.tweens)?T=m(this,T):T=f(this,T)),b.push(T.reset()),T},addMultiple:function(S){for(var T,b=[],P=this.tweens,w=0;w<S.length;w++)T=S[w],T instanceof v||T instanceof p||(Array.isArray(T.tweens)?T=m(this,T):T=f(this,T)),P.push(T.reset()),b.push(T);return b},chain:function(S){var T=m(this,S);return this.tweens.push(T.init()),T},getChainedTweens:function(S){return S.getChainedTweens()},has:function(S){return this.tweens.indexOf(S)>-1},existing:function(S){return this.has(S)||this.tweens.push(S.reset()),this},addCounter:function(S){var T=h(this,S);return this.tweens.push(T.reset()),T},stagger:function(S,T){return u(S,T)},setLagSmooth:function(S,T){return S===void 0&&(S=1/1e-8),T===void 0&&(T=0),this.maxLag=S,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(S){return S===void 0&&(S=240),this.gap=1e3/S,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(S){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var b=this.prevTime-this.startTime,P=b-this.nextTime,w=b-this.time*1e3;return P>0||S?(b/=1e3,this.time=b,this.nextTime+=P+(P>=this.gap?4:this.gap-P)):w=0,w},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(S){S===void 0&&(S=!1);var T=this.getDelta(S);if(!(T<=0)){this.processing=!0;var b,P,w=[],A=this.tweens;for(b=0;b<A.length;b++)P=A[b],P.update(T)&&w.push(P);var R=w.length;if(R&&A.length>0){for(b=0;b<R;b++){P=w[b];var D=A.indexOf(P);D>-1&&(P.isPendingRemove()||P.isDestroyed())&&(A.splice(D,1),P.destroy())}w.length=0}this.processing=!1}},remove:function(S){return this.processing?S.setPendingRemoveState():(a(this.tweens,S),S.setRemovedState()),this},reset:function(S){return this.existing(S),S.seek(),S.setActiveState(),this},makeActive:function(S){return this.existing(S),S.setActiveState(),this},each:function(S,T){var b,P=[null];for(b=1;b<arguments.length;b++)P.push(arguments[b]);return this.tweens.forEach(function(w){P[0]=w,S.apply(T,P)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(S){var T=[],b=this.tweens;Array.isArray(S)?S=c(S):S=[S];for(var P=S.length,w=0;w<b.length;w++)for(var A=b[w],R=0;R<P;R++)!A.isDestroyed()&&A.hasTarget(S[R])&&T.push(A);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(S){return this.timeScale=S,this},isTweening:function(S){for(var T=this.tweens,b,P=0;P<T.length;P++)if(b=T[P],b.isPlaying()&&b.hasTarget(S))return!0;return!1},killAll:function(){for(var S=this.processing?this.getTweens():this.tweens,T=0;T<S.length;T++)S[T].destroy();return this.processing||(S.length=0),this},killTweensOf:function(S){for(var T=this.getTweensOf(S),b=0;b<T.length;b++)T[b].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",y,"tweens"),r.exports=y}),57355:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s&&s.hasOwnProperty(a)?s[a]:g};r.exports=x}),6113:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62640),g=s(35355),c=function(h,l){var o=a.Power0;if(typeof h=="string")if(a.hasOwnProperty(h))o=a[h];else{var u="";if(h.indexOf(".")){u=h.substring(h.indexOf(".")+1);var v=u.toLowerCase();v==="in"?u="easeIn":v==="out"?u="easeOut":v==="inout"&&(u="easeInOut")}h=g(h.substring(0,h.indexOf(".")+1)+u),a.hasOwnProperty(h)&&(o=a[h])}else typeof h=="function"&&(o=h);if(!l)return o;var f=l.slice(0);return f.unshift(0),function(p){return f[0]=p,o.apply(this,f)}};r.exports=c}),91389:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89318),g=s(77259),c=s(28392),h={bezier:a,catmull:g,catmullrom:g,linear:c},l=function(o){if(o===null)return null;var u=h.linear;return typeof o=="string"?h.hasOwnProperty(o)&&(u=h[o]):typeof o=="function"&&(u=o),u};r.exports=l}),55292:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c;if(s.hasOwnProperty(a)){var h=typeof s[a];h==="function"?c=function(l,o,u,v,f,p){return s[a](l,o,u,v,f,p)}:c=function(){return s[a]}}else typeof g=="function"?c=g:c=function(){return g};return c};r.exports=x}),82985:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81076),g=function(c){var h,l=[];if(c.hasOwnProperty("props"))for(h in c.props)h.substring(0,1)!=="_"&&l.push({key:h,value:c.props[h]});else for(h in c)a.indexOf(h)===-1&&h.substring(0,1)!=="_"&&l.push({key:h,value:c[h]});return l};r.exports=g}),62329:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=function(c){var h=a(c,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};r.exports=g}),17777:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(99472);function c(v){return!!v.getActive&&typeof v.getActive=="function"}function h(v){return!!v.getStart&&typeof v.getStart=="function"}function l(v){return!!v.getEnd&&typeof v.getEnd=="function"}function o(v){return h(v)||l(v)||c(v)}var u=function(v,f){var p,m=function($,J,V){return V},y=function($,J,V){return V},S=null,T=typeof f;if(T==="number")m=function(){return f};else if(Array.isArray(f))y=function(){return f[0]},m=function(){return f[f.length-1]};else if(T==="string"){var b=f.toLowerCase(),P=b.substring(0,6)==="random",w=b.substring(0,3)==="int";if(P||w){var A=b.indexOf("("),R=b.indexOf(")"),D=b.indexOf(",");if(A&&R&&D){var L=parseFloat(b.substring(A+1,D)),k=parseFloat(b.substring(D+1,R));P?m=function(){return g(L,k)}:m=function(){return a(L,k)}}else throw new Error("invalid random() format")}else{b=b[0];var B=parseFloat(f.substr(2));switch(b){case"+":m=function($,J,V){return V+B};break;case"-":m=function($,J,V){return V-B};break;case"*":m=function($,J,V){return V*B};break;case"/":m=function($,J,V){return V/B};break;default:m=function(){return parseFloat(f)}}}}else if(T==="function")m=f;else if(T==="object")if(o(f))c(f)&&(S=f.getActive),l(f)&&(m=f.getEnd),h(f)&&(y=f.getStart);else if(f.hasOwnProperty("value"))p=u(v,f.value);else{var F=f.hasOwnProperty("to"),G=f.hasOwnProperty("from"),N=f.hasOwnProperty("start");if(F&&(G||N)){if(p=u(v,f.to),N){var W=u(v,f.start);p.getActive=W.getEnd}if(G){var X=u(v,f.from);p.getStart=X.getEnd}}}return p||(p={getActive:S,getEnd:m,getStart:y}),p};r.exports=u}),88032:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(69902),c=s(23568),h=s(57355),l=s(6113),o=s(95540),u=s(55292),v=s(35154),f=s(17777),p=s(269),m=s(86081),y=function(S,T,b){if(T instanceof m)return T.parent=S,T;b===void 0?b=g:b=p(g,b);var P=o(T,"from",0),w=o(T,"to",1),A=[{value:P}],R=o(T,"delay",b.delay),D=o(T,"easeParams",b.easeParams),L=o(T,"ease",b.ease),k=f("value",w),B=new m(S,A),F=B.add(0,"value",k.getEnd,k.getStart,k.getActive,l(o(T,"ease",L),o(T,"easeParams",D)),u(T,"delay",R),o(T,"duration",b.duration),h(T,"yoyo",b.yoyo),o(T,"hold",b.hold),o(T,"repeat",b.repeat),o(T,"repeatDelay",b.repeatDelay),!1,!1);F.start=P,F.current=P,B.completeDelay=c(T,"completeDelay",0),B.loop=Math.round(c(T,"loop",0)),B.loopDelay=Math.round(c(T,"loopDelay",0)),B.paused=h(T,"paused",!1),B.persist=h(T,"persist",!1),B.isNumberTween=!0,B.callbackScope=v(T,"callbackScope",B);for(var G=a.TYPES,N=0;N<G.length;N++){var W=G[N],X=v(T,W,!1);if(X){var $=v(T,W+"Params",[]);B.setCallback(W,X,$)}}return B};r.exports=y}),93109:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6113),g=s(35154),c=s(36383),h=function(l,o){o===void 0&&(o={});var u,v=g(o,"start",0),f=g(o,"ease",null),p=g(o,"grid",null),m=g(o,"from",0),y=m==="first",S=m==="center",T=m==="last",b=typeof m=="number",P=Array.isArray(l),w=parseFloat(P?l[0]:l),A=P?parseFloat(l[1]):0,R=Math.max(w,A);if(P&&(v+=w),p){var D=p[0],L=p[1],k=0,B=0,F=0,G=0,N=[];T?(k=D-1,B=L-1):b?(k=m%D,B=Math.floor(m/D)):S&&(k=(D-1)/2,B=(L-1)/2);for(var W=c.MIN_SAFE_INTEGER,X=0;X<L;X++){N[X]=[];for(var $=0;$<D;$++){F=k-$,G=B-X;var J=Math.sqrt(F*F+G*G);J>W&&(W=J),N[X][$]=J}}}var V=f?a(f):null;return p?u=function(Y,z,K,H){var Q=0,j=H%D,q=Math.floor(H/D);j>=0&&j<D&&q>=0&&q<L&&(Q=N[q][j]);var tt;if(P){var st=A-w;V?tt=Q/W*st*V(Q/W):tt=Q/W*st}else V?tt=Q*w*V(Q/W):tt=Q*w;return tt+v}:u=function(Y,z,K,H,Q){Q--;var j;y?j=H:S?j=Math.abs(Q/2-H):T?j=Q-H:b&&(j=Math.abs(m-H));var q;if(P){var tt;S?tt=(A-w)/Q*(j*2):tt=(A-w)/Q*j,V?q=tt*V(j/Q):q=tt}else V?q=Q*R*V(j/Q):q=j*w;return q+v},u};r.exports=h}),8357:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(69902),c=s(23568),h=s(57355),l=s(6113),o=s(95540),u=s(91389),v=s(55292),f=s(82985),p=s(62329),m=s(35154),y=s(17777),S=s(269),T=s(86081),b=function(P,w,A){if(w instanceof T)return w.parent=P,w;A===void 0?A=g:A=S(g,A);var R=p(w);!R&&A.targets&&(R=A.targets);for(var D=f(w),L=o(w,"delay",A.delay),k=o(w,"duration",A.duration),B=o(w,"easeParams",A.easeParams),F=o(w,"ease",A.ease),G=o(w,"hold",A.hold),N=o(w,"repeat",A.repeat),W=o(w,"repeatDelay",A.repeatDelay),X=h(w,"yoyo",A.yoyo),$=h(w,"flipX",A.flipX),J=h(w,"flipY",A.flipY),V=o(w,"interpolation",A.interpolation),Y=function(ot,mt,St,Ct){if(St==="texture"){var kt=Ct,Vt=void 0;Array.isArray(Ct)?(kt=Ct[0],Vt=Ct[1]):Ct.hasOwnProperty("value")?(kt=Ct.value,Array.isArray(Ct.value)?(kt=Ct.value[0],Vt=Ct.value[1]):typeof Ct.value=="string"&&(kt=Ct.value)):typeof Ct=="string"&&(kt=Ct),ot.addFrame(mt,kt,Vt,v(Ct,"delay",L),o(Ct,"duration",k),o(Ct,"hold",G),o(Ct,"repeat",N),o(Ct,"repeatDelay",W),h(Ct,"flipX",$),h(Ct,"flipY",J))}else{var It=y(St,Ct),yt=u(o(Ct,"interpolation",V));ot.add(mt,St,It.getEnd,It.getStart,It.getActive,l(o(Ct,"ease",F),o(Ct,"easeParams",B)),v(Ct,"delay",L),o(Ct,"duration",k),h(Ct,"yoyo",X),o(Ct,"hold",G),o(Ct,"repeat",N),o(Ct,"repeatDelay",W),h(Ct,"flipX",$),h(Ct,"flipY",J),yt,yt?Ct:null)}},z=new T(P,R),K=0;K<D.length;K++)for(var H=D[K].key,Q=D[K].value,j=0;j<R.length;j++)H==="scale"&&!R[j].hasOwnProperty("scale")?(Y(z,j,"scaleX",Q),Y(z,j,"scaleY",Q)):Y(z,j,H,Q);z.completeDelay=c(w,"completeDelay",0),z.loop=Math.round(c(w,"loop",0)),z.loopDelay=Math.round(c(w,"loopDelay",0)),z.paused=h(w,"paused",!1),z.persist=h(w,"persist",!1),z.callbackScope=o(w,"callbackScope",z);for(var q=a.TYPES,tt=0;tt<q.length;tt++){var st=q[tt],nt=m(w,st,!1);if(nt){var at=m(w,st+"Params",[]);z.setCallback(st,nt,at)}}return z};r.exports=b}),26012:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(23568),c=s(57355),h=s(62329),l=s(35154),o=s(8357),u=s(43960),v=function(f,p){if(p instanceof u)return p.parent=f,p;var m=new u(f);m.startDelay=l(p,"delay",0),m.completeDelay=g(p,"completeDelay",0),m.loop=Math.round(g(p,"loop",l(p,"repeat",0))),m.loopDelay=Math.round(g(p,"loopDelay",l(p,"repeatDelay",0))),m.paused=c(p,"paused",!1),m.persist=c(p,"persist",!1),m.callbackScope=l(p,"callbackScope",m);var y,S=a.TYPES;for(y=0;y<S.length;y++){var T=S[y],b=l(p,T,!1);if(b){var P=l(p,T+"Params",[]);m.setCallback(T,b,P)}}var w=l(p,"tweens",null);if(Array.isArray(w)){var A=[],R=h(p),D=void 0;for(R&&(D={targets:R}),y=0;y<w.length;y++)A.push(o(m,w[y],D));m.add(A)}return m};r.exports=v}),30231:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}}),73685:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"}),98540:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"}),67233:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"}),2859:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"}),98336:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"}),25764:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"}),32193:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"}),84371:(r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"}),70766:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"}),55659:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"}),842:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}}),43066:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};r.exports=a}),70402:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),c=s(842),h=s(86353),l=new a({Extends:g,initialize:function(u){g.call(this),this.parent=u,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,u,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:u,params:v}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=l}),95042:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(842),c=s(86353),h=new a({initialize:function(o,u,v,f,p,m,y,S,T,b){this.tween=o,this.targetIndex=u,this.duration=f<=0?.01:f,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=p,this.hold=m,this.repeat=y,this.repeatDelay=S,this.repeatCounter=0,this.flipX=T,this.flipY=b,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=c.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=c.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=c.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===c.CREATED},isDelayed:function(){return this.state===c.DELAY},isPendingRender:function(){return this.state===c.PENDING_RENDER},isPlayingForward:function(){return this.state===c.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===c.PLAYING_BACKWARD},isHolding:function(){return this.state===c.HOLD_DELAY},isRepeating:function(){return this.state===c.REPEAT_DELAY},isComplete:function(){return this.state===c.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,o=l.totalTargets,u=this.targetIndex,v=l.targets[u],f=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,f,0,u,o,l),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var m=p+this.repeatDelay;this.totalDuration=this.delay+p,this.repeat===-1?(this.totalDuration+=m*c.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=m*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,o,u){var v=this.tween,f=v.totalTargets,p=this.targetIndex,m=v.targets[p],y=this.key,S=y!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&m.toggleFlipX(),this.flipY&&m.toggleFlipY(),S&&(o||u)&&(this.start=this.getStartValue(m,y,this.start,p,f,v)),u){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,S&&(this.end=this.getEndValue(m,y,this.start,p,f,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,S&&(this.current=this.start,m[y]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=h}),69902:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=x}),81076:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]}),86081:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(83419),c=s(842),h=s(44603),l=s(39429),o=s(36383),u=s(86353),v=s(48177),f=s(42220),p=new g({Extends:a,initialize:function(y,S){a.call(this,y),this.targets=S,this.totalTargets=S.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N){var W=new v(this,m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N);return this.totalData=this.data.push(W),W},addFrame:function(m,y,S,T,b,P,w,A,R,D){var L=new f(this,m,y,S,T,b,P,w,A,R,D);return this.totalData=this.data.push(L),L},getValue:function(m){m===void 0&&(m=0);var y=null;return this.data&&(y=this.data[m].current),y},hasTarget:function(m){return this.targets&&this.targets.indexOf(m)!==-1},updateTo:function(m,y,S){if(S===void 0&&(S=!1),m!=="texture")for(var T=0;T<this.totalData;T++){var b=this.data[T];b.key===m&&(b.isPlayingForward()||b.isPlayingBackward())&&(b.end=y,S&&(b.start=b.current))}return this},restart:function(){switch(this.state){case u.REMOVED:case u.FINISHED:this.seek(),this.parent.makeActive(this);break;case u.PENDING:case u.PENDING_REMOVE:this.parent.reset(this);break;case u.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(m,y,S){if(m===void 0&&(m=0),y===void 0&&(y=16.6),S===void 0&&(S=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;S||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,m>0){for(var b=Math.floor(m/y),P=m-b*y,w=0;w<b;w++)this.update(y);P>0&&this.update(P)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(m){m===void 0&&(m=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var y=this.data,S=0;S<this.totalData;S++)y[S].reset(m);this.duration=Math.max(this.duration,.01);var T=this.duration,b=this.completeDelay,P=this.loopCounter,w=this.loopDelay;P>0?this.totalDuration=T+b+(T+w)*P:this.totalDuration=T+b},reset:function(m){return m===void 0&&(m=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=u.MAX),m||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},update:function(m){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(m*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(m),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(m),!1;this.hasStarted||(this.startDelay-=m,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),m=0));var y=!1;if(this.isActive())for(var S=this.data,T=0;T<this.totalData;T++)S[T].update(m)&&(y=!0);this.elapsed+=m,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=m,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),y||this.nextState();var b=this.isPendingRemove();return b&&this.persist&&(this.setFinishedState(),b=!1),b},forward:function(m){return this.update(m),this},rewind:function(m){return this.update(-m),this},dispatchEvent:function(m,y){if(!this.isSeeking){if(this.emit(m,this,this.targets),!this.callbacks)return;var S=this.callbacks[y];S&&S.func.apply(this.callbackScope,[this,this.targets].concat(S.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(m){return this.scene.sys.tweens.add(m)}),h.register("tween",function(m){return this.scene.sys.tweens.create(m)}),r.exports=p}),43960:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(70402),c=s(83419),h=s(842),l=s(44603),o=s(39429),u=s(86353),v=new c({Extends:g,initialize:function(p){g.call(this,p),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?u.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(f){var p=this.parent.create(f);Array.isArray(p)||(p=[p]);for(var m=this.data,y=0;y<p.length;y++){var S=p[y];S.parent=this,m.push(S.reset())}return this.totalData=m.length,this},remove:function(f){return a(this.data,f),f.setRemovedState(),f===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(f){for(var p=this.data,m=0;m<this.totalData;m++)if(p[m].hasTarget(f))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(f){return f.seek(),f.setActiveState(),this},makeActive:function(f){return f.reset(),f.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var f=this.data,p=this.totalData,m=0;m<p;m++)f[m].reset(!1);this.setCurrentTween(0)},update:function(f){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(f*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(f),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(f),!1;this.hasStarted||(this.startDelay-=f,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),f=0));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(f)&&this.nextTween()&&this.nextState(),p=this.isPendingRemove(),p&&this.persist&&(this.setFinishedState(),p=!1)),p},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(f){this.currentIndex=f,this.currentTween=this.data[f],this.currentTween.setActiveState()},dispatchEvent:function(f,p){this.emit(f,this);var m=this.callbacks[p];m&&m.func.apply(this.callbackScope,[this].concat(m.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(f){return this.scene.sys.tweens.chain(f)}),l.register("tweenchain",function(f){return this.scene.sys.tweens.create(f)}),r.exports=v}),48177:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95042),g=s(45319),c=s(83419),h=s(842),l=new c({Extends:a,initialize:function(u,v,f,p,m,y,S,T,b,P,w,A,R,D,L,k,B){a.call(this,u,v,T,b,P,w,A,R,D,L),this.key=f,this.getActiveValue=y,this.getEndValue=p,this.getStartValue=m,this.ease=S,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=k,this.interpolationData=B},reset:function(o){a.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex],v=this.key;o&&(u[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(u[v]=this.getActiveValue(u,v,0))},update:function(o){var u=this.tween,v=u.totalTargets,f=this.targetIndex,p=u.targets[f],m=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,m,p[m],f,v,u),this.end=this.getEndValue(p,m,this.start,f,v,u),this.current=this.start,p[m]=this.start,this.setPlayingForwardState(),!0;var y=this.isPlayingForward(),S=this.isPlayingBackward();if(y||S){var T=this.elapsed,b=this.duration,P=0,w=!1;T+=o,T>=b?(P=T-b,T=b,w=!0):T<0&&(T=0);var A=g(T/b,0,1);this.elapsed=T,this.progress=A,this.previous=this.current,y||(A=1-A);var R=this.ease(A);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,p[m]=this.current,w&&(y?(u.isNumberTween&&(this.current=this.end,p[m]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(P)):(u.isNumberTween&&(this.current=this.start,p[m]=this.current),this.setStateFromStart(P))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,u){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],p=this.key,m=this.current,y=this.previous;v.emit(o,v,p,f,m,y);var S=v.callbacks[u];S&&S.func.apply(v.callbackScope,[v,f,p,m,y].concat(S.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=l}),42220:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95042),g=s(45319),c=s(83419),h=s(842),l=new c({Extends:a,initialize:function(u,v,f,p,m,y,S,T,b,P,w){a.call(this,u,v,m,y,!1,S,T,b,P,w),this.key="texture",this.startTexture=null,this.endTexture=f,this.startFrame=null,this.endFrame=p,this.yoyo=T!==0},reset:function(o){a.prototype.reset.call(this);var u=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=u.texture.key,this.startFrame=u.frame.name),o&&u.setTexture(this.startTexture,this.startFrame)},update:function(o){var u=this.tween,v=this.targetIndex,f=u.targets[v];if(!f)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&f.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),m=this.isPlayingBackward();if(p||m){var y=this.elapsed,S=this.duration,T=0,b=!1;y+=o,y>=S?(T=y-S,y=S,b=!0):y<0&&(y=0);var P=g(y/S,0,1);this.elapsed=y,this.progress=P,b&&(p?(f.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(f.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,u){var v=this.tween;if(!v.isSeeking){var f=v.targets[this.targetIndex],p=this.key;v.emit(o,v,p,f);var m=v.callbacks[u];m&&m.func.apply(v.callbackScope,[v,f,p].concat(m.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=l}),86353:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=x}),83419:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function s(l,o,u){var v=u?l[o]:Object.getOwnPropertyDescriptor(l,o);return!u&&v.value&&typeof v.value=="object"&&(v=v.value),v&&x(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function a(l,o){var u=Object.getOwnPropertyDescriptor(l,o);return u?(u.value&&typeof u.value=="object"&&(u=u.value),u.configurable===!1):!1}function g(l,o,u,v){for(var f in o)if(o.hasOwnProperty(f)){var p=s(o,f,u);if(p!==!1){var m=v||l;if(a(m.prototype,f)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+f+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,f,p)}else l.prototype[f]=o[f]}}function c(l,o){if(o){Array.isArray(o)||(o=[o]);for(var u=0;u<o.length;u++)g(l,o[u].prototype||o[u])}}function h(l){l||(l={});var o,u;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");o=l.initialize,delete l.initialize}else if(l.Extends){var v=l.Extends;o=function(){v.apply(this,arguments)}}else o=function(){};l.Extends?(o.prototype=Object.create(l.Extends.prototype),o.prototype.constructor=o,u=l.Extends,delete l.Extends):o.prototype.constructor=o;var f=null;return l.Mixins&&(f=l.Mixins,delete l.Mixins),c(o,f),g(o,l,!0,u),o}h.extend=g,h.mixin=c,h.ignoreFinals=!1,r.exports=h}),29747:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x}),20242:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};r.exports=x}),71146:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h){if(h===void 0&&(h=s),g>0){var l=g-s.length;if(l<=0)return null}if(!Array.isArray(a))return s.indexOf(a)===-1?(s.push(a),c&&c.call(h,a),a):null;for(var o=a.length-1;o>=0;)s.indexOf(a[o])!==-1&&a.splice(o,1),o--;if(o=a.length,o===0)return null;g>0&&o>l&&(a.splice(l),o=l);for(var u=0;u<o;u++){var v=a[u];s.push(v),c&&c.call(h,v)}return a};r.exports=x}),51067:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c,h,l){if(g===void 0&&(g=0),l===void 0&&(l=s),c>0){var o=c-s.length;if(o<=0)return null}if(!Array.isArray(a))return s.indexOf(a)===-1?(s.splice(g,0,a),h&&h.call(l,a),a):null;for(var u=a.length-1;u>=0;)s.indexOf(a[u])!==-1&&a.pop(),u--;if(u=a.length,u===0)return null;c>0&&u>o&&(a.splice(o),u=o);for(var v=u-1;v>=0;v--){var f=a[v];s.splice(g,0,f),h&&h.call(l,f)}return a};r.exports=x}),66905:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);return g!==-1&&g<s.length&&(s.splice(g,1),s.push(a)),a};r.exports=x}),21612:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){o===void 0&&(o=0),u===void 0&&(u=c.length);var v=0;if(a(c,o,u))for(var f=o;f<u;f++){var p=c[f];p[h]===l&&v++}return v};r.exports=g}),95428:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c,h=[null];for(c=3;c<arguments.length;c++)h.push(arguments[c]);for(c=0;c<s.length;c++)h[0]=s[c],a.apply(g,h);return s};r.exports=x}),36914:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){if(o===void 0&&(o=0),u===void 0&&(u=c.length),a(c,o,u)){var v,f=[null];for(v=5;v<arguments.length;v++)f.push(arguments[v]);for(v=o;v<u;v++)f[0]=c[v],h.apply(l,f)}return c};r.exports=g}),81957:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a.length){if(a.length===1)return a[0]}else return NaN;var c=1,h,l;if(g){if(s<a[0][g])return a[0];for(;a[c][g]<s;)c++}else for(;a[c]<s;)c++;return c>a.length&&(c=a.length),g?(h=a[c-1][g],l=a[c][g],l-s<=s-h?a[c]:a[c-1]):(h=a[c-1],l=a[c],l-s<=s-h?l:h)};r.exports=x}),43491:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=[]);for(var g=0;g<s.length;g++)Array.isArray(s[g])?x(s[g],a):a.push(s[g]);return a};r.exports=x}),46710:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){o===void 0&&(o=0),u===void 0&&(u=c.length);var v=[];if(a(c,o,u))for(var f=o;f<u;f++){var p=c[f];(!h||h&&l===void 0&&p.hasOwnProperty(h)||h&&l!==void 0&&p[h]===l)&&v.push(p)}return v};r.exports=g}),58731:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){if(o===void 0&&(o=0),u===void 0&&(u=c.length),o!==-1){if(a(c,o,u))for(var v=o;v<u;v++){var f=c[v];if(!h||h&&l===void 0&&f.hasOwnProperty(h)||h&&l!==void 0&&f[h]===l)return f}}else if(a(c,0,u))for(var v=u;v>=0;v--){var f=c[v];if(!h||h&&l===void 0&&f.hasOwnProperty(h)||h&&l!==void 0&&f[h]===l)return f}return null};r.exports=g}),26546:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=s.length);var c=a+Math.floor(Math.random()*g);return s[c]===void 0?null:s[c]};r.exports=x}),85835:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var c=s.indexOf(a),h=s.indexOf(g);if(c<0||h<0)throw new Error("Supplied items must be elements of the same array");return c>h||(s.splice(c,1),h=s.indexOf(g),s.splice(h+1,0,a)),s};r.exports=x}),83371:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var c=s.indexOf(a),h=s.indexOf(g);if(c<0||h<0)throw new Error("Supplied items must be elements of the same array");return c<h||(s.splice(c,1),h===0?s.unshift(a):s.splice(h,0,a)),s};r.exports=x}),70864:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);if(g>0){var c=s[g-1],h=s.indexOf(c);s[g]=c,s[h]=a}return s};r.exports=x}),69693:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=s.indexOf(a);if(c===-1||g<0||g>=s.length)throw new Error("Supplied index out of bounds");return c!==g&&(s.splice(c,1),s.splice(g,0,a)),a};r.exports=x}),40853:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);if(g!==-1&&g<s.length-1){var c=s[g+1],h=s.indexOf(c);s[g]=c,s[h]=a}return s};r.exports=x}),20283:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=[],l,o=!1;if((g||c)&&(o=!0,g||(g=""),c||(c="")),a<s)for(l=s;l>=a;l--)o?h.push(g+l.toString()+c):h.push(l);else for(l=s;l<=a;l++)o?h.push(g+l.toString()+c):h.push(l);return h};r.exports=x}),593:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2284),g=function(c,h,l){c===void 0&&(c=0),h===void 0&&(h=null),l===void 0&&(l=1),h===null&&(h=c,c=0);for(var o=[],u=Math.max(a((h-c)/(l||1)),0),v=0;v<u;v++)o.push(c),c+=l;return o};r.exports=g}),43886:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(g,c,h){var l=g[c];g[c]=g[h],g[h]=l}function s(g,c){return g<c?-1:g>c?1:0}var a=function(g,c,h,l,o){for(h===void 0&&(h=0),l===void 0&&(l=g.length-1),o===void 0&&(o=s);l>h;){if(l-h>600){var u=l-h+1,v=c-h+1,f=Math.log(u),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(u-p)/u)*(v-u/2<0?-1:1),y=Math.max(h,Math.floor(c-v*p/u+m)),S=Math.min(l,Math.floor(c+(u-v)*p/u+m));a(g,c,y,S,o)}var T=g[c],b=h,P=l;for(x(g,h,c),o(g[l],T)>0&&x(g,h,l);b<P;){for(x(g,b,P),b++,P--;o(g[b],T)<0;)b++;for(;o(g[P],T)>0;)P--}o(g[h],T)===0?x(g,h,P):(P++,x(g,P,l)),P<=c&&(h=P+1),c<=P&&(l=P-1)}};r.exports=a}),88492:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=s(33680),c=function(l,o,u){for(var v=[],f=0;f<l.length;f++)for(var p=0;p<o.length;p++)for(var m=0;m<u;m++)v.push({a:l[f],b:o[p]});return v},h=function(l,o,u){var v=a(u,"max",0),f=a(u,"qty",1),p=a(u,"random",!1),m=a(u,"randomB",!1),y=a(u,"repeat",0),S=a(u,"yoyo",!1),T=[];if(m&&g(o),y===-1)if(v===0)y=0;else{var b=l.length*o.length*f;S&&(b*=2),y=Math.ceil(v/b)}for(var P=0;P<=y;P++){var w=c(l,o,f);p&&g(w),T=T.concat(w),S&&(w.reverse(),T=T.concat(w))}return v&&T.splice(v),T};r.exports=h}),72905:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(c,h,l,o){o===void 0&&(o=c);var u;if(!Array.isArray(h))return u=c.indexOf(h),u!==-1?(a(c,u),l&&l.call(o,h),h):null;for(var v=h.length-1,f=[];v>=0;){var p=h[v];u=c.indexOf(p),u!==-1&&(a(c,u),f.push(p),l&&l.call(o,p)),v--}return f};r.exports=g}),60248:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(c,h,l,o){if(o===void 0&&(o=c),h<0||h>c.length-1)throw new Error("Index out of bounds");var u=a(c,h);return l&&l.call(o,u),u};r.exports=g}),81409:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){if(h===void 0&&(h=0),l===void 0&&(l=c.length),u===void 0&&(u=c),a(c,h,l)){var v=l-h,f=c.splice(h,v);if(o)for(var p=0;p<f.length;p++){var m=f[p];o.call(u,m)}return f}else return[]};r.exports=g}),31856:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(c,h,l){h===void 0&&(h=0),l===void 0&&(l=c.length);var o=h+Math.floor(Math.random()*l);return a(c,o)};r.exports=g}),42169:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=s.indexOf(a),h=s.indexOf(g);return c!==-1&&h===-1?(s[c]=g,!0):!1};r.exports=x}),86003:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);for(var g=null,c=0;c<a;c++)g=s.shift(),s.push(g);return g};r.exports=x}),49498:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);for(var g=null,c=0;c<a;c++)g=s.pop(),s.unshift(g);return g};r.exports=x}),82011:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){var h=s.length;if(a<0||a>=h||a>=g||g>h){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=x}),89545:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);return g!==-1&&g>0&&(s.splice(g,1),s.unshift(a)),a};r.exports=x}),17810:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(c,h,l,o,u){if(o===void 0&&(o=0),u===void 0&&(u=c.length),a(c,o,u))for(var v=o;v<u;v++){var f=c[v];f.hasOwnProperty(h)&&(f[h]=l)}return c};r.exports=g}),33680:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=s.length-1;a>0;a--){var g=Math.floor(Math.random()*(a+1)),c=s[a];s[a]=s[g],s[g]=c}return s};r.exports=x}),90126:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=/\D/g;return s.sort(function(g,c){return parseInt(g.replace(a,""),10)-parseInt(c.replace(a,""),10)}),s};r.exports=x}),19133:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){if(!(a>=s.length)){for(var g=s.length-1,c=s[a],h=a;h<g;h++)s[h]=s[h+1];return s.length=g,c}};r.exports=x}),19186:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82264);function g(o,u){return String(o).localeCompare(u)}function c(o,u){var v=o.length;if(v<=1)return o;for(var f=new Array(v),p=1;p<v;p*=2){h(o,u,p,f);var m=o;o=f,f=m}return o}function h(o,u,v,f){var p=o.length,m=0,y=v*2,S,T,b,P,w;for(S=0;S<p;S+=y)for(T=S+v,b=T+v,T>p&&(T=p),b>p&&(b=p),P=S,w=T;;)if(P<T&&w<b)u(o[P],o[w])<=0?f[m++]=o[P++]:f[m++]=o[w++];else if(P<T)f[m++]=o[P++];else if(w<b)f[m++]=o[w++];else break}var l=function(o,u){if(u===void 0&&(u=g),!o||o.length<2)return o;if(a.features.stableSort)return o.sort(u);var v=c(o,u);return v!==o&&h(v,null,o.length,o),o};r.exports=l}),25630:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var c=s.indexOf(a),h=s.indexOf(g);if(c<0||h<0)throw new Error("Supplied items must be elements of the same array");return s[c]=g,s[h]=a,s};r.exports=x}),37105:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}}),86922:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var a=s[0].length,g=1;g<s.length;g++)if(s[g].length!==a)return!1;return!0};r.exports=x}),63362:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41836),g=s(86922),c=function(h){var l="";if(!g(h))return l;for(var o=0;o<h.length;o++){for(var u=0;u<h[o].length;u++){var v=h[o][u].toString();v!=="undefined"?l+=a(v,2):l+="?",u<h[o].length-1&&(l+=" |")}if(o<h.length-1){l+=`
`;for(var f=0;f<h[o].length;f++)l+="---",f<h[o].length-1&&(l+="+");l+=`
`}}return l};r.exports=c}),92598:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.reverse()};r.exports=x}),21224:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0;a<s.length;a++)s[a].reverse();return s};r.exports=x}),98717:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(c){return a(c,180)};r.exports=g}),44657:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(c,h){h===void 0&&(h=1);for(var l=0;l<h;l++)c=a(c,90);return c};r.exports=g}),37829:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(86922),g=s(2429),c=function(h,l){if(l===void 0&&(l=90),!a(h))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")h=g(h),h.reverse();else if(l===-90||l===270||l==="rotateRight")h.reverse(),h=g(h);else if(Math.abs(l)===180||l==="rotate180"){for(var o=0;o<h.length;o++)h[o].reverse();h.reverse()}return h};r.exports=c}),92632:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(c,h){h===void 0&&(h=1);for(var l=0;l<h;l++)c=a(c,-90);return c};r.exports=g}),69512:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(86003),g=s(49498),c=function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),o!==0&&(o<0?a(h,Math.abs(o)):g(h,o)),l!==0)for(var u=0;u<h.length;u++){var v=h[u];l<0?a(v,Math.abs(l)):g(v,l)}return h};r.exports=c}),2429:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=s.length,g=s[0].length,c=new Array(g),h=0;h<g;h++){c[h]=new Array(a);for(var l=a-1;l>-1;l--)c[h][l]=s[l][h]}return c};r.exports=x}),54915:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}}),71334:(r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(a,g){for(var c=new Uint8Array(a),h=c.length,l=g?"data:"+g+";base64,":"",o=0;o<h;o+=3)l+=x[c[o]>>2],l+=x[(c[o]&3)<<4|c[o+1]>>4],l+=x[(c[o+1]&15)<<2|c[o+2]>>6],l+=x[c[o+2]&63];return h%3===2?l=l.substring(0,l.length-1)+"=":h%3===1&&(l=l.substring(0,l.length-2)+"=="),l};r.exports=s}),53134:(r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),a=0;a<x.length;a++)s[x.charCodeAt(a)]=a;var g=function(c){c=c.substr(c.indexOf(",")+1);var h=c.length,l=h*.75,o=0,u,v,f,p;c[h-1]==="="&&(l--,c[h-2]==="="&&l--);for(var m=new ArrayBuffer(l),y=new Uint8Array(m),S=0;S<h;S+=4)u=s[c.charCodeAt(S)],v=s[c.charCodeAt(S+1)],f=s[c.charCodeAt(S+2)],p=s[c.charCodeAt(S+3)],y[o++]=u<<2|v>>4,y[o++]=(v&15)<<4|f>>2,y[o++]=(f&3)<<6|p&63;return m};r.exports=g}),65839:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}}),91799:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}}),41786:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={};for(var g in s)Array.isArray(s[g])?a[g]=s[g].slice(0):a[g]=s[g];return a};r.exports=x}),62644:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a,g,c;if(typeof s!="object"||s===null)return s;a=Array.isArray(s)?[]:{};for(c in s)g=s[c],a[c]=x(g);return a};r.exports=x}),79291:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41212),g=function(){var c,h,l,o,u,v,f=arguments[0]||{},p=1,m=arguments.length,y=!1;for(typeof f=="boolean"&&(y=f,f=arguments[1]||{},p=2),m===p&&(f=this,--p);p<m;p++)if((c=arguments[p])!=null)for(h in c)l=f[h],o=c[h],f!==o&&(y&&o&&(a(o)||(u=Array.isArray(o)))?(u?(u=!1,v=l&&Array.isArray(l)?l:[]):v=l&&a(l)?l:{},f[h]=g(y,v,o)):o!==void 0&&(f[h]=o));return f};r.exports=g}),23568:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(75508),g=s(35154),c=function(h,l,o){var u=g(h,l,null);if(u===null)return o;if(Array.isArray(u))return a.RND.pick(u);if(typeof u=="object"){if(u.hasOwnProperty("randInt"))return a.RND.integerInRange(u.randInt[0],u.randInt[1]);if(u.hasOwnProperty("randFloat"))return a.RND.realInRange(u.randFloat[0],u.randFloat[1])}else if(typeof u=="function")return u(l);return u};r.exports=c}),95540:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var c=typeof s;return!s||c==="number"||c==="string"?g:s.hasOwnProperty(a)&&s[a]!==void 0?s[a]:g};r.exports=x}),82840:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=s(45319),c=function(h,l,o,u,v){v===void 0&&(v=o);var f=a(h,l,v);return g(f,o,u)};r.exports=c}),35154:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){if(!s&&!c||typeof s=="number")return g;if(s&&s.hasOwnProperty(a))return s[a];if(c&&c.hasOwnProperty(a))return c[a];if(a.indexOf(".")!==-1){for(var h=a.split("."),l=s,o=c,u=g,v=g,f=!0,p=!0,m=0;m<h.length;m++)l&&l.hasOwnProperty(h[m])?(u=l[h[m]],l=l[h[m]]):f=!1,o&&o.hasOwnProperty(h[m])?(v=o[h[m]],o=o[h[m]]):p=!1;return f?u:p?v:g}else return g};r.exports=x}),69036:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<a.length;g++)if(!s.hasOwnProperty(a[g]))return!1;return!0};r.exports=x}),1985:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<a.length;g++)if(s.hasOwnProperty(a[g]))return!0;return!1};r.exports=x}),97022:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.hasOwnProperty(a)};r.exports=x}),41212:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=x}),46975:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(c,h){var l=a(c);for(var o in h)l.hasOwnProperty(o)||(l[o]=h[o]);return l};r.exports=g}),269:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(c,h){var l=a(c);for(var o in h)l.hasOwnProperty(o)&&(l[o]=h[o]);return l};r.exports=g}),18254:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97022),g=function(c,h){for(var l={},o=0;o<h.length;o++){var u=h[o];a(c,u)&&(l[u]=c[u])}return l};r.exports=g}),61622:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(a))return s[a]=g,!0;if(a.indexOf(".")!==-1){for(var c=a.split("."),h=s,l=s,o=0;o<c.length;o++)if(h.hasOwnProperty(c[o]))l=h,h=h[c[o]];else return!1;return l[c[c.length-1]]=g,!0}return!1};r.exports=x}),1183:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}}),27902:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.replace(/%([0-9]+)/g,function(g,c){return a[Number(c)-1]})};r.exports=x}),41836:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,c){a===void 0&&(a=0),g===void 0&&(g=" "),c===void 0&&(c=3),s=s.toString();var h=0;if(a+1>=s.length)switch(c){case 1:s=new Array(a+1-s.length).join(g)+s;break;case 3:var l=Math.ceil((h=a-s.length)/2),o=h-l;s=new Array(o+1).join(g)+s+new Array(l+1).join(g);break;default:s=s+new Array(a+1-s.length).join(g);break}return s};r.exports=x}),33628:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===0?s.slice(1):s.slice(0,a)+s.slice(a+1)};r.exports=x}),27671:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.split("").reverse().join("")};r.exports=x}),45650:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var a=Math.random()*16|0,g=s==="x"?a:a&3|8;return g.toString(16)})};r.exports=x}),35355:(r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s&&s[0].toUpperCase()+s.slice(1)};r.exports=x}),31749:((r,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}})},n={};function d(r){var x=n[r];if(x!==void 0)return x.exports;var s=n[r]={exports:{}};return i[r](s,s.exports,d),s.exports}d.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();var C=d(85454);return C})())})(Pp)),Pp.exports}var yH=xH();const de=W0(yH);class SH extends de.Scene{constructor(){super({key:Ht.CURSOR});it(this,"cursor");it(this,"cursorHovering",!1)}create(){var i;this.input.setDefaultCursor("none"),(i=this.input.mouse)==null||i.disableContextMenu(),this.cursor=this.add.image(0,0,"hud",0).setDepth(Ut.CURSOR).setScale(Bt),this.cursor.setScrollFactor(0),Os.on("cursor-hover",this.setHovering,this)}update(){const i=this.input.activePointer;this.cursor.setPosition(i.x+8,i.y+ut),this.cursor.setFrame(this.cursorHovering?54:0)}setHovering(i){this.cursorHovering=i}shutdown(){Os.off("cursor-hover",this.setHovering,this)}}class At{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){At.prototype[t]=i}}var CH=function(e){return e===void 0&&(e=TH),this.getFrameNameCallback=e,this},TH=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function ts(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>ts(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=ts(e[i]));return t}var bH=function(e,t,i,n){Array.isArray(t)&&(n=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],n=[arguments[4],void 0,arguments[5]]):i===void 0&&n===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,n=this.rows.data):(i=ts(i),n=ts(n)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=n,this.rows.count=n?n.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var d=this.scene.sys.textures.get(e);if(!d)return this.clear(),this;if(!i||!n)return this.clear(),this;for(var C=d.get(t),r=C.width,x=0,s=0,a=i.length;s<a;s++)i[s]===void 0?x++:typeof i[s]=="number"?r-=i[s]:r-=i[s].width;for(var g=x>0?r/x:0,c=C.height,h=0,s=0,a=n.length;s<a;s++)n[s]===void 0?h++:typeof n[s]=="number"?c-=n[s]:c-=n[s].width;for(var l=h?c/h:0,o,u,v,f,p,m=0,y=0,S=0,T=n.length;S<T;S++){n[S]===void 0&&(n[S]=l),typeof n[S]=="number"&&(n[S]={height:n[S],stretch:S%2}),o=n[S],v=o.height,this.rows.stretch+=o.stretch|0,this.rows.minHeight+=o.stretch>0?0:v,m=0;for(var s=0,b=i.length;s<b;s++){if(i[s]===void 0&&(i[s]=g),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),u=i[s],f=u.width,S===0&&(this.columns.stretch+=u.stretch|0,this.columns.minWidth+=u.stretch>0?0:f),f>=1&&v>=1){p=this.getFrameNameCallback(s,S,t);var P=typeof p;(P==="string"||P==="number")&&d.add(p,0,m+C.cutX,y+C.cutY,f,v)}m+=f}y+=v}return this.updateTexture(),this},EH=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,n=this.width-t,d=this.height-i,C=n>=0?this.maxFixedPartScaleX:this.width/t,r=d>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var x=Math.min(C,r);if(C>x){var s=(C-x)*t;n>=0?n+=s:n=s,C=x}if(r>x){var a=(r-x)*i;d>=0?d+=a:d=a,r=x}}this.columns.scale=C,this.rows.scale=r;var g;n>0?g=this.columns.stretch>0?n/this.columns.stretch:0:g=0;var c;d>0?c=this.rows.stretch>0?d/this.rows.stretch:0:c=0;var h,l,o,u,v,f=0,p=0,m;this._beginDraw();for(var y=0,S=this.rows.count;y<S;y++){o=this.rows.data[y],v=o.stretch===0?o.height*r:c*o.stretch,f=0;for(var T=0,b=this.columns.count;T<b;T++)l=this.columns.data[T],u=l.stretch===0?l.width*C:g*l.stretch,h=this.getFrameNameCallback(T,y,this.baseFrameName),e.has(h)&&u>0&&v>0&&(o.stretch===0&&l.stretch===0||this.getStretchMode(T,y)===0?m=0:m=1,m===0?this._drawImage(this.textureKey,h,f,p,u,v):this._drawTileSprite(this.textureKey,h,f,p,u,v)),f+=u;p+=v}this._endDraw()};const wH=Phaser.Utils.Objects.IsPlainObject,Uw=Phaser.Utils.Objects.GetValue;var PH=function(e){return wH(e)?(this.stretchMode.edge=Qx(Uw(e,"edge",0)),this.stretchMode.internal=Qx(Uw(e,"internal",0))):(e=Qx(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},Qx=function(e){return typeof e=="string"&&(e=MH[e]),e};const MH={scale:0,repeat:1};var AH=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},RH=function(e,t){return AH.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},OH=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},DH=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Xi=function(){};const LH={_beginDraw:Xi,_drawImage:Xi,_drawTileSprite:Xi,_endDraw:Xi,setGetFrameNameCallback:CH,setBaseTexture:bH,updateTexture:EH,setStretchMode:PH,getStretchMode:RH,setPreserveRatio:OH,setMaxFixedPartScale:DH},rd=Phaser.Utils.Objects.IsPlainObject,Te=Phaser.Utils.Objects.GetValue;var DO=function(e,t){class i extends e{constructor(d,C,r,x,s,a,g,c,h,l){if(rd(C)?(l=C,C=Te(l,"x",0),r=Te(l,"y",0),x=Te(l,"width",1),s=Te(l,"height",1),a=Te(l,"key",void 0),g=Te(l,"baseFrame",void 0),c=Te(l,"columns",void 0),h=Te(l,"rows",void 0)):rd(x)?(l=x,x=Te(l,"width",1),s=Te(l,"height",1),a=Te(l,"key",void 0),g=Te(l,"baseFrame",void 0),c=Te(l,"columns",void 0),h=Te(l,"rows",void 0)):rd(a)?(l=a,a=Te(l,"key",void 0),g=Te(l,"baseFrame",void 0),c=Te(l,"columns",void 0),h=Te(l,"rows",void 0)):rd(g)?(l=g,g=Te(l,"baseFrame",void 0),c=Te(l,"columns",void 0),h=Te(l,"rows",void 0)):Array.isArray(g)?(l=h,h=c,c=g,g=Te(l,"baseFrame",void 0)):rd(c)&&(l=c,c=Te(l,"columns",void 0),h=Te(l,"rows",void 0)),g===void 0&&(g=Te(l,"frame",void 0)),c===void 0){var o=Te(l,"leftWidth",void 0),u=Te(l,"rightWidth",void 0);o!==void 0&&u!==void 0&&(c=[o,void 0,u])}if(h===void 0){var v=Te(l,"topHeight",void 0),f=Te(l,"bottomHeight",void 0);v!==void 0&&f!==void 0&&(h=[v,void 0,f])}super(d),this.type=t,this.setPosition(C,r).setSize(x,s).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Te(l,"getFrameNameCallback",void 0)),this.setStretchMode(Te(l,"stretchMode",0)),this.setPreserveRatio(Te(l,"preserveRatio",!0));var p=Te(l,"maxFixedPartScale",1),m=Te(l,"maxFixedPartScaleX",p),y=Te(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(m,y),this.setBaseTexture(a,g,c,h)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(d,C){return this.width===d&&this.height===C?this:(super.resize?super.resize(d,C):super.setSize(d,C),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,LH),i};const FH=Phaser.Game;var Xw=function(e){return e instanceof FH};const BH=Phaser.Scene;var G0=function(e){return e instanceof BH},X0=function(e){if(e==null||typeof e!="object")return null;if(Xw(e))return e;if(Xw(e.game))return e.game;if(G0(e))return e.sys.game;if(G0(e.scene))return e.scene.sys.game};const IH=Phaser.GameObjects;var $a=void 0,LO=function(e,t){if($a||($a={},X0(e).events.once("destroy",function(){for(var n in $a)$a[n].destroy();$a=void 0})),!$a.hasOwnProperty(t)){var i=X0(e).scene.systemScene,e=new IH[t](i);e.setOrigin(0),$a[t]=e}return $a[t]},kH=function(e,t,i,n,d,C){var r=LO(this,"Image").setTexture(e,t).setDisplaySize(d,C);this.draw(r,i,n)},GH=function(e,t,i,n,d,C){var r=LO(this,"TileSprite").setTexture(e,t).setSize(d,C);this.draw(r,i,n)};const NH=Phaser.GameObjects.RenderTexture;let p2=class extends DO(NH,"rexNinePatch"){};var VH={_drawImage:kH,_drawTileSprite:GH};Object.assign(p2.prototype,VH);var FO=function(e){return e==null||e===""||e.length===0},zH=function(e,t,i){var n=e;if(!FO(t)){typeof t=="string"&&(t=t.split("."));for(var d,C=0,r=t.length;C<r;C++){if(d=t[C],n[d]==null||typeof n[d]!="object"){var x;C===r-1?x={}:x={},n[d]=x}n=n[d]}}return n},wt=function(e,t,i,n){if(n===void 0&&(n="."),typeof e=="object"){if(FO(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(n));var d=t.pop(),C=zH(e,t);C[d]=i}return e}};At.register("ninePatch",function(e,t,i,n,d,C,r,x){var s=new p2(this.scene,e,t,i,n,d,C,r,x);return this.scene.add.existing(s),s});wt(window,"RexPlugins.UI.NinePatch",p2);const UH=Phaser.GameObjects.GetCalcMatrix;var XH=function(e,t,i,n){var d=t.getRenderList();if(d.length!==0){i.addToRenderList(t);var C=e.pipelines.set(t.pipeline),r=t.frame.glTexture,x=C.setGameObject(t),s=i.roundPixels,a=UH(t,i,n),g=C.calcMatrix.copyFrom(a.calc),c=t._displayOriginX,h=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var o=0,u=d.length;o<u;o++)d[o].webglRender(C,g,l,c,h,r,x,s);e.pipelines.postBatch(t)}};const HH=Phaser.Renderer.Canvas.SetTransform;var YH=function(e,t,i,n){var d=e.currentContext,C=t.getRenderList();if(!(C.length===0||!HH(e,d,t,i,n))){i.addToRenderList(t);var r=i.roundPixels,x=-t._displayOriginX,s=-t._displayOriginY;d.translate(x,s);for(var a=0,g=C.length;a<g;a++)C[a].canvasRender(d,x,s,r);d.restore()}};const WH={renderWebGL:XH,renderCanvas:YH};var $H=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},Hw=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},KH=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const ZH=Phaser.Utils.Array.Remove;var JH=function(e){return this.poolManager&&this.poolManager.free(e),ZH(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},Yw=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},QH=function(){return this.lastAppendedChildren},jH=function(){return this.children.list};const qH={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var BO={setTexture:$H,resize:Hw,setSize:Hw,addChild:KH,removeChild:JH,removeChildren:Yw,clear:Yw,getLastAppendedChildren:QH,getChildren:jH};Object.assign(BO,qH);class Or{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const _H=Phaser.Utils.Objects.GetValue;var tY={};let eY=class{constructor(t){this.pools=_H(t,"pools",tY)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Or),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const iY=60;var Ww=!1,g2=function(e){if(!Ww){e===void 0&&(e=iY);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var n=parseInt(t[1]);n<e&&console.error(`Minimum supported version : ${i}.${n}`)}else console.error(`Can't supported version : ${i}`);Ww=!0}};g2();const sY=Phaser.GameObjects.GameObject,nY=Phaser.Utils.Objects.IsPlainObject,ad=Phaser.Utils.Objects.GetValue,rY=Phaser.Structs.List,aY=Phaser.Utils.Array.StableSort;class IO extends sY{constructor(t,i,n,d,C,r){nY(i)&&(r=i,i=ad(r,"x",0),n=ad(r,"y",0),d=ad(r,"texture"),C=ad(r,"frame")),i===void 0&&(i=0),n===void 0&&(n=0),super(t,"rexBlitter"),this.children=new rY,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var x=ad(r,"reuseBob",!0);this.poolManager=x?new eY(r):void 0,this.setTexture(d,C),this.setPosition(i,n),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,n=0,d=i.length;n<d;n++){var C=i[n];oY(C)&&(this.renderList.push(C),t||(t=C.depth!==0))}t&&aY(this.renderList,lY),this.displayListDirty=!1}return this.renderList}}var oY=function(e){return e.active&&e.visible&&e.alpha>0},lY=function(e,t){return e._depth-t._depth};const Sn=Phaser.GameObjects.Components;Phaser.Class.mixin(IO,[Sn.Alpha,Sn.BlendMode,Sn.ComputedSize,Sn.Depth,Sn.GetBounds,Sn.Mask,Sn.Origin,Sn.Pipeline,Sn.PostPipeline,Sn.ScrollFactor,Sn.Transform,Sn.Visible,WH,BO]);const kO="image";var Be=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var n=t,d=e,C=i,r=0;r<n.length;r++)if(t=n[r],d.hasOwnProperty(t))C=d[t],d=C;else{C=i;break}return C},Fo=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const m2={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Be(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Fo(this.data),this}};let GO=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(GO.prototype,m2);const hY=Phaser.Math.DegToRad,uY=Phaser.Math.RadToDeg,jl=Phaser.Utils.Objects.GetValue;let dY=class extends GO{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return uY(this.rotation)}set angle(t){this.rotation=hY(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=jl(t,"width",void 0),n=jl(t,"height",void 0),d=jl(t,"scale",void 0),C=jl(t,"scaleX",d),r=jl(t,"scaleY",d);i!==void 0?n===void 0&&r===void 0?this.setWidth(i,!0):this.setWidth(i):C!==void 0?this.setScaleX(C):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),n!==void 0?i===void 0&&C===void 0?this.setHeight(n,!0):this.setHeight(n):r!==void 0?this.setScaleY(r):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var x=jl(t,"origin",void 0);return x!==void 0?this.setOrigin(x):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,n,d,C,r,x,s){}canvasRender(t,i,n,d){}};const fY=Phaser.GameObjects.Components.TransformMatrix,cY=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var b3=new fY,vY=function(e,t,i,n,d,C,r,x){var s=this.frame;if(s){var a=this._width,g=this._height,c=a*this.originX,h=g*this.originY,l=this.x-n,o=this.y-d,u,v,f,p,m,y,S,T;if(this.isCropped){var b=this._crop;(b.flipX!==this.flipX||b.flipY!==this.flipY)&&s.updateCropUVs(b,this.flipX,this.flipY),u=b.u0,v=b.v0,f=b.u1,p=b.v1,S=b.width,T=b.height,m=b.x,y=b.y}else u=this.frame.u0,v=this.frame.v0,f=this.frame.u1,p=this.frame.v1,S=a,T=g,m=0,y=0;var P=1,w=1;this.flipX&&(l+=a-c*2,P=-1),this.flipY&&(o+=g-h*2,w=-1),b3.applyITRS(l,o,this.rotation,this.scaleX*P,this.scaleY*w),t.multiply(b3,b3);var A=-c+m,R=-h+y,D=A+S,L=R+T,k=b3.setQuad(A,R,D,L,x),B=cY(this.tint,this.alpha*i);e.batchQuad(this.parent,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],u,v,f,p,B,B,B,B,this.tintFill,C,r)}},pY=function(e,t,i,n){var d=this.frame;if(d){e.save();var C=this._width,r=this._height,x=C*this.originX,s=r*this.originY,a=this.x-x,g=this.y-s,c,h,l,o;if(this.isCropped){var u=this._crop;(u.flipX!==this.flipX||u.flipY!==this.flipY)&&d.updateCropUVs(u,this.flipX,this.flipY),l=u.cw,o=u.ch,c=u.cx,h=u.cy}else l=d.cutWidth,o=d.cutHeight,c=d.cutX,h=d.cutY;var v=1,f=1;this.flipX&&(a+=C,v=-1),this.flipY&&(g+=r,f=-1);var p=d.source.resolution,m=l/p,y=o/p;n&&(a=Math.floor(a+.5),g=Math.floor(g+.5),m+=.5,y+=.5),e.translate(a,g),e.rotate(this.rotation),e.scale(this.scaleX*v,this.scaleY*f),e.drawImage(d.source.image,c,h,l,o,0,0,m,y),e.restore()}};const gY=Phaser.Utils.Objects.IsPlainObject;let NO=class extends dY{constructor(t,i){super(t,kO),this._crop=mY(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!gY(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,n,d){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&n===this._width&&d===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,n,d,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var mY=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},xY={webglRender:vY,canvasRender:pY};Object.assign(NO.prototype,xY);var VO=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(kO):null;return i===null?i=new NO(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},yY=function(e,t,i,n,d,C){VO(this,{frame:t,x:i,y:n,width:d,height:C})},SY=function(e,t,i,n,d,C){var r=this.texture.get(t),x=r.width,s=r.height,a=d%x,g=C%s;a===0&&(a=x),g===0&&(g=s);for(var c=Math.ceil(d/x),h=Math.ceil(C/s),l=c-1,o=h-1,u=0;u<c;u++)for(var v=0;v<h;v++){let m=VO(this,{frame:t,x:i+u*x,y:n+v*s});var f=u===l?a:x,p=v===o?g:s;(f!==x||p!==s)&&m.setCrop(0,0,f,p)}};const CY={_drawImage:yY,_drawTileSprite:SY};class q4 extends DO(IO,"rexNinePatch2"){setBaseTexture(t,i,n,d){return this.setTexture(t,i),super.setBaseTexture(t,i,n,d),this}}Object.assign(q4.prototype,CY);At.register("ninePatch2",function(e,t,i,n,d,C,r,x){var s=new q4(this.scene,e,t,i,n,d,C,r,x);return this.scene.add.existing(s),s});wt(window,"RexPlugins.UI.NinePatch2",q4);var TY=Phaser.Renderer.WebGL.Utils,zO=function(e,t,i,n,d,C){for(var r=TY.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*n),x=i.pathData,s=i.pathIndexes,a=0;a<s.length;a+=3){var g=s[a]*2,c=s[a+1]*2,h=s[a+2]*2,l=x[g+0]-d,o=x[g+1]-C,u=x[c+0]-d,v=x[c+1]-C,f=x[h+0]-d,p=x[h+1]-C,m=t.getX(l,o),y=t.getY(l,o),S=t.getX(u,v),T=t.getY(u,v),b=t.getX(f,p),P=t.getY(f,p);e.batchTri(i,m,y,S,T,b,P,0,0,1,1,r,r,r,2)}},bY=Phaser.Renderer.WebGL.Utils,x2=function(e,t,i,n,d){var C=e.strokeTint,r=bY.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);C.TL=r,C.TR=r,C.BL=r,C.BR=r;var x=t.pathData,s=x.length-1,a=t.lineWidth,g=a/2,c=x[0]-n,h=x[1]-d;t.closePath||(s-=2);for(var l=2;l<s;l+=2){var o=x[l]-n,u=x[l+1]-d;e.batchLine(c,h,o,u,g,g,a,l-2,t.closePath?l===s-1:!1),c=o,h=u}};const EY=Phaser.GameObjects.GetCalcMatrix;var wY=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var d=e.pipelines.set(t.pipeline),C=EY(t,i,n),r=d.calcMatrix.copyFrom(C.calc),x=t._displayOriginX,s=t._displayOriginY,a=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&zO(d,r,t,a,x,s),t.isStroked&&x2(d,t,a,x,s),e.pipelines.postBatch(t)},xf=function(e,t,i,n){var d=t.fillColor,C=t.fillAlpha,r=(d&16711680)>>>16,x=(d&65280)>>>8,s=d&255;e.fillStyle="rgba("+r+","+x+","+s+","+C+")"},yf=function(e,t,i,n){var d=t.strokeColor,C=t.strokeAlpha,r=(d&16711680)>>>16,x=(d&65280)>>>8,s=d&255;e.strokeStyle="rgba("+r+","+x+","+s+","+C+")",e.lineWidth=t.lineWidth};const PY=Phaser.Renderer.Canvas.SetTransform;var MY=function(e,t,i,n){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var d=e.currentContext;if(PY(e,d,t,i,n)){var C=t._displayOriginX,r=t._displayOriginY,x=t.pathData,s=x.length-1,a=x[0]-C,g=x[1]-r;d.beginPath(),d.moveTo(a,g),t.closePath||(s-=2);for(var c=2;c<s;c+=2){var h=x[c]-C,l=x[c+1]-r;d.lineTo(h,l)}d.closePath(),t.isFilled&&(xf(d,t),d.fill()),t.isStroked&&(yf(d,t),d.stroke()),d.restore()}};const AY={renderWebGL:wY,renderCanvas:MY},RY=Phaser.GameObjects.Shape;class _4 extends RY{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=n,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(_4.prototype,AY);const ho=Phaser.Utils.Objects.GetValue;let t5=class{constructor(t,i,n,d,C){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,n,d,C)}setTo(t,i,n,d,C){return this.setPosition(t,i),this.setRadius(C),this.setSize(n,d),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,n;typeof t=="number"?(i=t,n=t):(i=ho(t,"x",0),n=ho(t,"y",0));var d=this.cornerRadius;d.tl=E3(ho(t,"tl",void 0),i,n),d.tr=E3(ho(t,"tr",void 0),i,n),d.bl=E3(ho(t,"bl",void 0),i,n),d.br=E3(ho(t,"br",void 0),i,n)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){w3(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){w3(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){w3(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){w3(this.cornerRadius.br,t)}};var E3=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),UO(e),e},w3=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=ho(t,"x",0),e.y=ho(t,"y",0)),UO(e)},UO=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},ni=function(e){return e.x>0&&e.y>0},ji=function(e,t,i){var n=i.length;if(n>=2){var d=i[n-2],C=i[n-1];if(e===d&&t===C)return i}return i.push(e,t),i};const $w=Phaser.Math.DegToRad;var qi=function(e,t,i,n,d,C,r,x,s){r&&C>d?C-=360:!r&&C<d&&(C+=360);var a=C-d,g=$w(a)/x;d=$w(d);for(var c=0;c<=x;c++){var h=d+g*c,l=e+i*Math.cos(h),o=t+n*Math.sin(h);ji(l,o,s)}return s};const OY=Phaser.Utils.Objects.IsPlainObject,Kw=Phaser.Utils.Objects.GetValue,DY=Phaser.Geom.Polygon.Earcut;let Q0=class extends _4{constructor(t,i,n,d,C,r,x,s){var a,g,c,h;if(OY(i)){var l=i;i=l.x,n=l.y,d=l.width,C=l.height,r=l.radius,x=l.color,s=l.alpha,a=l.strokeColor,g=l.strokeAlpha,c=l.strokeWidth,h=l.shape}i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=d),r===void 0&&(r=0),h===void 0&&(h=0);var o=new t5;if(super(t,"rexRoundRectangleShape",o),this.setShapeType(h),this.shapeType===0){var u=Kw(r,"radius",r);o.setTo(0,0,d,C,u)}else{var u={x:d/2,y:C/2};o.setTo(0,0,d,C,u)}this.setIteration(Kw(r,"iteration",void 0)),this.setPosition(i,n),this.setFillStyle(x,s),c===void 0&&(c=2),this.setStrokeStyle(c,a,g),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,d=t.height,C=t.cornerRadius,r,x=this.iteration+1;if(r=C.tl,ni(r))if(r.convex){var s=r.x,a=r.y;qi(s,a,r.x,r.y,180,270,!1,x,i)}else{var s=0,a=0;qi(s,a,r.x,r.y,90,0,!0,x,i)}else ji(0,0,i);if(r=C.tr,ni(r))if(r.convex){var s=n-r.x,a=r.y;qi(s,a,r.x,r.y,270,360,!1,x,i)}else{var s=n,a=0;qi(s,a,r.x,r.y,180,90,!0,x,i)}else ji(n,0,i);if(r=C.br,ni(r))if(r.convex){var s=n-r.x,a=d-r.y;qi(s,a,r.x,r.y,0,90,!1,x,i)}else{var s=n,a=d;qi(s,a,r.x,r.y,270,180,!0,x,i)}else ji(n,d,i);if(r=C.bl,ni(r))if(r.convex){var s=r.x,a=d-r.y;qi(s,a,r.x,r.y,90,180,!1,x,i)}else{var s=0,a=d;qi(s,a,r.x,r.y,360,270,!0,x,i)}else ji(0,d,i);return i.push(i[0],i[1]),this.pathIndexes=DY(i),this}setShapeType(t){return typeof t=="string"&&(t=LY[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const LY={rectangle:0,circle:1};At.register("roundRectangle",function(e,t,i,n,d,C,r){var x=new Q0(this.scene,e,t,i,n,d,C,r);return this.scene.add.existing(x),x});wt(window,"RexPlugins.UI.RoundRectangle",Q0);const FY=Phaser.Renderer.WebGL.Utils;var BY=function(e,t,i,n){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var d=t.frame,C=d.width,r=d.height,x=FY.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),a=s.setTexture2D(d.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,d.glTexture,C,r,t.x,t.y,C/t.resolution,r/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,C,r,x(t.tintTopLeft,i.alpha*t._alphaTL),x(t.tintTopRight,i.alpha*t._alphaTR),x(t.tintBottomLeft,i.alpha*t._alphaBL),x(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,a),e.pipelines.postBatch(t)}},IY=function(e,t,i,n){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const kY={renderWebGL:BY,renderCanvas:IY},GY=Phaser.Display.Color,NY={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,n,d,C,r,x,s,a){var g=this.scene.sys.textures.getFrame(e,t);if(!g)return this;var c=g.cutWidth,h=g.cutHeight;i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=c),C===void 0&&(C=h),r===void 0&&(r=0),x===void 0&&(x=0),s===void 0&&(s=c),a===void 0&&(a=h);var l=g.cutX+r,o=g.cutY+x;return this.context.drawImage(g.source.image,l,o,s,a,i,n,d,C),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new GY);var n=this.context.getImageData(e,t,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel(e,t,i,n,d,C){if(typeof i!="number"){var r=i;i=r.red,n=r.green,d=r.blue,C=r.alpha}C===void 0&&(C=i!==0||n!==0||d!==0?255:0);var x=this.context.createImageData(1,1);return x.data[0]=i,x.data[1]=n,x.data[2]=d,x.data[3]=C,this.context.putImageData(x,e,t),this.dirty=!0,this}};var XO=function(e,t,i,n,d,C,r){var x=e.sys.textures,s=e.renderer;n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=t.width),r===void 0&&(r=t.height);var a;x.exists(i)?a=x.get(i):a=x.createCanvas(i,C,r);var g=a.getSourceImage();g.width!==C&&(g.width=C),g.height!==r&&(g.height=r);var c=g.getContext("2d",{willReadFrequently:!0});c.clearRect(0,0,C,r),c.drawImage(t,n,d,C,r),s.gl&&a&&s.canvasToTexture(g,a.source[0].glTexture,!0,0)};const VY={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=this.width,n.hitArea.height=this.height),this},generateTexture(e,t,i,n,d){var C=this.canvas;return n===void 0?n=C.width:n*=this.resolution,d===void 0?d=C.height:d*=this.resolution,XO(this.scene,C,e,t,i,n,d),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};g2();const Zw=Phaser.Display.Canvas.CanvasPool,zY=Phaser.GameObjects.GameObject,UY=Phaser.Utils.String.UUID;let Ho=class extends zY{constructor(t,i,n,d,C,r){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=1),r===void 0&&(r=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=d,this._height=C,this.resolution=r,d=Math.max(Math.ceil(d*this.resolution),1),C=Math.max(Math.ceil(C*this.resolution),1),this.canvas=Zw.create(this,d,C),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,n),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=UY(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){Zw.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),n=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=n,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const ks=Phaser.GameObjects.Components;Phaser.Class.mixin(Ho,[ks.Alpha,ks.BlendMode,ks.Crop,ks.Depth,ks.Flip,ks.GetBounds,ks.Mask,ks.Origin,ks.Pipeline,ks.PostPipeline,ks.ScrollFactor,ks.Tint,ks.Transform,ks.Visible,kY,NY,VY]);const XY=Phaser.Utils.String.Pad;var re=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${XY(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const Jw=Phaser.Math.DegToRad;var HO=function(e,t,i,n,d,C,r){var x=new t5(t,i,n,d,C),s=x.minWidth,a=x.minHeight,g=n>=s?1:n/s,c=d>=a?1:d/a,h=x.cornerRadius,l,o,u,v,f,p,m;e.save(),e.beginPath(),e.translate(t,i),l=h.tl,M3(l)?(o=l.x*g,u=l.y*c,P3(l)?(v=o,f=u,Ka(e,v,f,o,u,180,270,!1,r)):(v=0,f=0,Ka(e,v,f,o,u,90,0,!0,r)),p=0,m=u):(e.lineTo(0,0),p=0,m=0),l=h.tr,M3(l)?(o=l.x*g,u=l.y*c,P3(l)?(v=n-o,f=u,Ka(e,v,f,o,u,270,360,!1,r)):(v=n,f=0,Ka(e,v,f,o,u,180,90,!0,r))):e.lineTo(n,0),l=h.br,M3(l)?(o=l.x*g,u=l.y*c,P3(l)?(v=n-o,f=d-u,Ka(e,v,f,o,u,0,90,!1,r)):(v=n,f=d,Ka(e,v,f,o,u,270,180,!0,r))):e.lineTo(n,d),l=h.bl,M3(l)?(o=l.x*g,u=l.y*c,P3(l)?(v=o,f=d-u,Ka(e,v,f,o,u,90,180,!1,r)):(v=0,f=d,Ka(e,v,f,o,u,360,270,!0,r))):e.lineTo(0,d),e.lineTo(p,m),e.closePath(),e.restore()},P3=function(e){return!e.hasOwnProperty("convex")||e.convex},M3=function(e){return e.x>0&&e.y>0},Ka=function(e,t,i,n,d,C,r,x,s){if(x&&r>C?r-=360:!x&&r<C&&(r+=360),C=Jw(C),r=Jw(r),s==null)e.ellipse(t,i,n,d,0,C,r,x);else{s+=1;for(var a,g,c,h=(r-C)/s,l=0;l<=s;l++)c=C+h*l,a=t+n*Math.cos(c),g=i+d*Math.sin(c),e.lineTo(a,g)}},HY=function(e,t,i,n,d,C,r,x,s,a,g,c,h){if(HO(t,i,n,d,C,r,h),x!=null){if(g!=null){var l;c?l=t.createLinearGradient(0,0,d,0):l=t.createLinearGradient(0,0,0,C),l.addColorStop(0,x),l.addColorStop(1,g),x=l}t.fillStyle=x,t.fill()}s!=null&&a>0&&(t.strokeStyle=s,t.lineWidth=a,t.stroke())},e5=function(e,t,i,n,d,C,r,x){if(!(t==null&&i==null)){var s=e.canvas.width,a=e.canvas.height;i==null&&(n=0);var g=n/2;s=Math.max(1,s-n),a=Math.max(1,a-n),HY(e.canvas,e.context,g,g,s,a,d,t,i,n,C,r,x)}},YY=function(){e5(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const Qw=Phaser.Utils.Objects.GetValue;let YO=class extends Ho{constructor(t,i,n,d,C,r,x,s,a,g,c,h){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=d),r===void 0&&(r=0),h===void 0&&(h=1),super(t,i,n,d,C,h),this.type="rexRoundRectangleCanvas";var l=Qw(r,"radius",r),o=Qw(r,"iteration",void 0);this.setRadius(l),this.setIteration(o),this.setFillStyle(x,g,c),this.setStrokeStyle(s,a)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=re(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=re(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,n){return n===void 0&&(n=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=n,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=re(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),YY.call(this)},this),this}};At.register("roundRectangleCanvas",function(e,t,i,n,d,C,r,x,s,a){var g=new YO(this.scene,e,t,i,n,d,C,r,x,s,a);return this.scene.add.existing(g),g});wt(window,"RexPlugins.UI.RoundRectangleCanvas",YO);var Oe=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},Za=function(e,t,i){!t||Oe(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(n){i.x=n,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(n){i.y=n,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(n){i.t=n,e.dirty=!0}}))};const WY={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,n){var d=this.geom.topSidePoints;if(Array.isArray(e))for(var d=e,C,r=0,x=d.length;r<x;r++)C=d[r],this.geom.insertTopSidePoint(C.t,C.x,C.y),Za(this,C.key,d[d.length-1]);else this.geom.insertTopSidePoint(e,t,i),Za(this,n,d[d.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,n){var d=this.geom.rightSidePoints;if(Array.isArray(e))for(var d=e,C,r=0,x=d.length;r<x;r++)C=d[r],this.geom.insertRightSidePoint(C.t,C.x,C.y),Za(this,C.key,d[d.length-1]);else this.geom.insertRightSidePoint(e,t,i),Za(this,n,d[d.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,n){var d=this.geom.bottomSidePoints;if(Array.isArray(e))for(var d=e,C,r=0,x=d.length;r<x;r++)C=d[r],this.geom.insertBottomSidePoint(C.t,C.x,C.y),Za(this,C.key,d[d.length-1]);else this.geom.insertBottomSidePoint(e,t,i),Za(this,n,d[d.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,n){var d=this.geom.leftSidePoints;if(Array.isArray(e))for(var d=e,C,r=0,x=d.length;r<x;r++)C=d[r],this.geom.insertLeftSidePoint(C.t,C.x,C.y),Za(this,C.key,d[d.length-1]);else this.geom.insertLeftSidePoint(e,t,i),Za(this,n,d[d.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class $Y{constructor(t,i,n,d){t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=0),d===void 0&&(d=0),this.setTo(t,i,n,d),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,n,d){return this.setPosition(t,i),this.setSize(n,d),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,n){return A3(this.topSidePoints,t,i,n),this}insertRightSidePoint(t,i,n){return A3(this.rightSidePoints,t,i,n),this}insertBottomSidePoint(t,i,n){return A3(this.bottomSidePoints,t,i,n),this}insertLeftSidePoint(t,i,n){return A3(this.leftSidePoints,t,i,n),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var A3=function(e,t,i,n){if(typeof t!="number"){var d=t;t=d.t,i=d.x,n=d.y}e.push({t,x:i,y:n})};const KY=Phaser.Utils.Objects.IsPlainObject,Cn=Phaser.Utils.Objects.GetValue,Ja=Phaser.Math.Linear,ZY=Phaser.Geom.Polygon.Earcut;class i5 extends _4{constructor(t,i,n,d,C,r,x){var s,a,g;if(KY(i)){var c=i;i=c.x,n=c.y,d=c.width,C=c.height,r=c.color,x=c.alpha,s=c.strokeColor,a=c.strokeAlpha,g=c.strokeWidth}i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=d);var h=new $Y;super(t,"rexQuadShape",h),h.setTo(0,0,d,C),this.setPosition(i,n),this.setFillStyle(r,x),s!==void 0&&g===void 0&&(g=2),this.setStrokeStyle(g,s,a),this.setTLPosition(Cn(c,"tlx",0),Cn(c,"tly",0)).setTRPosition(Cn(c,"trx",0),Cn(c,"try",0)).setBLPosition(Cn(c,"blx",0),Cn(c,"bly",0)).setBRPosition(Cn(c,"brx",0),Cn(c,"bry",0));var l=Cn(c,"leftSidePoints");l&&this.insertLeftSidePoint(l);var o=Cn(c,"topSidePoints");o&&this.insertTopSidePoint(o);var u=Cn(c,"rightSidePoints");u&&this.insertRightSidePoint(u);var v=Cn(c,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var n=t.width,d=t.height,C=0+t.tlx,r=0+t.tly,x=n+t.trx,s=0+t.try,a=n+t.brx,g=d+t.bry,c=0+t.blx,h=d+t.bly,l=t.topSidePoints,o=t.rightSidePoints,u=t.bottomSidePoints,v=t.leftSidePoints;ji(C,r,i),R3(l);for(var f=0,p=l.length;f<p;f++){var m=l[f],y=Ja(C,x,m.t)+m.x,S=Ja(r,s,m.t)+m.y;ji(y,S,i)}ji(x,s,i),R3(o);for(var f=0,p=o.length;f<p;f++){var m=o[f],y=Ja(x,a,m.t)+m.x,S=Ja(s,g,m.t)+m.y;ji(y,S,i)}ji(a,g,i),R3(u);for(var f=u.length-1;f>=0;f--){var m=u[f],y=Ja(c,a,m.t)+m.x,S=Ja(h,g,m.t)+m.y;ji(y,S,i)}ji(c,h,i),R3(v);for(var f=v.length-1;f>=0;f--){var m=v[f],y=Ja(C,c,m.t)+m.x,S=Ja(r,h,m.t)+m.y;ji(y,S,i)}return i.push(i[0],i[1]),this.pathIndexes=ZY(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var R3=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(i5.prototype,WY);At.register("QuadShape",function(e,t,i,n,d,C){var r=new i5(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.QuadShape",i5);var JY=Phaser.Renderer.WebGL.Utils,QY=function(e,t,i,n){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var d=t.frame,C=d.width,r=d.height,x=JY.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),a=s.setTexture2D(d.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,d.glTexture,C,r,t.x,t.y,C/t.style.resolution,r/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,C,r,x(t.tintTopLeft,i.alpha*t._alphaTL),x(t.tintTopRight,i.alpha*t._alphaTR),x(t.tintBottomLeft,i.alpha*t._alphaBL),x(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,n,!1,a),e.pipelines.postBatch(t)}},jY=function(e,t,i,n){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,n))};const qY={renderWebGL:QY,renderCanvas:jY},jx=Phaser.Display.Canvas.CanvasPool;var _Y=function(e,t,i){i===void 0&&(i={});var n=jx.create(this),d=n.getContext("2d",{willReadFrequently:!0});e.syncFont(n,d);var C=d.measureText(t),r=Math.ceil(C.width*e.baselineX),x=r,s=2*x;if(x=x*e.baselineY|0,n.width=r,n.height=s,d.fillStyle="#f00",d.fillRect(0,0,r,s),d.font=e._font,d.textBaseline="alphabetic",d.fillStyle="#000",d.fillText(e.testString,0,x),i.left=0,r===0||s===0||!d.getImageData(0,0,r,s))return jx.remove(n),i;for(var a=d.getImageData(0,0,r,s).data,g=!1,c=0;c<r;c++){for(var h=0;h<s;h++){var l=(h*r+c)*4;if(a[l]!==255){i.left=c,g=!0;break}}if(g)break}return jx.remove(n),i};g2();const tW=Phaser.GameObjects.GameObject;class WO extends tW{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,n){return this.style.setBackgroundColor(t,i,n)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,n,d,C,r){return this.style.setShadow(t,i,n,d,C,r)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,n){return this.style.setUnderline(t,i,n)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,n){return this.style.setStrikethrough(t,i,n)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return _Y(this.style,t,i)}}const bs=Phaser.GameObjects.Components;Phaser.Class.mixin(WO,[bs.Alpha,bs.BlendMode,bs.ComputedSize,bs.Crop,bs.Depth,bs.Flip,bs.GetBounds,bs.Mask,bs.Origin,bs.Pipeline,bs.PostPipeline,bs.ScrollFactor,bs.Tint,bs.Transform,bs.Visible,qY]);var eW={backgroundColor:["backgroundColor",null,re],backgroundColor2:["backgroundColor2",null,re],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,re],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",re],stroke:["stroke","#fff",re],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",re],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",re],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",re],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const O3=Phaser.Display.Canvas.CanvasPool;var jw=function(e){var t=O3.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var n=i.measureText(e.testString);if("actualBoundingBoxAscent"in n){var d=n.actualBoundingBoxAscent,C=n.actualBoundingBoxDescent,a={ascent:d,descent:C,fontSize:d+C};return O3.remove(t),a}var r=Math.ceil(n.width*e.baselineX),x=r,s=2*x;x=x*e.baselineY|0,t.width=r,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,r,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,x);var a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,r,s))return a.ascent=x,a.descent=x+6,a.fontSize=a.ascent+a.descent,O3.remove(t),a;var g=i.getImageData(0,0,r,s).data,c=g.length,h=r*4,l,o,u=0,v=!1;for(l=0;l<x;l++){for(o=0;o<h;o+=4)if(g[u+o]!==255){v=!0;break}if(!v)u+=h;else break}for(a.ascent=x-l,u=c-h,v=!1,l=s;l>x;l--){for(o=0;o<h;o+=4)if(g[u+o]!==255){v=!0;break}if(!v)u-=h;else break}return a.descent=l-x,a.fontSize=a.ascent+a.descent,O3.remove(t),a},Mi={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const Vp={none:Mi.NO_WRAP,word:Mi.WORD_WRAP,char:Mi.CHAR_WRAP,character:Mi.CHAR_WRAP,mix:Mi.MIX_WRAP},iW=Phaser.Utils.Objects.GetAdvancedValue,tn=Phaser.Utils.Objects.GetValue;let s5=class{constructor(t,i,n){this.parent=t,n===void 0&&(n=eW),this.propertyMap=n,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Mi.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,n){if(i===void 0&&(i=!0),n===void 0&&(n=!1),t&&t.hasOwnProperty("wordWrap")){var d=t.wordWrap;d.hasOwnProperty("width")&&(t.wrap={mode:"word",width:d.width})}if(t&&t.hasOwnProperty("wrap")){var C=t.wrap;if(C.hasOwnProperty("mode")){var r=C.mode;typeof r=="string"&&(C.mode=Vp[r])}else C.hasOwnProperty("width")&&(C.mode=1)}t&&t.rtl&&n&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var x=this.propertyMap;for(var s in x){var a=x[s],g=a[0],c=n?a[1]:this[s],h=a[2];if(s==="wrapCallback"||s==="wrapCallbackScope")this[s]=tn(t,g,c);else{var l=iW(t,g,c);h&&(l=h(l)),this[s]=l}}var o=tn(t,"font",null);o===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=o;var u=tn(t,"fill",null);u!==null&&(this.color=re(u));var v=tn(t,"metrics",!1);return v?this.metrics={ascent:tn(v,"ascent",0),descent:tn(v,"descent",0),fontSize:tn(v,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=jw(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=jw(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=tn(t,"fontFamily","Courier"),this.fontSize=tn(t,"fontSize","16px"),this.fontStyle=tn(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,n){return n===void 0&&(n=!0),this.backgroundColor=re(t,this.parent.canvas,this.parent.context),this.backgroundColor2=re(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=n,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=re(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=re(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,n,d,C,r){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n="#000"),d===void 0&&(d=0),C===void 0&&(C=!1),r===void 0&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=re(n,this.parent.canvas,this.parent.context),this.shadowBlur=d,this.shadowStroke=C,this.shadowFill=r,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.underlineColor=re(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=n,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,n){return t===void 0&&(t="#000"),i===void 0&&(i=0),n===void 0&&(n=0),this.strikethroughColor=re(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=n,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=Vp[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=tn(i,"fontFamily",this.fontFamily),this.fontSize=tn(i,"fontSize",this.fontSize),this.fontStyle=tn(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var n in i)t[n]=this[n];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var Hh=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const sW={draw(e,t,i,n){var d=this.penManager;this.hitAreaManager.clear();var C=this.context;C.save();var r=this.defaultStyle;this.clear(),e5(this,r.backgroundColor,r.backgroundStrokeColor,r.backgroundStrokeLineWidth,r.backgroundCornerRadius,r.backgroundColor2,r.backgroundHorizontalGradient,r.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var x=r.halign,s=r.valign,a,g=r.lineHeight,c=d.lines,h=c.length,l=r.maxLines,o,u,v;l>0&&h>l?(o=l,s==="center"?u=Math.floor((h-o)/2):s==="bottom"?u=h-o:u=0):(o=h,u=0),v=u+o;var f,p,m=this.rtl,y=m?this.parent.width:void 0;s==="center"?p=Math.max((n-o*g)/2,0):s==="bottom"?p=Math.max(n-o*g-2,0):p=0,p+=t;for(var S=u;S<v;S++)if(a=d.getLineWidth(S),a!==0){for(var T=c[S],b=T.length,P=x,w=0;w<b;w++){var A=T[w].prop.align;if(A!==void 0){P=A;break}}P==="center"?f=(i-a)/2:P==="right"?f=m?0:i-a:f=m?i-a:0,f+=e;for(var w=0;w<b;w++)this.drawPen(T[w],f,p,y)}C.restore()},drawPen(e,t,i,n){t+=e.x,i+=e.y+(e.prop.y||0),n!==void 0&&(t=n-t);var d=this.canvas,C=this.context;C.save();var r=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(r.bgcolor!==null&&e.width>0){var x=this.defaultStyle.metrics,s=i-x.ascent,a=x.fontSize;this.drawRectangle(t,s,e.width,a,r.bgcolor,r)}if(r.underlineThickness>0&&e.width>0){var g=i+r.underlineOffset-r.underlineThickness/2;this.drawLine(t,g,e.width,r.underlineThickness,r.underlineColor,r)}if(e.isTextPen&&(r.buildFont(),r.syncFont(d,C),r.syncStyle(d,C),this.drawText(t,i,e.text,r)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,r),r.strikethroughThickness>0&&e.width>0){var g=i+r.strikethroughOffset-r.strikethroughThickness/2;this.drawLine(t,g,e.width,r.strikethroughThickness,r.strikethroughColor,r)}if(C.restore(),e.hasAreaMarker&&e.width>0){var c,h=e.prop.area;if(h)c={key:h};else{var l=e.prop.url;c={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,c)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,n,d,C){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;r.fillStyle=d,r.fillRect(e,t,i,n)},drawLine(e,t,i,n,d,C){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;C.syncShadow(r,C.shadowStroke);var x=r.lineCap;r.lineCap="butt",r.strokeStyle=d,r.lineWidth=n,r.beginPath(),r.moveTo(e,t),r.lineTo(e+i,t),r.stroke(),r.lineCap=x},drawText(e,t,i,n){this.autoRound&&(e=Math.round(e),t=Math.round(t));var d=this.context;n.stroke&&n.stroke!=="none"&&n.strokeThickness>0&&(n.syncShadow(d,n.shadowStroke),d.strokeText(i,e,t)),n.color&&n.color!=="none"&&(n.syncShadow(d,n.shadowFill),d.fillText(i,e,t))},drawImage(e,t,i,n,d){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,n,this.autoRound)}},d0=Phaser.Utils.Objects.GetValue,nW=Mi.NO_NEWLINE,qw=Mi.RAW_NEWLINE;class rW{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=d0(t,"text",""),this.x=d0(t,"x",0),this.y=d0(t,"y",0),this.width=d0(t,"width",0);var i=d0(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=d0(t,"newLineMode",0),this.startIndex=d0(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===qw&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==nW&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===qw&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var _n=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Fo(t),i){t.length=e.length;for(var n=0,d=e.length;n<d;n++)t[n]=e[n]}else for(var C in e)t[C]=e[C];return t};const _w=Phaser.Utils.Objects.GetFastValue,tP=Mi.NO_NEWLINE,aW=Mi.WRAPPED_NEWLINE;class n5{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=_w(t,"tagToText",Xi),this.tagToTextScope=_w(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,n,d,C,r){var x=this.pensPool.pop();return x==null&&(x=new rW),f0.text=t,f0.x=i,f0.y=n,f0.width=d,f0.prop=C,f0.newLineMode=r,x.resetFromJSON(f0),this.addPen(x),this}addImagePen(t,i,n,d){return this.addTextPen("",t,i,n,d,tP),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,n=t?t.y:0,d=t?_n(t.prop):null;return this.addTextPen("",i,n,0,d,aW),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var n=this.lastLine;n==null&&(n=this.linesPool.pop()||[],this.lines.push(n)),n.push(t),t.newLineMode!==tP&&(n=this.linesPool.pop()||[],this.lines.push(n)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new n5),t.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var d=this.lines[i],C=0,r=d.length;C<r;C++){var x=d[C];t.addPen(x.text,x.x,x.y,x.width,_n(x.prop),x.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,n=!1,d;for(i=t;i>=0&&(d=this.lines[i],n=d!=null&&d.length>0,!n);i--);if(!n)return 0;var C=d[d.length-1];return C.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var n=i[i.length-1];if(n==null)return 0;var d=n.lastX;return d}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,n=0,d=this.lines.length;n<d;n++)t=this.getLineWidth(n),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,n=this.lines.length;i<n;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,n=0,d=i.length;n<d;n++)t+=i[n].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,n=0,d=this.pens.length;n<d;n++)t+=i[n].rawTextLength;return t}getSliceTagText(t,i,n){var d=this.lastPen;if(d==null)return"";var C=d.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===C)&&(i=C+1),n===void 0&&(n=!1);for(var r="",x,s,a,g,c,h,l,o=0,u=this.pens.length;o<u&&(x=this.pens[o],g=x.endIndex,!(!(g<=t)&&(x=this.pens[o],s=n?x.wrapText:x.plainText,h=x.prop,a=x.startIndex,c=a>=t&&g<=i,c||(s=s.substring(t-a,i-a)),this.tagToTextScope?r+=this.tagToText.call(this.tagToTextScope,s,h,l):r+=this.tagToText(s,h,l),l=h,g>=i)));o++);return r}get length(){return this.lines.length}set length(t){this.clear()}}var f0={};const oW=Phaser.Geom.Rectangle;var eP=new Or;class lW{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return eP.pushMultiple(this.hitAreas),this}add(t,i,n,d,C){C===void 0&&(C={});var r=eP.pop();return r===null?r=new oW(t,i,n,d):r.setTo(t,i,n,d),r.data=C,this.hitAreas.push(r),this}getFirst(t,i){for(var n=0,d=this.hitAreas.length;n<d;n++){var C=this.hitAreas[n];if(C.contains(t,i))return C}return null}getByKey(t){for(var i=0,n=this.hitAreas.length;i<n;i++){var d=this.hitAreas[i];if(d.data.key===t)return d}return null}drawBounds(t,i,n){i===void 0&&(i=16777215),n&&t.save().translateCanvas(n.x,n.y).rotateCanvas(n.rotation).scaleCanvas(n.scaleX,n.scaleY);for(var d=0,C=this.hitAreas.length;d<C;d++){var r=this.hitAreas[d];t.lineStyle(1,i).strokeRect(r.x,r.y,r.width,r.height)}return n&&t.restore(),this}}var hW=function(){this.parent.on("pointerdown",uW,this).on("pointerup",dW,this).on("pointermove",qx,this).on("pointerover",qx,this).on("pointerout",function(e,t){qx.call(this,e,null,null,t)},this)},uW=function(e,t,i,n){var d=this.hitAreaManager.getFirst(t,i);if(d!==null){var C=d.data.key;Yh.call(this,"areadown",C,e,t,i,n),d.data&&(d.data.isDown=!0)}},dW=function(e,t,i,n){var d=this.hitAreaManager.getFirst(t,i);if(d!==null){var C=d.data.key;if(Yh.call(this,"areaup",C,e,t,i,n),!!d.data){if(d.data.isDown){if(Yh.call(this,"areaclick",C,e,t,i,n),!d.data)return;var r=d.data.url;r&&window.open(r,"_blank")}d.data.isDown=!1}}},qx=function(e,t,i,n){if(t===null){if(this.lastHitAreaKey!==null){Yh.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var d=this.hitAreaManager.getByKey(this.lastHitAreaKey);d&&d.data&&(d.data.isDown=!1),this.lastHitAreaKey=null}return}var d=this.hitAreaManager.getFirst(t,i),C=d?d.data.key:null;if(this.lastHitAreaKey!==C){if(this.lastHitAreaKey!==null){Yh.call(this,"areaout",this.lastHitAreaKey,e,t,i,n);var r=this.hitAreaManager.getByKey(this.lastHitAreaKey);r&&(this.urlTagCursorStyle&&iP(this.scene,r,""),r.data.isDown=!1)}C!==null&&(Yh.call(this,"areaover",C,e,t,i,n),d.data&&this.urlTagCursorStyle&&iP(this.scene,d,this.urlTagCursorStyle)),this.lastHitAreaKey=C}},Yh=function(e,t,i,n,d,C){this.parent.emit(`${e}-${t}`,i,n,d,C),this.parent.emit(e,t,i,n,d,C)},iP=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)};const sP=Phaser.GameObjects.Components.TransformMatrix,fW=Phaser.Math.TransformXY;var $O=function(e,t,i,n,d){n===void 0&&(n=e.scene.cameras.main),d===void 0?d={}:d===!0&&(d=cW);var C=n.scrollX,r=n.scrollY,x=t+C*e.scrollFactorX-C,s=i+r*e.scrollFactorY-r;return e.parentContainer?(D3===void 0&&(D3=new sP,nP=new sP),e.getWorldTransformMatrix(D3,nP),D3.applyInverse(x,s,d)):fW(x,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,d),d.x+=e.displayOriginX,d.y+=e.displayOriginY,d},D3,nP,cW={},vW=function(e,t,i){var n=$O(this.parent,e,t,i,!0),d=this.hitAreaManager.getFirst(n.x,n.y);if(d!==null)return d.data.key},pW=/^[\x00-\x7F]+$/,_d=function(e){return pW.test(e)};const gW=Mi.NO_NEWLINE,mW=Mi.RAW_NEWLINE,_x=Mi.WRAPPED_NEWLINE,rP=Mi.NO_WRAP,xW=Mi.WORD_WRAP,KO=Mi.CHAR_WRAP,yW=Mi.SPLITREGEXP;var ZO=function(e,t,i,n,d,C){n<=0&&(i=rP);var r=[];if(!e||!e.length)return r;for(var x=i===rP,s=e.split(yW),a,g,c,h=0,l=s.length;h<l;h++){if(a=s[h],c=h===l-1?gW:mW,x){var o=t.measureText(a).width;r.push(C.getLine(a,o,c));continue}if(g=h===0?n-d:n,a.length<=100){var o=t.measureText(a).width;if(o<=g){r.push(C.getLine(a,o,c));continue}}for(var u=SW(a,i),v,f,p="",m=0,y,S=0,T=u.length;S<T;S++){if(v=u[S],f=t.measureText(v).width,f>n&&CW(v)){p!==""?r.push(C.getLine(p,m,_x)):S===0&&d>0&&r.push(C.getLine("",0,_x)),r.push(...ZO(v,t,KO,n,0,C));var b=r.pop();p=b.text,m=b.width,C.freeLine(b),p===" "&&(p="",m=0);continue}y=m+f,y>g?(r.push(C.getLine(p,m,_x)),p=v,m=f,g=n):(p+=v,m=y),S===T-1&&r.push(C.getLine(p,m,c))}}return r},SW=function(e,t){var i;switch(t){case xW:i=[],e=e.split(" ");for(var n=0,d=e.length;n<d;n++){var C=e[n];n<d-1?i.push(C+" "):C!==""&&i.push(C)}break;case KO:i=e.split("");break;default:i=[],e=e.split(" ");for(var n=0,d=e.length;n<d;n++){var C=e[n];n<d-1?_d(C)?i.push(C+" "):(i.push(...C.split("")),i.push(" ")):C!==""&&(_d(C)?i.push(C):i.push(...C.split("")))}break}return i},CW=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const ty=Phaser.Utils.Objects.GetValue,TW=Mi.NO_WRAP,aP=Mi.NO_NEWLINE,bW=Mi.WRAPPED_NEWLINE;class JO{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=ty(t,"context",null),this.canvas=this.context.canvas,this.parser=ty(t,"parser",null),this.defaultStyle=ty(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new lW,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,n,d,C){if(C===void 0&&(C=this.penManager),C.clear(),t==="")return C;var r=this.parent.style;if(r.isWrapFitMode){var x=this.parent.padding;n=r.fixedWidth-x.left-x.right}for(var s=this.canvas,a=this.context,g=0,c=0,h=r.wrapCallback,l=r.wrapCallbackScope,o=!0,u,v,f,p=this.parser.splitText(t),m,y,S=this.wrapTextLinesPool,T=0,b=p.length;T<b;T++)if(m=this.parser.tagTextToProp(p[T],v),u=m.plainText,v=m.prop,v.img){var P=this.imageManager.getOuterWidth(v.img);n>0&&i!==TW&&n<g+P&&(C.addNewLinePen(),c+=d,g=0),C.addImagePen(g,c,P,_n(v)),g+=P}else if(u!==""){if(a.save(),f=this.parser.propToContextStyle(this.defaultStyle,v),f.buildFont(),f.syncFont(s,a),f.syncStyle(s,a),!h)y=ZO(u,a,i,n,g,S);else{y=h.call(l,u,a,n,g),typeof y=="string"&&(y=y.split(`
`));for(var R,w=0,A=y.length;w<A;w++)R=y[w],typeof R=="string"?y[w]=S.getLine(R,a.measureText(R).width,w<A-1?bW:aP):o=!1}for(var R,w=0,A=y.length;w<A;w++)R=y[w],C.addTextPen(R.text,g,c,R.width,_n(v),R.newLineMode),R.newLineMode!==aP?(g=0,c+=d):g+=R.width;o&&S.freeLines(y),y=null,a.restore()}for(var T=0,b=this.lines.length;T<b;T++){var D=this.lines[T],L=D[D.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return C}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new n5({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,n){var d;if(t==null)d=this.penManager.plainText;else{var C=this.parser.splitText(t,1);d="";for(var r=0,x=C.length;r<x;r++)d+=C[r]}return(i!=null||n!=null)&&(i==null&&(i=0),n==null&&(n=d.length),d=d.substring(i,n)),d}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,i),i}getText(t,i,n,d){if(t==null)return this.penManager.getSliceTagText(i,n,d);var C=this.tmpPenManager,r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,C),C.getSliceTagText(i,n,d)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var EW={setInteractive:hW,getHitArea:vW};Object.assign(JO.prototype,sW,EW);class oP extends Or{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,n){var d=this.pop();return d===null&&(d={}),d.text=t,d.width=i,d.newLineMode=n,d}}const wW=Phaser.Utils.Objects.IsPlainObject,ql=Phaser.Utils.Objects.GetValue;var ey=function(e,t){wW(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,n=t.frame,d=t.width,C=t.height;if(d===void 0||C===void 0){var r=this.textureManager.getFrame(i,n),x=r?r.cutWidth:0,s=r?r.cutHeight:0;d===void 0&&C===void 0?(d=x,C=s):d===void 0?d=x*(C/s):C===void 0&&(C=s*(d/x))}this.images[e]={key:i,frame:n,width:d,height:C,y:ql(t,"y",0),left:ql(t,"left",0),right:ql(t,"right",0),originX:ql(t,"originX",0),originY:ql(t,"originY",0),tintFill:ql(t,"tintFill",!1)}};const lP=Phaser.Display.Canvas.CanvasPool;var QO=function(e,t,i,n,d,C,r,x){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=e.cutWidth),C===void 0&&(C=e.cutHeight),x===void 0&&(x=!1),x&&(i=Math.round(i),n=Math.round(n));var s=t.getContext("2d",{willReadFrequently:!0});if(r){var a=lP.create(null,d,C,Phaser.CANVAS,!0),g=a.getContext("2d",{willReadFrequently:!0});g.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,d,C),g.globalCompositeOperation="source-in",g.fillStyle=r,g.fillRect(0,0,d,C),s.drawImage(a,0,0,d,C,i,n,d,C),lP.remove(a)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,n,d,C)},PW=function(e,t,i,n,d,C){var r=this.get(e);if(r){var x=this.textureManager.getFrame(r.key,r.frame),s=r.width,a=r.height;i+=r.left-r.originX*s,n+=r.y-r.originY*a,r.tintFill||(d=void 0),QO(x,t.canvas,i,n,s,a,d,C)}};class r5{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")ey.call(this,t,i);else if(Array.isArray(t))for(var n=t,d=0,C=n.length;d<C;d++)ey.call(this,n[d]);else{var n=t;for(var t in n)ey.call(this,t,n[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var MW={draw:PW};Object.assign(r5.prototype,MW);var jO=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const AW=Phaser.Utils.Objects.IsPlainObject,hP=Phaser.DOM.AddToDOM,uP=Phaser.Display.Canvas.CanvasPool,RW=Phaser.GameObjects.GameObject,Gs=Phaser.Utils.Objects.GetValue,OW=Phaser.DOM.RemoveFromDOM,DW=Mi.SPLITREGEXP,LW=Phaser.Utils.String.UUID;var _l=null,iy=null,sy=null;class a5 extends WO{constructor(t,i,n,d,C,r,x){if(AW(i)){var s=i;i=Gs(s,"x",0),n=Gs(s,"y",0),d=Gs(s,"text",""),C=Gs(s,"style")}if(i===void 0&&(i=0),n===void 0&&(n=0),super(t,r),this.renderer=t.sys.game.renderer,this.setPosition(i,n),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=uP.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,C){if(C.hasOwnProperty("align")){var a=C.align;delete C.align,C.halign=a}C.hasOwnProperty("stroke")&&!C.hasOwnProperty("strokeThickness")&&(C.strokeThickness=1)}this.style=new s5(this,C);var g=Gs(C,"images",void 0);g&&this.addImage(g),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=LW(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var c=Gs(C,"sharedPool",!0),h,l,o;c?(_l||(_l={},iy=new Or,sy=new oP,this.scene.game.events.once("destroy",function(){_l=null,iy=null,sy=null})),_l.hasOwnProperty(r)||(_l[r]=new Or),h=_l[r],l=iy,o=sy):(h=new Or,l=new Or,o=new oP),this.canvasText=new JO({parent:this,context:this.context,parser:x,style:this.style,pensPool:h,linesPool:l,wrapTextLinesPool:o}),this.parser=x,this.initRTL(),C&&C.padding&&this.setPadding(C.padding),this.setText(d),this.setUrlTagCursorStyle(Gs(C,"urlTagCursorStyle","pointer")),Gs(C,"interactive",!1)&&this.setInteractive()}preDestroy(){OW(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),uP.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",hP(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",hP(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var n=this._imageManager.images;for(var d in n)n[d].originX=1-n[d].originX}return this}setText(t){return t=Hh(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,n,d){if(typeof t=="object"){var C=t,r=Gs(C,"x",null);r!==null?(t=r,n=r):(t=Gs(C,"left",0),n=Gs(C,"right",t));var x=Gs(C,"y",null);x!==null?(i=x,d=x):(i=Gs(C,"top",0),d=Gs(C,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),d===void 0&&(d=i);return this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=d,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,n=this.style;t&&i.updatePenManager(this._text,n.wrapMode,n.wrapWidth,n.lineHeight);var d=this.padding,C,r,x=Math.ceil(i.linesWidth);n.fixedWidth===0?(this.width=x+d.left+d.right,C=x):(this.width=n.fixedWidth,C=this.width-d.left-d.right,C<x&&(C=x)),n.fixedHeight===0?(this.height=i.linesHeight+d.top+d.bottom,r=i.linesHeight):(this.height=n.fixedHeight,r=this.height-d.top-d.bottom,r<i.linesHeight&&(r=i.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var g=n.resolution;s*=g,a*=g,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var c=this.canvas,h=this.context;c.width!==s||c.height!==a?(c.width=s,c.height=a,this.frame.setSize(s,a)):h.clearRect(0,0,s,a),h.save(),h.scale(g,g);var l=this.style.rtl?d.right:d.left,o=d.top;i.draw(l,o,C,r),h.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(c,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,n){var d=!!this.input;return RW.prototype.setInteractive.call(this,t,i,n),d||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),t=this.canvasText.getText(t,i,n,!0),t.split(DW)}getPlainText(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,n)}getText(t,i,n,d){return typeof t=="number"&&(d=n,n=i,i=t,t=void 0),d===void 0&&(d=!1),this.canvasText.getText(t,i,n,d)}getSubString(t,i,n){return typeof t=="number"&&(n=i,i=t,t=void 0),this.getText(t,i,n)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new r5(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,n,d,C){var r=this.canvas;return d===void 0?d=r.width:d*=this.resolution,C===void 0?C=r.height:C*=this.resolution,XO(this.scene,r,t,i,n,d,C),this}getHitArea(t,i,n){return this.canvasText.getHitArea(t,i,n)}}var FW={appendText:jO};Object.assign(a5.prototype,FW);var BW=function(e,t){for(var i=this.tagRegex,n=[],d=0,C=!1,r=!1;;){var x=i.RE_SPLITTEXT.exec(e);if(!x)break;var s=x[0];if(r)if(i.RE_ESC_CLOSE.test(s))r=!1;else continue;else if(C)if(i.RE_RAW_CLOSE.test(s))C=!1;else continue;else i.RE_ESC_OPEN.test(s)?r=!0:i.RE_RAW_OPEN.test(s)&&(C=!0);var a=i.RE_SPLITTEXT.lastIndex,g=a-s.length;if(d<g){var c=e.substring(d,g);n.push(c)}t===void 0&&n.push(s),d=a}var h=e.length;return d<h&&n.push(e.substring(d,h)),n};const gi=!1,si=!0;var IW={plainText:null,prevProp:null},kW=function(e,t){var i=this.tagRegex;t==null&&(t={});var n="";if(t.img&&ne(t,gi,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?ne(t,gi,"esc"):n=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?ne(t,gi,"raw"):n=e;else if(i.RE_ESC_OPEN.test(e))ne(t,si,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))ne(t,gi,"esc");else if(i.RE_RAW_OPEN.test(e))ne(t,si,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))ne(t,gi,"raw");else if(i.RE_BLOD_OPEN.test(e))ne(t,si,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))ne(t,gi,"b");else if(i.RE_ITALICS_OPEN.test(e))ne(t,si,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))ne(t,gi,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var d=e.match(i.RE_WEIGHT_OPEN);ne(t,si,"weight",d[1])}else if(i.RE_WEIGHT_CLOSE.test(e))ne(t,gi,"weight");else if(i.RE_SIZE_OPEN.test(e)){var d=e.match(i.RE_SIZE_OPEN);ne(t,si,"size",`${d[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))ne(t,gi,"size");else if(i.RE_FAMILY_OPEN.test(e)){var d=e.match(i.RE_FAMILY_OPEN);ne(t,si,"family",d[1])}else if(i.RE_FAMILY_CLOSE.test(e))ne(t,gi,"family");else if(i.RE_COLOR_OPEN.test(e)){var d=e.match(i.RE_COLOR_OPEN);ne(t,si,"color",d[1])}else if(i.RE_COLOR_CLOSE.test(e))ne(t,gi,"color");else if(i.RE_UNDERLINE_OPEN.test(e))ne(t,si,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var d=e.match(i.RE_UNDERLINE_OPENC);ne(t,si,"u",d[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))ne(t,gi,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))ne(t,si,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var d=e.match(i.RE_STRIKETHROUGH_OPENC);ne(t,si,"s",d[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))ne(t,gi,"s");else if(i.RE_SHADOW_OPEN.test(e))ne(t,si,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var d=e.match(i.RE_SHADOW_OPENC);ne(t,si,"shadow",d[1])}else if(i.RE_SHADOW_CLOSE.test(e))ne(t,gi,"shadow");else if(i.RE_STROKE_OPEN.test(e))ne(t,si,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var d=e.match(i.RE_STROKE_OPENC);ne(t,si,"stroke",d[1])}else if(i.RE_STROKE_CLOSE.test(e))ne(t,gi,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var d=e.match(i.RE_BGCOLOR_OPEN);ne(t,si,"bgcolor",d[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))ne(t,gi,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var d=e.match(i.RE_OFFSETY_OPEN);ne(t,si,"y",parseFloat(d[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))ne(t,gi,"y");else if(i.RE_IMAGE_OPEN.test(e)){var d=e.match(i.RE_IMAGE_OPEN);ne(t,si,"img",d[1])}else if(i.RE_IMAGE_CLOSE.test(e))ne(t,gi,"img");else if(i.RE_AREA_OPEN.test(e)){var d=e.match(i.RE_AREA_OPEN);ne(t,si,"area",d[1])}else if(i.RE_AREA_CLOSE.test(e))ne(t,gi,"area");else if(i.RE_URL_OPEN.test(e)){var d=e.match(i.RE_URL_OPEN);ne(t,si,"url",d[1])}else if(i.RE_URL_CLOSE.test(e))ne(t,gi,"url");else if(i.RE_ALIGN_OPEN.test(e)){var d=e.match(i.RE_ALIGN_OPEN);ne(t,si,"align",d[1])}else if(i.RE_ALIGN_CLOSE.test(e))ne(t,gi,"align");else if(i.RE_ID_OPEN.test(e)){var d=e.match(i.RE_ID_OPEN);ne(t,si,"id",d[1])}else i.RE_ID_CLOSE.test(e)?ne(t,gi,"id"):n=e;var C=IW;return C.plainText=n,C.prop=t,C},ne=function(e,t,i,n){return t===si?e[i]=n:e.hasOwnProperty(i)&&delete e[i],e},GW=function(e,t){var i=VW;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var n=t.size;typeof n=="number"&&(n=`${n}px`),i.fontSize=n}else i.fontSize=e.fontSize;i.fontStyle=NW(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},NW=function(e){var t=e.b,i=e.weight,n=e.i;return t||i||n?n?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},VW=new s5,zW=function(e,t,i){i==null&&(i=UW);var n=this.delimiters[0],d=this.delimiters[1],C=[];for(var r in i)t.hasOwnProperty(r)||C.push(`${n}/${r}${d}`);for(var r in t){var x=t[r];if(r!=="img"){if(i[r]===x)continue}switch(r){case"size":C.push(`${n}size=${x.replace("px","")}${d}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":C.push(`${n}${r}=${x}${d}`);break;case"u":case"s":x===!0?C.push(`${n}${r}${d}`):C.push(`${n}${r}=${x}${d}`);break;default:C.push(`${n}${r}${d}`);break}}return C.push(e),C.join("")},UW={},$h=function(e){return e.replace(XW,"\\$&").replace(HW,"\\x2d")},XW=/[|\\{}()[\]^$+*?.]/g,HW=/-/g,dP,fP,ae={},li=function(e,t,i,n){return n===void 0?`${e}${i}${t}`:`${e}${i}=(${n})${t}`},Ni=function(e,t,i){return`${e}/${i}${t}`},YW=function(e){return`[^${e}]+`},ny="[-.0-9]+",WW=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],th=WW.join("|"),qO=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(dP===e&&fP===t)return!1;dP=e,fP=t,e=$h(e),t=$h(t);var n=YW(t),d="esc",C=li(e,t,d),r=Ni(e,t,d),x="raw",s=li(e,t,x),a=Ni(e,t,x),g="b",c=li(e,t,g),h=Ni(e,t,g),l="i",o=li(e,t,l),u=Ni(e,t,l),v="weight",f=li(e,t,v,ny),p=Ni(e,t,v),m="size",y=li(e,t,m,ny),S=Ni(e,t,m),T="family",b=li(e,t,T,n),P=Ni(e,t,T),w="color",A=li(e,t,w,th),R=Ni(e,t,w),D="u",L=li(e,t,D),k=li(e,t,D,th),B=Ni(e,t,D),F="s",G=li(e,t,F),N=li(e,t,F,th),W=Ni(e,t,F),X="shadow",$=li(e,t,X),J=li(e,t,X,th),V=Ni(e,t,X),Y="stroke",z=li(e,t,Y),K=li(e,t,Y,th),H=Ni(e,t,Y),Q="bgcolor",j=li(e,t,Q,th),q=Ni(e,t,Q),tt="y",st=li(e,t,tt,ny),nt=Ni(e,t,tt),at="img",ot=li(e,t,at,n),mt=Ni(e,t,at),St="area",Ct=li(e,t,St,n),kt=Ni(e,t,St),Vt="url",It=li(e,t,Vt,n),yt=Ni(e,t,Vt),Lt="align",Ft=li(e,t,Lt,n),$t=Ni(e,t,Lt),Jt="id",jt=li(e,t,Jt,n),Zt=Ni(e,t,Jt);return ae.RE_ESC_OPEN=new RegExp(C,"i"),ae.RE_ESC_CLOSE=new RegExp(r,"i"),ae.RE_RAW_OPEN=new RegExp(s,"i"),ae.RE_RAW_CLOSE=new RegExp(a,"i"),ae.RE_BLOD_OPEN=new RegExp(c,"i"),ae.RE_BLOD_CLOSE=new RegExp(h,"i"),ae.RE_ITALICS_OPEN=new RegExp(o,"i"),ae.RE_ITALICS_CLOSE=new RegExp(u,"i"),ae.RE_WEIGHT_OPEN=new RegExp(f,"i"),ae.RE_WEIGHT_CLOSE=new RegExp(p,"i"),ae.RE_SIZE_OPEN=new RegExp(y,"i"),ae.RE_SIZE_CLOSE=new RegExp(S,"i"),ae.RE_FAMILY_OPEN=new RegExp(b,"i"),ae.RE_FAMILY_CLOSE=new RegExp(P,"i"),ae.RE_COLOR_OPEN=new RegExp(A,"i"),ae.RE_COLOR_CLOSE=new RegExp(R,"i"),ae.RE_UNDERLINE_OPEN=new RegExp(L,"i"),ae.RE_UNDERLINE_OPENC=new RegExp(k,"i"),ae.RE_UNDERLINE_CLOSE=new RegExp(B,"i"),ae.RE_STRIKETHROUGH_OPEN=new RegExp(G,"i"),ae.RE_STRIKETHROUGH_OPENC=new RegExp(N,"i"),ae.RE_STRIKETHROUGH_CLOSE=new RegExp(W,"i"),ae.RE_SHADOW_OPEN=new RegExp($,"i"),ae.RE_SHADOW_OPENC=new RegExp(J,"i"),ae.RE_SHADOW_CLOSE=new RegExp(V,"i"),ae.RE_STROKE_OPEN=new RegExp(z,"i"),ae.RE_STROKE_OPENC=new RegExp(K,"i"),ae.RE_STROKE_CLOSE=new RegExp(H,"i"),ae.RE_BGCOLOR_OPEN=new RegExp(j,"i"),ae.RE_BGCOLOR_CLOSE=new RegExp(q,"i"),ae.RE_OFFSETY_OPEN=new RegExp(st,"i"),ae.RE_OFFSETY_CLOSE=new RegExp(nt,"i"),ae.RE_IMAGE_OPEN=new RegExp(ot,"i"),ae.RE_IMAGE_CLOSE=new RegExp(mt,"i"),ae.RE_AREA_OPEN=new RegExp(Ct,"i"),ae.RE_AREA_CLOSE=new RegExp(kt,"i"),ae.RE_URL_OPEN=new RegExp(It,"i"),ae.RE_URL_CLOSE=new RegExp(yt,"i"),ae.RE_ALIGN_OPEN=new RegExp(Ft,"i"),ae.RE_ALIGN_CLOSE=new RegExp($t,"i"),ae.RE_ID_OPEN=new RegExp(jt,"i"),ae.RE_ID_CLOSE=new RegExp(Zt,"i"),ae.RE_SPLITTEXT=new RegExp([s,a,C,r,c,h,o,u,f,p,y,S,b,P,A,R,L,k,B,G,N,W,$,J,V,z,K,H,j,q,st,nt,ot,mt,Ct,kt,It,yt,Ft,$t,jt,Zt].join("|"),"ig"),!0},cP=function(e,t){return e!==void 0&&qO(e,t),Object.assign({},ae)};const $W=Phaser.Utils.Objects.GetValue;let _O=class{constructor(t){var i=$W(t,"delimiters","[]");this.tagRegex=cP(i),this.delimiters=i}getStrokeThinkness(t,i){var n;return i.hasOwnProperty("stroke")?n=t.strokeThickness:n=0,n}setDelimiters(t,i){return qO(t,i)&&(this.tagRegex=cP()),this}};var KW={splitText:BW,tagTextToProp:kW,propToContextStyle:GW,propToTagText:zW};Object.assign(_O.prototype,KW);class o5 extends a5{constructor(t,i,n,d,C){var r=new _O(C);super(t,i,n,d,C,"rexBBCodeText",r)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}At.register("BBCodeText",function(e,t,i,n){var d=new o5(this.scene,e,t,i,n);return this.scene.add.existing(d),d});wt(window,"RexPlugins.UI.BBCodeText",o5);var ZW={plainText:null,prevProp:null},JW=new s5;let QW=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var n=[],d=0;;){var C=ry.exec(t);if(!C)break;var r=C[0],x=ry.lastIndex-r.length;if(d<x&&n.push(t.substring(d,x)),i===void 0)n.push(r);else if(i===1){if(pP.test(r)){var s=r.match(gP);n.push(s[2])}else if(mP.test(r)){var s=r.match(xP);n.push(s[2])}}d=ry.lastIndex}var a=t.length;return d<a&&n.push(t.substring(d,a)),n}tagTextToProp(t,i){var n,d;if(pP.test(t)){var C=t.match(gP);if(C!=null){var r=C[1],x=this.tags;x.hasOwnProperty(r)?d=x[r]:d={},d._class=r,n=C[2]}}else if(mP.test(t)){var C=t.match(xP);if(C!=null){var s=C[1];d=jW(s),d._style=s,n=C[2]}}n==null&&(n=t),d==null&&(d={});var a=ZW;return a.plainText=n,a.prop=d,a}propToContextStyle(t,i){var n=JW;if(i.hasOwnProperty("img"))n.image=i.img;else{if(n.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var d=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];n.fontFamily=d}else n.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var C=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof C=="number"&&(C=`${C}px`),n.fontSize=C}else n.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var r=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];n.fontStyle=r}else n.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var x=i.hasOwnProperty("color")?i.color:i["font-color"];n.color=x}else n.color=t.color;if(i.hasOwnProperty("stroke")){var s=i.stroke;n.stroke=s.hasOwnProperty("color")?s.color:t.stroke,n.strokeThickness=s.hasOwnProperty("thickness")?s.thickness:t.strokeThickness}else n.stroke=t.stroke,n.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var a=i.shadow;n.shadowColor=a.hasOwnProperty("color")?a.color:t.shadowColor,n.shadowOffsetX=a.hasOwnProperty("offsetX")?a.offsetX:t.shadowOffsetX,n.shadowOffsetY=a.hasOwnProperty("offsetY")?a.offsetY:t.shadowOffsetY,n.shadowBlur=a.hasOwnProperty("blur")?a.blur:t.shadowBlur,n.shadowStroke=!0,n.shadowFill=!0}else n.shadowColor=t.shadowColor,n.shadowOffsetX=t.shadowOffsetX,n.shadowOffsetY=t.shadowOffsetY,n.shadowBlur=t.shadowBlur,n.shadowStroke=t.shadowStroke,n.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var g=i.hasOwnProperty("u")?i.u:i.underline;n.underlineColor=g.hasOwnProperty("color")?g.color:t.underlineColor,n.underlineThickness=g.hasOwnProperty("thickness")?g.thickness:t.underlineThickness,n.underlineOffset=g.hasOwnProperty("offset")?g.offset:t.underlineOffset}else n.underlineColor=t.underlineColor,n.underlineThickness=t.underlineThickness,n.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var c=i.hasOwnProperty("s")?i.s:i.strikethrough;n.strikethroughColor=c.hasOwnProperty("color")?c.color:t.strikethroughColor,n.strikethroughThickness=c.hasOwnProperty("thickness")?c.thickness:t.strikethroughThickness,n.strikethroughOffset=c.hasOwnProperty("offset")?c.offset:t.strikethroughOffset}else n.strikethroughColor=t.strikethroughColor,n.strikethroughThickness=t.strikethroughThickness,n.strikethroughOffset=t.strikethroughOffset;return n}getStrokeThinkness(t,i){var n;if(i.hasOwnProperty("stroke")){var d=i.stroke;n=d.hasOwnProperty("thickness")?d.thickness:t.strokeThickness}else n=t.strokeThickness;return n}propToTagText(t,i,n){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var jW=function(e){e=e.split(";");for(var t={},i,n,d,C=0,r=e.length;C<r;C++)if(i=e[C].split(":"),n=i[0],d=i[1],!(vP(n)||vP(d))){switch(n){case"stroke":var x=d.split(" "),s=x.length;d={},s>=1&&(d.color=x[0]),s>=2&&(d.thickness=parseInt(x[1].replace("px","")));break;case"shadow":var x=d.split(" "),s=x.length;d={},s>=1&&(d.color=x[0]),s>=2&&(d.offsetX=parseInt(x[1].replace("px",""))),s>=3&&(d.offsetY=parseInt(x[2].replace("px",""))),s>=4&&(d.blur=parseInt(x[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var x=d.split(" "),s=x.length;d={},s>=1&&(d.color=x[0]),s>=2&&(d.thickness=parseInt(x[1].replace("px",""))),s>=3&&(d.offset=parseInt(x[2].replace("px",""))),n==="underline"?n="u":n==="strikethrough"&&(n="s");break;case"y":d=parseFloat(d);break}t[n]=d}return t},vP=function(e){return e=e.replace(qW,""),e.length===0},ry=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,pP=/<\s*class=/i,gP=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,mP=/<\s*style=/i,xP=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,qW=/^\s+|\s+$/;const _W=Phaser.Utils.Objects.GetValue;class t8 extends a5{constructor(t,i,n,d,C){var r=_W(C,"tags",void 0),x=new QW(r);super(t,i,n,d,C,"rexTagText",x)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}At.register("tagText",function(e,t,i,n){var d=new t8(this.scene,e,t,i,n);return this.scene.add.existing(d),d});wt(window,"RexPlugins.UI.TagText",t8);const L3=Phaser.Utils.Objects.GetValue;var Mp=function(e,t){return t===void 0?e:e[t]},Bo=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var n=typeof t;return n==="string"?e[t]=i:n==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=L3(t,"left",0),e.right=L3(t,"right",0),e.top=L3(t,"top",0),e.bottom=L3(t,"bottom",0)),e};let l5=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(l5.prototype,m2);const t$={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},e$=Phaser.Math.RotateAround;var i$=function(e,t,i,n){return n===void 0?n={}:n===!0&&(ay===void 0&&(ay={}),n=ay),n.x=(e-i.drawX)/i.scaleX,n.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&e$(n,0,0,-i.rotation),n},ay;const s$=Phaser.Geom.Rectangle;var n$=function(e,t){if(this.width===0||this.height===0)return!1;var i=i$(e,t,this,!0);return r$(this).contains(i.x,i.y)},r$=function(e){F3===void 0&&(F3=new s$);var t=e.drawTLX,i=e.drawTLY;return F3.setTo(t,i,e.drawTRX-t,e.drawBLY-i),F3},F3;const a$=Phaser.Math.RotateAround;var e8=function(e,t,i,n){return n===void 0?n={}:n===!0&&(oy===void 0&&(oy={}),n=oy),n.x=t,n.y=i,e.rotation!==0&&a$(n,0,0,e.rotation),n.x=n.x*e.scaleX+e.drawX,n.y=n.y*e.scaleY+e.drawY,n},oy;const yP=Phaser.GameObjects.Components.TransformMatrix;var o$=function(e,t,i,n){n===void 0?n={}:n===!0&&(n=l$);var d=t-e.width*e.originX,C=i-e.height*e.originY;return od===void 0&&(od=new yP,SP=new yP),e.parentContainer?e.getWorldTransformMatrix(od,SP):od.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),od.transformPoint(d,C,n),n},od,SP,l$={},h$=function(e,t,i,n,d){var C=e8(t,i,n,!0),r=o$(e,C.x,C.y,d);return r},i8=function(e,t,i,n,d){typeof i!="number"&&(d=i,i=0,n=0);var C=t.drawCenterX+i,r=t.drawCenterY+n;return h$(e,t,C,r,d)},u$=function(e,t,i){return i8(this.parent,this,e,t,i)},s8={contains:n$,getWorldPosition:u$};Object.assign(s8,t$);const d$=Phaser.Math.DegToRad,f$=Phaser.Math.RadToDeg,B3=Phaser.Utils.Objects.GetValue;class j0 extends l5{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return f$(this._rotation)}set angle(t){this.rotation=d$(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=B3(t,"width",void 0),n=B3(t,"height",void 0),d=B3(t,"scaleX",void 0),C=B3(t,"scaleY",void 0);return i!==void 0?n===void 0&&C===void 0?this.setWidth(i,!0):this.setWidth(i):d!==void 0&&this.setScaleX(d),n!==void 0?i===void 0&&d===void 0?this.setHeight(n,!0):this.setHeight(n):C!==void 0&&this.setScaleY(C),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(j0.prototype,s8);var Ro=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const c0=Phaser.Utils.Objects.GetValue;class c$ extends j0{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(c0(i,"color",null),c0(i,"color2",null),c0(i,"horizontalGradient",!0)),this.setStroke(c0(i,"stroke",null),c0(i,"strokeThickness",2)),this.setCornerRadius(c0(i,"cornerRadius",0),c0(i,"cornerIteration",null))}set color(t){t=re(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=re(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=re(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Ro("color2",t,this),Ro("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ro("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Ro("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){e5(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Qa=Phaser.Utils.Objects.GetValue;class v$ extends j0{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(Qa(i,"color",null),Qa(i,"color2",null),Qa(i,"horizontalGradient",!0)),this.setStroke(Qa(i,"stroke",null),Qa(i,"strokeThickness",2))}set color(t){t=re(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=re(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,n){return n===void 0&&(n=!0),this.color=t,this.color2=i,this.horizontalGradient=n,this}set stroke(t){t=re(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Qa(t,"color2",null),Qa(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Qa(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,n=t.top,d=this.parent.width-t.left-t.right,C=this.parent.height-t.top-t.bottom,r=this.context;if(this.color!=null){var x;if(this.color2!=null){var s;this.horizontalGradient?s=r.createLinearGradient(0,0,d,0):s=r.createLinearGradient(0,0,0,C),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),x=s}else x=this.color;r.fillStyle=x,r.fillRect(i,n,d,C)}this.stroke!=null&&this.strokeThickness>0&&(r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.strokeRect(i,n,d,C))}}const wi=Phaser.Utils.Objects.GetValue;class y2{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(wi(t,"bold",!1)),this.setItalic(wi(t,"italic",!1)),this.setFontSize(wi(t,"fontSize","16px")),this.setFontFamily(wi(t,"fontFamily","Courier")),this.setColor(wi(t,"color","#fff")),this.setStrokeStyle(wi(t,"stroke",null),wi(t,"strokeThickness",0)),this.setShadow(wi(t,"shadowColor",null),wi(t,"shadowOffsetX",0),wi(t,"shadowOffsetY",0),wi(t,"shadowBlur",0)),this.setOffset(wi(t,"offsetX",0),wi(t,"offsetY",0)),this.setSpace(wi(t,"leftSpace",0),wi(t,"rightSpace",0)),this.setAlign(wi(t,"align",void 0)),this.setBackgroundColor(wi(t,"backgroundColor",null)),this.setBackgroundHeight(wi(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(wi(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(wi(t,"backgroundLeftX",0)),this.setBackgroundRightX(wi(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Ro("stroke",t,this),Ro("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Ro("shadowOffsetX",t,this),Ro("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new y2(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=re(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=re(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=re(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,n,d){return this.setShadowColor(t).setShadowOffset(i,n).setShadowBlur(d),this}setBackgroundColor(t){return this.backgroundColor=re(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,n=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=n?this.stroke:"#000",t.lineWidth=n?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var p$=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},g$=function(e,t){var i=this.padding,n=i.left,d=i.right,C=i.top,r=i.bottom;return Bo(i,e,t),this.dirty=this.dirty||n!=i.left||d!=i.right||C!=i.top||r!=i.bottom,this},m$=function(e){return Mp(this.padding,e)},x$=function(e){return this.textStyle.modify(e),this},y$=function(e){return this.defaultTextStyle.modify(e),this},S$=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},C$=function(e){return this.testString=e,this};const T$=Phaser.Utils.Array.Remove;var b$=function(e){return this.poolManager.free(e),T$(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},E$=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const w$=Phaser.Utils.Array.Remove;var P$=function(e){return w$(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},M$=function(){return this.setText(),this},A$=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const pa="text",n8="image",r8="drawer",a8="space",h5="command";var o8=function(e){return e.type===pa&&e.text===`
`},l8=function(e){return e.type===pa&&e.text==="\f"},R$=function(e){return e.type===pa&&e.text===" "},N0=function(e){return e.type===pa},O$=function(e){return e.type===h5};class h8 extends j0{constructor(t,i,n){super(t,pa),this.updateTextFlag=!1,this.style=new y2(this,n),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var n,d;"actualBoundingBoxAscent"in i?(n=i.actualBoundingBoxAscent,d=i.actualBoundingBoxDescent):(n=0,d=0),this.textHeight=n+d,this.ascent=n,this.descent=d}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var n=this.drawTLX+i.backgroundLeftX,d=this.drawTRX+i.backgroundRightX,C=n,r=d-n+1;if(r>0){var x=i.backgroundBottomY;x==null&&(x=this.drawBLY);var s=i.backgroundHeight;s==null&&(s=x-this.drawTLY);var a=x-s;t.fillRect(C,a,r,s)}}var g=i.hasFill,c=i.hasStroke;!g&&!c||(i.syncFont(t).syncStyle(t),c&&(i.syncShadow(t),t.strokeText(this.text,0,0)),g&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var D$=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(pa);return i===null?i=new h8(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},L$=function(e,t){t&&this.textStyle.modify(t);for(var i=[],n=0,d=e.length;n<d;n++){var C=e.charAt(n),r=this.poolManager.allocate(pa);r===null?r=new h8(this,C,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(C),i.push(r)}return i},Sf=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},F$=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Sf.call(this,e,t),this.dirty=!0,this},B$=function(e,t,i){var n=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(n,e),this},I$=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var n=this.getCharChildIndex(e,!0);if(n===void 0)break;this.removeChild(this.children[n])}return this},k$=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class G$ extends j0{constructor(t,i,n){super(t,n8),this.setTexture(i,n),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){QO(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var N$=function(e,t,i){var n=this.poolManager.allocate(n8);return n===null?n=new G$(this,e,t):n.setParent(this).setActive().setTexture(e,t),n.modifyPorperties(i),n},u8=function(e,t,i){var n=this.createImageChild(e,t,i);return this.addChild(n),this};class V$ extends j0{constructor(t,i,n,d){super(t,r8),this.setRenderCallback(i),this.setDrawerSize(n,d)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var z$=function(e,t,i){var n=this.poolManager.allocate(r8);return n===null?n=new V$(this,e,t,i):n.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),n},U$=function(e,t,i){var n=this.createDrawerChild(e,t,i);return this.addChild(n),this};let X$=class extends j0{constructor(t,i){super(t,a8),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var H$=function(e){var t=this.poolManager.allocate(a8);return t===null?t=new X$(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},d8=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class Y$ extends l5{constructor(t,i,n,d,C){super(t,h5),this.setName(i).setParameter(d).setCallback(n,C)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var W$=function(e,t,i,n){var d=this.poolManager.allocate(h5);return d===null?d=new Y$(this,e,t,i,n):d.setParent(this).setActive().setName(e).setCallback(t,n).setParameter(i),d},Kt=function(e,t,i,n){var d=this.createCommandChild(e,t,i,n);return this.addChild(d),this},$$=function(e){return e===void 0?e={}:typeof e=="object"&&(e=ts(e)),this.wrapConfig=e,this},f8=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const K$={none:0,word:1,char:2,character:2,mix:3};var Z$=function(e,t,i,n){n===void 0&&(n={word:[],width:0}),n.word.length=0;for(var d=i===2,C=i===3,r=!d&&!C,x=e.length,s=t,a=n.word,g=0,c=!1;s<x;){var h=e[s];if(!h.renderable){a.push(h),s++;continue}var l=h.type===pa?h.text:null;if(l===null||l===`
`||l==="\f"){s===t&&(a.push(h),g+=h.outerWidth);break}if(r){if(a.push(h),g+=h.outerWidth,l===" ")break;s++}else if(d){a.push(h),g+=h.outerWidth;break}else if(C)if(_d(l)){if(a.push(h),g+=h.outerWidth,l===" ")break;s++,c=!0}else{if(c)break;a.push(h),g+=h.outerWidth;var o=e[s+1];o&&o.type===pa&&o.text===" "&&(a.push(o),g+=o.outerWidth);break}}return n.width=g,n},c8=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.align!==void 0)return n.align}},v8=function(e,t,i){if(!(t===0&&i===0))for(var n=0,d=e.length;n<d;n++){var C=e[n];C.renderable&&(C.x+=t,C.y+=i)}},J$=function(e,t,i){for(var n=e.hAlign,d=e.vAlign,C=e.justifyPercentage,r=e.lines,x,s,a=0,g=r.length;a<g;a++){var c=r[a],h=c.width,l=c.children,o=c8(l);switch(o===void 0&&(o=n),o){case 0:case"left":x=0;break;case 1:case"center":var u=t-h;x=u/2;break;case 2:case"right":var u=t-h;x=u;break;case 3:case"justify":case"justify-left":var u=t-h,v=u/t;v<C&&ly(l,u),x=0;break;case 4:case"justify-center":var u=t-h,v=u/t;v<C?(ly(l,u),x=0):x=u/2;break;case 5:case"justify-right":var u=t-h,v=u/t;v<C?(ly(l,u),x=0):x=u;break;default:x=0;break}var f=e.linesHeight;switch(d){case 1:case"center":s=(i-f)/2;break;case 2:case"bottom":s=i-f;break;default:s=0;break}v8(l,x,s)}},ly=function(e,t){for(var i=t/e.length,n=0,d=e.length;n<d;n++){var C=e[n];C.renderable&&(C.x+=i*n)}},CP=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),I3.ascent=t,I3.descent=i,I3.height=t+i,I3},I3={};const Es=Phaser.Utils.Objects.GetValue;var Q$=function(e){var t=Es(e,"start",0);Bo(this.wrapPadding,Es(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,d=Es(e,"lineHeight"),C=Es(e,"ascent",d),r;if(d===void 0){var x=Es(e,"useDefaultTextHeight",!1);if(r=Es(e,"maxLines",0),this.fixedHeight>0&&!x){var q=this.fixedHeight-i;if(r>0)d=q/r;else{var s=CP.call(this);d=s.height,C=s.ascent,r=Math.floor((q-C)/d)}}else{var s=CP.call(this);d=s.height,C=s.ascent}}else if(this.fixedHeight>0){if(r=Es(e,"maxLines"),r===void 0){var q=this.fixedHeight-i;r=Math.floor(q/d)}}else r=Es(e,"maxLines",0);C===void 0&&(C=d);var a=r===0,g=Es(e,"wrapMode");if(g===void 0){var c=Es(e,"charWrap",!1);g=c?"char":"word"}typeof g=="string"&&(g=K$[g]);var h=Es(e,"wrapWidth",void 0);h===void 0&&(this.fixedWidth>0?h=this.fixedWidth-n:(h=1/0,g=0));for(var l=Es(e,"letterSpacing",0),o=Es(e,"hAlign",0),u=Es(e,"vAlign",0),v=Es(e,"justifyPercentage",.25),f=f8({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:r,hAlign:o,vAlign:u,justifyPercentage:v,ascent:C,lineHeight:d,wrapWidth:h,wrapMode:g}),p=this.children,m=0,y=p.length;m<y;m++)p[m].setActive(!1);h+=l;for(var S=this.padding.left+this.wrapPadding.left,T=this.padding.top+this.wrapPadding.top+C,b=S,P=T,w=h,A=t,R=p.length,D=f.children,L=f.lines,k=[],B=0,F=0,G,N=!1;A<R;){G=Z$(p,A,g,G);var W=G.word,X=W.length,$=G.width+X*l;A+=X;var J=o8(W[0]);N=l8(W[0]);var V=J||N;if(w<$||V){if(V){var Y=W[0];Y.setActive().setPosition(b,P),D.push(Y),k.push(Y)}b=S,P+=d,w=h,L.push({children:k,width:B}),F=Math.max(F,B),B=0,k=[];var z=N||!a&&L.length===r;if(z)break;if(V)continue}w-=$,B+=$;for(var m=0,y=W.length;m<y;m++){var K=W[m];K.setActive(),D.push(K),k.push(K),K.renderable&&(K.setPosition(b,P),b+=K.outerWidth+l)}}k.length>0&&(L.push({children:k,width:B}),F=Math.max(F,B)),f.start+=D.length,f.isLastPage=!N&&f.start===R,f.maxLineWidth=F,f.linesHeight=L.length*d;var H=this.fixedWidth>0?this.fixedWidth:f.maxLineWidth+n,Q=this.fixedHeight>0?this.fixedHeight:f.linesHeight+i,j=H-n,q=Q-i;J$(f,j,q),this.setCanvasSize(H,Q);for(var m=0,y=D.length;m<y;m++){var K=D[m];K.renderable&&(K.x0=K.x,K.y0=K.y)}return f};const j$=Phaser.Utils.Objects.Merge;var q$=function(e){return e===void 0&&(e={}),Q$.call(this,j$(e,this.wrapConfig))},_$=function(e,t,i){var n=e.hAlign,d=e.vAlign,C,r,x=e.rtl,s=e.lines,a=e.lineWidth,g=e.linesWidth;switch(n){case 1:case"center":C=(t-g)/2;break;case 2:case"right":C=t-g;break;default:C=0;break}x&&(C+=a);for(var c=0,h=s.length;c<h;c++){var l=s[x?h-c-1:c],o=l.children,u=l.height,v=c8(o);switch(v===void 0&&(v=d),v){case 1:case"center":r=(i-u)/2;break;case 2:case"bottom":r=i-u;break;default:r=0;break}v8(o,C,r),C+=a}};const en=Phaser.Utils.Objects.GetValue;var tK=function(e){var t=en(e,"start",0);Bo(this.wrapPadding,en(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,n=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,d=en(e,"lineWidth",void 0),C;if(d===void 0)if(C=en(e,"maxLines",0),this.fixedWidth>0){var J=this.fixedWidth-n;d=J/C}else d=0;else if(this.fixedWidth>0){if(C=en(e,"maxLines",void 0),C===void 0){var J=this.fixedWidth-n;C=Math.floor(J/d)+1}}else C=en(e,"maxLines",0);var r=C===0,x=en(e,"fixedCharacterHeight",void 0);if(x===void 0){var s=en(e,"charPerLine",void 0);if(s!==void 0){var V=this.fixedHeight-i;x=Math.floor(V/s)}}var a=en(e,"wrapHeight",void 0);a===void 0&&(this.fixedHeight>0?a=this.fixedHeight-i:a=1/0);for(var g=en(e,"letterSpacing",0),c=en(e,"rtl",!0),h=en(e,"hAlign",c?2:0),l=en(e,"vAlign",0),o=f8({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:g,maxLines:C,hAlign:h,vAlign:l,lineWidth:d,fixedCharacterHeight:x,wrapHeight:a,rtl:c}),u=this.children,v=0,f=u.length;v<f;v++)u[v].setActive(!1);a+=g;for(var p=this.padding.left+this.wrapPadding.left,m=this.padding.top+this.wrapPadding.top,y=p,S=m,T=a,b=t,P=u.length,w=o.children,A=o.lines,R=[],D=0,L=0;b<P;){var k=u[b];if(b++,!k.renderable){k.setActive(),w.push(k),R.push(k);continue}var B=(x!==void 0?x:k.height)+g,F=o8(k),G=l8(k),N=F||G;if(T<B||N){F&&(k.setActive().setPosition(y,S).setOrigin(.5),w.push(k),R.push(k)),y=p,S=m,T=a,A.push({children:R,height:D}),L=Math.max(L,D),D=0,R=[];var W=G||!r&&A.length===C;if(W)break;if(N)continue}T-=B,D+=B,k.setActive().setPosition(y,S).setOrigin(.5),w.push(k),R.push(k),S+=B}R.length>0&&(A.push({children:R,height:D}),L=Math.max(L,D)),o.start+=w.length,o.isLastPage=o.start===P,o.maxLineHeight=L,o.linesWidth=A.length*d;var X=this.fixedWidth>0?this.fixedWidth:o.linesWidth+n,$=this.fixedHeight>0?this.fixedHeight:o.maxLineHeight+i,J=X-n,V=$-i;_$(o,J,V),this.setCanvasSize(X,$);for(var v=0,f=w.length;v<f;v++){var k=w[v];k.renderable&&(k.x0=k.x,k.y0=k.y)}return o};const eK=Phaser.Utils.Objects.Merge;var iK=function(e){return e===void 0&&(e={}),tK.call(this,eK(e,this.wrapConfig))};const TP=Phaser.Utils.Objects.GetValue;var sK=function(e){var t=TP(this.wrapConfig,"callback");return t||(t=TP(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const nK={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},rK={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var aK=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},oK=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active)}),d=0,C=n.length;d<C;d++){var r=n[d],x;if(t?x=e.call(this,r,d,n):x=e(r,d,n),x)break}return this},lK=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active||!s.renderable||s.removed)}),d=0,C=n.length;d<C;d++){var r=n[d],x;if(t?x=e.call(this,r,d,n):x=e(r,d,n),x)break}return this},hK=function(e,t,i){i===void 0&&(i=!0);for(var n=this.children.filter(function(s){return!(i&&!s.active||!N0(s)||s.removed)}),d=0,C=n.length;d<C;d++){var r=n[d],x;if(t?x=e.call(this,r,d,n):x=e(r,d,n),x)break}return this},uK=function(){return this.children};const dK=Phaser.Utils.Array.GetAll;var fK=function(){return dK(this.children,"active",!0)},cK=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},vK=function(){return this.lastAppendedChildren},pK=function(e,t,i,n){typeof t!="number"&&(n=t,t=0,i=0);var d=e.drawCenterX+t,C=e.drawCenterY+i;return e8(e,d,C,n)};const gK=Phaser.Math.Distance.BetweenPointsSquared;var mK=function(e,t){var i={x:e,y:t},n=1/0,d=null;return this.forEachRenderableChild(function(C){var r=gK(i,pK(C,!0));n>r&&(n=r,d=C)}),d},xK=function(e,t,i,n){return typeof e=="number"&&(e=this.getCharChild(e,!0)),i8(this,e,t,i,n)},yK=function(){for(var e=this.children,t=0,i=0,n=0,d=e.length;n<d;n++){var C=e[n];if(!(!C.renderable||!C.active||!C.visible)){var r=C.x0!==void 0?C.x0:C.x,x=C.y0!==void 0?C.y0:C.y;t=Math.max(t,r),i=Math.max(i,x)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,a=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==a)&&(this.dirty=!0,this.setCanvasSize(s,a)),this},SK=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,d=i.length;n<d;n++){var C=i[n];if(!(t&&!C.active)&&N0(C)&&!C.removed){if(e===0)return n;e--}}},CK=function(e,t){t===void 0&&(t=!0);for(var i=this.children,n=0,d=i.length;n<d;n++){var C=i[n];if(!(t&&!C.active)&&N0(C)&&!C.removed){if(e===0)return C;e--}}},TK=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var n=0,d=0;d<e;d++){var C=i[d];t&&!C.active||N0(C)&&!C.removed&&n++}return n},bK=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},u5=function(n,t,i){for(var n=n,d=0,C=n.length;d<C;d++){var r=n[d];if(!(!r.active||!r.renderable)&&r.contains(t,i))return r}return null},EK=function(){return this.on("pointerdown",wK,this).on("pointerdown",PK,this).on("pointermove",hy,this).on("pointerover",hy,this).on("pointerout",function(e,t){hy.call(this,e,null,null,t)},this),this},wK=function(e,t,i,n){if(this.childrenInteractiveEnable){var d=u5(this.children,t,i);d&&this.emit("child.pointerdown",d,e,t,i,n)}},PK=function(e,t,i,n){if(this.childrenInteractiveEnable){var d=u5(this.children,t,i);d&&this.emit("child.pointerup",d,e,t,i,n)}},hy=function(e,t,i,n){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,n),this.lastOverChild=null);return}var d=u5(this.children,t,i);d!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,n),d!==null&&this.emit("child.pointerover",d,e,t,i,n),this.lastOverChild=d)}};const MK=Phaser.GameObjects.GameObject;var AK=function(e,t,i){var n=!!this.input;return MK.prototype.setInteractive.call(this,e,t,i),n||EK.call(this),this};const RK=Phaser.Utils.Array.BringToTop,OK=Phaser.Utils.Array.SendToBack,DK=Phaser.Utils.Array.MoveUp,LK=Phaser.Utils.Array.MoveDown,FK=Phaser.Utils.Array.MoveAbove,BK=Phaser.Utils.Array.MoveBelow,IK={moveChildToFist(e){return OK(this.children,e),this},moveChildToLast(e){return RK(this.children,e),this},movechildUp(e){return DK(this.children,e),this},movechildDown(e){return LK(this.children,e),this},movechildAbove(e,t){return FK(this.children,e,t),this},movechildBelow(e,t){return BK(this.children,e,t),this}},kK={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},GK={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var p8={setFixedSize:p$,setPadding:g$,getPadding:m$,modifyTextStyle:x$,modifyDefaultTextStyle:y$,resetTextStyle:S$,setTestString:C$,removeChild:b$,removeChildren:E$,popChild:P$,clearContent:M$,addChild:A$,createCharChild:D$,createCharChildren:L$,setText:F$,appendText:Sf,insertText:B$,removeText:I$,getText:k$,createImageChild:N$,appendImage:u8,createDrawerChild:z$,appendDrawer:U$,createSpaceChild:H$,appendSpace:d8,createCommandChild:W$,appendCommand:Kt,setWrapConfig:$$,runWordWrap:q$,runVerticalWrap:iK,runWrap:sK,renderContent:aK,forEachChild:oK,forEachRenderableChild:lK,forEachCharChild:hK,getChildren:uK,getActiveChildren:fK,getCharChildren:cK,getLastAppendedChildren:vK,getNearestChild:mK,getCharWorldPosition:xK,setToMinSize:yK,getCharChildIndex:SK,getCharChild:CK,getCharIndex:TK,setChildrenInteractiveEnable:bK,setInteractive:AK};Object.assign(p8,IK,kK,GK,nK,rK);const NK=Phaser.Utils.Objects.GetFastValue;var VK={};class zK{constructor(t){this.pools=NK(t,"pools",VK)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Or),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const uy=Phaser.Utils.Objects.IsPlainObject,rs=Phaser.Utils.Objects.GetValue;class _h extends Ho{constructor(t,i,n,d,C,r,x){uy(i)?(x=i,i=rs(x,"x",0),n=rs(x,"y",0),d=rs(x,"width",0),C=rs(x,"height",0),r=rs(x,"resolution",1)):uy(d)?(x=d,d=rs(x,"width",0),C=rs(x,"height",0),r=rs(x,"resolution",1)):uy(r)&&(x=r,r=rs(x,"resolution",1));var s=d===0?1:d,a=C===0?1:C;super(t,i,n,s,a,r),this.type="rexDynamicText",this.autoRound=!0,this.padding=Bo(),this.wrapPadding=Bo();var g=rs(x,"style",void 0);this.defaultTextStyle=new y2(null,g),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(rs(x,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new c$(this,rs(x,"background",void 0)),this.innerBounds=new v$(this,rs(x,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new zK(x),this.setFixedSize(d,C),this.setPadding(rs(x,"padding",0)),this.setWrapConfig(rs(x,"wrap",void 0)),this.setChildrenInteractiveEnable(rs(x,"childrenInteractive",!1));var c=rs(x,"text",void 0);c&&this.setText(c)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(_h.prototype,p8);At.register("dynamicText",function(e,t,i,n,d){var C=new _h(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.DynamicText",_h);const Cf={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},UK={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(h){var t=h.property,i=h.value,n=h.duration,d=h.delay,C=h.ease,r=h.repeat,x=h.yoyo,s=h.from,a=h.complete,g=h.target;if(n===void 0&&(n=1e3),d===void 0&&(d=0),C===void 0&&(C="Linear"),r===void 0&&(r=0),x===void 0&&(x=!1),g===void 0&&(g=this.gameObject),s){var c=i;i=g[t],g[t]=c}var h={targets:g,duration:n,delay:d,ease:C,repeat:r,yoyo:x,onComplete:a};return h[t]=i,this.addTweenTask(t,h),this},addTweenTask(e,t){var i=this.tweens,n=i[e];n&&n.remove();var d=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,d&&d(t.targets,e)},n=this.scene.tweens.add(t),n.timeScale=this.timeScale,i[e]=n,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},XK={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},HK={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class d5{constructor(t,i,n){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,n)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var n in i){var d=i[n];d&&(d.timeScale=t)}return this}}Object.assign(d5.prototype,UK,XK,HK);var Tf=function(e){for(var t in e)return!1;return!0},F0=function(e){return e&&e.charAt(0)!=="!"};const YK={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(F0(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var n=i;return n.forEach(function(d){t.push(d.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var n=this.bobs[i].gameObject,d;if(t?d=e.call(t,n,i,this):d=e(n,i,this),d)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var tf=function(e){return e>>16&255},ef=function(e){return e>>8&255},sf=function(e){return e&255},bP=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const WK=65535,$K=16711935,KK=16776960;var ZK=function(e,t){return(t&255)<<16|e&WK},JK=function(e,t){return(t&255)<<8|e&$K},QK=function(e,t){return t&255|e&KK},jK=function(e,t,i,n){return(t&255)<<16|(i&255)<<8|n&255},qK=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=tf(t),n=ef(t),d=sf(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(C){C=Math.floor(C)&16777215,e.setTint&&e.setTint(C),t!==C&&(t=C,i=tf(t),n=ef(t),d=sf(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(C){C=Math.floor(C)&255,i!==C&&(i=C,e.tint=ZK(t,C))}}),Object.defineProperty(e,"tintG",{get:function(){return n},set:function(C){C=Math.floor(C)&255,n!==C&&(n=C,e.tint=JK(t,C))}}),Object.defineProperty(e,"tintB",{get:function(){return d},set:function(C){C=Math.floor(C)&255,d!==C&&(d=C,e.tint=QK(t,C))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+n+d)/3)},set:function(C){C=Math.floor(C)&255,(i!==C||n!==C||d!==C)&&(i=C,n=C,d=C,e.tint=jK(t,C,C,C))}}),e.tint=t,e};const _K=Phaser.Events.EventEmitter;var tZ=function(e){if(e.events)return e;var t=new _K,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(r){i!==r&&(i=r,t.emit("update",e))}});var n=e.y;Object.defineProperty(e,"y",{get:function(){return n},set:function(r){n!==r&&(n=r,t.emit("update",e))}});var d=e.width;Object.defineProperty(e,"width",{get:function(){return d},set:function(r){d!==r&&(d=r,t.emit("update",e))}});var C=e.height;return Object.defineProperty(e,"height",{get:function(){return C},set:function(r){C!==r&&(C=r,t.emit("update",e))}}),e.events=t,e},eZ=function(e,t,i,n,d,C){return C===void 0?C={}:C===!0&&(C=iZ),typeof i!="number"&&(i=0,n=0),C.x=d.x+d.width*e+i,C.y=d.y+d.height*t+n,C},iZ={},sZ=function(e,t,i,n,d,C,r){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(r=i,i=void 0),typeof d=="function"&&(r=d,d=void 0),i===void 0&&(i=.5),n===void 0&&(n=.5),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=eZ),tZ(t);var x=t.events;e.vp=t;var s=function(){r(i,n,d,C,t,e)};x.on("update",s),e.once("destroy",function(){x.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(a){i!==a&&(i=a,s())}}),Object.defineProperty(e,"vpy",{get:function(){return n},set:function(a){n!==a&&(n=a,s())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return d},set:function(a){d!==a&&(d=a,s())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return C},set:function(a){C!==a&&(C=a,s())}}),s()},Ss=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},Ti=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,n=0,d=i.length;n<d;n++)e[i[n]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},nZ=function(e){if(Oe(e,"barrel"))return e;var t=Ss(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,Ti(e,"barrel"),e},hs=function(e,t,i){if(Oe(e,t))return e;var n=Ss(e);if(!n)return e;var d=`_${t}Effect`,C;return Object.defineProperty(e,t,{get:function(){return C},set:function(r){if(C!==r)if(C=r,C===null||C===!1)e[d]&&(n.remove(e[d]),e[d]=void 0);else{e[d]||(e[d]=n.addColorMatrix());var x=e[d];x[t](i===1?r:void 0)}}}),e[t]=null,Ti(e,t),e},rZ=function(e){return hs(e,"blackWhite"),e},aZ=function(e){if(Oe(e,"bloomColor"))return e;var t=Ss(e);if(!t)return e;var i,n=1,d=1,C=1,r=1,x=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,n,d,C,r,x),t.setPadding(Math.max(n,d)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return n},set:function(s){if(n!==s&&(n=s,e._bloom)){var a=Math.max(n,d);t.setPadding(a+1),e._bloom.offsetX=n}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return d},set:function(s){if(d!==s&&(d=s,e._bloom)){var a=Math.max(n,d);t.setPadding(a+1),e._bloom.offsetY=d}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return C},set:function(s){C!==s&&(C=s,e._bloom&&(e._bloom.blurStrength=C))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._bloom&&(e._bloom.strength=r))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return x},set:function(s){x!==s&&(x=s,e._bloom&&(e._bloom.steps=x))}}),e.bloomColor=null,Ti(e,"bloomColor"),e},oZ=function(e){if(Oe(e,"blurColor"))return e;var t=Ss(e);if(!t)return e;var i,n=0,d=1,C=1,r=1,x=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(n,d,C,r,i,x),t.setPadding(Math.max(d,C)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return n},set:function(s){n!==s&&(n=s,e._blur&&(e._blur.quality=n))}}),Object.defineProperty(e,"blurX",{get:function(){return d},set:function(s){if(d!==s&&(d=s,e._blur)){var a=Math.max(d,C);t.setPadding(a+1),e._blur.x=d}}}),Object.defineProperty(e,"blurY",{get:function(){return C},set:function(s){if(C!==s&&(C=s,e._blur)){var a=Math.max(d,C);t.setPadding(a+1),e._blur.y=C}}}),Object.defineProperty(e,"blurStrength",{get:function(){return r},set:function(s){r!==s&&(r=s,e._blur&&(e._blur.strength=r))}}),Object.defineProperty(e,"blurSteps",{get:function(){return x},set:function(s){x!==s&&(x=s,e._blur&&(e._blur.steps=x))}}),e.blurColor=null,Ti(e,"blurColor"),e},lZ=function(e){if(Oe(e,"bokehRadius"))return e;var t=Ss(e);if(!t)return e;var i,n=1,d=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(C){i!==C&&(i=C,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,n,d)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return n},set:function(C){n!==C&&(n=C,e._bokeh&&(e._bokeh.amount=n))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return d},set:function(C){d!==C&&(d=C,e._bokeh&&(e._bokeh.contrast=d))}}),e.bokehRadius=null,Ti(e,"bokehRadius"),e},hZ=function(e){return hs(e,"brightness",1),e},uZ=function(e){return hs(e,"brown"),e},dZ=function(e){if(Oe(e,"circleColor"))return e;var t=Ss(e);if(!t)return e;var i,n=8,d=0,C=.4,r=1,x=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(n,i,d,r,x),e.circleBackgroundAlpha=C),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return n},set:function(s){n!==s&&(n=s,e._circle&&(e._circle.thickness=n))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return d},set:function(s){d!==s&&(d=s,e._circle&&(e._circle.backgroundColor=d))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return C},set:function(s){C!==s&&(C=s,e._circle&&(e._circle.glcolor2[3]=C))}}),Object.defineProperty(e,"circleScale",{get:function(){return r},set:function(s){r!==s&&(r=s,e._circle&&(e._circle.scale=r))}}),Object.defineProperty(e,"circleFeather",{get:function(){return x},set:function(s){x!==s&&(x=s,e._circle&&(e._circle.feather=x))}}),e.circleColor=null,Ti(e,"circleColor"),e},fZ=function(e){return hs(e,"contrast",1),e},cZ=function(e){return hs(e,"desaturate",1),e},vZ=function(e){return hs(e,"desaturateLuminance"),e},pZ=function(e){if(Oe(e,"displacementKey"))return e;var t=Ss(e);if(!t)return e;var i,n=.005,d=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(C){i!==C&&(i=C,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,n,d)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return n},set:function(C){n!==C&&(n=C,e._displacement&&(e._displacement.x=n))}}),Object.defineProperty(e,"displacementY",{get:function(){return d},set:function(C){d!==C&&(d=C,e._displacement&&(e._displacement.y=d))}}),e.displacementKey=null,Ti(e,"displacementKey"),e},gZ=function(e){if(Oe(e,"glowColor"))return e;var t=Ss(e);if(!t)return e;var i,n=4,d=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(C){i!==C&&(i=C,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,n,d),t.setPadding(n+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return n},set:function(C){n!==C&&(n=C,e._glow&&(t.setPadding(n+1),e._glow.outerStrength=n))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return d},set:function(C){d!==C&&(d=C,e._glow&&(e._glow.innerStrength=d))}}),e.glowColor=null,Ti(e,"glowColor"),e},mZ=function(e){if(Oe(e,"gradientColor"))return e;var t=Ss(e);if(!t)return e;var i,n,d=.5,C=0,r=0,x=0,s=1,a=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,n]},set:function(g){var c,h;g===null||g===!1?(c=null,h=null):(c=g[0],h=g[1]),!(i===c&&n===h)&&(i=c,n=h,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,n,d,C,r,x,s,a)),e._gradient.color1=i,e._gradient.color2=n))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(g){if(g===null||g===!1){e.gradientColor=g;return}i!==g&&(i=g,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return n},set:function(g){if(g===null||g===!1){e.gradientColor=g;return}n!==g&&(n=g,e._gradient&&(e._gradient.color2=n))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return d},set:function(g){d!==g&&(d=g,e._gradient&&(e._gradient.alpha=d))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return C},set:function(g){C!==g&&(C=g,e._gradient&&(e._gradient.fromX=C))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return r},set:function(g){r!==g&&(r=g,e._gradient&&(e._gradient.fromY=r))}}),Object.defineProperty(e,"gradientToX",{get:function(){return x},set:function(g){x!==g&&(x=g,e._gradient&&(e._gradient.toX=x))}}),Object.defineProperty(e,"gradientToY",{get:function(){return s},set:function(g){s!==g&&(s=g,e._gradient&&(e._gradient.toY=s))}}),Object.defineProperty(e,"gradientSize",{get:function(){return a},set:function(g){a!==g&&(a=g,e._gradient&&(e._gradient.size=a))}}),e.gradientColor=null,Ti(e,"gradientColor"),e},xZ=function(e){return hs(e,"grayscale",1),e},yZ=function(e){return hs(e,"hue",1),e},SZ=function(e){return hs(e,"kodachrome"),e},CZ=function(e){return hs(e,"lsd"),e},TZ=function(e){return hs(e,"negative"),e},bZ=function(e){if(Oe(e,"pixelate"))return e;var t=Ss(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,Ti(e,"pixelate"),e},EZ=function(e){return hs(e,"polaroid"),e},wZ=function(e){if(Oe(e,"revealLeft"))return e;var t=Ss(e);if(!t)return e;var i,n,d,C,r=.1,x=function(){i=null,n=null,d=null,C=null},s=function(a){a._revealEffect&&(t.remove(a._revealEffect),a._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(a){i!==a&&(x(),i=a,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return n},set:function(a){n!==a&&(x(),n=a,n===null||n===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=n))}}),Object.defineProperty(e,"revealUp",{get:function(){return d},set:function(a){d!==a&&(x(),d=a,d===null||d===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=d))}}),Object.defineProperty(e,"revealDown",{get:function(){return C},set:function(a){C!==a&&(x(),C=a,C===null||C===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=C))}}),Object.defineProperty(e,"revealWidth",{get:function(){return r},set:function(a){r!==a&&(r=a,e._revealEffect&&(e._revealEffect.wipeWidth=r))}}),e.revealLeft=null,Ti(e,"revealLeft"),Ti(e,"revealRight"),Ti(e,"revealUp"),Ti(e,"revealDown"),e},PZ=function(e){return hs(e,"saturate",1),e},MZ=function(e){return hs(e,"sepia"),e},AZ=function(e){if(Oe(e,"shadowColor"))return e;var t=Ss(e);if(!t)return e;var i,n=0,d=0,C=.1,r=1,x=6,s=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(a){i!==a&&(i=a,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(n,d,C,r,i,x,s)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return n},set:function(a){n!==a&&(n=a,e._shadow&&(e._shadow.x=n))}}),Object.defineProperty(e,"shadowY",{get:function(){return d},set:function(a){d!==a&&(d=a,e._shadow&&(e._shadow.y=d))}}),Object.defineProperty(e,"decay",{get:function(){return C},set:function(a){C!==a&&(C=a,e._shadow&&(e._shadow.decay=C))}}),Object.defineProperty(e,"shadowPower",{get:function(){return r},set:function(a){r!==a&&(r=a,e._shadow&&(e._shadow.power=r))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return x},set:function(a){x!==a&&(x=a,e._shadow&&(e._shadow.samples=x))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return s},set:function(a){s!==a&&(s=a,e._shadow&&(e._shadow.intensity=s))}}),e.shadowColor=null,Ti(e,"shadowColor"),e},RZ=function(e){return hs(e,"shiftToBGR"),e},OZ=function(e){if(Oe(e,"shineSpeed"))return e;var t=Ss(e);if(!t)return e;var i,n=.5,d=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(C){i!==C&&(i=C,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,n,d)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return n},set:function(C){n!==C&&(n=C,e._shine&&(e._shine.lineWidth=n))}}),Object.defineProperty(e,"shineGradient",{get:function(){return d},set:function(C){d!==C&&(d=C,e._shine&&(e._shine.gradient=d))}}),e.shineSpeed=null,Ti(e,"shineSpeed"),e},DZ=function(e){return hs(e,"technicolor"),e},LZ=function(e){if(Oe(e,"tiltShiftRadius"))return e;var t=Ss(e);if(!t)return e;var i,n=1,d=.2,C=1,r=1,x=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,n,d,C,r,x)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return n},set:function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.amount=n))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return d},set:function(s){d!==s&&(d=s,e._tiltShift&&(e._tiltShift.contrast=d))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return C},set:function(s){C!==s&&(C=s,e._tiltShift&&(e._tiltShift.blurX=C))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return r},set:function(s){r!==s&&(r=s,e._tiltShift&&(e._tiltShift.blurY=r))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return x},set:function(s){x!==s&&(x=s,e._tiltShift&&(e._tiltShift.strength=x))}}),e.tiltShiftRadius=null,Ti(e,"tiltShiftRadius"),e},FZ=function(e){if(Oe(e,"vignetteRadius"))return e;var t=Ss(e);if(!t)return e;var i,n=.5,d=.5,C=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(n,d,i,C)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return n},set:function(r){n!==r&&(n=r,e._vignette&&(e._vignette.x=n))}}),Object.defineProperty(e,"vignetteY",{get:function(){return d},set:function(r){d!==r&&(d=r,e._vignette&&(e._vignette.y=d))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return C},set:function(r){C!==r&&(C=r,e._vignette&&(e._vignette.strength=C))}}),e.vignetteRadius=null,Ti(e,"vignetteRadius"),e},BZ=function(e){return hs(e,"vintagePinhole"),e},IZ=function(e){if(Oe(e,"wipeLeft"))return e;var t=Ss(e);if(!t)return e;var i,n,d,C,r=.1,x=function(){i=null,n=null,d=null,C=null},s=function(a){a._wipeEffect&&(t.remove(a._wipeEffect),a._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(a){i!==a&&(x(),i=a,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return n},set:function(a){n!==a&&(x(),n=a,n===null||n===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=n))}}),Object.defineProperty(e,"wipeUp",{get:function(){return d},set:function(a){d!==a&&(x(),d=a,d===null||d===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=d))}}),Object.defineProperty(e,"wipeDown",{get:function(){return C},set:function(a){C!==a&&(x(),C=a,C===null||C===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=C))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return r},set:function(a){r!==a&&(r=a,e._wipeEffect&&(e._wipeEffect.wipeWidth=r))}}),e.wipeLeft=null,Ti(e,"wipeLeft"),Ti(e,"wipeRight"),Ti(e,"wipeUp"),Ti(e,"wipeDown"),e};const k3={barrel:nZ,blackWhite:rZ,bloom:aZ,blur:oZ,bokeh:lZ,brightness:hZ,brown:uZ,circle:dZ,contrast:fZ,desaturate:cZ,desaturateLuminance:vZ,displacement:pZ,glow:gZ,gradient:mZ,grayscale:xZ,hue:yZ,kodachrome:SZ,lsd:CZ,negative:TZ,pixelate:bZ,polaroid:EZ,reveal:wZ,saturate:PZ,sepia:MZ,shadow:AZ,shiftToBGR:RZ,shine:OZ,technicolor:DZ,tiltShift:LZ,vignette:FZ,vintagePinhole:BZ,wipe:IZ};var tu=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},n=0,d=i.length;n<d;n++)t[i[n]]=!0;if(t===!0)for(var C in k3)k3[C](e);else for(var C in t)t[C]&&k3[C]&&k3[C](e);return e};const kZ=Phaser.Utils.Array.Remove,GZ={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&qK(t),this.viewportCoordinateEnable&&sZ(t,this.viewport),this.effectPropertiesConfig&&tu(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){kZ(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,n=this.createGameObjectScope,d=i.call(n,this.scene,...t);this.addGO(e,d),this.gameObjectDepth!=null&&d.setDepth(this.gameObjectDepth);var C=this.get(e);return this.fadeBob(C,0,1),this}},NZ={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=this;return i.forEach(function(d){delete n.bobs[d.name];var C=d.gameObject;n.removedGOs.push(C),C.setName(),t?d.destroy():n.fadeBob(d,void 0,0,function(){d.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},VZ={hasProperty(e,t){var i=F0(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=F0(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),n.forEach(function(d){d.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var n=t.value,d=t.property;return this.symbols&&typeof n=="string"&&this.isNumberProperty(e,d)&&n in this.symbols&&(t.value=this.symbols[n]),i.forEach(function(C){C.easeProperty(t)}),this},hasTweenTask(e,t){var i=F0(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=F0(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},zZ={hasMethod(e,t){var i=F0(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(d){d.call(t,...i)}),this}},UZ={hasData(e,t){var i=F0(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var n=this.get(e);if(n)Array.isArray(n)||(n=[n]);else return this;return n.forEach(function(d){d.setData(t,i)}),this}},g8=0,m8=1,a4=2,x8=3,y8=4,o4=5,XZ={tint:g8,alpha:m8,revealUp:a4,revealDown:x8,revealLeft:y8,revealRight:o4},HZ={setGOFadeMode(e){return typeof e=="string"&&(e=XZ[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===g8)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===m8)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=a4&&this.fadeMode<=o4&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,n){var d=e.gameObject;if(this.useTintFadeEffect(d))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useAlphaFadeEffect(d))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n});else if(this.useRevealEffect(d)){tu(d,"reveal");var C;switch(this.fadeMode){case a4:C="revealUp";break;case x8:C="revealDown";break;case y8:C="revealLeft";break;case o4:C="revealRight";break}t===void 0&&(t=0),d[C]=t,e.easeProperty({property:C,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:n}),e.getTweenTask(C).once("complete",function(){d[C]=null})}else n&&n(d);return this}};var De=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},Le=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const EP=Phaser.Geom.Rectangle,Lr=Phaser.Math.Vector2,YZ=Phaser.Math.RotateAround,WZ=Phaser.GameObjects.Container;var f5=function(e,t){if(t===void 0?t=new EP:t===!0&&(dy===void 0&&(dy=new EP),t=dy),e.getBounds&&!(e instanceof WZ))return e.getBounds(t);var i,n,d,C,r,x,s,a;if(e.parentContainer){var g=e.parentContainer.getBoundsTransformMatrix();B0(e,t),g.transformPoint(t.x,t.y,t),i=t.x,n=t.y,nf(e,t),g.transformPoint(t.x,t.y,t),d=t.x,C=t.y,rf(e,t),g.transformPoint(t.x,t.y,t),r=t.x,x=t.y,l4(e,t),g.transformPoint(t.x,t.y,t),s=t.x,a=t.y}else B0(e,t),i=t.x,n=t.y,nf(e,t),d=t.x,C=t.y,rf(e,t),r=t.x,x=t.y,l4(e,t),s=t.x,a=t.y;return t.x=Math.min(i,d,r,s),t.y=Math.min(n,C,x,a),t.width=Math.max(i,d,r,s)-t.x,t.height=Math.max(n,C,x,a)-t.y,t},dy=void 0,B0=function(e,t,i){return t===void 0?t=new Lr:t===!0&&(Ds===void 0&&(Ds=new Lr),t=Ds),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-De(e)*e.originX,t.y=e.y-Le(e)*e.originY,bf(e,t,i))},nf=function(e,t,i){return t===void 0?t=new Lr:t===!0&&(Ds===void 0&&(Ds=new Lr),t=Ds),e.getTopRight?e.getTopRight(t):(t.x=e.x-De(e)*e.originX+De(e),t.y=e.y-Le(e)*e.originY,bf(e,t,i))},rf=function(e,t,i){return t===void 0?t=new Lr:t===!0&&(Ds===void 0&&(Ds=new Lr),t=Ds),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-De(e)*e.originX,t.y=e.y-Le(e)*e.originY+Le(e),bf(e,t,i))},l4=function(e,t,i){return t===void 0?t=new Lr:t===!0&&(Ds===void 0&&(Ds=new Lr),t=Ds),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-De(e)*e.originX+De(e),t.y=e.y-Le(e)*e.originY+Le(e),bf(e,t,i))},wP=function(e,t,i){t===void 0?t=new Lr:t===!0&&(Ds===void 0&&(Ds=new Lr),t=Ds);var n=De(e),d=Le(e);return t.x=e.x+n*(.5-e.originX),t.y=e.y+d*(.5-e.originY),bf(e,t,i)},Ds=void 0,bf=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&YZ(t,e.x,e.y,e.rotation),i&&e.parentContainer){var n=e.parentContainer.getBoundsTransformMatrix();n.transformPoint(t.x,t.y,t)}return t};const ld=Phaser.Utils.Objects.GetValue;var S8=function(e,t,i){var n,d,C,r,x;if(typeof i=="number"?n=i:(n=ld(i,"color"),d=ld(i,"lineWidth"),C=ld(i,"fillColor"),r=ld(i,"fillAlpha",1),x=ld(i,"padding",0)),Array.isArray(e))for(var s=0,a=e.length;s<a;s++)PP(e[s],t,n,d,C,r,x);else PP(e,t,n,d,C,r,x)},PP=function(e,t,i,n,d,C,r){var x=e.getBounds||e.width!==void 0&&e.height!==void 0;if(x){i===void 0&&(i=16777215),n===void 0&&(n=1),d===void 0&&(d=null),C===void 0&&(C=1),r===void 0&&(r=0);var s=B0(e,eh[0]);s.x-=r,s.y-=r;var a=nf(e,eh[1]);a.x+=r,a.y-=r;var g=l4(e,eh[2]);g.x+=r,g.y+=r;var c=rf(e,eh[3]);c.x-=r,c.y+=r,d!==null&&t.fillStyle(d,C).fillPoints(eh,!0,!0),i!==null&&t.lineStyle(n,i).strokePoints(eh,!0,!0)}},eh=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],$Z=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):S8(i,e,t)}),this},C8=function(e,t){var i=e.cameras,n;if(t===void 0)n=i.main;else{var d=typeof t;switch(d){case"string":n=i.getCamera(t);break;case"number":n=i.cameras[t];break;default:n=t;break}}return n};const KZ={setCamera(e,t){var i=this.get(e);if(!i)return this;var n=C8(this.scene,t);return n?(i.gameObject.cameraFilter=4294967295^n.id,i.camera=n,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var T8={drawGameObjectsBounds:$Z};Object.assign(T8,YK,GZ,NZ,VZ,zZ,UZ,HZ,KZ);const ZZ=Phaser.Cameras.Scene2D.BaseCamera;var JZ=function(e){return e instanceof ZZ};const b8=Phaser.Geom.Rectangle;var eu=function(e,t,i){return JZ(t)||(i=t,t=void 0),i===void 0?i=new b8:i===!0&&(i=QZ),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},QZ=new b8;const Ns=Phaser.Utils.Objects.GetValue;class Kh{constructor(t,i){this.scene=t,this.BobClass=Ns(i,"BobClass",d5),this.setCreateGameObjectCallback(Ns(i,"createGameObject"),Ns(i,"createGameObjectScope")),this.setEventEmitter(Ns(i,"eventEmitter",void 0)),this.setGameObjectDepth(Ns(i,"depth",void 0));var n=Ns(i,"fade",500);typeof n=="number"?(this.setGOFadeMode(),this.setGOFadeTime(n)):(this.setGOFadeMode(Ns(n,"mode")),this.setGOFadeTime(Ns(n,"time",500)));var d=Ns(i,"viewportCoordinate",!1);d!==!1?(this.setViewportCoordinateEnable(Ns(i,"enable",!0)),this.setViewport(Ns(d,"viewport"))):this.setViewportCoordinateEnable(!1);var C=Ns(i,"effectProperties",!1);this.setEffectPropertiesConfig(C),this.setSymbols(Ns(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=Ns(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var n in i)i[n].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=eu(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Tf(this.bobs)&&this.removedGOs.length===0}}Object.assign(Kh.prototype,Cf,T8);const jZ=Phaser.GameObjects.GameObject,qZ=Phaser.GameObjects.Layer;var $s=function(e){return e instanceof jZ||e instanceof qZ};const _Z=Phaser.GameObjects.Layer;var Ud=function(e){return e instanceof _Z},E8=function(e){var t=e.displayList;return Ud(t)?t:null},On=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,n=0,d=e.length;n<d;n++){var C=e[n];if(C.displayList?i=C.displayList:C.parentContainer&&(i=C.parentContainer.list),i)break}return i||(i=C.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(r,x){return i.indexOf(x)-i.indexOf(r)}):e.sort(function(r,x){return i.indexOf(r)-i.indexOf(x)}),e};const tJ={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),On(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var n=0,d=t.length;n<d;n++){var C=t[n];C.isRexContainerLite?C.addToLayer(i):i.add(C)}return i.scrollFactorX!==void 0&&C.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var n=this.getGO(e);if(!n){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(n,i):(n.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var n=i.getAll(),d=0,C=n.length;d<C;d++)n[d].destroy();else i.removeAll();return this}},eJ={setScrollFactor(e,t,i){i===void 0&&(i=t);var n=this.getLayer(e);if(!n)return this;n.scrollFactorX=t,n.scrollFactorY=i;for(var d=n.getAll(),C=0,r=d.length;C<r;C++)d[C].setScrollFactor(t,i);return this}},S2=Phaser.Utils.Array,iJ=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(S2.BringToTop(e,this),this):this},sJ=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(S2.SendToBack(e,this),this):this},w8=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(S2.MoveBelow(t,this,e),this):this},P8=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(S2.MoveAbove(t,this,e),this):this},G3={bringMeToTop:iJ,sendMeToBack:sJ,moveMyDepthBelow:w8,moveMyDepthAbove:P8},nJ={bringLayerToTop(e){var t=this.getLayer(e);return t?(G3.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(G3.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(G3.moveMyDepthBelow.call(i,n),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),n=this.getLayer(t);return!i||!n?this:(G3.moveMyDepthAbove.call(i,n),this)}},rJ=Kh.prototype.setCamera,aJ={setCamera(e,t){var i=C8(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),rJ.call(this,e,i),this}};var M8={};Object.assign(M8,tJ,eJ,nJ,aJ);const N3=Phaser.Utils.Objects.GetValue;class C2 extends Kh{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var n=N3(i,"rootLayer");this.setRootLayer(n);var d=N3(i,"layers");if(d)for(var C=0,r=d.length;C<r;C++){var x=d[C];if(typeof x=="string")this.add(x);else{var s=x.name;this.add(s);var a=x.scrollFactor,g=N3(x,"scrollFactorX",a),c=N3(x,"scrollFactorY",a);g!==void 0&&this.setScrollFactor(s,g,c),this.setCamera(s,x.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=oJ),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if($s(t)){var n=E8(t);if(!n||(t=n.name,!t))return}return super.get(t,i)}}var oJ=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(C2.prototype,M8);var lJ=function(e){return G0(e)?e.sys.sound:e.sound},hJ=function(e){return this.sound.game.cache.audio.has(e)},iu=function(e){return e==null||typeof e!="object"?null:G0(e)?e:e.scene&&G0(e.scene)?e.scene:e.parent&&e.parent.scene&&G0(e.parent.scene)?e.parent.scene:null};const uJ=Phaser.Utils.Objects.GetValue;class ai{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(uJ(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=iu(t),this.game=X0(t),this}}Object.assign(ai.prototype,Cf);const dJ=Phaser.Utils.Objects.GetValue;class T2 extends ai{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(dJ(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=fJ[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const fJ={no:0,lazy:1,always:2},cJ=Phaser.Utils.Objects.GetValue;class vJ extends T2{constructor(t,i){super(t,i);var n=this.scene?"update":"step";this.tickEventName=cJ(i,"tickEventName",n),this.isSceneTicker=!pJ(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var pJ=function(e){return e==="step"||e==="poststep"};const _r=Phaser.Utils.Objects.GetValue,MP=Phaser.Math.Clamp;let A8=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=_r(t,"state",hd),this.timeScale=_r(t,"timeScale",1),this.delay=_r(t,"delay",0),this.repeat=_r(t,"repeat",0),this.repeatCounter=_r(t,"repeatCounter",0),this.repeatDelay=_r(t,"repeatDelay",0),this.duration=_r(t,"duration",0),this.nowTime=_r(t,"nowTime",0),this.justRestart=_r(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?ih:ud,this.repeatCounter=0,this}stop(){return this.state=hd,this}update(t,i){this.state===hd||this.state===V3||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=AP)):(this.nowTime=this.duration,this.state=V3):this.nowTime>=0&&(this.state=ih))}get t(){var t;switch(this.state){case hd:case ud:case AP:t=0;break;case ih:t=this.nowTime/this.duration;break;case V3:t=1;break}return MP(t,0,1)}set t(t){t=MP(t,-1,1),t<0?(this.state=ud,this.nowTime=-this.delay*t):(this.state=ih,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===hd}get isDelay(){return this.state===ud}get isCountDown(){return this.state===ih}get isRunning(){return this.state===ud||this.state===ih}get isDone(){return this.state===V3}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const hd=0,ud=1,ih=2,AP=3,V3=-1;class gJ extends vJ{constructor(t,i){super(t,i),this.timer=new A8}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const dd=Phaser.Utils.Objects.GetValue,RP=Phaser.Utils.Objects.GetAdvancedValue,mJ=Phaser.Tweens.Builders.GetEaseFunction;class q0 extends gJ{resetFromJSON(t){return this.timer.resetFromJSON(dd(t,"timer")),this.setEnable(dd(t,"enable",!0)),this.setTarget(dd(t,"target",this.parent)),this.setDelay(RP(t,"delay",0)),this.setDuration(RP(t,"duration",1e3)),this.setEase(dd(t,"ease","Linear")),this.setRepeat(dd(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=mJ(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var n=this.target,d=this.timer;return d.update(t,i),d.isDelay||this.updateTarget(n,d),this.emit("update",n,this),d.isDone&&this.complete(),this}updateTarget(t,i){}}const xJ=Phaser.Sound.BaseSound;var c5=function(e){return e instanceof xJ};const OP=Phaser.Utils.Objects.GetValue,DP=Phaser.Utils.Objects.GetAdvancedValue,yJ=Phaser.Math.Linear;let R8=class extends q0{constructor(t,i,n){c5(t)&&(n=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,n),this.volume={},this.resetFromJSON(n)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(OP(t,"mode",0)),this.setEnable(OP(t,"enable",!0)),this.setVolumeRange(DP(t,"volume.start",this.parent.volume),DP(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=SJ[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=yJ(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const SJ={stop:1,destroy:2};var b2=function(e,t,i,n,d){c5(e)&&(d=n,n=i,i=t,t=e,e=void 0),n===void 0&&(n=1),d===void 0&&(d=0);var C={mode:0,volume:{start:d,end:n},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var r;return t.hasOwnProperty("_fade")?(r=t._fade,r.stop().resetFromJSON(C)):(r=new R8(e,t,C),t._fade=r),r.start(),t.isPlaying||t.setVolume(d).play(),t},Zh=function(e,t,i,n){c5(e)&&(n=i,i=t,t=e,e=void 0),n===void 0&&(n=!0);var d={mode:n?2:1,volume:{start:t.volume,end:0},duration:i},C;return t.hasOwnProperty("_fade")?(C=t._fade,C.stop().resetFromJSON(d)):(C=new R8(e,t,d),t._fade=C),C.start(),t.isPlaying||t.play(),t};const fd=Phaser.Utils.Objects.GetValue,CJ={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:fd(t,"loop",this.backgroundMusicLoop),mute:fd(t,"mute",this.backgroundMusicMute),volume:fd(t,"volume",this.backgroundMusicVolume),detune:fd(t,"detune",0),rate:fd(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&b2(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Zh(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},cd=Phaser.Utils.Objects.GetValue,TJ={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:cd(t,"loop",this.backgroundMusicLoop),mute:cd(t,"mute",this.backgroundMusic2Mute),volume:cd(t,"volume",this.backgroundMusic2Volume),detune:cd(t,"detune",0),rate:cd(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&b2(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Zh(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},LP=Phaser.Utils.Array.Remove,z3=Phaser.Utils.Objects.GetValue,bJ={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:z3(t,"mute",this.soundEffectsMute),volume:z3(t,"volume",this.soundEffectsVolume),detune:z3(t,"detune",0),rate:z3(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&LP(this.soundEffects,i)},this).once("destroy",function(){this.sound&&LP(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&b2(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Zh(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Zh(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,d=i.length;n<d;n++)i[n].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var n=0,d=i.length;n<d;n++)i[n].setRate(e);return this}},FP=Phaser.Utils.Array.Remove,U3=Phaser.Utils.Objects.GetValue,EJ={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:U3(t,"mute",this.soundEffects2Mute),volume:U3(t,"volume",this.soundEffects2Volume),detune:U3(t,"detune",0),rate:U3(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&FP(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&FP(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&b2(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Zh(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Zh(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,d=i.length;n<d;n++)i[n].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var n=0,d=i.length;n<d;n++)i[n].setRate(e);return this}};var O8={hasAudio:hJ};Object.assign(O8,CJ,TJ,bJ,EJ);const Tn=Phaser.Utils.Objects.GetValue;class D8{constructor(t,i){this.sound=lJ(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Tn(i,"bgm.volume",1),this._backgroundMusicMute=Tn(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Tn(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Tn(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Tn(i,"bgm2.volume",1),this._backgroundMusic2Mute=Tn(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Tn(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Tn(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Tn(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Tn(i,"soundEffect2.volume",1);var n=Tn(i,"bgm.initial",void 0);n&&this.setCurrentBackgroundMusic(n);var d=Tn(i,"bgm2.initial",void 0);d&&this.setCurrentBackgroundMusic2(d)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,n=0,d=i.length;n<d;n++)i[n].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,n=0,d=i.length;n<d;n++)i[n].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,n=0,d=soundEffects2.length;n<d;n++)i[n].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,n=0,d=i.length;n<d;n++)i[n].setVolume(t)}}Object.assign(D8.prototype,O8);const fy=Phaser.Utils.Objects.GetValue;class wJ extends T2{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=fy(t,"isRunning",!1),this.timeScale=fy(t,"timeScale",1),this.now=fy(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class L8 extends wJ{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var Qe=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const BP=Phaser.Math.Clamp;class PJ{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,n,d){return this.target=t,this.onStart=i,this.onProgress=n,this.onComplete=d,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=BP(t,0,1),this.yoyo&&(t=Qe(t)),t}setProgress(t){t=BP(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var n=this.remainder<=0;return n&&this.runCallback(this.onComplete),n}}let MJ=class extends Or{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,n=t.length;i<n;i++)this.free(t[i]);return this}};const AJ=Phaser.Utils.Objects.GetValue,RJ=new MJ;class OJ extends L8{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=AJ(i,"pool",RJ)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new PJ(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,n,d){var C=this.addTimer({duration:t,onComplete:function(r,x,s){n===void 0&&(n=[]),n.push(s),i.apply(d,n)}});return C}delayEvent(t,i){this.removeDelayEvent(i);var n=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){n.remove(),n=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],n=[this.addedTimers,this.timers],d=0,C=n.length;d<C;d++)for(var r=n[d],x=0,s=r.length;x<s;x++){var a=r[x];a.name===t&&i.push(a)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var n=[],d=0,C=this.timers.length;d<C;d++){var r=this.timers[d],x=r.update(this.now,this.delta);x?this.timerPool.free(r):n.push(r)}this.timers=n,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const DJ="_wait.complete",LJ="_remove.wait";var FJ=function(e,t,i,n,d){var C=iu(e),r=C.time.delayedCall(t,function(){C.sys.events.once("preupdate",function(){i.call(n,d)})});return r};let F8=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=DJ,this.removeWaitEventsEventName=LJ}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,n){var d=this.getWaitCompleteTriggerCallback(n);return t.once(i,d,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,d,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,n=this,d=function(){i<n.waitId||(n.waitId++,n.removeWaitEvents(),n.parent.emit(n.waitCompleteEventName))};if(t){var C=function(){FJ(n.parent,0,d)};return C}else return d}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(F8.prototype,Cf);const BJ={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var IJ=function(e,t){var i=`(?<!\\\\)\\${t}`,n=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(d){return d.replace(n,t)})};const kJ={setClickTarget(e){return this.clickTarget=e,e?G0(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=IJ(e,"|"),n=0,d=i.length;n<d;n++)this.waitEvent(t,`keydown-${i[n].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},GJ={waitGameObjectTweenComplete(e,t,i){var n=this.parent.getGameObjectTweenTask(e,t,i);return n?this.waitEvent(n,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,n){var d=this.parent.getGameObject(e,t);if(!d)return this.waitTime(0);if(d.getData(i)===n)return this.waitTime(0);var C=`changedata-${i}`,r=function(x,s,a){s=!!s,s===n&&x.emit("_dataFlagMatch")};return d.on(C,r),this.parent.once(this.removeWaitEventsEventName,function(){d.off(C,r)}),this.waitEvent(d,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,n=!1;for(var d in i)n=!0,this.waitEvent(i[d],"empty");return n?this.parent:this.waitTime(0)}}},NJ={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var n,d;switch(e){case"camera.fadein":n=i.fadeEffect,d="camerafadeincomplete";break;case"camera.fadeout":n=i.fadeEffect,d="camerafadeoutcomplete";break;case"camera.flash":n=i.flashEffect,d="cameraflashcomplete";break;case"camera.shake":n=i.shakeEffect,d="camerashakecomplete";break;case"camera.zoom":n=i.zoomEffect,d="camerazoomcomplete";break;case"camera.rotate":n=i.rotateToEffect,d="camerarotatecomplete";break;case"camera.scroll":n=i.panEffect,d="camerapancomplete";break}return n.isRunning?this.waitEvent(i,d):this.waitTime(0)}},VJ={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var zJ=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var n=i.split(".");if(n.length===2){var d=n[0],C=n[1],r=this.parent.getGameObjectManager(void 0,d);if(!r)continue;if(C==="destroy")return this.waitGameObjectDestroy(void 0,d);var x=r.getProperty(d,C);if(typeof x=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,d,C);continue}var s=C,a=s.startsWith("!");if(a&&(s=s.substring(1)),r.hasData(d,C)){t=!0,this.waitGameObjectDataFlag(void 0,d,s,!a);continue}this.waitEvent(gameObject,C);continue}else n.length;break}return t||this.waitTime(0),this.parent},B8={waitAny:zJ};Object.assign(B8,BJ,kJ,GJ,NJ,VJ);class I8 extends F8{constructor(t,i){super(t),this.waitCompleteEventName=Be(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Be(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Be(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Be(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(I8.prototype,B8);const X3=Phaser.Utils.Objects.GetValue;var UJ=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=X3(t,"layers",!1);if(i!==!1){var n=new C2(e,{name:"LAYER",layers:i,rootLayer:X3(t,"rootLayer",void 0),depth:X3(t,"layerDepth",void 0)});this.addGameObjectManager(n),this.layerManager=n}var d=X3(t,"sounds");return d!==!1&&(this.soundManager=new D8(e,d)),this.timeline=new OJ(this),this.waitEventManager=new I8(this,t),this},XJ=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},HJ=function(){return this.timeline.timeScale},YJ=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const k8={addGameObjectManager(e,t){var i;return e instanceof Kh?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Kh),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},WJ={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...n){return this.getGameObjectManager(e,t).call(t,i,...n),this},setGameObjectProperty(e,t,i,n){return this.getGameObjectManager(e,t).setProperty(t,i,n),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(!n)return i;if(typeof t=="string")return n.getGO(t);i===void 0&&(i=[]);var d=t;d===void 0&&(d=Object.keys(n.bobs));for(var C=Array.isArray(i),r=0,x=d.length;r<x;r++){t=d[r];var s=n.getGO(t);s&&(C?i.push(s):i[t]=s)}return i},addGameObject(e,t,i){var n=this.getGameObjectManager(e,t);if(typeof t=="string")n.addGO(t,i);else{var d=t;for(t in d)n.addGO(t,d[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var n=0,d=e.length;n<d;n++)this.getGameObjectManager(e[n]).drawGameObjectsBounds(t,i);return this}};var $J=function(e){class t extends e{}var i={initManagers:UJ,setTimeScale:XJ,getTimeScale:HJ,destroyManagers:YJ};return Object.assign(t.prototype,i,k8,WJ),t},cy={exports:{}},IP;function KJ(){return IP||(IP=1,(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function d(s,a,g){this.fn=s,this.context=a,this.once=g||!1}function C(s,a,g,c,h){if(typeof g!="function")throw new TypeError("The listener must be a function");var l=new d(g,c||s,h),o=i?i+a:a;return s._events[o]?s._events[o].fn?s._events[o]=[s._events[o],l]:s._events[o].push(l):(s._events[o]=l,s._eventsCount++),s}function r(s,a){--s._eventsCount===0?s._events=new n:delete s._events[a]}function x(){this._events=new n,this._eventsCount=0}x.prototype.eventNames=function(){var a=[],g,c;if(this._eventsCount===0)return a;for(c in g=this._events)t.call(g,c)&&a.push(i?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(g)):a},x.prototype.listeners=function(a){var g=i?i+a:a,c=this._events[g];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,l=c.length,o=new Array(l);h<l;h++)o[h]=c[h].fn;return o},x.prototype.listenerCount=function(a){var g=i?i+a:a,c=this._events[g];return c?c.fn?1:c.length:0},x.prototype.emit=function(a,g,c,h,l,o){var u=i?i+a:a;if(!this._events[u])return!1;var v=this._events[u],f=arguments.length,p,m;if(v.fn){switch(v.once&&this.removeListener(a,v.fn,void 0,!0),f){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,g),!0;case 3:return v.fn.call(v.context,g,c),!0;case 4:return v.fn.call(v.context,g,c,h),!0;case 5:return v.fn.call(v.context,g,c,h,l),!0;case 6:return v.fn.call(v.context,g,c,h,l,o),!0}for(m=1,p=new Array(f-1);m<f;m++)p[m-1]=arguments[m];v.fn.apply(v.context,p)}else{var y=v.length,S;for(m=0;m<y;m++)switch(v[m].once&&this.removeListener(a,v[m].fn,void 0,!0),f){case 1:v[m].fn.call(v[m].context);break;case 2:v[m].fn.call(v[m].context,g);break;case 3:v[m].fn.call(v[m].context,g,c);break;case 4:v[m].fn.call(v[m].context,g,c,h);break;default:if(!p)for(S=1,p=new Array(f-1);S<f;S++)p[S-1]=arguments[S];v[m].fn.apply(v[m].context,p)}}return!0},x.prototype.on=function(a,g,c){return C(this,a,g,c,!1)},x.prototype.once=function(a,g,c){return C(this,a,g,c,!0)},x.prototype.removeListener=function(a,g,c,h){var l=i?i+a:a;if(!this._events[l])return this;if(!g)return r(this,l),this;var o=this._events[l];if(o.fn)o.fn===g&&(!h||o.once)&&(!c||o.context===c)&&r(this,l);else{for(var u=0,v=[],f=o.length;u<f;u++)(o[u].fn!==g||h&&!o[u].once||c&&o[u].context!==c)&&v.push(o[u]);v.length?this._events[l]=v.length===1?v[0]:v:r(this,l)}return this},x.prototype.removeAllListeners=function(a){var g;return a?(g=i?i+a:a,this._events[g]&&r(this,g)):(this._events=new n,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=i,x.EventEmitter=x,e.exports=x})(cy)),cy.exports}var ZJ=KJ();const JJ=W0(ZJ);class G8 extends JJ{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const N8={setEventEmitter(e,t){return t===void 0&&(t=G8),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var QJ=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,jJ=/^0x[0-9A-F]+$/i,v5=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(QJ.test(e))e=parseFloat(e);else if(jJ.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let V8=class{constructor(t){this.setEventEmitter(Be(t,"eventEmitter",void 0)),this.setValueConverter(Be(t,"valueConvert",!0)),this.setLoopEnable(Be(t,"loop",!1)),this.setMultipleLinesTagEnable(Be(t,"multipleLinesTag",!1));var i=Be(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Be(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=$h(this.delimiterLeft),i=$h(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,n),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=v5:t||(t=qJ),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var n=this.reSplit.exec(t);if(!n){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var d=this.reSplit.lastIndex,C=d-n[0].length;if(this.progressIndex<C&&(this.onContent(t.substring(this.progressIndex,C)),this.isPaused)){this.progressIndex=C;break}if(this.lastTagSource=n[0],this.onTag(n[1]),this.lastTagSource=void 0,this.progressIndex=d,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const qJ=function(e){return e};Object.assign(V8.prototype,N8);var _J=function(e,t,i){if(e==null)return[];t===void 0&&(t=v5),i===void 0&&(i=",");for(var n=e.split(i),d=0,C=n.length;d<C;d++)n[d]=t(n[d]);return n};class tQ extends V8{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Be(t,"regex.tag",void 0)),this.setValueExpression(Be(t,"regex.value",void 0));var i=Be(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=H3),this.tagExpression=t,this}setValueExpression(t){return t||(t=H3),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var n=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(n,"i"),this.tagExpression!==H3||this.valueExpression!==H3){var d=`${this.tagExpression}(=${this.valueExpression})?`,C=`/${this.tagExpression}`;t=$h(this.delimiterLeft),i=$h(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${d})|(${C}))${i}`,r)}return this}onTag(t){var i=t.match(this.reTag),n=i[1],d=n.charAt(0)==="/";if(d&&(n=n.substring(1,n.length)),this.translateTagNameCallback&&(n=this.translateTagNameCallback(n)),this.skipEventFlag=!1,d)this.emit(`-${n}`),this.skipEventFlag||this.emit("-",n),this.lastTagEnd=n;else{var C=_J(i[3],this.valueConverter);this.emit(`+${n}`,...C),this.skipEventFlag||this.emit("+",n,...C),this.lastTagStart=n}}}const H3="[^=]+";var eQ=function(e,t,i){var n="color",d;t.on("start",function(){d=e.textStyle.color}).on(`+${n}`,function(C){e.textStyle.setColor(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setColor(d),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(d)})},iQ=function(e,t,i){var n="stroke",d;t.on("start",function(){d=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setStrokeStyle(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(d)})},sQ=function(e,t,i){var n="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${n}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},nQ=function(e,t,i){var n="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${n}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},rQ=function(e,t,i){var n="size",d;t.on("start",function(){d=e.textStyle.fontSize}).on(`+${n}`,function(C){e.textStyle.setFontSize(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setFontSize(d),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(d)})},aQ=function(e,t,i){var n="y",d;t.on("start",function(){d=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setOffsetY(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},oQ=function(e,t,i){var n="x",d;t.on("start",function(){d=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setOffsetX(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},lQ=function(e,t,i){var n="left",d;t.on("start",function(){d=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setLeftSpace(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},hQ=function(e,t,i){var n="right",d;t.on("start",function(){d=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setRightSpace(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},uQ=function(e,t,i){var n="shadow",d;t.on("start",function(){d=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${n}`,function(C){C===void 0&&(C=d),e.textStyle.setShadowColor(C),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(d)})},dQ=function(e,t,i){var n="align";t.on(`+${n}`,function(d){e.textStyle.setAlign(d),t.skipEvent()}).on(`-${n}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},fQ=function(e,t,i){var n="img";t.on(`+${n}`,function(d){var C=e.imageManager.get(d);C&&u8.call(e,C.key,C.frame,{width:C.width,hieght:C.height,leftSpace:C.left,rightSpace:C.right,color:C.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},cQ=function(e,t,i){var n="space";t.on(`+${n}`,function(d){d8.call(e,d),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},vQ=function(e,t,i){var n="speed";t.on(`+${n}`,function(d){kP(e,d),t.skipEvent()}).on(`-${n}`,function(){kP(e,void 0),t.skipEvent()})},pQ=function(e){this.typeWriter.setTypingSpeed(e)},kP=function(e,t){Kt.call(e,"speed",pQ,t,e)},gQ=function(e,t,i){var n="se";t.on(`+${n}`,function(d,C){Kt.call(e,n,mQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2";t.on(`+${n}`,function(d,C){Kt.call(e,n,xQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},mQ=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},xQ=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},yQ=function(e,t,i){var n="se.fadein";t.on(`+${n}`,function(d){Kt.call(e,n,SQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadein";t.on(`+${n}`,function(d){Kt.call(e,n,CQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},SQ=function(e){this.soundManager.fadeInSoundEffect(e)},CQ=function(e){this.soundManager.fadeInSoundEffect2(e)},TQ=function(e,t,i){var n="se.fadeout";t.on(`+${n}`,function(d,C){C=C==="stop",Kt.call(e,n,bQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.fadeout";t.on(`+${n}`,function(d,C){C=C==="stop",Kt.call(e,n,EQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},bQ=function(e){this.soundManager.fadeOutSoundEffect(...e)},EQ=function(e){this.soundManager.fadeOutSoundEffect2(...e)},wQ=function(e,t,i){var n="se.volume";t.on(`+${n}`,function(d){Kt.call(e,n,PQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.volume";t.on(`+${n}`,function(d){Kt.call(e,n,MQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},PQ=function(e){this.soundManager.setSoundEffectVolume(e,!0)},MQ=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},AQ=function(e,t,i){var n="se.mute";t.on(`+${n}`,function(){Kt.call(e,n,RQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.mute";t.on(`+${n}`,function(){Kt.call(e,n,OQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se.unmute";t.on(`+${n}`,function(){Kt.call(e,n,DQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="se2.unmute";t.on(`+${n}`,function(){Kt.call(e,n,LQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},RQ=function(){this.soundManager.setSoundEffectMute(!0)},OQ=function(){this.soundManager.setSoundEffect2Mute(!0)},DQ=function(){this.soundManager.setSoundEffectMute(!1)},LQ=function(){this.soundManager.setSoundEffect2Mute(!1)},FQ=function(e,t,i){var n="bgm";t.on(`+${n}`,function(d,C){Kt.call(e,n,BQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){Kt.call(e,"bgm.stop",IQ,void 0,e),t.skipEvent()});var n="bgm2";t.on(`+${n}`,function(d,C){Kt.call(e,n,kQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){Kt.call(e,"bgm2.stop",GQ,void 0,e),t.skipEvent()})},BQ=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},IQ=function(){this.soundManager.stopBackgroundMusic()},kQ=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},GQ=function(){this.soundManager.stopBackgroundMusic2()},NQ=function(e,t,i){var n="bgm.fadein";t.on(`+${n}`,function(d){Kt.call(e,n,VQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadein";t.on(`+${n}`,function(d){Kt.call(e,n,zQ,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},VQ=function(e){this.soundManager.fadeInBackgroundMusic(e)},zQ=function(e){this.soundManager.fadeInBackgroundMusic2(e)},UQ=function(e,t,i){var n="bgm.fadeout";t.on(`+${n}`,function(d,C){C=C==="stop",Kt.call(e,n,XQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.fadeout";t.on(`+${n}`,function(d,C){C=C==="stop",Kt.call(e,n,HQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},XQ=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},HQ=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},YQ=function(e,t,i){var n="bgm.cross";t.on(`+${n}`,function(d,C){Kt.call(e,n,WQ,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.cross";t.on(`+${n}`,function(d,C){Kt.call(e,n,$Q,[d,C],e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},WQ=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},$Q=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},KQ=function(e,t,i){var n="bgm.pause";t.on(`+${n}`,function(){Kt.call(e,n,ZQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Kt.call(e,"bgm.resume",JQ,void 0,e),t.skipEvent()});var n="bgm2.pause";t.on(`+${n}`,function(){Kt.call(e,n,QQ,void 0,e),t.skipEvent()}).on(`-${n}`,function(){Kt.call(e,"bgm2.resume",jQ,void 0,e),t.skipEvent()})},ZQ=function(){this.soundManager.pauseBackgroundMusic()},JQ=function(){this.soundManager.resumeBackgroundMusic()},QQ=function(){this.soundManager.pauseBackgroundMusic2()},jQ=function(){this.soundManager.resumeBackgroundMusic2()},qQ=function(e,t,i){var n="bgm.volume";t.on(`+${n}`,function(d){Kt.call(e,n,_Q,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.volume";t.on(`+${n}`,function(d){Kt.call(e,n,tj,d,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},_Q=function(e){this.soundManager.setBackgroundMusicVolume(e)},tj=function(e){this.soundManager.setBackgroundMusicVolume2(e)},ej=function(e,t,i){var n="bgm.mute";t.on(`+${n}`,function(){Kt.call(e,n,ij,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.mute";t.on(`+${n}`,function(){Kt.call(e,n,sj,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm.unmute";t.on(`+${n}`,function(){Kt.call(e,n,nj,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()});var n="bgm2.unmute";t.on(`+${n}`,function(){Kt.call(e,n,rj,void 0,e),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},ij=function(){this.soundManager.setBackgroundMusicMute(!0)},sj=function(){this.soundManager.setBackgroundMusic2Mute(!0)},nj=function(){this.soundManager.setBackgroundMusicMute(!1)},rj=function(){this.soundManager.setBackgroundMusic2Mute(!1)},aj=function(e,t,i){var n="camera.fadein";t.on(`+${n}`,function(d,C,r,x){Kt.call(e,n,oj,[d,C,r,x],e),t.skipEvent()})},oj=function(e){this.cameraTarget.fadeIn(...e)},lj=function(e,t,i){var n="camera.fadeout";t.on(`+${n}`,function(d,C,r,x){Kt.call(e,n,hj,[d,C,r,x],e),t.skipEvent()})},hj=function(e){this.cameraTarget.fadeOut(...e)},uj=function(e,t,i){var n="camera.shake";t.on(`+${n}`,function(d,C){Kt.call(e,n,dj,[d,C],e),t.skipEvent()})},dj=function(e){this.cameraTarget.shake(...e)},fj=function(e,t,i){var n="camera.flash";t.on(`+${n}`,function(d,C,r,x){Kt.call(e,n,cj,[d,C,r,x],e),t.skipEvent()})},cj=function(e){this.cameraTarget.flash(...e)},vj=function(e,t,i){var n="camera.zoom";t.on(`+${n}`,function(d){Kt.call(e,n,pj,d,e),t.skipEvent()}).on(`+${n}.to`,function(d,C,r){Kt.call(e,"camera.zoom.to",gj,[d,C,r],e),t.skipEvent()})},pj=function(e){this.cameraTarget.setZoom(e)},gj=function(e){this.cameraTarget.zoomTo(...e)};const GP=Phaser.Math.DegToRad;var mj=function(e,t,i){var n="camera.rotate";t.on(`+${n}`,function(d){d=GP(d),Kt.call(e,n,xj,d,e),t.skipEvent()}).on(`+${n}.to`,function(d,C,r){d=GP(d),Kt.call(e,"camera.rotate.to",yj,[d,C,r],e),t.skipEvent()})},xj=function(e){this.cameraTarget.setRotation(e)},yj=function(e){var t=e[0],i=e[1],n=e[2];this.cameraTarget.rotateTo(t,!1,i,n)},Sj=function(e,t,i){var n="camera.scroll";t.on(`+${n}`,function(d,C){Kt.call(e,n,Cj,[d,C],e),t.skipEvent()}).on(`+${n}.to`,function(d,C,r,x){Kt.call(e,"camera.scroll.to",Tj,[d,C,r,x],e),t.skipEvent()})},Cj=function(e){this.cameraTarget.setScroll(...e)},Tj=function(e){var t=e[0],i=e[1],n=e[2],d=e[3],C=this.cameraTarget,r=C.scrollX,x=C.scrollY;C.setScroll(t,i),t+=C.centerX,i+=C.centerY,C.setScroll(r,x),C.pan(t,i,n,d)},bj=function(e,t,i){var n="wait",d="click";t.on(`+${n}`,function(C){NP(e,C),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()}).on(`+${d}`,function(){NP(e,"click"),t.skipEvent()}).on(`-${d}`,function(){t.skipEvent()})},Ej=function(e){this.typeWriter.wait(e)},NP=function(e,t){Kt.call(e,"wait",Ej,t,e)},wj=function(e,t,i){var n="r";t.on(`+${n}`,function(){Sf.call(e,`
`),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})},Pj=function(e,t,i){for(var n=["pagebreak","pb"],d=0,C=n.length;d<C;d++){var r=n[d];t.on(`+${r}`,function(){Sf.call(e,"\f"),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})}},Mj=function(e,t,i){var n="content.off";t.on(`+${n}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},Aj=function(e,t,i){var n="content.on";t.on(`+${n}`,function(){t.setContentOutputEnable(),t.skipEvent()})},Rj=function(e,t,i){t.on("content",function(n){if(t.contentOutputEnable)Sf.call(e,n);else{var d=`+${t.lastTagStart}`;e.emit(`parser.${d}#content`,t,n)}})},Oj=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(n,...d){if(!t.skipEventFlag){var C=`+${n}`,r=d;e.emit(`parser.${C}`,t,...d,r),VP(e,C,r)}}).on("-",function(n){if(!t.skipEventFlag){var d=`-${n}`,C=[];e.emit(`parser.${d}`,t,C),VP(e,d,C)}}).on("complete",function(){e.emit("parser.complete",t)})},Dj=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},VP=function(e,t,i){Kt.call(e,t,Dj,i,e)};const zP=[eQ,iQ,sQ,nQ,rQ,uQ,dQ,aQ,oQ,lQ,hQ,fQ,cQ,vQ,gQ,yQ,TQ,wQ,AQ,FQ,NQ,UQ,YQ,KQ,qQ,ej,aj,lj,uj,fj,vj,mj,Sj,bj,wj,Pj,Mj,Aj,Rj,Oj];var Lj=function(e,t,i){for(var n=0,d=zP.length;n<d;n++)zP[n](e,t,i)},Fj=function(e,t){for(var i=e.commentLineStart,n=t.split(`
`),d=0,C=n.length;d<C;d++){var r=n[d];r===""||(r.trim().length===0||i&&r.startsWith(i))&&(n[d]="")}return n.join("")};const Bj=Phaser.Utils.Objects.GetValue;class Ij extends tQ{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),Lj(t,this,i),this.setCommentLineStartSymbol(Bj(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(Fj(this,t)),this}}const kj={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},D0="page.fadeout",h4="_remove.play",UP=[D0,h4];var Gj=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(D0),this;var e=this.children.filter(function(n){return n.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(D0);else if(t.once)t.once("complete",function(){this.emit(D0)},this);else if(t.then){var i=this;t.then(function(){i.emit(D0)})}else this.emit(D0);return this},E2=function(e,t){return new Promise(function(i,n){e.once(t,function(){i()})})},os=function(e){return E2(e,"complete")},Nj=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),os(this)};const Vj="delay",z8="anim";var U8=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var n=this.animationConfig;if(n.duration>0){var d=this.timeline.addTimer({name:z8,target:i,duration:n.duration,yoyo:n.yoyo,onStart:n.onStart,onProgress:n.onProgress,onComplete:n.onComplete});this.skipTypingAnimation&&d.seek(1)}else n.onStart&&n.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var C=this.nextChild;if(C&&!(this.skipSpaceEnable&&R$(C))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:Vj,target:this,duration:t,onComplete:function(r,x,s){r.typingTimer=void 0,U8.call(r,s.remainder)}});break}}}else O$(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},zj=function(){return this.timeline.pause(),this},Uj=function(){return this.timeline.resume(),this},Xj=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},Hj=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},Yj=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},Wj=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},$j=function(e,t,i,n){var d=e.waitEventManager,C=t.split("."),r=C[0],x=e.getGameObjectManager(r),s=`wait.${r}`;switch(C.length){case 1:d.waitGameObjectManagerEmpty(r),e.emit(s);return;case 2:var a=C[1];d.waitGameObjectDestroy(r,a),e.emit(s,a);return;case 3:var a=C[1],g=C[2],c=x.getProperty(a,g);if(typeof c=="number"){d.waitGameObjectTweenComplete(r,a,g),e.emit(s,a,g);return}var h=g,l=h.startsWith("!");if(l&&(h=h.substring(1)),x.hasData(a,h)){d.waitGameObjectDataFlag(r,a,h,!l),e.emit(s,a,h);return}else{d.waitTime(0);return}}};const Kj=Phaser.Input.Keyboard.KeyCodes;var X8=function(e,t,i,n){var d=e.waitEventManager;d.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var C=0,r=t.length;C<r;C++){var x=t[C];if(x==null||x==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof x=="number"||!isNaN(x)){var a=parseFloat(x);d.waitTime(a),e.emit("wait.time",a)}else if(x==="click")d.waitClick(),e.emit("wait.click");else if(x==="se"){d.waitSoundEffectComplete();var g=e.soundManager.getLastSoundEffect();e.emit("wait.music",g)}else if(x==="se2"){d.waitSoundEffect2Complete();var g=e.soundManager.getLastSoundEffect2();e.emit("wait.music",g)}else if(x==="bgm"){d.waitBackgroundMusicComplete();var g=e.soundManager.getBackgroundMusic();e.emit("wait.music",g)}else if(x==="bgm2"){d.waitBackgroundMusic2Complete();var g=e.soundManager.getBackgroundMusic2();e.emit("wait.music",g)}else if(Kj.hasOwnProperty(x.toUpperCase()))d.waitKeyDown(x),e.emit("wait.keydown",x);else if(Yj(x))d.waitCameraEffectComplete(x),e.emit("wait.camera",x);else if(Wj(e,x))$j(e,x);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${x}`,s)}}},Zj=function(e){return this.ignoreWait?this:(this.pauseTyping(),X8(this.textPlayer,e,this.resumeTyping,this),this)},Jj=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},Qj=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},jj=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(z8),i=0,n=t.length;i<n;i++)t[i].seek(1);return this},qj=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},_j=function(){return this.typingTimer&&this.typingTimer.seek(1),this},H8={fadeOutPage:Gj,start:Nj,typing:U8,pause:zj,resume:Uj,pauseTyping:Xj,resumeTyping:Hj,wait:Zj,setIgnoreWait:Jj,setSkipSpaceEnable:Qj,setSkipTypingAnimation:jj,setSkipSoundEffect:qj,skipCurrentTypingDelay:_j};Object.assign(H8,kj);const sh=Phaser.Utils.Objects.GetValue;class Y8{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(sh(i,"onTypingStart",eq)),this.setDefaultTypingSpeed(sh(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(sh(i,"skipSpace",!1)),this.setAnimationConfig(sh(i,"animation",void 0)),this.setMinSizeEnable(sh(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(sh(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=tq),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var tq=function(e){e.setVisible&&e.setVisible()},eq=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];n.setVisible&&n.setVisible(!1)}};Object.assign(Y8.prototype,Cf,H8);class iq extends d5{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const sq={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var W8={};Object.assign(W8,sq);var $8=function(e){return!e||e==="sprite"?e=nq:e==="image"&&(e=rq),e},nq=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},rq=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class K8 extends Kh{constructor(t,i){i===void 0&&(i={}),i.BobClass=iq,super(t,i)}setCreateGameObjectCallback(t,i){return t=$8(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(K8.prototype,W8);var XP=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},aq=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},oq=function(e,t,i){var n=i.name;t.on("+",function(d,...C){if(!t.skipEventFlag){var r=d.split("."),x;if(XP(r,n))x=r[1];else return;Kt.call(e,`${n}.play`,lq,[n,x,C],e),t.skipEvent()}}).on("+",function(d){if(!t.skipEventFlag){var C=d.split("."),r;if(aq(C,n))r=C[1];else return;Kt.call(e,`${n}.stop`,HP,[n,r],e),t.skipEvent()}}).on("-",function(d){if(!t.skipEventFlag){var C=d.split("."),r;if(XP(C,n))r=C[1];else return;Kt.call(e,`${n}.stop`,HP,[n,r],e),t.skipEvent()}})},lq=function(e){var t,i,n;[t,i,n]=e;var d=n.shift(),C=this.getGameObjectManager(t);C.playAnimation(i,d),n.length>0&&C.chainAnimation(i,n)},HP=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.stopAnimation(...i)},hq=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},uq=function(e,t,i){var n=i.name;t.on("+",function(d){if(!t.skipEventFlag){var C=d.split("."),r;if(hq(C,n))r=C[1];else return;Kt.call(e,`${n}.pause`,dq,[n,r],e),t.skipEvent()}})},dq=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.pauseAnimation(...i)},fq=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},cq=function(e,t,i){var n=i.name;t.on("+",function(d){if(!t.skipEventFlag){var C=d.split("."),r;if(fq(C,n))r=C[1];else return;var x=Array.prototype.slice.call(arguments,1);Kt.call(e,`${n}.chain`,vq,[n,r,x],e),t.skipEvent()}})},vq=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.chainAnimation(...i)};const pq=[oq,uq,cq];var gq=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=pq,e.createGameObject=$8(e.createGameObject),this.addGameObjectManager(e,K8)},YP=function(e,t){return e.length===2&&e[0]===t},mq=function(e,t,i){var n=i.name;t.on("+",function(d,...C){if(!t.skipEventFlag){var r=d.split("."),x;if(YP(r,n))x=r[1];else return;Kt.call(e,`${n}.add`,xq,[n,x,...C],e),t.skipEvent()}}).on("-",function(d){if(!t.skipEventFlag){var C=d.split("."),r;if(YP(C,n))r=C[1];else return;Kt.call(e,`${n}.remove`,yq,[n,r],e),t.skipEvent()}})},xq=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.add(...i)},yq=function(e){var t,i;[t,...i]=e;var n=this.getGameObjectManager(t);n.remove(...i)},Sq=function(e,t,i){var n=i.name;t.on("-",function(d){t.skipEventFlag||d===n&&(Kt.call(e,`${n}.removeall`,Cq,n,e),t.skipEvent())})},Cq=function(e){var t=this.getGameObjectManager(e);t.removeAll()},Tq=function(e,t){return e.length===3&&e[0]===t},bq=function(e,t,i){var n=i.name;t.on("+",function(d,...C){if(!t.skipEventFlag){var r=d.split("."),x,s;if(Tq(r,n))x=r[1],s=r[2];else return;Kt.call(e,`${n}.call`,Eq,[n,x,s,...C],e),t.skipEvent()}})},Eq=function(e){var t,i,n,d;[t,i,n,...d]=e;var C=`${t}.${n}`;if(this.emit(C,i,...d),!(this.listenerCount(C)>0)){var r=this.getGameObjectManager(t);r.hasMethod(i,n)?r.call(i,n,...d):r.setProperty(i,n,d[0])}},wq={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},Pq=function(e,t){return e.length===4&&e[0]===t&&wq[e[3]]},Mq=function(e,t,i){var n=i.name;e.getGameObjectManager(n),t.on("+",function(d,C,r,x,s){if(!t.skipEventFlag){var a=d.split("."),g,c,h;if(Pq(a,n))g=a[1],c=a[2],h=a[3];else return;typeof x=="number"&&(s=x,x=void 0),Kt.call(e,`${n}.ease`,Aq,[n,g,c,C,r,x,s,h],e),t.skipEvent()}})},Aq=function(e){var t,i,n,d,C,r,x,s;[t,i,n,d,C,r,x,s]=e;var a=this.getGameObjectManager(t),g=a.getProperty(i,n);if(typeof g=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?d=g-d:s.startsWith("from")&&(a.setProperty(i,n,g-d),d=g):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?d=g+d:s.startsWith("from")&&(a.setProperty(i,n,g+d),d=g):s==="from"&&(a.setProperty(i,n,d),d=g);var c=s.startsWith("yoyo");a.easeProperty(i,{property:n,value:d,duration:C,ease:r,repeat:x,yoyo:c})}};const WP=[mq,Sq,bq,Mq],Rq=k8.addGameObjectManager,Oq={addGameObjectManager(e,t){e=e?_n(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var n=e.defaultLayer,d=e.createGameObject,C=this.layerManager;e.createGameObject=function(a,...g){var c=d.call(this,a,...g);return n&&C&&C.addToLayer(n,c),c},Rq.call(this,e,t);var r=e.parseCallbacks;r?r=[...r,...WP]:r=WP;for(var x=0,s=r.length;x<s;x++)r[x](this,this.parser,e);return this}};var Dq=function(e){return this.waitEventManager.setClickTarget(e),this},Lq=function(e){return this.waitEventManager.setCameraTarget(e),this},Fq=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,n){var d=t.waitEventManager;d.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,n);var C=d.getWaitCompleteTriggerCallback();e.call(t,C)}:this.nextPageInput=function(i,n){X8(t,e,i,n)}:this.nextPageInput=null},Bq=function(e,t){return this.imageManager.add(e,t),this};const Iq={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=os(this);return this.play(e),t}};var u4=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(D0,kq,this).fadeOutPage(),this)},kq=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(h4),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?u4.call(this):this.nextPageInput&&this.nextPageInput(u4,this))};this.once(h4,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const Gq={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},Nq={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var Vq=function(e){return this.typeWriter.wait(e),this};const zq={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var Uq=function(e){return this.typeWriter.setIgnoreWait(e),this},Xq=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},Hq=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,n=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(n)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const Yq={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},Wq={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var Z8={setClickTarget:Dq,setCameraTarget:Lq,setNextPageInput:Fq,addImage:Bq,typingNextPage:u4,wait:Vq,setIgnoreWait:Uq,setIgnoreNextPageInput:Xq,showPage:Hq};Object.assign(Z8,Oq,Iq,Gq,Nq,zq,Yq,Wq);var $q=function(e){for(var t=0,i=UP.length;t<i;t++)e.emit(UP[t])};const $P=Phaser.Utils.Objects.IsPlainObject,nh=Phaser.Utils.Objects.GetValue;class p5 extends $J(_h){constructor(t,i,n,d,C,r){$P(i)?r=i:$P(d)&&(r=d),r===void 0&&(r={});var x=r.text;delete r.text,super(t,i,n,d,C,r),this.type="rexTextPlayer",this.initManagers(t,r),this.parser=new Ij(this,nh(r,"parser",void 0)),this.typeWriter=new Y8(this,nh(r,"typing",void 0)),this._imageManager=void 0;var s=nh(r,"images",void 0);s&&this.addImage(s);var a=nh(r,"sprites");a!==!1&&a!==null&&gq.call(this,a),this.setIgnoreNextPageInput(nh(r,"ignoreNextPageInput",!1)),this.setNextPageInput(nh(r,"nextPageInput",null)),this.isPlaying=!1,x&&this.play(x)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new r5(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||($q(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(p5.prototype,Z8);At.register("textPlayer",function(e,t,i,n,d){var C=new p5(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.TextPlayer",p5);const J8={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},Q8={direction:["direction",void 0]};var wo=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var n=i;if(Array.isArray(n))for(var d=0,C=n.length;d<C;d++)wo(e,t,n[d]);else for(var i in n)wo(e,t,i)}},Kq=function(e){e===void 0&&(e={});var t={};return wo(e,t,"inputType"),wo(e,t,"type"),wo(e,t,"style"),wo(e,t,Q8),wo(e,t,J8),t},g5=function(e,t,i,n,d){if(t)return!(i&&!i(e,t)||!KP(e,t)||n&&!n(e,t));d===void 0&&(d=!1);for(var C=e.scene.input.manager,r=C.pointersTotal,x=C.pointers,t,s=0;s<r;s++)if(t=x[s],!(i&&!i(e,t))&&KP(e,t)&&!(n&&!n(e,t)))return d?t:!0;return!1},KP=function(e,t){for(var i=e.scene,n=i.input.cameras.getCamerasBelowPointer(t),d=i.input.manager,C=[e],r=0,x=n.length;r<x;r++)if(d.hitTest(t,C,n[r],Y3),Y3.length>0)return Y3.length=0,!0;return Y3.length=0,!1},Y3=[],Oh=void 0,Zq=function(e){e!==Oh&&(Oh!==void 0&&Oh.close(),Oh=e)},Jq=function(e){e===Oh&&(Oh=void 0)};const Qq=Phaser.Utils.Objects.GetValue;var zp=function(e,t,i){i===void 0&&(i={});var n,d;for(var C in e)n=e[C],d=Qq(t,C,n[1]),d!==void 0&&(i[n[0]]=d);return i},j8=function(e){e.addEventListener("touchstart",rh,!1),e.addEventListener("touchmove",rh,!1),e.addEventListener("touchend",rh,!1),e.addEventListener("mousedown",rh,!1),e.addEventListener("mouseup",rh,!1),e.addEventListener("mousemove",rh,!1)},rh=function(e){e.stopPropagation()},q8=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},jq=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",q8,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(P8.call(this.clickOutSideTarget,this.parent),w8.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},qq=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},_q=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",q8,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),qq(this.node),this.node=void 0,this.emit("close",this)};const vy=Phaser.Utils.Objects.GetValue;var t_=function(e,t){var i,n=vy(t,"inputType",void 0);n===void 0&&(n=vy(t,"type","text")),n==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=n);var d=vy(t,"style",void 0),C=i.style;zp(Q8,d,C),C.position="absolute",C.opacity=0,C.pointerEvents="none",C.zIndex=0,C.transform="scale(0)",zp(J8,t,i),j8(i);var r=e.scene.sys.scale,x=r.isFullscreen?r.fullscreenTarget:document.body;return x.appendChild(i),i.addEventListener("focus",function(s){jq.call(e)}),i.addEventListener("blur",function(s){_q.call(e)}),i},e_=function(){return this.isOpened?this:this.readOnly?this:(Zq(this),this.node||(this.node=t_(this,this.nodeConfig)),this.setFocus(),this)},i_=function(){return this.isOpened?(Jq(this),this.setBlur(),this):this},s_={open:e_,close:i_};const ta=Phaser.Utils.Objects.GetValue;class m5 extends ai{constructor(t,i){super(t);var n=ta(i,"inputType",void 0);n===void 0&&(n=ta(i,"type","text")),this.setEnterCloseEnable(ta(i,"enterClose",n!=="textarea"));var d=ta(i,"onOpen",void 0);d||(d=ta(i,"onFocus",void 0)),this.onOpenCallback=d,this.clickOutSideTarget=ta(i,"clickOutSideTarget",void 0);var C=ta(i,"onClose",void 0);C||(C=ta(i,"onBlur",void 0)),this.onCloseCallback=C,this.onUpdateCallback=ta(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=Kq(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){g5(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(m5.prototype,s_);var _8=function(e,t,i){e=e.replace(" ","");var n=i.previousText;if(e===n)return e;if(isNaN(e)){i.emit("nan",e,i),e=n;var d=i.cursorPosition-1;i.setText(e),i.setCursorPosition(d)}else i.previousText=e;return e},n_=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,n=e.isOpened?e.selectionEnd:null,d=e.prevSelectionStart,C=e.prevSelectionEnd;if(!(d===i&&C===n)){var r,x;d===null?(r=i,x=n):i===null?(r=d,x=C):(r=Math.min(d,i),x=Math.max(C,n));for(var s=r;s<x;s++){var a;d===null?a=!1:a=s>=d&&s<C;var g;if(i===null?g=!1:g=s>=i&&s<n,a!==g){var c=t.getCharChild(s);if(c){var h=a?"rangeout":"rangein";t.emit(h,c,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=n}},r_=function(e){var t=e.parent,i=0,n=t.width,d=0,C=t.height,r=e.drawX,x=e.drawY,s=r+e.drawTLX,a=r+e.drawTRX,g=x+e.drawTLY,c=x+e.drawBLY,h;s<i?h=i-s:a>n?h=n-a:h=0;var l;g<d?l=d-g:c>C?l=C-c:l=0,t._textOX+=h,t._textOY+=l},a_=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var n=e.cursorPosition;if(e.prevCursorPosition!==n){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var d=t.getCharChild(e.prevCursorPosition);d&&(d.text===`
`&&d.clearTextSize(),t.emit("cursorout",d,e.prevCursorPosition,t))}if(n!=null){var d=t.getCharChild(n);d&&(d.text===`
`&&d.copyTextSize(t.lastInsertCursor),r_(d),t.emit("cursorin",d,n,t))}t.emit("movecursor",n,e.prevCursorPosition,t),e.prevCursorPosition=n}},ZP=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,n=e.parent,d=t;d<i;d++){var C=n.getCharChild(d);C&&n.emit("cursorout",C,d,n)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},JP=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,n=i.getCharChild(t);n&&i.emit("cursorout",n,t,i),e.prevCursorPosition=null}};const o_=Phaser.Utils.Objects.GetValue;let l_=class extends m5{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(o_(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(n,d,C,r){var x=t.getNearestChild(d,C),s=t.getCharIndex(x);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(s),this.cursorMoveStartIndex=s,this.firstClickAfterOpen=!1},this).on("pointermove",function(n,d,C,r){if(n.isDown){var x=t.getNearestChild(d,C),s=t.getCharIndex(x);this.cursorMoveStartIndex<s?this.selectText(this.cursorMoveStartIndex,s+1):this.selectText(s,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(JP(this),n_(this)):(ZP(this),a_(this)):(ZP(this),JP(this)),this}setNumberInput(){return this.onUpdateCallback=_8,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const h_=Phaser.Utils.Objects.GetValue,u_=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var d_=function(e,t){var i=h_(t,"edit");return i===void 0&&(i={}),wo(t,i,u_),new l_(e,i)},ua=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),n=e,d=0;d<i.length;d++)if(n.hasOwnProperty(i[d]))n=n[i[d]];else return!1;return!0}else return!1},d4=function(e){if(e.parentContainer)return d4(e.parentContainer);var t=E8(e);return t?d4(t):e},f_=function(e){for(var t=d4(e).cameraFilter,i=e.scene.sys.cameras.cameras,n,d,C=0,r=i.length;C<r;C++)if(n=i[C],d=(t&n.id)>0,!d)return n;return null};class tD extends ai{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,n=f_(i);if(n){i.setScrollFactor(0).setOrigin(.5);var d=t.sys.scale.gameSize,C=d.width,r=d.height,x=1/n.zoom,s=C/2,a=r/2,g=C*x,c=r*x;(i.x!==s||i.y!==a)&&i.setPosition(s,a),(i.width!==g||i.height!==c)&&i.setSize(g,c)}}}const c_=Phaser.GameObjects.Zone;let x5=class extends c_{constructor(t){super(t,0,0,2,2),this.fullWindow=new tD(this)}};var v_=function(e,t){var i=!t.textArea;if(!ua(t,"wrap.vAlign")){var n=i?"center":"top";wt(t,"wrap.vAlign",n)}if(ua(t,"wrap.wrapMode")||wt(t,"wrap.wrapMode","char"),!ua(t,"wrap.maxLines")){var n=i?1:void 0;wt(t,"wrap.maxLines",n)}if(i&&wt(t,"wrap.wrapWidth",1/0),ua(t,"wrap.useDefaultTextHeight")||wt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!ua(t.edit,"inputType")){var n=i?"text":"textarea";wt(t.edit,"inputType",n)}if(t.clickOutSideTarget===!0){var d=new x5(e);e.add.existing(d),t.clickOutSideTarget=d}return t},Ap=function(e,t,i,n){if(i===void 0&&(i="."),n===void 0&&(n={}),!e)return n;if(t in e)return Object.assign(n,e[t]);t+=i;for(var d in e)d.startsWith(t)&&(n[d.replace(t,"")]=e[d]);return n},p_=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},w2=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var n,d=0,C=t.length;d<C;d++)n=t[d],i[n]=e[n];else for(var n in t)i[n]=e[n];return i},Ef=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},g_=function(e){Tf(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,n=w2(t.style,i);Ef(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},m_=function(e){Tf(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,n=w2(t.style,i);Ef(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},x_=function(e){Tf(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,n=w2(t,i);Ef(i,n)||(t.styleSave=n,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},y_=function(e){var t=e.createCharChild("|");return t.text="",t};function ma(){}ma.prototype={diff(e,t,i={}){let n=i.callback;typeof i=="function"&&(n=i,i={}),this.options=i;let d=this;function C(l){return n?(setTimeout(function(){n(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let r=t.length,x=e.length,s=1,a=r+x;i.maxEditLength&&(a=Math.min(a,i.maxEditLength));let g=[{newPos:-1,components:[]}],c=this.extractCommon(g[0],t,e,0);if(g[0].newPos+1>=r&&c+1>=x)return C([{value:this.join(t),count:t.length}]);function h(){for(let l=-1*s;l<=s;l+=2){let o,u=g[l-1],v=g[l+1],f=(v?v.newPos:0)-l;u&&(g[l-1]=void 0);let p=u&&u.newPos+1<r,m=v&&0<=f&&f<x;if(!p&&!m){g[l]=void 0;continue}if(!p||m&&u.newPos<v.newPos?(o=C_(v),d.pushComponent(o.components,void 0,!0)):(o=u,o.newPos++,d.pushComponent(o.components,!0,void 0)),f=d.extractCommon(o,t,e,l),o.newPos+1>=r&&f+1>=x)return C(S_(d,o.components,t,e,d.useLongestToken));g[l]=o}s++}if(n)(function l(){setTimeout(function(){if(s>a)return n();h()||l()},0)})();else for(;s<=a;){let l=h();if(l)return l}},pushComponent(e,t,i){let n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,n){let d=t.length,C=i.length,r=e.newPos,x=r-n,s=0;for(;r+1<d&&x+1<C&&this.equals(t[r+1],i[x+1]);)r++,x++,s++;return s&&e.components.push({count:s}),e.newPos=r,x},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function S_(e,t,i,n,d){let C=0,r=t.length,x=0,s=0;for(;C<r;C++){let g=t[C];if(g.removed){if(g.value=e.join(n.slice(s,s+g.count)),s+=g.count,C&&t[C-1].added){let c=t[C-1];t[C-1]=t[C],t[C]=c}}else{if(!g.added&&d){let c=i.slice(x,x+g.count);c=c.map(function(h,l){let o=n[s+l];return o.length>h.length?o:h}),g.value=e.join(c)}else g.value=e.join(i.slice(x,x+g.count));x+=g.count,g.added||(s+=g.count)}}let a=t[r-1];return r>1&&typeof a.value=="string"&&(a.added||a.removed)&&e.equals("",a.value)&&(t[r-2].value+=a.value,t.pop()),t}function C_(e){return{newPos:e.newPos,components:e.components.slice(0)}}const T_=new ma;function b_(e,t,i){return T_.diff(e,t,i)}const QP=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,jP=/\S/,eD=new ma;eD.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!jP.test(e)&&!jP.test(t)};eD.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&QP.test(t[i])&&QP.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const iD=new ma;iD.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let n=0;n<i.length;n++){let d=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=d:(this.options.ignoreWhitespace&&(d=d.trim()),t.push(d))}return t};const E_=new ma;E_.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const w_=new ma;w_.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const P_=Object.prototype.toString,af=new ma;af.useLongestToken=!0;af.tokenize=iD.tokenize;af.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(n,d)=>typeof d>"u"?t:d}=this.options;return typeof e=="string"?e:JSON.stringify(f4(e,null,null,i),i,"  ")};af.equals=function(e,t){return ma.prototype.equals.call(af,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function f4(e,t,i,n,d){t=t||[],i=i||[],n&&(e=n(d,e));let C;for(C=0;C<t.length;C+=1)if(t[C]===e)return i[C];let r;if(P_.call(e)==="[object Array]"){for(t.push(e),r=new Array(e.length),i.push(r),C=0;C<e.length;C+=1)r[C]=f4(e[C],t,i,n,d);return t.pop(),i.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),r={},i.push(r);let x=[],s;for(s in e)e.hasOwnProperty(s)&&x.push(s);for(x.sort(),C=0;C<x.length;C+=1)s=x[C],r[s]=f4(e[s],t,i,n,s);t.pop(),i.pop()}else r=e;return r}const c4=new ma;c4.tokenize=function(e){return e.slice()};c4.join=c4.removeEmpty=function(e){return e};const M_=Phaser.Utils.Array.Remove;var A_=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),M_(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var n=b_(i,t),d=0,C=0,r=n.length;C<r;C++){var x=n[C];x.removed?e.removeText(d,x.count):(x.added&&e.insertText(d,x.value),d+=x.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const R_={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},W3=Phaser.Math.Clamp;var qP=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var n=0,d=e.length;n<d;n++){var C=e[n];if(t<=C){i.lineIndex=n;break}t-=C}return i.position=t,i},_P=function(e,t){var i=0,n=t.lineIndex;if(n<0)return i;for(var d=0,C=e.length;d<C;d++){var r=e[d];if(n>d)i+=r;else if(n===d)i+=Math.min(t.position,r);else break}return i};const O_={cursorMoveLeft(){if(!this.isOpened)return this;var e=W3(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=W3(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=qP(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=W3(_P(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=qP(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=W3(_P(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},tM=Phaser.Utils.Objects.IsPlainObject;class wf extends _h{constructor(t,i,n,d,C,r){tM(i)?r=i:tM(d)&&(r=d),r===void 0&&(r={}),v_(t,r);var x=r.text;x&&delete r.text;var s=Ap(r.background,"focus"),a=Ap(r.style,"cursor"),g=Ap(r.style,"range");super(t,i,n,d,C,r),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=d_(this,r),p_.call(this),r.focusStyle&&Object.assign(s,r.focusStyle),x_.call(this,s),r.cursorStyle&&Object.assign(a,r.cursorStyle),g_.call(this,a),r.rangeStyle&&Object.assign(g,r.rangeStyle),Tf(g)&&Object.assign(g,a),m_.call(this,g);var c=r.onAddChar;c&&this.on("addchar",c);var h=r.onCursorIn;h&&this.on("cursorin",h);var l=r.onCursorOut;l&&this.on("cursorout",l);var o=!r.onRangeIn&&!r.onRangeOut,u=o?r.onCursorIn:r.onRangeIn;u&&this.on("rangein",u);var v=o?r.onCursorOut:r.onRangeOut;v&&this.on("rangeout",v);var f=r.onMoveCursor;f&&this.on("movecursor",f),this.setParseTextCallback(r.parseTextCallback),this.lastInsertCursor=y_(this),x||(x=""),this.setText(x)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var n=t,d=0,C=n.length;d<C;d++){var t=n[d];N0(t)&&this.emit("addchar",t,i+d,this)}else N0(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(A_(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var n=i.lines,d=0,C=n.length;d<C;d++){for(var r=n[d].children,x=0,s=0,a=r.length;s<a;s++){var g=r[s];g.active&&!g.removed&&N0(g)&&x++}this.characterCountOfLines.push(x)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=D_),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var D_=function(e){return e};Object.assign(wf.prototype,R_,O_);At.register("canvasInput",function(e,t,i,n,d){var C=new wf(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.CanvasInput",wf);var y5=function(e){return X0(e).loop.delta};const eM=Phaser.Utils.Objects.GetValue,L_=Phaser.Math.Wrap;class sD extends m5{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=_8),super(t,i),this.setCursor(eM(i,"cursor","|")),this.setCursorFlashDuration(eM(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var n=this.onUpdateCallback(i,t,this);n!=null&&(i=n)}if(this.isOpened&&this.hasCursor){var d=this.cursorPosition;i=i.substring(0,d)+this.cursor+i.substring(d),this.prevCursorPosition!==d&&(this.prevCursorPosition=d)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+y5(this.scene);return this.cursorFlashTimer=L_(i,0,this.cursorFlashDuration),t}}At.register("hiddenEdit",function(e,t){var i=new sD(e,t);return i});wt(window,"RexPlugins.UI.HiddenEdit",sD);const F_=Phaser.GameObjects.GetCalcMatrix;var B_=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var d=e.pipelines.set(t.pipeline),C=F_(t,i,n),r=d.calcMatrix.copyFrom(C.calc),x=t._displayOriginX,s=t._displayOriginY,a=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var g=t.geom,c,h=0,l=g.length;h<l;h++)c=g[h],c.visible&&c.webglRender(d,r,a,x,s);e.pipelines.postBatch(t)};const I_=Phaser.Renderer.Canvas.SetTransform;var k_=function(e,t,i,n){t.updateData(),i.addToRenderList(t);var d=e.currentContext;if(I_(e,d,t,i,n)){for(var C=t._displayOriginX,r=t._displayOriginY,x=t.geom,s,a=0,g=x.length;a<g;a++)s=x[a],s.visible&&s.canvasRender(d,C,r);d.restore()}};const G_={renderWebGL:B_,renderCanvas:k_},N_=Phaser.GameObjects.Shape,V_=Phaser.Utils.Array.Remove;class xa extends N_{constructor(t,i,n,d,C){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=2),C===void 0&&(C=d),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,n),this.setSize(d,C),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var n=this.input;return n&&!n.customHitArea&&(n.hitArea.width=t,n.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,n){return n===void 0&&(n=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==n,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=n,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,n=t.length;i<n;i++){var d=t[i];d.dirty&&d.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Fo(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],V_(this.geom,i)),this}}Object.assign(xa.prototype,G_);const z_={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},U_={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var X_=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},H_=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const Y_={fillStyle:X_,lineStyle:H_};class P2{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,n,d,C){}canvasRender(t,i,n){}updateData(){this.dirty=!1}}Object.assign(P2.prototype,Y_,m2);const W_=Phaser.Geom.Polygon.Earcut;class Pf extends P2{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=W_(this.pathData),super.updateData(),this}webglRender(t,i,n,d,C){this.isFilled&&zO(t,i,this,n,d,C),this.isStroked&&x2(t,this,n,d,C)}canvasRender(t,i,n){var d=this.pathData,C=d.length-1,r=d[0]-i,x=d[1]-n;t.beginPath(),t.moveTo(r,x),this.closePath||(C-=2);for(var s=2;s<C;s+=2){var a=d[s]-i,g=d[s+1]-n;t.lineTo(a,g)}this.closePath&&t.closePath(),this.isFilled&&(xf(t,this),t.fill()),this.isStroked&&(yf(t,this),t.stroke())}}const iM=Phaser.Math.DegToRad;class su extends Pf{constructor(t,i,n,d,C,r,x,s){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=360),x===void 0&&(x=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(n,d),this.setAngle(C,r,x),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,n){return n===void 0&&(n=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=n,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),qi(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,n){t.beginPath();var d=this.x-i,C=this.y-n,r=iM(this.startAngle),x=iM(this.endAngle);this.pie&&(t.moveTo(d,C),t.lineTo(d+Math.cos(r)*this.radiusX,C+Math.sin(r)*this.radiusY)),t.ellipse(d,C,this.radiusX,this.radiusY,0,r,x,this.anticlockwise),this.pie&&t.lineTo(d,C),this.isFilled&&(xf(t,this),t.fill()),this.isStroked&&(yf(t,this),t.stroke())}}class Bn extends su{constructor(t,i,n){super(t,i,n,n,0,360)}}class $_ extends Pf{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,n=t.length;i<n;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class K_ extends su{constructor(t,i,n,d){super(t,i,n,d,0,360)}}class Go extends Pf{constructor(t,i,n,d){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=0),super(),this.setP0(t,i),this.setP1(n,d)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Z_=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const sM=Phaser.Math.Interpolation.QuadraticBezier;var J_=function(e,t,i,n,d,C){for(var r=C.length,x=C[r-2],s=C[r-1],a=1,g=d-1;a<=g;a++){var c=a/g;C.push(sM(c,x,e,i),sM(c,s,t,n))}return C};const nM=Phaser.Math.Interpolation.CubicBezier;var Q_=function(e,t,i,n,d,C,r,x){for(var s=x.length,a=x[s-2],g=x[s-1],c=1,h=r-1;c<=h;c++){var l=c/h;x.push(nM(l,a,e,i,d),nM(l,g,t,n,C))}return x};const rM=Phaser.Math.Interpolation.CatmullRom;var j_=function(e,t,i){for(var n=i.length,d=i[n-2],C=i[n-1],r=[d],x=[C],s=0,a=e.length;s<a;s+=2)r.push(e[s]),x.push(e[s+1]);for(var s=1,g=t-1;s<=g;s++){var c=s/g;i.push(rM(r,c),rM(x,c))}return i},nD=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],n=e[t-1];return e.push(i),e.push(n),e};const q_={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,Z_(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),ji(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,n,d,C,r){return r===void 0&&(r=!1),qi(e,t,i,n,d,C,r,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,n,d,C){return this.ellipticalArc(e,t,i,i,n,d,C),this},quadraticBezierTo(e,t,i,n){return J_(e,t,i,n,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=n,this},cubicBezierTo(e,t,i,n,d,C){return Q_(e,t,i,n,d,C,this.iterations,this.pathData),this.lastPointX=d,this.lastPointY=C,this},catmullRomTo(...e){return j_(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return nD(this.pathData),this}},__=Phaser.Math.RotateAround;var ttt=function(e,t,i,n){for(var d={x:0,y:0},C=0,r=n.length-1;C<r;C+=2)d.x=n[C],d.y=n[C+1],__(d,e,t,i),n[C]=d.x,n[C+1]=d.y;return n},ett=function(e,t,i,n,d){for(var C=0,r=d.length-1;C<r;C+=2){var x=d[C]-e,s=d[C+1]-t;x*=i,s*=n,d[C]=x+e,d[C+1]=s+t}return d},rD=function(e,t,i){for(var n=0,d=i.length-1;n<d;n+=2)i[n]+=e,i[n+1]+=t;return i};const itt=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const stt={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=itt(i),ttt(e,t,i,this.pathData);var n=this.pathData.length;return this.lastPointX=this.pathData[n-2],this.lastPointY=this.pathData[n-1],this},scale(e,t,i,n){return this.pathData.length===0?this:(ett(e,t,i,n,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return rD(e,t,this.pathData),this}};var Up=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=t.length),e.length=n-i;for(var d=0,C=e.length;d<C;d++)e[d]=t[d+i];return e};const ntt={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Up(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},rtt=Phaser.Math.Distance.Between,att=Phaser.Math.Wrap,ott=Phaser.Math.Linear;var aM=function(e,t,i,n,d){if(n===void 0&&(n=i,i=0),i=oM(i),n=oM(n),i!==n){var C=t[t.length-1],r=C*i,x=C*n;i<n?py(e,t,r,x,d):(py(e,t,r,C,d),py(e,t,0,x,d)),nD(d)}},py=function(e,t,i,n,d){for(var C=i>0,r=0,x=t.length;r<x;r++){var s=r*2,a=t[r];if(C){if(a<i)continue;if(a==i)C=!1;else{var g=a-t[r-1],c=1-(a-i)/g;d.push($3(e,s-2,s,c)),d.push($3(e,s-1,s+1,c)),C=!1}}if(a<=n){if(d.push(e[s]),d.push(e[s+1]),a===n)break}else{var g=a-t[r-1],c=1-(a-n)/g;d.push($3(e,s-2,s,c)),d.push($3(e,s-1,s+1,c));break}}},$3=function(e,t,i,n){var d=e[t],C=e[i];return ott(d,C,n)},oM=function(e){return e===0?0:e%1===0?1:att(e,0,1)};const ltt={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,n,d,C,r,x=0,s=0,a=t.length;s<a;s+=2)d=t[s],C=t[s+1],r=i===void 0?0:rtt(i,n,d,C),x+=r,e.push(x),i=d,n=C;return this.totalPathLength=x,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,aM(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),aM(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},htt={draw(e,t,i){var n=this.toPoints();return t&&e.fillPoints(n,this.closePath,this.closePath),i&&e.strokePoints(n,this.closePath,this.closePath),this}};var utt=function(e,t){t===void 0&&(t=[]);for(var i=0,n=e.length-1;i<n;i+=2)t.push({x:e[i],y:e[i+1]});return t};const dtt=Phaser.Geom.Polygon;var ftt=function(e,t){return t===void 0&&(t=new dtt),t.setTo(e),t};class aD{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return utt(this.pathData)}toPolygon(t){return ftt(this.pathData,t)}}Object.assign(aD.prototype,q_,stt,ntt,ltt,htt);class ls extends Pf{constructor(){super(),this.builder=new aD(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,n){return this.builder.lineTo(t,i,n),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,n,d,C,r,x){return this.builder.ellipticalArc(t,i,n,d,C,r,x),this.dirty=!0,this}arc(t,i,n,d,C,r){return this.builder.arc(t,i,n,d,C,r),this.dirty=!0,this}quadraticBezierTo(t,i,n,d){return this.builder.quadraticBezierTo(t,i,n,d),this.dirty=!0,this}cubicBezierTo(t,i,n,d,C,r){return this.builder.cubicBezierTo(t,i,n,d,C,r),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,n){return this.builder.rotateAround(t,i,n),this.dirty=!0,this}scale(t,i,n,d){return this.builder.scale(t,i,n,d),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,n){return this.builder.appendFromPathSegment(t.builder,i,n),this}copyPathFrom(t,i,n){return this.builder.clear().appendFromPathSegment(t.builder,i,n),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const ctt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let vtt=class extends P2{constructor(t,i,n,d){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=n),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(n,d)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,n=this.y,d=n+this.height;return this.pathData.push(t,n),this.pathData.push(i,n),this.pathData.push(i,d),this.pathData.push(t,d),this.pathData.push(t,n),super.updateData(),this}webglRender(t,i,n,d,C){if(this.isFilled){var r=t.fillTint,x=ctt(this.fillColor,this.fillAlpha*n);r.TL=x,r.TR=x,r.BL=x,r.BR=x,t.batchFillRect(-d+this.x,-C+this.y,this.width,this.height)}this.isStroked&&x2(t,this,n,d,C)}canvasRender(t,i,n){this.isFilled&&(xf(t,this),t.fillRect(-i,-n,this.width,this.height)),this.isStroked&&(yf(t,this),t.beginPath(),t.rect(-i,-n,this.width,this.height),t.stroke())}};const K3=Phaser.Utils.Objects.GetValue;class Xp extends Pf{constructor(t,i,n,d,C,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=n),C===void 0&&(C=0),r===void 0&&(r=6),super(),this.setTopLeftPosition(t,i),this.setSize(n,d),this.setRadius(C),this.setIterations(r),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=K3(t,"tl",0),this.radiusTR=K3(t,"tr",0),this.radiusBL=K3(t,"bl",0),this.radiusBR=K3(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,n=this.height,d,C=this.iterations+1;if(d=this.radiusTL,d>0)if(this._convexTL){var r=d,x=d;qi(r,x,d,d,180,270,!1,C,t)}else{var r=0,x=0;qi(r,x,d,d,90,0,!0,C,t)}else ji(0,0,t);if(d=this.radiusTR,d>0)if(this._convexTR){var r=i-d,x=d;qi(r,x,d,d,270,360,!1,C,t)}else{var r=i,x=0;qi(r,x,d,d,180,90,!0,C,t)}else ji(i,0,t);if(d=this.radiusBR,d>0)if(this._convexBR){var r=i-d,x=n-d;qi(r,x,d,d,0,90,!1,C,t)}else{var r=i,x=n;qi(r,x,d,d,270,180,!0,C,t)}else ji(i,n,t);if(d=this.radiusBL,d>0)if(this._convexBL){var r=d,x=n-d;qi(r,x,d,d,90,180,!1,C,t)}else{var r=0,x=n;qi(r,x,d,d,360,270,!0,C,t)}else ji(0,n,t);return t.push(t[0],t[1]),rD(this.x,this.y,t),super.updateData(),this}}const ptt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let gtt=class extends P2{constructor(t,i,n,d,C,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(n,d),this.setP2(C,r)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,n,d,C){if(this.isFilled){var r=ptt(this.fillColor,this.fillAlpha*n),x=this.x0-d,s=this.y0-C,a=this.x1-d,g=this.y1-C,c=this.x2-d,h=this.y2-C,l=i.getX(x,s),o=i.getY(x,s),u=i.getX(a,g),v=i.getY(a,g),f=i.getX(c,h),p=i.getY(c,h);t.batchTri(l,o,u,v,f,p,r,r,r)}this.isStroked&&x2(t,this,n,d,C)}canvasRender(t,i,n){var d=this.x1-i,C=this.y1-n,r=this.x2-i,x=this.y2-n,s=this.x3-i,a=this.y3-n;t.beginPath(),t.moveTo(d,C),t.lineTo(r,x),t.lineTo(s,a),t.closePath(),this.isFilled&&(xf(t,this),t.fill()),this.isStroked&&(yf(t,this),t.stroke())}};const mtt={buildShapes(){this.addShape(new Xp().setName("box")).addShape(new ls().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),n=i*2,d=e-i,C=t-i,r=this.boxLineWidth,x=Math.max(n/10,2),s=this.getShape("box"),a=this.getShape("checker");if(this.isSizeChanged){var h=n*(1-this.boxSize)/2,g=r/2,c=n*this.boxSize-r;s.setTopLeftPosition(d+g+h,C+g+h).setSize(c,c),this.isCircleShape?s.setRadius(c/2):s.setRadius(0);var h=n*(1-this.checkerSize)/2,l=n*this.checkerSize/4,o=l*1,u=l*2,v=l*3;a.startAt(o,u).lineTo(u,v).lineTo(v,o).offset(d+h,C+h).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(r,this.boxStrokeColor,this.boxStrokeAlpha),a.lineStyle(x,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(r,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),a.lineStyle()),this.checked&&a.setDisplayPathSegment(this.checkerAnimProgress)}},ja=Phaser.Utils.Objects.GetValue,xtt=Phaser.Math.Linear;class tr extends q0{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=ja(t,"key","value");var n=i[this.propertyKey];return this.fromValue=ja(t,"from",n),this.toValue=ja(t,"to",n),this.setEase(ja(t,"ease",this.ease)),this.setDuration(ja(t,"duration",this.duration)),this.setRepeat(ja(t,"repeat",0)),this.setDelay(ja(t,"delay",0)),this.setRepeatDelay(ja(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var n=i.t;n=this.easeFn(n),t[this.propertyKey]=xtt(this.fromValue,this.toValue,n)}}const ytt={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new tr(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var oD={};Object.assign(oD,z_,U_,mtt,ytt);const Xd=23730,Stt=16777215,mi=Phaser.Utils.Objects.GetValue,lM=Phaser.Utils.Objects.IsPlainObject;class lD extends xa{constructor(t,i,n,d,C,r,x){lM(i)?(x=i,i=mi(x,"x",0),n=mi(x,"y",0),d=mi(x,"width",2),C=mi(x,"height",2),r=mi(x,"color",Xd)):lM(r)&&(x=r,r=mi(x,"color",Xd)),super(t,i,n,d,C),this.type="rexCheckbox",r===void 0&&(r=Xd),this.setBoxShape(mi(x,"circleBox",!1)),this.setBoxFillStyle(r,mi(x,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(mi(x,"uncheckedColor",null),mi(x,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(mi(x,"boxLineWidth",4),mi(x,"boxStrokeColor",r),mi(x,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,mi(x,"uncheckedBoxStrokeColor",this.boxStrokeColor),mi(x,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(mi(x,"checkerColor",Stt),mi(x,"checkerAlpha",1)),this.setBoxSize(mi(x,"boxSize",1)),this.setCheckerSize(mi(x,"checkerSize",1)),this.setCheckerAnimationDuration(mi(x,"animationDuration",150)),this.buildShapes();var s=mi(x,"checked");s===void 0&&(s=mi(x,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(lD.prototype,oD);const vd=Phaser.Utils.Objects.GetValue;class ya extends ai{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(vd(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(vd(t,"enable",!0)),this.setMode(vd(t,"mode",1)),this.setClickInterval(vd(t,"clickInterval",100)),this.setDragThreshold(vd(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Ctt[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,n,d){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,d),this.mode===0&&this.click(t.downTime,t,d))}onRelease(t,i,n,d){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,d),this.mode===1&&this.click(t.upTime,t,d),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,n,d){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,n,d){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,d),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,n){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,n),this;this.pointer=void 0;var d=this.lastClickTime;return d!==void 0&&t-d<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,n),this)}cancel(){return this.pointer=void 0,this}}const Ctt={press:0,pointerdown:0,release:1,pointerup:1},qa=Phaser.Utils.Objects.GetValue,hM=Phaser.Utils.Objects.IsPlainObject;class S5 extends lD{constructor(t,i,n,d,C,r,x){hM(i)?(x=i,i=qa(x,"x",0),n=qa(x,"y",0),d=qa(x,"width",2),C=qa(x,"height",2),r=qa(x,"color",Xd)):hM(r)&&(x=r,r=qa(x,"color",Xd)),super(t,i,n,d,C,r,x),this._click=new ya(this,qa(x,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(qa(x,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}At.register("checkbox",function(e,t,i,n,d,C){var r=new S5(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.Checkbox",S5);const Ttt={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},btt={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},Ett={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var gy=function(e,t,i){return(t-e)*i+e},wtt=function(e,t,i){var n=gy(tf(e),tf(t),i),d=gy(ef(e),ef(t),i),C=gy(sf(e),sf(t),i);return(n&255)<<16|(d&255)<<8|C&255};const uM=Phaser.Math.Linear,Ptt={buildShapes(){this.addShape(new Xp().setName("track")).addShape(new Xp().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,n=this.getShape("track");if(this.isSizeChanged){var d=e*this.trackWidth,C=t*this.trackHeight,r=(e-d)/2,x=(t-C)/2,s=t*this.trackRadius;n.setTopLeftPosition(r,x).setSize(d,C).setRadius(s)}var a=wtt(this.falseValueTrackColor,this.trackFillColor,i),g=uM(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);n.fillStyle(a,g);var c=this.getShape("thumb");if(this.isSizeChanged){var h=e*this.thumbWidth,l=t*this.thumbHeight,o=t*this.thumbRadius;c.setSize(h,l).setRadius(o)}var u=uM(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(u=e-u);var v=t/2;c.setCenterPosition(u,v),c.fillStyle(this.thumbColor,this.thumbAlpha)}},Mtt={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new tr(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var hD={};Object.assign(hD,Ttt,btt,Ett,Ptt,Mtt);var Att=function(e){var t=.3*tf(e)+.59*ef(e)+.11*sf(e);return(t&255)<<16|(t&255)<<8|t&255};const xi=Phaser.Utils.Objects.GetValue,dM=Phaser.Utils.Objects.IsPlainObject,my=23730,Rtt=16777215;class uD extends xa{constructor(t,i,n,d,C,r,x){dM(i)?(x=i,i=xi(x,"x",0),n=xi(x,"y",0),d=xi(x,"width",2),C=xi(x,"height",2),r=xi(x,"color",my)):dM(r)&&(x=r,r=xi(x,"color",my)),super(t,i,n,d,C),this.type="rexToggleSwitch",r===void 0&&(r=my),this.setTrackFillStyle(r,xi(x,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(xi(x,"falseValueTrackColor",Att(r)),xi(x,"falseValueTrackFillAlpha",1)),this.setThumbStyle(xi(x,"thumbColor",Rtt),xi(x,"thumbAlpha",1)),this.setTrackSize(xi(x,"trackWidth",.9),xi(x,"trackHeight",.5)),this.setTrackRadius(xi(x,"trackRadius",this.trackHeight*.5));var s=xi(x,"thumbHeight",void 0),a=xi(x,"thumbWidth",s);a===void 0&&(a=this.trackHeight*.9),this.setThumbSize(a,s),this.setThumbRadius(xi(x,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(xi(x,"thumbLeft",.3),xi(x,"thumbRight",void 0)),this.setRTL(xi(x,"rtl",!1)),this.setToggleAnimationDuration(xi(x,"animationDuration",150)),this.buildShapes(),this.setValue(xi(x,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var n=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=n,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(uD.prototype,hD);const fM=Phaser.Utils.Objects.GetValue;class C5 extends uD{constructor(t,i,n,d,C,r,x){super(t,i,n,d,C,r,x),this._click=new ya(this,fM(x,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(fM(x,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}At.register("toggleSwitch",function(e,t,i,n,d,C){var r=new C5(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.ToggleSwitch",C5);const Ott={loadFromURL(e,t){var i=this,n=new Image;return n.onload=function(){i.width!==n.width||i.height!==n.height?i.resize(n.width,n.height):i.clear(),i.context.drawImage(n,0,0),i.updateTexture(),t&&t(),n.onload=null,n.src="",n.remove()},n.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,n){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,n){t.loadFromFile(e,i)})}};class _0 extends Ho{}Object.assign(_0.prototype,Ott);At.register("canvas",function(e,t,i,n){var d=new _0(this.scene,e,t,i,n);return this.scene.add.existing(d),d});wt(window,"RexPlugins.UI.Canvas",_0);const ah=Phaser.Utils.Objects.GetValue;class dD extends Ho{constructor(t,i,n,d,C,r){super(t,i,n),this.type="rexCircleMaskImage",this.setTexture(d,C,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={maskType:n});var d=ah(n,"maskType",0),C=ah(n,"backgroundColor",void 0),r=ah(n,"strokeColor",void 0),x=r!=null?10:0,s=ah(n,"strokeWidth",x);if(d===void 0?d=0:typeof d=="string"&&(d=Dtt[d]),this._textureKey=t,this._frameName=i,d===null)return this.loadTexture(t,i),this.dirty=!0,this;var a=this.scene.sys.textures.getFrame(t,i);if(!a)return this;a.cutWidth!==this.width||a.cutHeight!==this.height?this.setCanvasSize(a.cutWidth,a.cutHeight):this.clear();var g=this.canvas,c=this.context,h=g.width,l=g.height;C!=null&&(c.fillStyle=C,c.fillRect(0,0,h,l)),c.save(),c.beginPath();var o=s/2;switch(d){case 1:var m=Math.floor(h/2),y=Math.floor(l/2),u=m-o,v=y-o;c.ellipse(m,y,u,v,0,0,2*Math.PI);break;case 2:var f=ah(n,"radius",0),p=ah(n,"iteration",void 0);HO(c,o,o,h-s,l-s,f,p);break;default:var m=Math.floor(h/2),y=Math.floor(l/2),S=Math.min(m,y)-o;c.arc(m,y,S,0,2*Math.PI);break}return r!=null&&(c.strokeStyle=r,c.lineWidth=s,c.stroke()),c.clip(),this.loadTexture(t,i),c.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const Dtt={circle:0,ellipse:1,roundRectangle:2};At.register("circleMaskImage",function(e,t,i,n,d){var C=new dD(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.CircleMaskImage",dD);const pd=Phaser.Utils.Objects.GetValue;class fD extends Ho{constructor(t,i,n,d,C,r){super(t,i,n),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(d,C,r)}setTexture(t,i,n){typeof i=="object"&&(n=i,i=void 0),typeof n=="string"&&(n={mask:{key:n}});var d=pd(n,"mask.key"),C=pd(n,"mask.frame"),r=pd(n,"mask.invertAlpha",!1),x=pd(n,"mask.scale"),s=pd(n,"backgroundColor");if(d){this._maskKey=d,this._maskFrame=C,this._maskScale=x;var a=d?this.scene.sys.textures.get(d):null;this.maskFrame=a?a.get(C):null}this._textureKey=t,this._frameName=i;var g=this.maskFrame;if(g===null)return this.loadTexture(t,i),this.dirty=!0,this;var c=s!=null;this.loadTexture(t,i);var h=this.canvas,l=this.context,o=h.width,u=h.height;l.save(),l.globalCompositeOperation=r?"destination-out":"destination-in";var v,f;this._maskScale!=null?(v=g.cutWidth*this._maskScale,f=g.cutHeight*this._maskScale):(v=o,f=u);var p=(o-v)/2,m=(u-f)/2;return this.drawFrame(this._maskKey,this._maskFrame,p,m,v,f),l.restore(),c&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=s,l.fillRect(0,0,o,u),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}At.register("alphaMaskImage",function(e,t,i,n,d){var C=new fD(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.AlphaMaskImage",fD);const Ltt=Phaser.Math.Linear,cM=Phaser.Math.Percent,Ftt={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=cM(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=cM(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=Ltt(e,t,i)),i}},Btt=Phaser.Math.Percent,Itt={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=Btt(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,n){return i===void 0&&(i=-1),n===void 0&&(n=0),this.easeValueTask===void 0&&(this.easeValueTask=new tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:n}),this}},gd=Phaser.Utils.Objects.GetValue,ktt=Phaser.Math.Clamp;function Yo(e){class t extends e{bootProgressBase(n){this.eventEmitter=gd(n,"eventEmitter",this);var d=gd(n,"valuechangeCallback",null);if(d!==null){var C=gd(n,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",d,C)}return this.setEaseValuePropName("value").setEaseValueDuration(gd(n,"easeValue.duration",0)).setEaseValueFunction(gd(n,"easeValue.ease","Linear")),this}get value(){return this._value}set value(n){n=ktt(n,0,1);var d=this._value,C=d!=n;this.dirty=this.dirty||C,this._value=n,C&&this.eventEmitter.emit("valuechange",this._value,d,this.eventEmitter)}}return Object.assign(t.prototype,Ftt,Itt),t}const Gtt=Phaser.Math.RadToDeg,vM=Phaser.Math.DegToRad;var pM=function(e,t,i,n,d,C,r,x){var s=Math.abs(r-C)===360,a=vM(C),g=vM(r),c=Math.cos(a),h=Math.sin(a),l=Math.cos(g),o=Math.sin(g);return e.startAt(t+c*n,i+h*n),e.arc(t,i,n,C,r,x),s&&d===0||(e.lineTo(t+l*d,i+o*d),d>0&&e.arc(t,i,d,r,C,!x)),e.close(),e};const Ntt={buildShapes(){var e=this.iterations;this.addShape(new ls().setIterations(e).setName("track")).addShape(new ls().setIterations(e).setName("bar")).addShape(new Bn().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,n=i-t,d=this.getShape("track");this.trackColor!=null&&this.thickness>0?(d.fillStyle(this.trackColor),pM(d,e,e,i,n,0,360,!1)):d.reset();var C=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var r,x,s;if(this.value===1)r=!1,x=0,s=360;else{r=this.anticlockwise,x=Gtt(this.startAngle);var a=360*(r?1-this.value:this.value);s=a+x}C.fillStyle(this.barColor),pM(C,e,e,i+1,n-1,x,s,!1)}else C.reset();var g=this.getShape("center");this.centerColor&&n>0?g.setCenterPosition(e,e).setRadius(n).fillStyle(this.centerColor):g.reset()}},Xn=Phaser.Utils.Objects.GetValue,Vtt=Phaser.Utils.Objects.IsPlainObject,ztt=Phaser.Math.Clamp,Utt=Phaser.Math.DegToRad(270);let T5=class extends Yo(xa){constructor(t,i,n,d,C,r,x){Vtt(i)&&(x=i,i=Xn(x,"x",0),n=Xn(x,"y",0),d=Xn(x,"radius",1),C=Xn(x,"barColor",void 0),r=Xn(x,"value",0)),d===void 0&&(d=1);var s=d*2;super(t,i,n,s,s),this.type="rexCircularProgress",this.bootProgressBase(x),this.setRadius(d),this.setTrackColor(Xn(x,"trackColor",void 0)),this.setBarColor(C),this.setCenterColor(Xn(x,"centerColor",void 0)),this.setThickness(Xn(x,"thickness",.2)),this.setStartAngle(Xn(x,"startAngle",Utt)),this.setAnticlockwise(Xn(x,"anticlockwise",!1)),this.iterations=Xn(x,"iterations",128),this.buildShapes(),this.setValue(r)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=ztt(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(T5.prototype,Ntt);At.register("circularProgress",function(e,t,i,n,d,C){var r=new T5(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.CircularProgress",T5);var xy=function(e,t,i,n,d,C,r,x,s,a,g,c){a===void 0&&(a=0),g===void 0&&(g=2*Math.PI),c===void 0&&(c=!1),t.beginPath(),t.ellipse(i,n,d,C,0,a,g,c),r!=null&&(t.fillStyle=r,t.fill()),x!=null&&(t.strokeStyle=x,t.lineWidth=s,t.stroke())};const gM=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],Xtt=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var v4={},mM;for(var Z3=0,Htt=gM.length;Z3<Htt;Z3++)mM=gM[Z3].toLowerCase(),v4[mM]=Xtt[Z3];var Ytt=function(e){return e=e.toLowerCase(),v4.hasOwnProperty(e)?v4[e]:null},p4=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=Ytt(e)),e};const Wtt=Phaser.Math.DegToRad,yy=Phaser.Math.Linear;var $tt=function(e,t,i,n,d,C,r,x,s,a,g,c,h){a===void 0&&(a=0),g===void 0&&(g=2*Math.PI),c===void 0&&(c=!1),h===void 0&&(h=2),r=p4(r),x=p4(x),md=bP(r,md),xd=bP(x,xd);var l=Wtt(h),o;c?o=a-g:o=g-a,o<0&&(o+=2*Math.PI);var u=Math.ceil(o/l),v=o/u;c&&(v=-v);for(var f=0;f<u;f++){var p=f/u,m=Math.round(yy(md.r,xd.r,p)),y=Math.round(yy(md.g,xd.g,p)),S=Math.round(yy(md.b,xd.b,p)),T=a+f*v,b=T+v;f<u-1&&(b+=v/2),t.beginPath(),t.ellipse(i,n,d,C,0,T,b,c),t.strokeStyle=`rgb(${m},${y},${S})`,t.lineWidth=s,t.stroke()}},md,xd,Ktt=function(e,t,i,n,d,C,r,x,s,a,g){s===void 0&&x!=null&&(s=2),t.font=C,t.textAlign=a,t.textBaseline=g,t.fillStyle=r,t.strokeStyle=x,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",x!=null&&x!=="none"&&s>0&&t.strokeText(d,i,n),r!=null&&r!=="none"&&t.fillText(d,i,n)};const Sy=Phaser.Math.PI2;var Ztt=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,n=this.radius-t,d=this.canvas,C=this.context,r=this.anticlockwise,x=this.startAngle,s=this.endAngle,a=this._deltaAngle;if(this.trackColor&&t>0&&(C.save(),xy(d,C,e,e,i,i,void 0,this.trackColor,t,x,s,r),C.restore()),this.barColor&&i>0){var g;this.value>=1?g=s:r?g=(x-a*this.value+Sy)%Sy:g=(x+a*this.value)%Sy,C.save(),this.barColor2?$tt(d,C,e,e,i,i,this.barColor2,this.barColor,t,x,g,r):xy(d,C,e,e,i,i,void 0,this.barColor,t,x,g,r),C.restore()}if(this.centerColor&&n>0){var c;this.centerColor2?(c=this.context.createRadialGradient(e,e,0,e,e,n),c.addColorStop(0,this.centerColor),c.addColorStop(1,this.centerColor2)):c=this.centerColor,C.save(),xy(d,C,e,e,n,n,c),C.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(C.save(),Ktt(d,C,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),C.restore())};const hi=Phaser.Utils.Objects.GetValue,Jtt=Phaser.Utils.Objects.IsPlainObject,Qtt=Phaser.Math.Clamp,jtt=Phaser.Math.DegToRad(270),Hp=Phaser.Math.PI2;class M2 extends Yo(Ho){constructor(t,i,n,d,C,r,x){Jtt(i)&&(x=i,i=hi(x,"x",0),n=hi(x,"y",0),d=hi(x,"radius",1),C=hi(x,"barColor",void 0),r=hi(x,"value",0));var s=d*2,a=hi(x,"resolution",1);super(t,i,n,s,s,a),this.type="rexCircularProgressCanvas",this.bootProgressBase(x),this.setRadius(d),this.setTrackColor(hi(x,"trackColor",void 0)),this.setBarColor(C),this.setBarColor2(hi(x,"barColor2",void 0)),this.setCenterColor(hi(x,"centerColor",void 0)),this.setThickness(hi(x,"thickness",.2)),this.setAnticlockwise(hi(x,"anticlockwise",!1)),this.setStartAngle(hi(x,"startAngle",jtt));var g=hi(x,"endAngle");g===void 0&&(this.anticlockwise?g=this.startAngle-Hp:g=this.startAngle+Hp),this.setEndAngle(hi(x,"endAngle",g)),this.setTextColor(hi(x,"textColor",void 0)),this.setTextStrokeColor(hi(x,"textStrokeColor",void 0),hi(x,"textStrokeThickness",void 0));var c=hi(x,"textFont",void 0);c?this.setTextFont(c):this.setTextFont(hi(x,"textSize","16px"),hi(x,"textFamily","Courier"),hi(x,"textStyle","")),this.setTextFormatCallback(hi(x,"textFormatCallback",void 0),hi(x,"textFormatCallbackScope",void 0)),this.setValue(r)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=Cy(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=Cy(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=Cy(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=Qtt(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,n){var d;return i===void 0?d=t:d=n+" "+t+" "+i,this.textFont=d,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),Ztt.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var Cy=function(e,t,i){return i?e<=t?Hp+e-t:e-t:e>=t?Hp+t-e:t-e};At.register("circularProgressCanvas",function(e,t,i,n,d,C){var r=new M2(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.CircularProgressCanvas",M2);var qtt=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.getShape("trackFill");n.fillStyle(this.trackColor),n.isFilled&&Ty(n,0,0,t,i,e);var d=this.getShape("bar");if(d.fillStyle(this.barColor),d.isFilled){var C,r;this.rtl?(C=t*(1-this.value),r=t):(C=0,r=t*this.value),Ty(d,C,0,r,i,e)}var x=this.getShape("trackStroke");x.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),x.isStroked&&Ty(x,0,0,t,i,e)},Ty=function(e,t,i,n,d,C){var r=(t+n)/2;return C>=0?e.startAt(r+C,i).lineTo(n+C,i).lineTo(n,d).lineTo(t,d).lineTo(t+C,i).lineTo(r+C,i):e.startAt(r,i).lineTo(n,i).lineTo(n-C,d).lineTo(t-C,d).lineTo(t,i).lineTo(r,i),e.close(),e};const yd=Phaser.Utils.Objects.GetValue,by=Phaser.Utils.Objects.IsPlainObject;let A2=class extends Yo(xa){constructor(t,i,n,d,C,r,x,s){by(i)?(s=i,i=s.x,n=s.y,d=s.width,C=s.height,r=s.barColor,x=s.value):by(d)?(s=d,d=s.width,C=s.height,r=s.barColor,x=s.value):by(r)&&(s=r,r=s.barColor,x=s.value),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=2),C===void 0&&(C=d),x===void 0&&(x=0),super(t,i,n,d,C,s),this.type="rexLineProgress",this.bootProgressBase(s),this.addShape(new ls().setName("trackFill")).addShape(new ls().setName("bar")).addShape(new ls().setName("trackStroke")),this.setTrackColor(yd(s,"trackColor",void 0)),this.setBarColor(r),this.setTrackStroke(yd(s,"trackStrokeThickness",2),yd(s,"trackStrokeColor",void 0)),this.setSkewX(yd(s,"skewX",0)),this.setRTL(yd(s,"rtl",!1)),this.setValue(x)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var _tt={updateShapes:qtt};Object.assign(A2.prototype,_tt);At.register("lineProgress",function(e,t,i,n,d,C,r){var x=new A2(this.scene,e,t,i,n,d,C,r);return this.scene.add.existing(x),x});wt(window,"RexPlugins.UI.LineProgress",A2);var g4=function(e,t,i,n,d){e.setIterations(d).start();var x=n.tl;if(ni(x))if(x.convex){var C=x.x,r=x.y;e.ellipticalArc(C,r,x.x,x.y,180,270,!1)}else{var C=0,r=0;e.ellipticalArc(C,r,x.x,x.y,90,0,!0)}else e.lineTo(0,0);var x=n.tr;if(ni(x))if(x.convex){var C=t-x.x,r=x.y;e.ellipticalArc(C,r,x.x,x.y,270,360,!1)}else{var C=t,r=0;e.ellipticalArc(C,r,x.x,x.y,180,90,!0)}else e.lineTo(t,0);var x=n.br;if(ni(x))if(x.convex){var C=t-x.x,r=i-x.y;e.ellipticalArc(C,r,x.x,x.y,0,90,!1)}else{var C=t,r=i;e.ellipticalArc(C,r,x.x,x.y,270,180,!0)}else e.lineTo(t,i);var x=n.bl;if(ni(x))if(x.convex){var C=x.x,r=i-x.y;e.ellipticalArc(C,r,x.x,x.y,90,180,!1)}else{var C=0,r=i;e.ellipticalArc(C,r,x.x,x.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},J3=Phaser.Math.RadToDeg,tet=function(e,t,i,n,d){var C=t*d,a=n.tl;if(ni(a)){var r;C>a.x?r=90:r=J3(Math.acos((a.x-C)/a.x));var x=a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,180,180+r,!1)}else e.lineTo(0,0);var a=n.tr;if(ni(a)&&C>t-a.x){var r=90-J3(Math.acos((C-(t-a.x))/a.x)),x=t-a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,270,270+r,!1)}else e.lineTo(C,0);var a=n.br;if(ni(a)&&C>t-a.x){var r=90-J3(Math.acos((C-(t-a.x))/a.x)),x=t-a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,90-r,90,!1)}else e.lineTo(C,i);var a=n.bl;if(ni(a)){var r;C>a.x?r=90:r=J3(Math.acos((a.x-C)/a.x));var x=a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,180-r,180,!1)}else e.lineTo(0,i)},Q3=Phaser.Math.RadToDeg,eet=function(e,t,i,n,d){var C=i*d,a=n.tl;if(ni(a)){var r;C>a.y?r=90:r=Q3(Math.acos((a.y-C)/a.y));var x=a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,270-r,270,!1)}else e.lineTo(0,0);var a=n.tr;if(ni(a)){var r;C>a.y?r=90:r=Q3(Math.acos((a.y-C)/a.y));var x=t-a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,270,270+r,!1)}else e.lineTo(t,0);var a=n.br;if(ni(a)&&C>i-a.y){var r=90-Q3(Math.acos((C-(i-a.y))/a.y)),x=t-a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,0,0+r,!1)}else e.lineTo(t,C);var a=n.bl;if(ni(a)&&C>i-a.y){var r=90-Q3(Math.acos((C-(i-a.y))/a.y)),x=a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,180-r,180,!1)}else e.lineTo(0,C)},j3=Phaser.Math.RadToDeg,iet=function(e,t,i,n,d){var C=t*d,a=n.tr;if(ni(a)){var r;C>a.x?r=90:r=j3(Math.acos((a.x-C)/a.x));var x=t-a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,360-r,360,!1)}else e.lineTo(t,0);var a=n.br;if(ni(a)){var r;C>a.x?r=90:r=j3(Math.acos((a.x-C)/a.x));var x=t-a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,0,0+r,!1)}else e.lineTo(t,i);var a=n.bl;if(ni(a)&&C>t-a.x){var r=90-j3(Math.acos((C-(t-a.x))/a.x)),x=a.x,s=i-a.y;e.ellipticalArc(x,s,a.x,a.y,90,90+r,!1)}else e.lineTo(t-C,i);var a=n.tl;if(ni(a)&&C>t-a.x){var r=90-j3(Math.acos((C-(t-a.x))/a.x)),x=a.x,s=a.y;e.ellipticalArc(x,s,a.x,a.y,270-r,270,!1)}else e.lineTo(t-C,0)},q3=Phaser.Math.RadToDeg,set=function(e,t,i,n,d){var C=i*d,a=n.br;if(ni(a)){C>a.y?s=90:s=q3(Math.acos((a.y-C)/a.y));var r=t-a.x,x=i-a.y;e.ellipticalArc(r,x,a.x,a.y,90-s,90,!1)}else e.lineTo(t,i);var a=n.bl;if(ni(a)){C>a.y?s=90:s=q3(Math.acos((a.y-C)/a.y));var r=a.x,x=i-a.y;e.ellipticalArc(r,x,a.x,a.y,90,90+s,!1)}else e.lineTo(0,i);var a=n.tl;if(ni(a)&&C>i-a.y){var s=90-q3(Math.acos((C-(i-a.y))/a.y)),r=a.x,x=a.y;e.ellipticalArc(r,x,a.x,a.y,180,180+s,!1)}else e.lineTo(0,i-C);var a=n.tr;if(ni(a)&&C>i-a.y){var s=90-q3(Math.acos((C-(i-a.y))/a.y)),r=t-a.x,x=a.y;e.ellipticalArc(r,x,a.x,a.y,360-s,360,!1)}else e.lineTo(t,i-C)},net=function(e,t,i,n,d,C,r,x){if(e.setIterations(x).start(),d===0)return e;if(d===1)return g4(e,t,i,n,x);var s;return C===0?s=r?iet:tet:s=r?set:eet,s(e,t,i,n,d),e.close(),e},ret=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,n=this.value,d=this.orientation,C=this.rtl,r=this.iteration+1,x=this.getShape("trackFill");x.fillStyle(this.trackColor),x.isFilled&&g4(x,e,t,i,r);var s=this.getShape("bar");s.fillStyle(this.barColor),s.isFilled&&net(s,e,t,i,n,d,C,r);var a=this.getShape("trackStroke");a.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),a.isStroked&&g4(a,e,t,i,r)},aet={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},tl=function(e){return typeof e=="string"&&(e=aet[e]),e};const oh=Phaser.Utils.Objects.GetValue,Ey=Phaser.Utils.Objects.IsPlainObject;class b5 extends Yo(xa){constructor(t,i,n,d,C,r,x,s,a){Ey(i)?(a=i,i=a.x,n=a.y,d=a.width,C=a.height,r=a.radius,x=a.barColor,s=a.value):Ey(d)?(a=d,d=a.width,C=a.height,r=a.radius,x=a.barColor,s=a.value):Ey(r)&&(a=r,r=a.radius,x=a.barColor,s=a.value),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=d),r===void 0&&(r=0),s===void 0&&(s=0),super(t,i,n,d,C,a),this.type="rexRoundRectangleProgress",this.rrGeom=new t5,this.bootProgressBase(a),this.addShape(new ls().setName("trackFill")).addShape(new ls().setName("bar")).addShape(new ls().setName("trackStroke")),this.setTrackColor(oh(a,"trackColor",void 0)),this.setBarColor(x),this.setTrackStroke(oh(a,"trackStrokeThickness",2),oh(a,"trackStrokeColor",void 0)),this.setOrientation(oh(a,"orientation",0)),this.setRTL(oh(a,"rtl",!1)),this.setRadius(r),this.setIteration(oh(r,"iteration",void 0)),this.setValue(s)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=tl(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var oet={updateShapes:ret};Object.assign(b5.prototype,oet);At.register("roundRectanleProgress",function(e,t,i,n,d,C,r,x){var s=new b5(this.scene,e,t,i,n,d,C,r,x);return this.scene.add.existing(s),s});wt(window,"RexPlugins.UI.RoundRectangleProgress",b5);var het=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var n=1,d=t.length;n<d;n++)i=t[n],e.lineTo(i.x,i.y);e.closePath(),e.restore()},wy=function(e,t,i,n,d,C,r){r===void 0&&(r="round"),het(t,i),t.lineJoin=r,n!=null&&(t.fillStyle=n,t.fill()),d!=null&&(t.strokeStyle=d,t.lineWidth=C,t.stroke())},uet=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,n=this.canvas,d=this.context;(this.trackColor||this.trackStrokeColor)&&xM(0,0,t,i,e,this.trackPoints);var C,r;if(this.barColor&&(this.rtl?(C=t*(1-this.value),r=t):(C=0,r=t*this.value),xM(C,0,r,i,e,this.barPoints)),this.trackColor&&(d.save(),wy(n,d,this.trackPoints,this.trackColor),d.restore()),this.barColor){d.save();var x;if(this.barColor2){var s;if(this.isHorizontalGradient){var a=i/2;s=d.createLinearGradient(C,a,r,a)}else{var g=t/2;s=d.createLinearGradient(g,0,g,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),x=s}else x=this.barColor;wy(n,d,this.barPoints,x),d.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(d.save(),wy(n,d,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),d.restore())},xM=function(e,t,i,n,d,C){C===void 0&&(C=[]),C.length=4;for(var r=0;r<4;r++)C[r]||(C[r]={});var x;return d>=0?(x=C[0],x.x=e+d,x.y=t,x=C[1],x.x=i+d,x.y=t,x=C[2],x.x=i,x.y=n,x=C[3],x.x=e,x.y=n):(x=C[0],x.x=e,x.y=t,x=C[1],x.x=i,x.y=t,x=C[2],x.x=i-d,x.y=n,x=C[3],x.x=e-d,x.y=n),C};const Di=Phaser.Utils.Objects.GetValue,Py=Phaser.Utils.Objects.IsPlainObject;class E5 extends Yo(Ho){constructor(t,i,n,d,C,r,x,s){Py(i)?(s=i,i=Di(s,"x",0),n=Di(s,"y",0),d=Di(s,"width",2),C=Di(s,"height",2),r=Di(s,"barColor",void 0),x=Di(s,"value",0)):Py(d)?(s=d,d=Di(s,"width",2),C=Di(s,"height",2),r=Di(s,"barColor",void 0),x=Di(s,"value",0)):Py(r)&&(s=r,r=Di(s,"barColor",void 0),x=Di(s,"value",0));var a=Di(s,"resolution",1);super(t,i,n,d,C,a),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(Di(s,"trackColor",void 0)),this.setBarColor(r,Di(s,"barColor2",void 0),Di(s,"isHorizontalGradient",void 0)),this.setTrackStroke(Di(s,"trackStrokeThickness",2),Di(s,"trackStrokeColor",void 0)),this.setSkewX(Di(s,"skewX",0)),this.setRTL(Di(s,"rtl",!1)),this.setValue(x)}get trackColor(){return this._trackColor}set trackColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,n){return n===void 0&&(n=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=n,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),uet.call(this)},this),this}}At.register("circularProgressCanvas",function(e,t,i,n,d,C,r){var x=new E5(this.scene,e,t,i,n,d,C,r);return this.scene.add.existing(x),x});wt(window,"RexPlugins.UI.LineProgressCanvas",E5);Phaser.Math.Wrap;const lh=Phaser.Math.Linear;var det=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,n=0+t.left,d=this.height-t.bottom,C=0+t.top,r=(n+i)/2,x=(C+d)/2,s={0:{a:{x:n,y:C},b:{x:i,y:x},c:{x:n,y:d}},1:{a:{x:n,y:C},b:{x:r,y:d},c:{x:i,y:C}},2:{a:{x:i,y:C},b:{x:n,y:x},c:{x:i,y:d}},3:{a:{x:n,y:d},b:{x:r,y:C},c:{x:i,y:d}}},a,g,c,h,l,o;if(this.previousDirection===void 0){var u=s[this.direction],v=u.a,f=u.b,p=u.c;a=v.x,g=v.y,c=f.x,h=f.y,l=p.x,o=p.y}else{var m=s[this.previousDirection],y=s[this.direction],S=this.easeDirectionProgress;a=lh(m.a.x,y.a.x,S),g=lh(m.a.y,y.a.y,S),c=lh(m.b.x,y.b.x,S),h=lh(m.b.y,y.b.y,S),l=lh(m.c.x,y.c.x,S),o=lh(m.c.y,y.c.y,S)}e.startAt(a,g).lineTo(c,h).lineTo(l,o),this.arrowOnly?e.end():e.close()};const fet=Phaser.Math.DegToRad,_3=fet(120);var cet=function(t){var t=this.getShape("triangle"),i=this.width/2,n=this.height/2,d=Math.min(i,n)*this.radius,C=this.verticeRotation;t.startAt(i+d*Math.cos(C+_3),n+d*Math.sin(C+_3)).lineTo(i+d*Math.cos(C),n+d*Math.sin(C)).lineTo(i+d*Math.cos(C-_3),n+d*Math.sin(C-_3)),this.arrowOnly?t.end():t.close()};const vet={buildShapes(){this.addShape(new ls().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?det.call(this):cet.call(this)}},pet={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new tr(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},hh=Phaser.Utils.Objects.GetValue,get=Phaser.Utils.Objects.IsPlainObject,met=Phaser.Math.DegToRad,xet=Phaser.Math.RadToDeg;class Mf extends xa{constructor(t,i,n,d,C,r,x){var s,a,g,c,h,l,o,u;if(get(i)){var v=i;i=v.x,n=v.y,d=v.width,C=v.height,r=v.color,x=v.alpha,s=v.strokeColor,a=v.strokeAlpha,g=v.strokeWidth,c=v.arrowOnly,h=v.direction,l=v.easeDuration,o=v.padding,u=v.radius}i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=d),c===void 0&&(c=!1),h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=0),u===void 0&&(u=void 0),super(t,i,n,d,C),this.type="rexTriangle",this.setFillStyle(r,x),s!==void 0&&g===void 0&&(g=2),this.setStrokeStyle(g,s,a),this.setArrowOnly(c),this.setDirection(h,l),this.setPadding(o),this.setRadius(u),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=Cet(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,n,d){if(typeof t=="object"){var C=t,r=hh(C,"x",null);r!==null?(t=r,n=r):(t=hh(C,"left",0),n=hh(C,"right",t));var x=hh(C,"y",null);x!==null?(i=x,d=x):(i=hh(C,"top",0),d=hh(C,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),n===void 0&&(n=t),d===void 0&&(d=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=n||this.padding.bottom!=d,this.padding.left=t,this.padding.top=i,this.padding.right=n,this.padding.bottom=d,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return xet(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=met(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const yet={right:0,down:1,left:2,up:3};var Cet=function(e){return typeof e=="string"&&(e=yet[e]),e=e%4,e};Object.assign(Mf.prototype,vet,pet);At.register("triangle",function(e,t,i,n,d,C){var r=new Mf(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.Triangle",Mf);g2();const Tet=Phaser.GameObjects.Zone,bet=Phaser.Utils.Array.Add,Eet=Phaser.Utils.Array.Remove;let Af=class extends Tet{constructor(t,i,n,d,C){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=1),C===void 0&&(C=1),super(t,i,n,d,C),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,n=this.children.length-1;n>=0;n--)i=this.children[n],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return bet(this.children,t,0,function(n){n.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var n=this;return Eet(this.children,t,function(d){d.off("destroy",n.onChildDestroy,n),i&&d.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,n,d=0,C=this.children.length;d<C;d++)n=this.children[d],n.off("destroy",i.onChildDestroy,i),t&&n.destroy();return this.children.length=0,this}};const yM=Phaser.GameObjects.Components;Phaser.Class.mixin(Af,[yM.Alpha,yM.Flip]);var hn=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=hn(e);i&&i.name!==t;)i=hn(i);return i},cD=function(e){for(var t=hn(e);t;)e=t,t=hn(t);return e};const wet=Phaser.Math.DegToRad,Pet=Phaser.Math.RadToDeg;var he=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return Pet(this.rotation)},set:function(i){this.rotation=wet(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const Met={setParent(e,t){t===void 0&&(t=this);var i=he(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),hn(e,t)},getTopmostParent(e){return e===void 0&&(e=this),cD(e)}},v0=Phaser.Utils.Objects.GetValue,vD=Af.prototype.add;var SM=function(e,t){this.setParent(e);var i=he(e);return pD(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),vD.call(this,e),gD.call(this,e,i),this},My=function(e,t){this.setParent(e);var i=he(e);return pD(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),vD.call(this,e),gD.call(this,e,i),this},pD=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=v0(t,"syncPosition",!0),e.syncRotation=v0(t,"syncRotation",!0),e.syncScale=v0(t,"syncScale",!0),e.syncAlpha=v0(t,"syncAlpha",!0),e.syncScrollFactor=v0(t,"syncScrollFactor",!0),e.syncCameraFilter=v0(t,"syncCameraFilter",!0),e.syncDisplayList=v0(t,"syncDisplayList",!0))},gD=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const Aet={add(e){return Array.isArray(e)?this.addMultiple(e):SM.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):SM.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,n=e.length;i<n;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):My.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):My.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)My.call(this,e[t]);return this}},CM=Af.prototype.remove,Ret=Af.prototype.clear,Oet={remove(e,t){return hn(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),CM.call(this,e,t),this)},unpin(e,t){return hn(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),CM.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,n=t.length;i<n;i++){var d=t[i];this.setParent(d,null),e||this.removeFromRenderLayer(d)}return Ret.call(this,e),this}},Det={getLocalState(e){return he(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Let={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),n=e.x,d=e.y;return e.x=n*t-d*i,e.y=n*i+d*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),n=e.x,d=e.y;return e.x=n*t-d*i,e.y=n*i+d*t,e.x+=this.x,e.y+=this.y,e}};var of=function(e,t){return e===t?1:e/t};const Fet={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=he(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=he(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=of(e.scaleX,i.scaleX),t.scaleY=of(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var n=he(e);return n.x=t,n.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=he(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=he(e);return t.x},getChildLocalY(e){var t=he(e);return t.y}},Bet=Phaser.Math.DegToRad,Iet={updateChildRotation(e){var t=he(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=he(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=he(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=he(e);return i.rotation=Bet(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=he(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=he(e);return t.rotation}},ket={updateChildScale(e){var t=he(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=he(e),i=t.parent;return t.scaleX=of(e.scaleX,i.scaleX),t.scaleY=of(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var n=he(e);return n.scaleX=t,n.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=he(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=he(e);return t.scaleX},getChildLocalScaleY(e){var t=he(e);return t.scaleY}},Get={updateChildVisible(e){var t=he(e),i=t.parent,n=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,d=i?i.visible:!0;return e.visible=d&&t.visible&&n,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=he(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=he(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=he(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=he(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=he(e);return t.visible}},Net={updateChildAlpha(e){var t=he(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=he(e),i=t.parent;return t.alpha=of(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=he(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=he(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=he(e);return t.alpha}},Vet={updateChildActive(e){var t=he(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=he(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=he(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=he(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=he(e);return t.active}},zet={updateChildScrollFactor(e){var t=he(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},Uet={updateCameraFilter(e){var t=he(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},Xet={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var tv=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const Het={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),n=0,d=i.length;n<d;n++)i[n].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,n=t.length;i<n;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);On(t,!1);for(var i=0,n=t.length;i<n;i++){var d=t[i];e.exists(d)&&e.bringToTop(d)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);On(t,!0);for(var i=0,n=t.length;i<n;i++){var d=t[i];e.exists(d)&&e.sendToBack(d)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);On(i,!1);for(var n=0,d=i.length;n<d;n++){var C=i[n];if(t.exists(C)){t.moveBelow(e,C);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);On(i,!0);for(var n=0,d=i.length;n<d;n++){var C=i[n];if(t.exists(C)){t.moveAbove(e,C);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=tv(t),t=On(t,!1)):t=[e];var i=this.getAllChildren([this]);i=tv(i),i=On(i,!1);for(var n=i[i.length-1],d=0,C=t.length;d<C;d++){var r=t[d];n!==r&&(r!==this&&n.displayList!==r.displayList||(n.displayList.moveAbove(r,n),n=r))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=tv(t),t=On(t,!1)):t=[e];var i=this.getAllChildren([this]);i=tv(i),i=On(i,!1);for(var n=i[0],d=t.length-1;d>=0;d--){var C=t[d];n!==C&&(C!==this&&n.displayList!==C.displayList||(n.displayList.moveBelow(C,n),n=C))}return this}};var mD=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var n=e.children,d=0,C=n.length;d<C;d++)mD(n[d],t)},Ay=function(e,t){for(var i=[e];i.length>0;){var n=i.shift(),d=t(n);!d&&n.isRexContainerLite&&i.push(...n.children)}};const p0=Phaser.Utils.Array,Yet={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return Ay(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return Ay(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),Ay(t,e),this},dfs(e,t){return t===void 0&&(t=this),mD(t,e),this},contains(e){var t=hn(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],n,d;i.length;){n=i.shift();for(var C=0,r=n.children.length;C<r;C++){if(d=n.children[C],d.name===e)return d;d.isRexContainerLite&&i.push(d)}}return null}else return p0.GetFirst(this.children,"name",e)},getRandom(e,t){return p0.GetRandom(this.children,e,t)},getFirst(e,t,i,n){return p0.GetFirstElement(this.children,e,t,i,n)},getAll(e,t,i,n){return p0.GetAll(this.children,e,t,i,n)},count(e,t,i,n){return p0.CountAllMatching(this.children,e,t,i,n)},swap(e,t){return p0.Swap(this.children,e,t),this},setAll(e,t,i,n){return p0.SetAll(this.children,e,t,i,n),this}};var TM=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var d=e[i];d.hasOwnProperty("rexContainer")&&t.push(d.rexContainer)}return t},Wet=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].scene;if(n)return n}return null},bM=function(e,t,i){if(!i.parent){e.remove();return}var n=i.parent,d=i.self;switch(t){case"x":case"y":n.updateChildPosition(d);break;case"angle":case"rotation":n.updateChildRotation(d);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":n.updateChildScale(d);break;case"alpha":n.updateChildAlpha(d);break;default:n.updateChildPosition(d),n.updateChildRotation(d),n.updateChildScale(d),n.updateChildAlpha(d);break}};const $et={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||Wet(t);if(i){e.targets=TM(t);var n=i.tweens.add(e);return n.on("update",bM),n}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=TM(t));var i=e.onUpdate;return e.onUpdate=function(n,d){i&&i(n,d),bM(n,void 0,d)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},Ket=Phaser.GameObjects.Container;var Zet=function(e){return e instanceof Ket},xD=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},EM=function(e){var t=xD(this);t.indexOf(this)===-1&&t.push(this),On(t),e.add(t)},wM=function(e,t,i){if(this.scene){var n=xD(this);On(n,t),e.remove(n),i&&n.forEach(function(d){d.addToDisplayList()})}};const Jet={addToContainer(e){return Zet(e)?(this._setParentContainerFlag=!0,EM.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Ud(e)?(EM.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,wM.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Ud(this.displayList)?(wM.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Ud(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Qet={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=he(e);return i.layer=t,this},removeFromRenderLayer(e){var t=he(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},PM=Phaser.Geom.Rectangle,jet=Phaser.Geom.Rectangle.Union;var qet=function(e,t){t===void 0?t=new PM:t===!0&&(Ry===void 0&&(Ry=new PM),t=Ry),t.setTo(0,0,0,0);for(var i,n=!0,d=0,C=e.length;d<C;d++)if(i=e[d],!!i.getBounds){var r=f5(i,!0);n?(t.setTo(r.x,r.y,r.width,r.height),n=!1):jet(r,t,t)}return t},Ry,g0=Phaser.Utils.Objects.GetValue,w5=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,n=e.saveTexture,d=g0(e,"x",void 0),C=g0(e,"y",void 0),r=g0(e,"width",void 0),x=g0(e,"height",void 0),s=g0(e,"originX",0),a=g0(e,"originY",0),g=g0(e,"padding",0),c,h;if(r===void 0||x===void 0||d===void 0||C===void 0){var l=qet(t,!0),o=d!==void 0&&C!==void 0;o?(r=Math.max(d-l.left,l.right-d)*2,x=Math.max(C-l.top,l.bottom-C)*2,s=.5,a=.5):(d=l.x,C=l.y,r=l.width,x=l.height,s=0,a=0),c=l.x,h=l.y}else c=d+(0-s)*r,h=C+(0-a)*x;c-=g,h-=g,r+=g*2,x+=g*2;var u=t[0].scene,v=u.sys.textures;return n&&!i&&(i=v.addDynamicTexture(n,r,x)),i||(i=u.add.renderTexture(0,0,r,x)),i.setPosition&&i.setPosition(d,C),(i.width!==r||i.height!==x)&&i.setSize(r,x),i.setOrigin&&i.setOrigin(s,a),i.camera.setScroll(c,h),t=On(_n(t)),i.draw(t),n&&($s(i)?i.saveTexture(n):i.key!==n&&v.renameTexture(i.key,key)),i}};const _et={snapshot(e){var t=this.scaleX,i=this.scaleY,n=t===1&&i===1;n||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var d=w5(e),C=!!d.scene;return n||(this.setScale(t,i),C&&d.setScale(t,i)),C?d:this}},MM=Phaser.Utils.Objects.GetValue;var tit=function(e,t){var i=MM(t,"drawContainer",!0),n=MM(t,"children");return n===void 0&&(n=this.getAllVisibleChildren([this])),i||(n=n.filter(function(d){return!d.isRexContainerLite})),S8(n,e,t),this};const eit=Phaser.Math.RotateAround;var iit=function(e,t,i){i===void 0&&(i=t);var n={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return eit(n,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+n.x,e.y=e.y+n.y,e},sit=function(e,t){this.syncChildrenEnable=!1,iit(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),n=0,d=i.length;n<d;n++)this.resetChildPositionState(i[n]);return this},yD={changeOrigin:sit,drawBounds:tit};Object.assign(yD,Met,Aet,Oet,Det,Let,Fet,Iet,ket,Get,Net,Vet,zet,Uet,Xet,Het,Yet,$et,Jet,Qet,_et);class un extends Af{constructor(t,i,n,d,C,r){Array.isArray(d)&&(r=d,d=void 0,C=void 0),super(t,i,n,d,C),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,r&&this.add(r)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return hn(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=hn(this);return t?t.setParentContainerFlag:!1}}Object.assign(un.prototype,yD);var R2=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function nit(e){return e===void 0&&(e=this),R2(e)}var rit=function(e){var t=R2(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},ait=function(e){return e===void 0&&(e=eu(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const yi=Phaser.Display.Align,nu={center:yi.CENTER,left:yi.LEFT_CENTER,right:yi.RIGHT_CENTER,top:yi.TOP_CENTER,bottom:yi.BOTTOM_CENTER,"left-top":yi.TOP_LEFT,"top-left":yi.TOP_LEFT,"left-center":yi.LEFT_CENTER,"center-left":yi.LEFT_CENTER,"left-bottom":yi.BOTTOM_LEFT,"bottom-left":yi.BOTTOM_LEFT,"center-top":yi.TOP_CENTER,"top-center":yi.TOP_CENTER,"center-center":yi.CENTER,"center-bottom":yi.BOTTOM_CENTER,"bottom-center":yi.BOTTOM_CENTER,"right-top":yi.TOP_RIGHT,"top-right":yi.TOP_RIGHT,"right-center":yi.RIGHT_CENTER,"center-right":yi.RIGHT_CENTER,"right-bottom":yi.BOTTOM_RIGHT,"bottom-right":yi.BOTTOM_RIGHT};var m4=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Xi,events:{once:Xi}}},0,0,1,1);m4.setOrigin(0);var Sa={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},P5=function(e){var t=Le(e);return e.y+t-t*e.originY},M5=function(e){var t=De(e);return e.x-t*e.originX+t*.5},A5=function(e,t){var i=Le(e);return e.y=t-i+i*e.originY,e},R5=function(e,t){var i=De(e),n=i*e.originX;return e.x=t+n-i*.5,e},oit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),R5(e,M5(t)+i),A5(e,P5(t)+n),e},O5=function(e){var t=De(e);return e.x-t*e.originX},D5=function(e,t){var i=De(e);return e.x=t+i*e.originX,e},lit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),D5(e,O5(t)-i),A5(e,P5(t)+n),e},L5=function(e){var t=De(e);return e.x+t-t*e.originX},F5=function(e,t){var i=De(e);return e.x=t-i+i*e.originX,e},hit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),F5(e,L5(t)+i),A5(e,P5(t)+n),e},B5=function(e,t){var i=Le(e),n=i*e.originY;return e.y=t+n-i*.5,e},uit=function(e,t,i){return R5(e,t),B5(e,i)},I5=function(e){var t=Le(e);return e.y-t*e.originY+t*.5},dit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),uit(e,M5(t)+i,I5(t)+n),e},fit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),D5(e,O5(t)-i),B5(e,I5(t)+n),e},cit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),F5(e,L5(t)+i),B5(e,I5(t)+n),e},k5=function(e){var t=Le(e);return e.y-t*e.originY},G5=function(e,t){var i=Le(e);return e.y=t+i*e.originY,e},vit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),R5(e,M5(t)+i),G5(e,k5(t)-n),e},pit=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),D5(e,O5(t)-i),G5(e,k5(t)-n),e},git=function(e,t,i,n){return i===void 0&&(i=0),n===void 0&&(n=0),F5(e,L5(t)+i),G5(e,k5(t)-n),e},kr=[];kr[Sa.BOTTOM_CENTER]=oit;kr[Sa.BOTTOM_LEFT]=lit;kr[Sa.BOTTOM_RIGHT]=hit;kr[Sa.CENTER]=dit;kr[Sa.LEFT_CENTER]=fit;kr[Sa.RIGHT_CENTER]=cit;kr[Sa.TOP_CENTER]=vit;kr[Sa.TOP_LEFT]=pit;kr[Sa.TOP_RIGHT]=git;var SD=function(e,t,i,n,d){return kr[i](e,t,n,d)},Rf=function(e,t,i,n,d,C){m4.setPosition(t,i).setSize(n,d),SD(e,m4,C)};const uh=Phaser.Utils.Objects.GetValue,mit=Phaser.GameObjects.Group,xit=Phaser.GameObjects.Container;var yit=function(e,t){var i=e.scene,n,d,C,r,x;if(typeof t=="number")n=t;else{n=uh(t,"color"),d=uh(t,"lineWidth");var s=uh(t,"name",!1);s&&(C=uh(s,"createTextCallback",Sit),r=uh(s,"createTextCallbackScope",void 0),x=uh(s,"align","left-top"),typeof x=="string"&&(x=nu[x]))}if(n===void 0&&(n=16777215),d===void 0&&(d=1),C&&!e.children){e.children=new mit(i),e.once("destroy",function(u,v){u.children.destroy(!v),u.children=void 0});var a=e.clear.bind(e);e.clear=function(){a(),e.children.clear(!1,!0)}}var g=this.getAllShownChildren([this]);CD(g,g);for(var c,h,l=0,o=g.length;l<o;l++){if(c=g[l],c.getBounds||c.width!==void 0&&c.height!==void 0)m0=f5(c,m0);else continue;n!=null&&e.lineStyle(d,n).strokeRectShape(m0),c.name&&C&&(r?h=C.call(r,i):h=C(i),h&&(h.setText(c.name),e.children.add(h),Rf(h,m0.x,m0.y,m0.width,m0.height,x)))}return this},Sit=function(e,t,i){return e.add.text(0,0,"")},CD=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,n=e.length;i<n;i++){var d=e[i];d instanceof xit&&(t.push(...d.list),CD(d.list,t))}return t},m0=void 0;const ev=Phaser.Utils.Objects.GetValue;var el=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=ev(e,"left",0),t.right=ev(e,"right",0),t.top=ev(e,"top",0),t.bottom=ev(e,"bottom",0)),t};const Cit=un.prototype.add;var Of=function(e){return Cit.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Tit={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),Of.call(this,e),this.backgroundChildren.push(e);var n=this.getSizerConfig(e);return n.padding=el(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var Io=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=Io(i)):i=null);else for(i=Io(e);i&&i.name!==t;)i=Io(i);return i},bit=function(e){for(var t=Io(e);t;)e=t,t=Io(t);return e};const ru={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Io(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),bit(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=Io(t);i;){if(i===e)return!0;i=Io(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},Eit=Phaser.Utils.Array.Remove,wit=un.prototype.remove,AM=ru.getParentSizer;var Df=function(e,t){for(var i=AM(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=AM(i);return this.isBackground(e)&&Eit(this.backgroundChildren,e),wit.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const Pit=Phaser.Utils.Array.Remove,Mit=ru.getParentSizer,Ait={removeFromParentSizer(){var e=Mit(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(Pit(this.backgroundChildren,e),Df.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var RM=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},Rit=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},Oit=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),n=null;if(i.charAt(0)==="#")i=i.substring(1),n=this.getByName(i,t);else if(e.length===0&&t){var d=this.childrenMap;if(d)for(var C=[d],r;C.length;){d=C.shift();for(var x in d)if(r=d[x],x===i){n=r;break}else r&&typeof r=="object"&&r.childrenMap&&C.push(r.childrenMap);if(n)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(n=this.childrenMap[i]);else{var s=i.match(Dit);if(s!=null&&this.childrenMap){var a=this.childrenMap[s[1]];a&&(n=a[s[2]])}}return e.length===0?n:n&&n.childrenMap?n.getElement(e):null}};const Dit=/(\S+)\[(\d+)\]/i;var Lit=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const Fit={getInnerPadding(e){return Mp(this.space,e)},setInnerPadding(e,t){return Bo(this.space,e,t),this},getOuterPadding(e){return Mp(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Bo(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Mp(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Bo(this.getSizerConfig(e).padding,t,i),this}};var N5=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},V5=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},Bit=function(e){var t,i,n;for(var d in this.sizerChildren)t=this.sizerChildren[d],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},z5=function(e){var t,i,n;for(var d in this.sizerChildren)t=this.sizerChildren[d],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(n=t.resolveWidth(i),n===void 0&&(n=i)):n=i,t.runWidthWrap(n));return this},U5=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},X5=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},Iit=function(e){var t,i,n;for(var d in this.sizerChildren)t=this.sizerChildren[d],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},H5=function(e){var t,i,n;for(var d in this.sizerChildren)t=this.sizerChildren[d],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(n=t.resolveHeight(i),n===void 0&&(n=i)):n=i,t.runHeightWrap(n));return this},kit=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var n=e.minWidth*e.scaleX;t=Math.max(n,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=De(e);return t},Git=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var n=e.minHeight*e.scaleY;t=Math.max(n,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=Le(e);return t},Nit=function(e,t){return t},Vit=function(e,t){return t},zit=function(){return 0},Uit=function(){return 0},Xit=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),n=e.length,d=t;d<n;d++)i[d].getAllChildrenSizers(e);return e},Hit=function(e){return e===void 0&&(e=[]),e};const Yit={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,n=0,d=t.length;n<d;n++)i=t[n],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var Lf=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,n=e.length;i<n;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},Wit=function(){return this.runLayout(),this},$it=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=OM.length;t<i;t++){var n=OM[t];if(n&&e instanceof n)return!1}return!0},OM=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],Kit=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=DM.length;t<i;t++){var n=DM[t];if(n&&e instanceof n)return!1}return!0},DM=[Phaser.GameObjects.BitmapText],ms=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if($it(e)){var n,d;t===void 0?n=e.width:n=t/e.scaleX,i===void 0?d=e.height:d=i/e.scaleY,e.resize?e.resize(n,d):e.setSize(n,d)}else{var C=Kit(e);t!==void 0&&(C?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(C?e.displayHeight=i:e.scaleY=i/e.height)}},Zit=function(e,t,i){if(this.ignoreLayout)return this;var n=!e;n&&this.preLayout();var d,C;n||e.runChildrenWrapFlag?(d=this.hasWidthWrap(),C=this.hasHeightWrap()):(d=!1,C=!1);var r=Jit(this,t,i,d,C);r||console.error("Can't resolve size of ",this);var x=r.width,s=r.height;return ms(this,x,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,x,s),n&&this._anchor&&this._anchor.updatePosition(),this},Jit=function(e,t,i,n,d){var C=LM(e,t,n),r=Qit(e,i,d);return C===void 0&&(C=LM(e,t,n)),C!==void 0&&r!==void 0?{width:C,height:r}:!1},LM=function(e,n,i){var n=e.resolveWidth(n);return n!==void 0&&i&&(e.resolveChildrenWidth(n),e.runWidthWrap(n)),n},Qit=function(e,n,i){var n=e.resolveHeight(n);return n!==void 0&&i&&(e.resolveChildrenHeight(n),e.runHeightWrap(n)),n},jit=function(){},qit=function(e,t,i){return this},_it=function(e,t,i,n){ms(i,e,t)};const iv=Phaser.Utils.Objects.GetValue;class Y5 extends ai{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,n;t.x!==void 0?(i=null,n=t.x):t.left!==void 0?(i=0,n=t.left):t.right!==void 0?(i=1,n=t.right):t.centerX!==void 0&&(i=.5,n=t.centerX);var d,C;t.y!==void 0?(d=null,C=t.y):t.top!==void 0?(d=0,C=t.top):t.bottom!==void 0?(d=1,C=t.bottom):t.centerY!==void 0&&(d=.5,C=t.centerY);var r,x;n!==void 0&&(n=n.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),r=parseFloat(n[0])/100,x=n[1]===""?0:parseFloat(n[1]));var s,a;C!==void 0&&(C=C.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(C[0])/100,a=C[1]===""?0:parseFloat(C[1]));var g=t.width,c,h;g!==void 0&&(g=g.split("%"),c=parseFloat(g[0])/100,h=g[1]===""?0:parseFloat(g[1]));var l=t.height,o,u;l!==void 0&&(l=l.split("%"),o=parseFloat(l[0])/100,u=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,d),this.setPercentage(r,s),this.setOffset(x,a),this.setSizePercentage(c,o),this.setSizePadding(h,u);var v=iv(t,"onResizeCallback",_it),f=iv(t,"onResizeCallbackScope");this.setResizeCallback(v,f);var p=iv(t,"onUpdateViewportCallback"),m=iv(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(p,m),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,n=this.anchorWidth,d=this.anchorHeight;if(!(n===void 0&&d===void 0||!t)){var C=this.parent;n===void 0&&(n=C.width),d===void 0&&(d=C.height),i?t.call(i,n,d,C,this):t(n,d,C,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=eu(this.scene,t,this.viewport);var i=this.viewport,n=this.onUpdateViewportCallback,d=this.onUpdateViewportCallbackScope;n&&(d?n.call(d,i,this.parent,this):n(i,this.parent,this))}}var tst=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),n=e.hasOwnProperty("onResizeCallback");return(t||i)&&!n&&(e.onResizeCallback=function(d,C,r){t&&r.setMinWidth(d),i&&r.setMinHeight(C),r.layout()}),this._anchor===void 0?this._anchor=new Y5(this,e):this._anchor.resetFromJSON(e),this};const est=Phaser.Utils.Objects.GetValue,dh=Phaser.Utils.Objects.GetAdvancedValue,FM=Phaser.Math.Linear;class lf extends q0{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(est(t,"mode",0)),this.setScaleRange(dh(t,"start",void 0),dh(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=ist[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=dh(t,"x",this.parent.scaleX),this.startY=dh(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=dh(i,"x",void 0),this.endY=dh(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasScaleX&&(t.scaleX=FM(this.startX,this.endX,n)),this.hasScaleY&&(t.scaleY=FM(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const ist={stop:0,destroy:1,yoyo:2};var W5=function(e,t,i,n,d){n===void 0&&(n="Cubic");var C,r;switch(i){case 0:case"x":C={x:0},r={x:e.scaleX};break;case 1:case"y":C={y:0},r={y:e.scaleY};break;default:C=0,r=e.scale;break}var x={mode:0,start:C,end:r,duration:t,ease:n};return d===void 0?d=new lf(e,x):d.resetFromJSON(x),d.restart(),d},TD=function(e,t,i,n,d,C){n===void 0&&(n="Linear"),d instanceof lf&&(C=d,d=void 0),d===void 0&&(d=!0);var r={};switch(r.mode=d?1:0,i){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0;break}return r.duration=t,r.ease=n,C===void 0?C=new lf(e,r):C.resetFromJSON(r),C.restart(),C},sst=function(e,t,i,n,d,C,r){i===void 0&&(i=1.2),n===void 0&&(n=0),C===void 0&&(C="Cubic");var x,s;switch(d){case 0:case"x":x={x:e.scaleX},s={x:i};break;case 1:case"y":x={y:e.scaleX},s={y:i};break;default:x=e.scaleX,s=i;break}var a={mode:2,start:x,end:s,duration:t/2,ease:C,repeat:n};return r===void 0?r=new lf(e,a):r.resetFromJSON(a),r.restart(),r};const Oy=Phaser.Utils.Objects.IsPlainObject,bD={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(Oy(e)){var n=e;e=n.duration,t=n.orientation,i=n.ease}var d=this._scaleBehavior===void 0;return this._scaleBehavior=W5(this,e,t,i,this._scaleBehavior),d&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),os(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,n){if(Oy(e)){var d=e;e=d.duration,t=d.orientation,i=d.ease,n=d.destroy}var C=this._scaleBehavior===void 0;return this._scaleBehavior=TD(this,e,t,i,n,this._scaleBehavior),C&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,n){return this.scaleDownDestroy(e,t,i,n),os(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),os(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,n,d){if(Oy(e)){var C=e;e=C.duration,t=C.peakValue,i=C.repeat,n=C.orientation,d=C.ease}var r=this._scaleBehavior===void 0;return this._scaleBehavior=sst(this,e,t,i,n,d,this._scaleBehavior),r&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,n,d){return this.scaleYoyo(e,t,i,n,d),os(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var da={};Object.assign(da,bD);da.onInitScale=function(){bD.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=ru.getParentSizer(e);i&&i.resetChildPositionState(e)})};const nst=Phaser.Utils.Objects.GetValue,BM=Phaser.Utils.Objects.GetAdvancedValue,rst=Phaser.Math.Linear;let x4=class extends q0{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(nst(t,"mode",0)),this.setAlphaRange(BM(t,"start",this.parent.alpha),BM(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=ast[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),t.alpha=rst(this.alphaStart,this.alphaEnd,n)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const ast={stop:0,destroy:1,yoyo:2},ost=Phaser.Utils.Objects.IsPlainObject;var O2=function(e,t,i,n){var d,C;ost(i)?(d=i.start,C=i.end):C=i,d===void 0&&(d=0),C===void 0&&(C=1);var r={mode:0,start:d,end:C,duration:t};return n===void 0?n=new x4(e,r):n.resetFromJSON(r),n.restart(),n},D2=function(e,t,i,n){i instanceof x4&&(n=i,i=void 0),i===void 0&&(i=!0);var d={mode:i?1:0,end:0,duration:t};return n===void 0?n=new x4(e,d):n.resetFromJSON(d),n.restart(),n};const IM=Phaser.Utils.Objects.IsPlainObject,ED={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(IM(e)){var i=e;e=i.duration,t=i.alpha}var n=this._fade===void 0;return this._fade=O2(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),os(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(IM(e)){var i=e;e=i.duration,t=i.destroy}var n=this._fade===void 0;return this._fade=D2(this,e,t,this._fade),n&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),os(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),os(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var hf={};Object.assign(hf,ED);hf.onInitFade=function(){ED.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=ru.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const lst=Phaser.Utils.Objects.GetValue,fh=Phaser.Utils.Objects.GetAdvancedValue,kM=Phaser.Math.Linear;class Yp extends q0{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(lst(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=fh(t,"x",void 0),n=fh(t,"y",void 0);this.setTargetPosition(i,n)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=hst[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var n=t;this.startX=fh(n,"startX",void 0),this.startY=fh(n,"startY",void 0),this.endX=fh(n,"endX",void 0),this.endY=fh(n,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n),this.hasMoveX&&(t.x=kM(this.startX,this.endX,n)),this.hasMoveY&&(t.y=kM(this.startY,this.endY,n))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const hst={stop:0,destroy:1,yoyo:2};var Wp=function(e,t){if(typeof e=="number")return e;var i=e[0],n=parseFloat(e.substr(2));switch(i){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}},wD=function(e,t,i,n,d,C,r){C instanceof Yp&&(r=C,C=void 0),C===void 0&&(C=!1);var x={};return x.mode=C?1:0,i!==void 0&&(x.startX=e.x,x.endX=Wp(i,e.x)),n!==void 0&&(x.startY=e.y,x.endY=Wp(n,e.y)),x.duration=t,x.ease=d===void 0?"Linear":d,r===void 0?r=new Yp(e,x):r.resetFromJSON(x),r.restart(),r},PD=function(e,t,i,n,d,C,r){C instanceof Yp&&(r=C,C=void 0),C===void 0&&(C=!1);var x={};return x.mode=C?1:0,i!==void 0&&(x.startX=Wp(i,e.x),x.endX=e.x),n!==void 0&&(x.startY=Wp(n,e.y),x.endY=e.y),x.duration=t,x.ease=d===void 0?"Linear":d,r===void 0?r=new Yp(e,x):r.resetFromJSON(x),r.restart(),r};const GM=Phaser.Utils.Objects.IsPlainObject,NM=Phaser.Math.Distance.Between,MD={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,n,d){if(GM(e)){var C=e;t=C.x,i=C.y,C.hasOwnProperty("speed")?e=NM(t,i,this.x,this.y)*1e3/C.speed:e=C.duration,n=C.ease}var r=this._easeMove===void 0;return this._easeMove=PD(this,e,t,i,n,d,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,n,d){return this.moveFrom(e,t,i,n,d),os(this._easeMove)},moveFromDestroy(e,t,i,n){return this.moveFrom(e,t,i,n,!0),this},moveFromDestroyPromise(e,t,i,n){return this.moveFromDestroy(e,t,i,n),os(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,n,d){if(GM(e)){var C=e;t=C.x,i=C.y,C.hasOwnProperty("speed")?e=NM(t,i,this.x,this.y)*1e3/C.speed:e=C.duration,n=C.ease}var r=this._easeMove===void 0;return this._easeMove=wD(this,e,t,i,n,d,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,n,d){return this.moveTo(e,t,i,n,d),os(this._easeMove)},moveToDestroy(e,t,i,n){return this.moveTo(e,t,i,n,!0),this},moveToDestroyPromise(e,t,i,n){return this.moveToDestroy(e,t,i,n,!0),os(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var L2={};Object.assign(L2,MD);L2.onInitEaseMove=function(){MD.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=ru.getParentSizer(e);i&&i.resetChildPositionState(e)})};const bn=Phaser.Utils.Objects.GetValue;class $5 extends T2{constructor(t,i){super(t,i),this.timer=new A8,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(bn(t,"timer")),this.setEnable(bn(t,"enable",!0)),this.setMode(bn(t,"mode",1)),this.isRunning=bn(t,"isRunning",!1),this.setMagnitudeMode(bn(t,"magnitudeMode",1)),this.setAxisMode(bn(t,"axis",0)),this.setDuration(bn(t,"duration",500)),this.setMagnitude(bn(t,"magnitude",10)),this.ox=bn(t,"ox",void 0),this.oy=bn(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=ust[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=fst[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=dst[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var n=t;i=bn(n,"magnitude",void 0),t=bn(n,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var n=this.parent;if(!n.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=n.x,this.oy=n.y);var d=this.magnitude;this.magnitudeMode===1&&(d*=1-this.timer.t);var C=Math.random()*Math.PI*2,r=this.ox+Math.cos(C)*d,x=this.oy+Math.sin(C)*d;switch(this.axisMode){case 1:n.x=r;break;case 2:n.y=x;break;default:n.x=r,n.y=x;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const ust={effect:0,behavior:1},dst={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},fst={constant:0,decay:1},cst=Phaser.Utils.Objects.IsPlainObject;var vst=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const pst={shake(e,t,i){if(cst(e)){var n=e;e=n.duration,t=n.magnitude,i=n.magnitudeMode}return this._shake===void 0&&(this._shake=new $5(this,{mode:0,magnitudeMode:1}),vst(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),os(this._shake)}},VM=Phaser.Utils.Objects.IsPlainObject;class gst extends ai{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new tr(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,n,d){if(VM(t)){var C=t;t=C.key,i=C.value,n=C.duration,d=C.ease;var r=C.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),d===void 0&&(d="Linear");var x=this.getEaseTask(t);return x.restart({key:t,to:i,duration:n,ease:d}),this}easeFrom(t,i,n,d){if(VM(t)){var C=t;t=C.key,i=C.value,n=C.duration,d=C.ease;var r=C.speed;n===void 0&&r!==void 0&&(n=Math.abs(i-this.parent.data.values[t])/r*1e3)}n===void 0&&(n=1e3),d===void 0&&(d="Linear");var x=this.getEaseTask(t);return x.restart({key:t,from:i,duration:n,ease:d}),this}stopEase(t,i){i===void 0&&(i=!0);var n=this.easeTasks[t];return n&&n.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var mst=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const xst={easeDataTo(e,t,i,n){return this._easeData||(this._easeData=new gst(this),mst(this,this._easeData)),this._easeData.easeTo(e,t,i,n),this},easeDataToPromise(e,t,i,n){return this.easeDataTo(e,t,i,n),E2(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var yst=Phaser.Utils.Array.Remove,Sst=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,n=t.length;i<n;i++)t[i].remove();e._delayCallTimers=void 0})};const AD={delayCall(e,t,i){var n=this._delayCallTimers;n===void 0&&Sst(this);var d,C=this,r=function(){yst(C._delayCallTimers,d),i?t.call(i):t()};return d=this.scene.time.delayedCall(e,r),this._delayCallTimers.push(d),this}};var Po=function(e){RD(e,!1)},Mo=function(e){RD(e,!0)},K5=function(e){if(!e)return!1;var t=R2(e);return!t.hidden},RD=function(e,t){if(e){var i=R2(e);i.hidden=t;var n=hn(e);n?n.setChildVisible(e,!t):e.setVisible(!t)}};const Cst={show(e){return e===void 0&&(e=this),Po(e),this},hide(e){return e===void 0&&(e=this),Mo(e),this},isShow(e){return e===void 0&&(e=this),K5(e)}},Tst=["next","exit","enter"];let OD=class{constructor(t){var i=Be(t,"states",void 0);i&&this.addStates(i);var n=Be(t,"extend",void 0);if(n)for(var d in n)(!this.hasOwnProperty(d)||this[d]===void 0)&&(this[d]=n[d]);var C=Be(t,"eventEmitter",void 0),r=Be(t,"EventEmitterClass",void 0);this.setEventEmitter(C,r),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Be(t,"enable",!0)),this.start(Be(t,"start",void 0));var i=Be(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,n=this[i];n&&n.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var d="enter_"+this._state,C=this[d];C&&C.call(this),this.emit(d,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return Tst}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var n=this.stateProperties,d=0,C=n.length;d<C;d++){var r=n[d],x=i[r];x&&(this[`${r}_${t}`]=x)}return this}addStates(t){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)this.addState(t[i]);else for(var d in t)this.addState(d,t[d]);return this}runMethod(t,i,n,d,C,r){var x=this[t+"_"+this.state];if(x){var s=arguments.length;switch(s){case 1:return x.call(this);case 2:return x.call(this,i);case 3:return x.call(this,i,n);case 4:return x.call(this,i,n,d);case 5:return x.call(this,i,n,d,C);case 6:return x.call(this,i,n,d,C,r)}for(var a=new Array(s-1),g=1;g<s;g++)a[g-1]=arguments[g];return x.apply(this,a)}}};Object.assign(OD.prototype,N8);var Dy=function(e,t,i,n,d){d===void 0&&(d=!1);var C=e._events[t];if(!C)return!1;for(var r=0,x=C.length;r<x;r++){var s=C[r];if(s.fn===i&&s.context===n&&s.once===d)return!0}return!1};const bst=["next","exit","enter","update","preupdate","postupdate"];class Ca extends OD{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Be(t,"scene",void 0),this}get stateProperties(){return bst}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return Dy(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return Dy(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return Dy(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Est=class extends Ca{constructor(t,i){super(i),this.parent=t;var n=i.initState||"IDLE";this.start(n)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var wst=function(e,t,i,n,d){var C=iu(e),r=C.time.delayedCall(t,function(){C.game.events.once("poststep",function(){i.call(n,d)})});return r};const Pst={delayCall(e,t,i){return this.delayCallTimer=wst(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Mst={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Xi),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Xi),this.transitOutCallback=e,this}},Ast={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},Rst={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var DD={};Object.assign(DD,Pst,Mst,Ast,Rst);const ch=Phaser.Utils.Objects.GetValue;class F2 extends ai{constructor(t,i){super(t,i),this.setTransitInTime(ch(i,"duration.in",200)),this.setTransitOutTime(ch(i,"duration.out",200)),this.setTransitInCallback(ch(i,"transitIn")),this.setTransitOutCallback(ch(i,"transitOut")),this.oneShotMode=ch(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new Est(this,{eventEmitter:!1,initState:ch(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(F2.prototype,DD);const Ost=Phaser.GameObjects.Rectangle;class Z5 extends Ost{constructor(t,i,n){super(t,0,0,2,2,i,1),this.fullWindow=new tD(this),this.setAlpha(n)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const Ly=Phaser.Utils.Objects.GetValue;class B2 extends ai{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(Ly(t,"hitAreaMode",0)),this.setEnable(Ly(t,"enable",!0)),this.setStopMode(Ly(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,n,d){this.stopAllLevels&&d.stopPropagation()},this).on("pointerup",function(t,i,n,d){this.stopAllLevels&&d.stopPropagation()},this).on("pointermove",function(t,i,n,d){this.stopAllLevels&&d.stopPropagation()},this).on("pointerover",function(t,i,n,d){this.stopAllLevels&&d.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=Dst[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var Dst={default:0,fullWindow:1};const zM=Phaser.Utils.Objects.GetValue;class J5 extends Z5{constructor(t,i){var n=zM(i,"color",0),d=zM(i,"alpha",.8);super(t,n,d),this.touchEventStop=new B2(this,{hitAreaMode:1})}}var Lst=function(e,t){var i=e.scene,n=new J5(i,t);return i.add.existing(n),e.isRexContainerLite?(e.pin(n,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(n)):i.children.moveBelow(n,e),n};const sv={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,W5(e,t)},scaleDown(e,t){TD(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,O2(e,t)},fadeOut(e,t){D2(e,t,!1)}};var Fst=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,O2(e,t,e.alpha)},Bst=function(e,t){D2(e,t,!1)},I2=function(e,t,i,n,d){if(!e||n&&!n(e,t,i))return!1;var C=f5(e,!0);return!(!C.contains(t,i)||d&&!d(e,t,i))};const mr=Phaser.Utils.Objects.GetValue;let Ist=class extends F2{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=_a.popUp),i.transitOut==null&&(i.transitOut=_a.scaleDown),i.destroy=mr(i,"destroy",!0),super(t,i);var n=mr(i,"cover");this.cover=n!==!1?Lst(t,n):void 0,this.cover&&(this.setCoverTransitInCallback(mr(n,"transitIn",Fst)),this.setCoverTransitOutCallback(mr(n,"transitOut",Bst)));var d=mr(i,"touchOutsideClose",!1),C=mr(i,"duration.hold",-1),r=mr(i,"timeOutClose",C>=0),x=mr(i,"anyTouchClose",!1),s=mr(i,"manualClose",!1);s&&(d=!1,x=!1,r=!1),x&&(d=!1),r?this.setDisplayTime(C):this.setDisplayTime(-1),x?this.once("open",this.anyTouchClose,this):d&&this.once("open",this.touchOutsideClose,this),mr(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&I2(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=_a[t]),t){case _a.popUp:t=sv.popUp;break;case _a.fadeIn:t=sv.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=_a[t]),t){case _a.scaleDown:t=sv.scaleDown;break;case _a.fadeOut:t=sv.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const _a={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Q5=function(e,t){var i=new Ist(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(n){e.emit("modal.close",n,i)}),e.on("modal.requestClose",i.requestClose,i),i},kst=function(e,t){var i=Q5(e,t);return new Promise(function(n,d){i.once("close",function(C){n(C)})})},LD=function(e,t){e.emit("modal.requestClose",t)},er=function(e){return e&&typeof e=="function"};const k2={modal(e,t){return er(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Q5(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,n){t.modal(e,i)})},modalClose(e){return LD(this,e),this}};var Gst=function(e,t,i,n,d,C){return C===void 0&&(C=!1),t[C?"once":"on"](i,n,d),e.once("destroy",function(){t.off(i,n,d)}),e},ea=function(e,t,i,n,d){er(t)&&(d=n,n=i,i=t,t=this);var C=this.scene.events;return this.bindEvent(t,C,e,i,n,d),this};const Nst={bindEvent(e,t,i,n,d,C){return typeof t=="string"&&(C=d,d=n,n=i,i=t,t=e,e=this),Gst(e,t,i,n,d,C),this},bindScenePreupdateEvent(e,t,i,n){return ea.call(this,"preupdate",e,t,i,n),this},bindSceneUpdateEvent(e,t,i,n){return ea.call(this,"update",e,t,i,n),this},bindScenePostupdateEvent(e,t,i,n){return ea.call(this,"postupdate",e,t,i,n),this},bindSceneRenderEvent(e,t,i,n){return ea.call(this,"render",e,t,i,n),this},bindScenePauseEvent(e,t,i,n){return ea.call(this,"pause",e,t,i,n),this},bindSceneResumeEvent(e,t,i,n){return ea.call(this,"resume",e,t,i,n),this},bindSceneSleepEvent(e,t,i,n){return ea.call(this,"sleep",e,t,i,n),this},bindSceneWakeEvent(e,t,i,n){return ea.call(this,"wake",e,t,i,n),this},bindSceneShutdownEvent(e,t,i,n){return ea.call(this,"shutdown",e,t,i,n),this}};var $p=function(e,t,i){var n=e.camera;return n?(i===void 0?i={}:i===!0&&(i=Vst),n===t?(i.x=e.worldX,i.y=e.worldY):n.getWorldPoint(e.x,e.y,i),i):null},Vst={},zst=function(e,t,i,n,d){var C=e.scene.sys.cameras.main,r,x=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return x?i(e,t.x,t.y,n,d):(r=$p(t,C,!0),r?i(e,r.x,r.y,n,d):!1);for(var s=e.scene.input.manager,a=s.pointersTotal,g=s.pointers,c=0;c<a;c++)if(t=g[c],x){if(i(e,t.x,t.y,n,d))return!0}else{if(r=$p(t,C,!0),!r)continue;if(i(e,r.x,r.y,n,d))return!0}return!1},Fr=function(e,t,i,n){return zst(e,t,I2,i,n)},Ust=function(e,t){return($s(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Fr(t,e)},ir=function(e){return Object.prototype.toString.call(e)==="[object Array]"},H0=function(e,t,i,n,d){return I2(e,t,i,Xst(n),d)},UM=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},Xst=function(e){return e?function(t,i,n){return UM(t)?(e(t,i,n),!0):!1}:UM},FD=function(e,t,i,n,d){if(er(i)||(d=i,i=void 0,n=void 0),d===void 0&&(this.sizerChildren?d=this.sizerChildren:this.isRexContainerLite?d=this.children:d=this.list),ir(d)){for(var C,r=0,x=d.length;r<x;r++)if(C=d[r],H0(C,e,t,i,n))return C}else{var C;for(var s in d)if(C=d[s],H0(C,e,t,i,n))return C}return null},Hst=function(e,t){return t===void 0?t={}:t===!0&&(t=Yst),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},Yst={},Ff=function(e){this.sizerEventsEnable&&(Hst(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},Bf=function(e,t,i,n,d,C,r,x){r===void 0&&(r=0),x===void 0&&(x=0),Rf(e,t,i,n,d,C),e.x+=r,e.y+=x,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const Wst=Phaser.Display.Align.CENTER;var $st=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,n=this.width*this.scaleX,d=this.height*this.scaleY,C,r,x,s,a,g,c,h=0,l=e.length;h<l;h++)C=e[h],r=C.rexSizer,!r.hidden&&(x=r.padding,Ff.call(this,C),s=t+x.left*this.scaleX,a=i+x.top*this.scaleY,g=n-(x.left+x.right)*this.scaleX,c=d-(x.top+x.bottom)*this.scaleY,ms(C,g,c),Bf.call(this,C,s,a,g,c,Wst,0,0))};const Kst=Phaser.Utils.Objects.IsPlainObject;var Zst=function(e,t,i){if(Kst(e)){var n=e;e=n.sensor,i=n.target,t=n.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var d=typeof e;if(d==="string"){var C=e;if(e=this.getElement(C),!e)return console.error(`Can get element '${C}'`),this}else(e===void 0||d!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(r,x,s){var a=i===void 0?this.getTopmostSizer():i;a.x+=x-e.x,a.y+=s-e.y,a.emit("sizer.drag",r,x,s)},this).on("dragstart",function(r,x,s){var a=i===void 0?this.getTopmostSizer():i;a.emit("sizer.dragstart",r,x,s)},this).on("dragend",function(r,x,s,a){var g=i===void 0?this.getTopmostSizer():i;g.emit("sizer.dragend",r,x,s,a)},this).on("drop",function(r,x){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",r,x)}),e.input._rexUIDragSizer=!0),this};const j5={onClick(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new ya(e,n)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Sd=Phaser.Utils.Objects.GetValue;class q5 extends ai{constructor(t,i){super(t,i),this._enable=void 0;var n=Sd(i,"inputConfig",void 0);n&&t.setInteractive(n),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Sd(t,"enable",!0)),this.setMode(Sd(t,"mode",1)),this.setClickInterval(Sd(t,"clickInterval",100)),this.setDragThreshold(Sd(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Jst[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,n=i.input?g5:Fr;return n(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,n,d){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var n=this.lastClickTime;return n!==void 0&&t-n<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const Jst={press:0,pointerdown:0,release:1,pointerup:1},Qst={onClickOutside(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new q5(e,n)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class jst extends Ca{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const Fy=Phaser.Utils.Objects.GetValue;class Jh extends ai{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new jst,this.parent.setInteractive(Fy(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(Fy(t,"enable",!0)),this.setCooldown(Fy(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const qst={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Fr(e):!1},onTouching(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Jh(e,n)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,n){return e?(typeof e=="function"&&(n=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Jh(e,n)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},_st={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var BD=function(e,t,i,n){if(e==="parent"){for(var d,C=0,r=t.length;C<r;C++)if(d=t[C],!!H0(d,i,n))return d.pointToChild?d.pointToChild(i,n):FD.call(d,i,n)}else for(var C=0,r=t.length;C<r;C++){var x=t[C];if(H0(x,i,n))return x}return null},In=function(e,t,i,n,d,C,r,x){var s;if(C===void 0)s=d;else{var a=i[0];if(!a)return;var g=r.camera,c=d+g.scrollX*(a.scrollFactorX-1),h=C+g.scrollY*(a.scrollFactorY-1);s=BD(n,i,c,h)}s&&e.emit(t,s,r,x)};const tnt=Phaser.Utils.Objects.GetValue;var ent=function(e){var t=tnt(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",int,this))},int=function(e,t,i,n){var d=this._childrenInteractive;In(d.eventEmitter,`${d.eventNamePrefix}down`,d.targetSizers,d.targetMode,e.worldX,e.worldY,e,n)};const snt=Phaser.Utils.Objects.GetValue;var nnt=function(e){var t=snt(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",rnt,this))},rnt=function(e,t,i,n){var d=this._childrenInteractive;In(d.eventEmitter,`${d.eventNamePrefix}up`,d.targetSizers,d.targetMode,e.worldX,e.worldY,e,n)};const ant=Phaser.Utils.Objects.GetValue;var ont=function(e){var t=ant(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",XM,this).on("pointerover",XM,this).on("pointerout",lnt,this))},XM=function(e,t,i,n){var d=this._childrenInteractive,C=d.targetSizers[0];if(C){var r=e.camera,x=e.worldX+r.scrollX*(C.scrollFactorX-1),s=e.worldY+r.scrollY*(C.scrollFactorY-1),a=BD(d.targetMode,d.targetSizers,x,s),g=d.lastOverChild;a&&g&&a===g||(d.lastOverChild=a,In(d.eventEmitter,`${d.eventNamePrefix}out`,d.targetSizers,d.targetMode,g,void 0,e,n),In(d.eventEmitter,`${d.eventNamePrefix}over`,d.targetSizers,d.targetMode,a,void 0,e,n))}},lnt=function(e,t){var i=this._childrenInteractive,n=i.lastOverChild;i.lastOverChild=null,In(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,n,void 0,e,t)};const hnt=Phaser.Utils.Objects.GetValue;var unt=function(e){var t=hnt(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new ya(this,t),this._click.on("click",function(n,d,C,r){In(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,C.worldX,C.worldY,C,r)},this)}};const By=Phaser.Utils.Objects.GetValue;class G2 extends T2{constructor(t,i){var n=iu(t);n===t&&(t=void 0),super(n,i),this.gameObject=t,t&&t.setInteractive(By(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(By(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(By(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Iy,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var n=this.bounds?this.bounds.contains(t.x,t.y):!0;n&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=HM,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Iy,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointer===t;!n&&i||(n&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===HM&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Iy,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=dnt,this}isPointerInGameObject(t,i,n){var d=this.lastPointer;return d?Fr(t,d,i,n):!1}}const Iy=0,HM=1,dnt="IDLE",x0=Phaser.Utils.Objects.GetValue,fnt=Phaser.Math.Distance.Between;class N2 extends G2{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{enter:function(){n.stop(),n.tapsCount=0,n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var C=n.lastPointer;n.x=C.x,n.y=C.y,n.worldX=C.worldX,n.worldY=C.worldY}},BEGIN:{enter:function(){n.start(),n.tapsCount=0,n.emit("tappingstart",n,n.gameObject,n.lastPointer)}},RECOGNIZED:{enter:function(){n.start(),n.emit("tap",n,n.gameObject,n.lastPointer),n.emit(`${n.tapsCount}tap`,n,n.gameObject,n.lastPointer)}}},init:function(){this.state=y0},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(x0(t,"time",250)),this.setTapInterval(x0(t,"tapInterval",200)),this.setDragThreshold(x0(t,"threshold",9)),this.setTapOffset(x0(t,"tapOffset",10));var i=x0(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(x0(t,"maxTaps",void 0)),this.setMinTaps(x0(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case y0:this.state=vh;break;case vh:var t=this.lastPointer,i=fnt(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=ph,this.state=vh);break;case ph:this.state=vh;break}}onDragEnd(){this.state===vh&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=ph))}onDrag(){this.state!==y0&&this.pointer.getDistance()>this.dragThreshold&&(this.state=y0)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===vh){var n=this.lastPointer;if(n.isDown){var d=t-n.downTime;d>this.holdTime&&(this.state=y0)}else{var C=t-n.upTime;C>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=ph:this.state=y0)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===ph&&(this.state=y0)}get isTapping(){return this.state===ph}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const y0="IDLE",vh="BEGIN",ph="RECOGNIZED",YM=Phaser.Utils.Objects.GetValue;class V2 extends G2{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0,n.lastPointer=void 0},exit:function(){var C=n.lastPointer;n.x=C.x,n.y=C.y,n.worldX=C.worldX,n.worldY=C.worldY}},BEGIN:{enter:function(){n.start()},exit:function(){n.stop()}},RECOGNIZED:{enter:function(){n.emit("pressstart",n,n.gameObject,n.lastPointer)},exit:function(){n.emit("pressend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=nv},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(YM(t,"threshold",9)),this.setHoldTime(YM(t,"time",251)),this}onDragStart(){this.state=WM,this.holdTime===0&&(this.state=ky)}onDragEnd(){this.state=nv}onDrag(){this.state!==nv&&this.pointer.getDistance()>this.dragThreshold&&(this.state=nv)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===WM){var n=t-this.pointer.downTime;n>=this.holdTime&&(this.state=ky)}}get isPressing(){return this.state===ky}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const nv="IDLE",WM="BEGIN",ky="RECOGNIZED",cnt=Phaser.Utils.Objects.GetValue;class ID extends G2{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{},BEGIN:{enter:function(){var C=n.pointer;n.startX=C.x,n.startY=C.y,n.startWorldX=C.worldX,n.startWorldY=C.worldY}},RECOGNIZED:{enter:function(){n.emit("panstart",n,n.gameObject,n.lastPointer)},exit:function(){var C=n.lastPointer;n.endX=C.x,n.endY=C.y;var r=$p(C,n.pointerCamera,!0);n.endWorldX=r.x,n.endWorldY=r.y,n.emit("panend",n,n.gameObject,n.lastPointer)}}},init:function(){this.state=$M},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(cnt(t,"threshold",10)),this}onDragStart(){this.state=KM,this.dragThreshold===0&&(this.state=rv)}onDragEnd(){this.state=$M}onDrag(){switch(this.state){case KM:if(this.pointer.getDistance()>=this.dragThreshold){this.state=rv,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var d=this.pointer;this.x=d.x,this.y=d.y,this.worldX=d.worldX,this.worldY=d.worldY}break;case rv:var t=this.pointerCamera,i=this.pointer.position,n=this.pointer.prevPosition;this.dx=i.x-n.x,this.dy=i.y-n.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var d=this.pointer;this.x=d.x,this.y=d.y;var C=$p(d,t,!0);this.worldX=C.x,this.worldY=C.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===rv}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const $M="IDLE",KM="BEGIN",rv="RECOGNIZED",vnt=Phaser.Math.Distance.Between,pnt=Phaser.Math.Angle.Between,gnt={getDt:function(){var e=y5(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=vnt(t.x,t.y,e.x,e.y),n=i/(this.getDt()*.001);return n},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),n=i/(this.getDt()*.001);return n},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),n=i/(this.getDt()*.001);return n},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=pnt(t.x,t.y,e.x,e.y);return i}},mnt={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var xnt=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=ynt),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},ynt={};const Gy=Phaser.Utils.Objects.GetValue,Snt=Phaser.Math.RadToDeg;class If extends G2{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{enter:function(){n.x=0,n.y=0,n.worldX=0,n.worldY=0},exit:function(){var C=n.lastPointer;n.x=C.x,n.y=C.y,n.worldX=C.worldX,n.worldY=C.worldY}},BEGIN:{enter:function(){n.validDrag=!1}},RECOGNIZED:{enter:function(){n.start(),n.updateDirectionStates(),n.emit("swipe",n,n.gameObject,n.lastPointer)},exit:function(){n.stop(),n.clearDirectionStates()}}},init:function(){this.state=Ny},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Gy(t,"threshold",10)),this.setVelocityThreshold(Gy(t,"velocityThreshold",1e3)),this.setDirectionMode(Gy(t,"dir","8dir")),this}onDragStart(){this.state=ZM}onDragEnd(){this.state=Ny}onDrag(){this.state===ZM&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=Vy))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===Vy&&(this.state=Ny)}get isSwiping(){return this.state===Vy}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=mnt[t]),this.dirMode=t,this}updateDirectionStates(){var t=Snt(this.getVelocityAngle());return xnt(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(If.prototype,gnt);const Ny="IDLE",ZM="BEGIN",Vy="RECOGNIZED",av=Phaser.Utils.Objects.GetValue,Cnt=Phaser.Utils.Array.SpliceOne,Tnt=Phaser.Math.Distance.Between,bnt=Phaser.Math.Angle.Between;class _5{constructor(t,i){var n=iu(t);n===t&&(t=void 0);var d=n.input.manager.pointersTotal-1;d<2&&n.input.addPointer(2-d),this.scene=n,this.gameObject=t,t&&t.setInteractive(av(i,"inputConfig",void 0)),this.setEventEmitter(av(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(av(t,"enable",!0)),this.bounds=av(t,"bounds",void 0),this.tracerState=ov,this.pointers.length=0,Fo(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Fo(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case ov:this.tracerState=Td,this.onDrag1Start();break;case Td:this.tracerState=xr,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var n=this.pointers.indexOf(t);if(n!==-1)switch(delete this.movedState[t.id],Cnt(this.pointers,n),this.tracerState){case Td:this.tracerState=ov,this.onDrag1End();break;case xr:this.tracerState=Td,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,n=this.pointers.indexOf(t)!==-1;if(!(!n&&i)){if(n&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Td:this.onDrag1();break;case xr:this.onDrag2();break}}}}dragCancel(){return this.tracerState===xr&&this.onDrag2End(),this.pointers.length=0,Fo(this.movedState),this.tracerState=ov,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==xr)return 0;var t=this.pointers[0],i=this.pointers[1];return Tnt(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==xr)return 0;var t=this.pointers[0],i=this.pointers[1];return bnt(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,n=t.prevPosition;Cd.x=i.x-n.x,Cd.y=i.y-n.y}else Cd.x=0,Cd.y=0;return Cd}get centerX(){if(this.tracerState!==xr)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==xr)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==xr)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==xr)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Ent,this}isPointer0InGameObject(t,i,n){var d=this.pointers[0];return d?Fr(t,d,i,n):!1}isPointer1InGameObject(t,i,n){var d=this.pointers[1];return d?Fr(t,d,i,n):!1}}Object.assign(_5.prototype,Cf);var Cd={};const ov=0,Td=1,xr=2,Ent="IDLE",wnt=Phaser.Utils.Objects.GetValue;class kD extends _5{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{enter:function(){n.prevDistance=void 0,n.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("pinchstart",n)},exit:function(){n.emit("pinchend",n)}}},init:function(){this.state=JM},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(wnt(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=QM,this.dragThreshold===0&&(this.state=lv)}onDrag2End(){this.state=JM}onDrag2(){switch(this.state){case QM:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=lv}break;case lv:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===lv}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const JM="IDLE",QM="BEGIN",lv="RECOGNIZED",Pnt=Phaser.Math.RotateAround;var jM=function(e,t,i,n){return Pnt(e,t,i,n),e.rotation+=n,e},Mnt=function(e,t,i,n){return n===void 0?n={}:n===!0&&(n=Ant),i.getWorldPoint(e,t,n),n},Ant={},Rnt=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY,d=Mnt(this.centerX,this.centerY,t,!0),C=d.x,r=d.y,x=this.rotation;if(Array.isArray(e))for(var s=e,a=0,g=s.length;a<g;a++)e=s[a],e.x+=i,e.y+=n,jM(e,C,r,x);else e.x+=i,e.y+=n,jM(e,C,r,x);return this};const Ont=Phaser.Utils.Objects.GetValue,zy=Phaser.Math.Angle.WrapDegrees,qM=Phaser.Math.Angle.ShortestBetween,Uy=Phaser.Math.RadToDeg,Dnt=Phaser.Math.DegToRad;class t6 extends _5{constructor(t,i){super(t,i);var n=this,d={states:{IDLE:{enter:function(){n.prevAngle=void 0,n.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){n.emit("rotatestart",n)},exit:function(){n.emit("rotateend",n)}}},init:function(){this.state=_M},eventEmitter:!1};this.setRecongizedStateObject(new Ca(d))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Ont(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=zy(Uy(this.angleBetween)),this.state=tA,this.dragThreshold===0&&(this.state=hv)}onDrag2End(){this.state=_M}onDrag2(){switch(this.state){case tA:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=zy(Uy(this.angleBetween));this.angle=qM(this.prevAngle,t),this.prevAngle=t,this.state=hv}break;case hv:var t=zy(Uy(this.angleBetween));this.angle=qM(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===hv}get isRotated(){return this.isRotating}get rotation(){return Dnt(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var Lnt={spinObject:Rnt};Object.assign(t6.prototype,Lnt);const _M="IDLE",tA="BEGIN",hv="RECOGNIZED",Fnt=Phaser.Utils.Objects.GetValue;var Bnt=function(e){var t=Fnt(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new N2(this,t),this._tap.on("tap",function(n,d,C){In(i.eventEmitter,`${i.eventNamePrefix}${n.tapsCount}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n),In(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n)},this)}};const Int=Phaser.Utils.Objects.GetValue;var knt=function(e){var t=Int(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new V2(this,t),this._press.on("pressstart",function(n,d,C){In(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n)},this).on("pressend",function(n,d,C){In(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n)},this)}};const Gnt=Phaser.Utils.Objects.GetValue;var Nnt=function(e){var t=Gnt(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new If(this,t),this._swipe.on("swipe",function(n,d,C){var r=n.left?"left":n.right?"right":n.up?"up":"down";In(i.eventEmitter,`${i.eventNamePrefix}swipe${r}`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n),In(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,n.worldX,n.worldY,C,n)},this)}};const bd=Phaser.Utils.Objects.GetValue;var z2=function(e,t){return e.setInteractive(),bd(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:bd(t,"targets",[e]),targetMode:bd(t,"targetMode","parent"),eventEmitter:bd(t,"eventEmitter",e),eventNamePrefix:bd(t,"inputEventPrefix","child.")},ent.call(e,t),nnt.call(e,t),ont.call(e,t),unt.call(e,t),Bnt.call(e,t),knt.call(e,t),Nnt.call(e,t),e},Vnt=function(e){return z2(this,e),this},znt=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var n=e[t];n.emit.apply(n,arguments)}return this},GD={getSizerConfig:nit,getChildPrevState:rit,pushIntoBounds:ait,drawBounds:yit,resolveWidth:N5,hasWidthWrap:V5,resolveChildrenWidth:Bit,runWidthWrap:z5,resolveHeight:U5,hasHeightWrap:X5,resolveChildrenHeight:Iit,runHeightWrap:H5,getChildWidth:kit,getChildHeight:Git,getExpandedChildWidth:Nit,getExpandedChildHeight:Vit,getChildrenWidth:zit,getChildrenHeight:Uit,addChildrenMap:RM,addElement:RM,removeChildrenMap:Rit,getElement:Oit,getChildIndex:Lit,getAllChildrenSizers:Xit,getChildrenSizers:Hit,preLayout:Lf,layout:Wit,runLayout:Zit,layoutChildren:jit,layoutBackgrounds:$st,postLayout:qit,setAnchor:tst,isInTouching:Ust,pointToChild:FD,setDraggable:Zst,setChildrenInteractive:Vnt,broadcastEvent:znt};Object.assign(GD,Fit,Tit,Ait,ru,da,hf,L2,pst,xst,AD,j5,Qst,qst,_st,Cst,k2,Yit,Nst);const ia=Phaser.Utils.Objects.GetValue;let il=class extends un{constructor(t,i,n,d,C,r){super(t,i,n,1,1),this.isRexSizer=!0;var x=ia(r,"origin",.5),s=ia(r,"originX",x),a=ia(r,"originY",x);this.setOrigin(s,a),this.setMinSize(d,C),this.setName(ia(r,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var g=ia(r,"anchor",void 0);g&&this.setAnchor(g),this.setInnerPadding(ia(r,"space",0));var c=ia(r,"draggable",!1);c&&this.setDraggable(c),this.setSizerEventsEnable(ia(r,"sizerEvents",!1)),this.setDirty(!0),ia(r,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),n=0,d=i.length;n<d;n++)i[n].sizerEventsEnable=!1;super.destroy(t),Fo(this.backgroundChildren),Fo(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-De(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+De(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+De(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Le(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Le(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Le(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(il.prototype,GD);var Unt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,d,C=!1;for(var r in t)i=t[r],d=this.getChildWidth(i),d===void 0&&(C=!0),!C&&(n=i.rexSizer.padding,d+=(n.left+n.right)*this.scaleX,e=Math.max(d,e));if(!C)return e+(this.space.left+this.space.right)*this.scaleX},Xnt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,n,d,C=!1;for(var r in t)i=t[r],d=this.getChildHeight(i),d===void 0&&(C=!0),!C&&(n=i.rexSizer.padding,d+=(n.top+n.bottom)*this.scaleY,e=Math.max(d,e));if(!C)return e+(this.space.top+this.space.bottom)*this.scaleY},Hnt=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(n.expandWidth){var d=t-(this.space.left+this.space.right)*this.scaleX,C=n.padding;i=d-(C.left+C.right)*this.scaleX}return i},Ynt=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(n.expandHeight){var d=t-(this.space.top+this.space.bottom)*this.scaleY,C=n.padding;i=d-(C.top+C.bottom)*this.scaleY}return i},Wnt=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var n in t)i=t[n],i.isRexSizer&&e.push(i);return e},e6=function(e,t,i,n){if(i===void 0)i=0;else{var d=typeof i;d==="boolean"?(n=i,i=0):d==="string"&&(i=$nt[i])}n===void 0?n={}:n===!0&&(n=Knt);var C=t.width/e.width,r=t.height/e.height,x=i?Math.max(C,r):Math.min(C,r);return n.width=e.width*x,n.height=e.height*x,n};const $nt={fit:0,FIT:0,envelop:1,ENVELOP:1};var Knt={},i6=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},Znt=function(){var e,t,i,n=this.innerLeft,d=this.innerTop,C=this.innerWidth,r=this.innerHeight,x,s,a,g,c,h,l,o,u,v=this.sizerChildren;for(var f in v)e=v[f],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,Ff.call(this,e),l=this.getExpandedChildWidth(e),o=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Xy.width=t.aspectRatio,Xy.height=1,Hy.width=l,Hy.height=o,u=e6(Xy,Hy,"FIT",!0),l=u.width,o=u.height),e.isRexSizer?(e.runLayout(this,l,o),i6(e,this)):ms(e,l,o),x=n+i.left*this.scaleX,a=C-(i.left+i.right)*this.scaleX,s=d+i.top*this.scaleY,g=r-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=De(e)),o===void 0&&(o=Le(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*o)*this.scaleY,Bf.call(this,e,x,s,a,g,t.align,c,h))},Xy={},Hy={};const eA=Phaser.Utils.Objects.IsPlainObject,sn=Phaser.Utils.Objects.GetValue,iA=Phaser.Display.Align.CENTER,Jnt=Phaser.Utils.String.UUID;var Qnt=function(e,t,i,n,d,C,r,x,s,a){var g,c;if(Of.call(this,e),eA(t)){var l=t;t=sn(l,"key",void 0),i=sn(l,"align",iA),n=sn(l,"padding",0),d=sn(l,"expand",!0),e.isRexSizer||(C=sn(l,"minWidth",e._minWidth),r=sn(l,"minHeight",e._minHeighted)),x=sn(l,"offsetX",0),s=sn(l,"offsetY",0),g=sn(l,"offsetOriginX",0),c=sn(l,"offsetOriginY",0),a=sn(l,"aspectRatio",0)}var h=t!==void 0;h||(t=Jnt()),typeof i=="string"&&(i=nu[i]),i===void 0&&(i=iA),n===void 0&&(n=0),d===void 0&&(d=!0),e.isRexSizer||(C===void 0&&(C=e._minWidth),r===void 0&&(r=e._minHeight)),x===void 0&&(x=0),s===void 0&&(s=0),g===void 0&&(g=0),c===void 0&&(c=0),a===void 0?a=0:a===!0&&(a=De(e)/Le(e)),a>0&&(d=!0,C===void 0&&(C=0),r===void 0&&(r=0));var l=this.getSizerConfig(e);return l.align=i,l.padding=el(n),eA(d)?(l.expandWidth=sn(d,"width",!1),l.expandHeight=sn(d,"height",!1)):(l.expandWidth=d,l.expandHeight=d),e.isRexSizer||(l.expandWidth&&(e.minWidth=C===void 0?De(e):C),l.expandHeight&&(e.minHeight=r===void 0?Le(e):r)),l.alignOffsetX=x,l.alignOffsetY=s,l.alignOffsetOriginX=g,l.alignOffsetOriginY=c,l.aspectRatio=a,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,h&&this.addChildrenMap(t,e),this};const jnt={add:Qnt},qnt=un.prototype.clear;var U2=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),qnt.call(this,e),t)for(var n,d=0,C=i.length;d<C;d++)n=i[d],n.emit("sizer.remove",n,this),this.emit("remove",n,this);return this};const _nt={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),Df.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return U2.call(this,e),this}};var ND={getChildrenWidth:Unt,getChildrenHeight:Xnt,getExpandedChildWidth:Hnt,getExpandedChildHeight:Ynt,getChildrenSizers:Wnt,layoutChildren:Znt};Object.assign(ND,jnt,_nt);var X2=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const sA=Phaser.Utils.Objects.IsPlainObject,gh=Phaser.Utils.Objects.GetValue;class Gn extends il{constructor(t,i,n,d,C,r){sA(i)?(r=i,i=gh(r,"x",0),n=gh(r,"y",0),d=gh(r,"width",void 0),C=gh(r,"height",void 0)):sA(d)&&(r=d,d=gh(r,"width",void 0),C=gh(r,"height",void 0)),super(t,i,n,d,C,r),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return X2(this.sizerChildren,t);return null}}Object.assign(Gn.prototype,ND);var trt=Phaser.Math.Distance.Between,Kp=function(e,t,i){var n=e.width/2;return trt(n,n,t,i)<=n};const ert=Phaser.Math.Angle.Between,irt=Phaser.Math.Angle.Normalize;var nA=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;if(Kp(n,t,i)){var d=n.width/2,C=n.startAngle,r=ert(d,d,t,i),x=n.anticlockwise?C-r:r-C,s=irt(x)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},srt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",nA,this).on("pointermove",nA,this).setInteractive()};const rA=Phaser.Math.Angle.Between,nrt=Phaser.Math.Angle.Wrap;var rrt=function(e,t,i){if(!(!this.enable||this.panPointer)){var n=this.sizerChildren.knob;Kp(n,t,i)&&VD.call(this,e)}},art=function(e,t,i){if(this.enable&&e.isDown){var n=this.sizerChildren.knob;switch(this.panState){case s6:Kp(n,t,i)&&VD.call(this,e);break;case UD:Kp(n,t,i)?lrt.call(this):zD.call(this);break}}},ort=function(e,t,i){!this.enable||this.panPointer!==e||zD.call(this)},VD=function(e){this.panPointer=e,this.panState=UD},zD=function(){this.panPointer=void 0,this.panState=s6},lrt=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,n=rA(i.x,i.y,e.x,e.y),d=rA(i.x,i.y,t.x,t.y),C=i.anticlockwise?n-d:d-n,r=nrt(C)/(Math.PI*2);this.stopEaseValue(),this.value+=r};const s6=0,UD=1;var hrt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",rrt,this).on("pointermove",art,this).on("pointerup",ort,this).setInteractive(),this.panPointer=void 0,this.panState=s6},urt=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},XD=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},drt=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(XD.call(this,e)),t.layout&&t.layout()),this};const frt={setTextFormatCallback:urt,getFormatText:XD,updateText:drt},Hn=Phaser.Utils.Objects.GetValue,crt=Phaser.Math.Snap.To;class n6 extends Yo(Gn){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var n=Hn(i,"background",void 0),d=Hn(i,"text",void 0);n&&this.addBackground(n),d&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(Hn(i,"textFormatCallback",void 0),Hn(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var C=new M2(t,i);C.setDepth(Hn(i,"knobDepth",0)),C._value=-1,t.add.existing(C),this.add(C,"knob"),d&&(this.add(d,"text","center",0,!1),t.children.moveBelow(C,d)),this.addChildrenMap("background",n),this.addChildrenMap("knob",C),this.addChildrenMap("text",d),this.setEnable(Hn(i,"enable",void 0)),this.setGap(Hn(i,"gap",void 0)),this.setValue(Hn(i,"value",0),Hn(i,"min",void 0),Hn(i,"max",void 0));var r=Hn(i,"input",0);switch(typeof r=="string"&&(r=vrt[r]),r){case 0:hrt.call(this);break;case 1:srt.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=crt(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var n=this.value;i!==n&&(this.updateText(),this.eventEmitter.emit("valuechange",n,i,this.eventEmitter))}}const vrt={pan:0,drag:0,click:1,none:-1};Object.assign(n6.prototype,frt);At.register("knob",function(e){var t=new n6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Knob",n6);const prt={arc:su,circle:Bn,curve:$_,ellipse:K_,line:Go,lines:ls,rectangle:vtt,roundRectangle:Xp,triangle:gtt},aA=Phaser.Utils.Objects.GetValue,grt=Phaser.Utils.Objects.IsPlainObject,mrt=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},xrt={createShape(e,t){var i=prt[e],n=new i;return t&&n.setName(t),n},buildShapes(e){var t=aA(e,"create",void 0);if(grt(t)){var i=t;for(var n in i){var d=i[n];switch(typeof d){case"number":for(var C=0;C<d;C++)this.addShape(this.createShape(n));break;case"string":this.addShape(this.createShape(n,d));break;default:for(var r=d,C=0,x=r.length;C<x;C++)this.addShape(this.createShape(n,r[C]));break}}}else if(Array.isArray(t))for(var i=t,C=0,x=i.length;C<x;C++){var s=i[C];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(aA(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=mrt),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},Ed=Phaser.Utils.Objects.GetValue,yrt=Phaser.Utils.Objects.IsPlainObject;class H2 extends xa{constructor(t,i,n,d,C,r){yrt(i)&&(r=i,i=Ed(r,"x",0),n=Ed(r,"y",0),d=Ed(r,"width",2),C=Ed(r,"height",2)),super(t,i,n,d,C),this.type=Ed(r,"type","rexCustomShapes"),this.buildShapes(r)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,n,d){return typeof n=="boolean"&&(d=n,n=void 0),$O(this,t,i,n,d)}}Object.assign(H2.prototype,xrt);At.register("customShapes",function(e,t,i,n,d){var C=new H2(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.CustomShapes",H2);const wd=Phaser.Utils.Objects.GetValue,Srt=Phaser.Utils.Objects.IsPlainObject;class Gr extends Yo(H2){constructor(t,i,n,d,C,r){Srt(i)&&(r=i,i=wd(r,"x",0),n=wd(r,"y",0),d=wd(r,"width",2),C=wd(r,"height",2)),r===void 0&&(r={}),r.type||(r.type="rexCustomProgress"),super(t,i,n,d,C,r),this.bootProgressBase(r),this.setValue(wd(r,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}At.register("customProgress",function(e,t,i,n,d){var C=new Gr(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.CustomProgress",Gr);var Crt=function(e){return this.easeValueTask||(this.easeValueTask=new tr(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},Trt=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},brt=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},Ert=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const wrt={start:Crt,stop:Trt,pause:brt,resume:Ert},Yn=Phaser.Utils.Objects.GetValue;class HD extends xa{constructor(t,i){var n=Yn(i,"x",0),d=Yn(i,"y",0),C=Yn(i,"width",64),r=Yn(i,"height",64);super(t,n,d,C,r),this.resetFromConfig(i,!0),this.buildShapes(i),Yn(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var n;return n=i?1e3:this.duration,this.setDuration(Yn(t,"duration",n)),n=i?"Linear":this.ease,this.setEase(Yn(t,"ease",n)),n=i?0:this.delay,this.setDelay(Yn(t,"delay",n)),n=i?0:this.repeatDelay,this.setRepeatDelay(Yn(t,"repeatDelay",n)),n=i?16777215:this.color,this.setColor(Yn(t,"color",n)),n=i?0:this.value,this.setValue(Yn(t,"value",n)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(HD.prototype,wrt);const to=Phaser.Math.DegToRad,Prt=Phaser.Math.Linear,Mrt=Phaser.Math.Easing.Expo.In,Art={right:0,down:1,left:2,up:3};var Rrt=function(e,t,i,n,d,C,r,x,s,a,g){var c=mh(t,0,n,d,C,r,x,s,a,g);e.startAt(c.x,c.y);var h=mh(i,0,n,d,C,r,x,s,a,g);e.lineTo(h.x,h.y);var l=mh(i,i,n,d,C,r,x,s,a,g);e.lineTo(l.x,l.y);var o=mh(0,i,n,d,C,r,x,s,a,g);e.lineTo(o.x,o.y);var u=mh(0,t,n,d,C,r,x,s,a,g);e.lineTo(u.x,u.y);var v=mh(t,t,n,d,C,r,x,s,a,g);e.lineTo(v.x,v.y),e.close()},Yy={},mh=function(e,t,i,n,d,C,r,x,s,a){var g=e*i,c=t*n;return Yy.x=r*g+x*c+d,Yy.y=s*g+a*c+C,Yy};const uv={setDirection(e){return typeof e=="string"&&(e=Art[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new ls)},updateShapes(){var e,t,i,n,d,C;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var r=to(315);i=Math.cos(r),n=Math.sin(r);var x=to(45);d=Math.cos(x),C=Math.sin(x);break;case 3:e=this.centerX,t=this.centerY+this.radius;var r=to(135);i=Math.cos(r),n=Math.sin(r);var x=to(225);d=Math.cos(x),C=Math.sin(x);break;case 2:e=this.centerX+this.radius,t=this.centerY;var r=to(225);i=Math.cos(r),n=Math.sin(r);var x=to(315);d=Math.cos(x),C=Math.sin(x);break;default:e=this.centerX-this.radius,t=this.centerY;var r=to(45);i=Math.cos(r),n=Math.sin(r);var x=to(135);d=Math.cos(x),C=Math.sin(x);break}for(var s=this.radius/7,a=this.getShapes(),g=0,c=a.length;g<c;g++){var h=a[g],l=(this.value+(c-g)*.1)%1;l=Mrt(Qe(l));var o=Prt(.25,1,l);h.fillStyle(this.color,o);var u=g*3+1,v=u+2;Rrt(h,u,v,s,s,e,t,i,n,d,C)}}},Ort=Phaser.Math.Linear,Drt={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Go);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,d=t+i,C=i*2,r=this.getShapes(),x=r.length,s=i*2/x,a=s*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var g=0;g<x;g++){var c=r[g],h=this.prevValue===void 0?Math.random():c.getData("to");c.setData("from",h).setData("to",Math.random())}this.prevValue=this.value;for(var g=0;g<x;g++){var c=r[g],h=c.getData("from"),l=c.getData("to"),o=Ort(h,l,this.value),u=o*C,v=n+s*(g+.5);c.lineStyle(a,this.color,1).setP0(v,d).setP1(v,d-u)}}},Lrt=Phaser.Math.Linear,Frt={buildShapes(){for(var e=0;e<3;e++)this.addShape(new Bn)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=i*.1,d=Math.ceil(n*.25),C=1-Qe(this.value),r=Lrt(.3,.9,C)*i,x=this.getShapes(),s=0,a=x.length;s<a;s++){var g=x[s],C=(this.value+s/a)%1,c=Math.PI*2*C;g.lineStyle(d,this.color).setRadius(n).setCenterPosition(e+Math.cos(c)*r,t+Math.sin(c)*r)}}},Brt=Phaser.Math.Linear,Irt=Phaser.Math.Easing.Expo.In,krt={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Go;this.addShape(i);var n=Qe(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,d=i*2,C=this.getShapes(),r=C.length,x=i*2/r,s=x*.7,a=0;a<r;a++){var g=C[a],c=(this.value+g.getData("offset"))%1;c=Irt(Qe(c));var h=Brt(.4,1,c)*d,l=n+x*(a+.5);g.lineStyle(s,this.color,1).setP0(l,t-h/2).setP1(l,t+h/2)}}},Grt={buildShapes(){this.addShape(new ls().setName("border")),this.addShape(new ls().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.7,d=e-n,C=t-n,r=n*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(d,C).lineTo(r,0,!0).lineTo(0,r,!0).lineTo(-r,0,!0).lineTo(0,-r,!0).close(),this.value<.5){var x=(.5-this.value)*2,s=r*x;this.getShape("fill").fillStyle(this.color,1).startAt(d,C).lineTo(r,0,!0).lineTo(0,s,!0).lineTo(-r,0,!0).lineTo(0,-s,!0).close()}else{var x=(this.value-.5)*2,a=180*x;this.getShape("border").rotateAround(e,t,a),this.getShape("fill").fillStyle().lineStyle()}}},oA=Phaser.Math.RadToDeg,lA=Phaser.Math.Angle.WrapDegrees,Nrt=Phaser.Math.Angle.Wrap,Vrt=Phaser.Math.Angle.ShortestBetween,zrt=Phaser.Math.DegToRad,hA=Phaser.Math.DegToRad(270),Urt={buildShapes(){this.addShape(new Bn().setName("border")),this.addShape(new Go().setName("minuteHand")),this.addShape(new Go().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),d=i-n/2,C=i*.8,r=i*.5,x=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var s=lA(oA(x)),a=lA(oA(this.minuteHandAngle)),g=Vrt(s,a);this.hourHandAngle=Nrt(this.hourHandAngle+zrt(g)/12),this.getShape("border").lineStyle(n,this.color).setRadius(d).setCenterPosition(e,t);var c=this.minuteHandAngle+hA;this.getShape("minuteHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(c)*C,t+Math.sin(c)*C);var c=this.hourHandAngle+hA;this.getShape("hourHand").lineStyle(n,this.color).setP0(e,t).setP1(e+Math.cos(c)*r,t+Math.sin(c)*r)}},uA=Phaser.Math.Linear,Xrt=Phaser.Math.Easing.Expo.In,Wy=2,$y=2,Hrt={buildShapes(){for(var e=Wy*$y,t=0;t<e;t++){var i=new Go;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,d=t-i,C=i*2/$y,r=i*2/Wy,x=this.getShapes(),s=x.length,a=0;a<s;a++){var g=a%$y,c=Math.floor(a/Wy),h=n+C*(g+.5),l=d+r*(c+.5),o=x[a],u=(this.value+(s-a)*.1)%1;u=Xrt(Qe(u));var v=(s-a)/s,f=uA(.7,1,u)*r,p=uA(.7,1,u)*C;o.lineStyle(p,this.color,v).setP0(h-f/2,l).setP1(h+f/2,l)}}},dA=Phaser.Math.Linear,Yrt={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new Bn;this.addShape(i);var n=Qe(t/(e-1))/2;i.setData("offset",n)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,d=this.getShapes(),C=d.length,r=i*2/C,x=r/2,s=0;s<C;s++){var a=d[s],g=(this.value+a.getData("offset"))%1;g=Qe(g);var c=dA(.25,1,g),h=dA(.5,1,g)*x;a.fillStyle(this.color,c).setRadius(h).setCenterPosition(n+r*(s+.5),t)}}},fA=Phaser.Math.Linear,Wrt=Phaser.Math.Easing.Expo.In,$rt={buildShapes(){for(var e=0;e<3;e++){var t=new Go;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=e-i,d=this.getShapes(),C=d.length,r=i*2/C,x=i*2,s=0;s<C;s++){var a=d[s],g=(this.value+(C-s)*.1)%1;g=Wrt(Qe(g));var c=(s+1)/C,h=fA(.7,1,g)*x,l=fA(.7,1,g)*r,o=n+r*(s+.5);a.lineStyle(l,this.color,c).setP0(o,t-h/2).setP1(o,t+h/2)}}},Krt=Phaser.Math.Linear,Ky=3,Zy=3,Zrt={buildShapes(){for(var e=Ky*Zy,t=0;t<e;t++){var i=new Bn;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,d=e-i,C=t-i,r=i*2/Zy,x=i*2/Ky,s=Math.min(r,x)/2*.8,a=this.getShapes(),g=0,c=a.length;g<c;g++){var h=g%Zy,l=Math.floor(g/Ky),o=d+r*(h+.5),u=C+x*(l+.5),v=a[g],f=(this.value+v.getData("offset"))%1;f=Qe(f),v.fillStyle(this.color,Krt(.25,1,f)),n&&v.setRadius(s).setCenterPosition(o,u)}this.isInitialize=!1}},Jrt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ls)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),d=i-n,C=d*.6,r=d*.7,x=d*1.2,s=this.getShapes(),a=0,g=s.length;a<g;a++){var c=s[a],h=(this.value+a/g)%1,l=Qe(h),o=e,u=t-15*h,v=d*h,f=C*h,p=r*h,m=x*h;c.lineStyle(n,this.color,l).startAt(o,u).cubicBezierTo(o,u-f,o-v,u-f,o-v,u).cubicBezierTo(o-v,u+f,o,u+p,o,u+m).cubicBezierTo(o,u+p,o+v,u+f,o+v,u).cubicBezierTo(o+v,u-f,o,u-f,o,u).close()}}},Qrt=Phaser.Math.Linear,jrt={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Go);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,n=this.radius,d=n/2,C=Math.ceil(n/20),r=this.getShapes(),x=0,s=r.length;x<s;x++){var a=r[x],g=x/s,c=Math.PI*2*g,h=Qrt(.25,1,(1-this.value+g)%1);a.lineStyle(C,this.color,h),i&&a.setP0(e+Math.cos(c)*d,t+Math.sin(c)*d).setP1(e+Math.cos(c)*n,t+Math.sin(c)*n)}this.isInitialize=!1}},qrt={buildShapes(){this.addShape(new Bn().setName("track")),this.addShape(new Bn().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*.9,d=Math.ceil(n/25),C=i*.1,r=Math.PI*2*this.value;this.getShape("track").lineStyle(d,this.color,.7).setRadius(n).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(C).setCenterPosition(e+Math.cos(r)*n,t+Math.sin(r)*n)}},_rt={buildShapes(){this.addShape(new Bn().setName("track")),this.addShape(new su().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),d=i-n/2;this.getShape("track").lineStyle(n,this.color,.5).setRadius(d).setCenterPosition(e,t);var C=this.value*360,r=C+60;this.getShape("arc").lineStyle(n,this.color,1).setRadius(d).setCenterPosition(e,t).setAngle(C,r)}},tat=Phaser.Math.Linear,eat={buildShapes(){for(var e=0;e<4;e++){var t=new su().setPie();this.addShape(t),t.setData("speed",tat(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n;this.prevValue!==void 0&&(n=this.value-this.prevValue,this.prevValue>this.value&&(n+=1));for(var d=this.getShapes(),C=0,r=d.length;C<r;C++){var x=d[C],s=(C+1)/r;if(this.prevValue===void 0){var a=C/r*360,g=a+90;x.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(a,g).setData("angle",a)}else{var a=x.getData("angle")+x.getData("speed")*n;a=a%360;var g=a+90;x.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(a,g).setData("angle",a)}}this.prevValue=this.value}},iat={buildShapes(){this.addShape(new Bn)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=i*this.value,d=Math.ceil(i/25),C=Qe(this.value);this.getShapes()[0].lineStyle(d,this.color,C).setRadius(n).setCenterPosition(e,t)}},sat=Phaser.Math.Linear,nat=Phaser.Math.Easing.Expo.In,rat={buildShapes(){this.addShape(new Bn().setName("center")),this.addShape(new ls().setName("arc0")),this.addShape(new ls().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=this.isInitialize||this.isSizeChanged,d=i*2/6,C=e-i+d,r=t+i-d,x=this.getShapes(),s=0,a=x.length;s<a;s++){var g=x[s],c=(this.value+(a-s)*.1)%1;c=nat(Qe(c));var h=sat(.25,1,c);switch(g.name){case"center":g.fillStyle(this.color,h),n&&g.setRadius(d).setCenterPosition(C,r);break;case"arc0":if(g.fillStyle(this.color,h),n){var l=d*2,o=d*3;g.startAt(C,r-l).lineTo(C,r-o).setIterations(8).arc(C,r,o,270,360).lineTo(C+l,r).setIterations(6).arc(C,r,l,360,270,!0).close()}break;case"arc1":if(g.fillStyle(this.color,h),n){var l=d*4,o=d*5;g.startAt(C,r-l).lineTo(C,r-o).setIterations(8).arc(C,r,o,270,360).lineTo(C+l,r).setIterations(6).arc(C,r,l,360,270,!0).close()}break}}this.isInitialize=!1}},aat={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Bn)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/25),d=i-n,C=this.getShapes(),r=0,x=C.length;r<x;r++){var s=C[r],a=(this.value+r/x)%1,g=Qe(a);s.lineStyle(n,this.color,g).setRadius(a*d).setCenterPosition(e,t)}}},oat={buildShapes(){this.addShape(new su().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,n=Math.ceil(i/10),d=i-n,C=this.value*720,r=Qe(this.value)*180,x=C-r;this.getShape("arc").lineStyle(n,this.color,1).setRadius(d).setCenterPosition(e,t).setAngle(x+315,C+315)}};Phaser.Utils.Objects.GetValue;const y4={leftArrow:uv,rightArrow:uv,upArrow:uv,downArrow:uv,audio:Drt,ball:Frt,bars:krt,box:Grt,clock:Urt,cube:Hrt,dots:Yrt,facebook:$rt,grid:Zrt,hearts:Jrt,ios:jrt,oribit:qrt,oval:_rt,pie:eat,puff:iat,radio:rat,rings:aat,spinner:oat},S4=[];for(var lat in y4)S4.push(lat);const cA=Phaser.Utils.Array.GetRandom,hat={setAnimationMode(e,t){y4.hasOwnProperty(e)||(e=cA(S4)),this.animationMode=e;var i=y4[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=cA(S4);return this.setAnimationMode(t,e),this}},uat=Phaser.Utils.Objects.GetValue;class r6 extends HD{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(uat(i,"animationMode"))}}Object.assign(r6.prototype,hat);At.register("aioSpinner",function(e){var t=new r6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.AIOSpinner",r6);const dat={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var YD=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var n=this.images[t],d=e6(n,this,e,!0),C=d.width/n.width;this.setChildLocalScale(n,C),n.biasScale=C}},Rp=function(e){this.scaleMode===0?this.resize(e.width,e.height):YD.call(this)};const vA=Phaser.Utils.Objects.IsPlainObject,Jy=Phaser.Utils.Objects.GetValue,fat=Phaser.Utils.Array.GetRandom;var cat={out:0,in:1},yr=function(e,t,...i){for(var n=0,d=i.length;n<d;n++){var C=i[n];if(C&&C.hasOwnProperty(e))return C[e]}return t};const vat={setTransitionDirection(e){return typeof e=="string"&&(e=cat[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),Rp.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,vA(e)){var n=e;e=Jy(n,"key",void 0),t=Jy(n,"frame",void 0),i=Jy(n,"mode"),Array.isArray(i)&&(i=fat(i));var d;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(d=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(yr("duration",this.duration,n,d)).setEaseFunction(yr("ease",this.easeFunction,n,d)).setTransitionDirection(yr("dir",this.dir,n,d));var C=yr("mask",void 0,n,d);C&&this.setMaskGameObject(C),this.setMaskEnable(C===!0);var r=yr("onStart",void 0,n,d),x=yr("onProgress",void 0,n,d),s=yr("onComplete",void 0,n,d);(r!==void 0||x!==void 0||s!==void 0)&&this.setTransitionStartCallback(r,yr("onStartScope",void 0,n,d)).setTransitionProgressCallback(x,yr("onProgressScope",void 0,n,d)).setTransitionCompleteCallback(s,yr("onCompleteScope",void 0,n,d))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),vA(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new tr(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},pat=Phaser.GameObjects.Graphics.prototype.setPosition;var gat=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),pat.call(this,e,t),this};const pA=Phaser.Geom.Rectangle,gA=Phaser.Geom.Circle;var mat=function(e,t,i,n,d,C,r){switch(e){case 1:n=n.left;var x=-t*(d-.5),s=-i*(C-.5),a=Math.min(t,i)/2+n;(r===void 0||!(r instanceof gA))&&(r=new gA),r.setTo(x,s,a);break;default:var g=-(t*d)-n.left,c=-(i*C)-n.top,h=t+n.left+n.right,l=i+n.top+n.bottom;(r===void 0||!(r instanceof pA))&&(r=new pA),r.setTo(g,c,h,l);break}return r},WD=function(e,t,i,n,d){switch(this.geom=mat(this.shapeType,e,t,i,n,d,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},xat=function(e,t,i){var n=this.parent;e===void 0&&(e=n.width),t===void 0&&(t=n.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var d=this.width!==e||this.height!==t,C=this.padding!==i&&!Ef(this.padding,i);return!d&&!C?this:(this.width=e,this.height=t,C&&_n(i,this.padding),this.originX=n.originX,this.originY=n.originY,WD.call(this,e,t,i,n.originX,n.originY),this)},yat=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,WD.call(this,this.width,this.height,this.padding,e,t),this)},Sat=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},Cat={setPosition:gat,resize:xat,setOrigin:yat,contains:Sat};const Tat=Phaser.GameObjects.Graphics;class Zp extends Tat{constructor(t,i,n){i===void 0&&(i=0),typeof i=="string"&&(i=bat[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=el(n),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const bat={rectangle:0,circle:1};Object.assign(Zp.prototype,Cat);const Eat={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Zp)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Zp(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),n=0,d=i.length;n<d;n++)this.setImageMaskEnable(i[n],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var wat=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(n,d){return`${n}${t}${d}`}:i=function(n,d){return`${e}_${n}${t}${d}`},i},Pat=function(e,t,i,n,d,C){i==null&&(i="__BASE"),C||(C=wat(i,C));for(var r=e.sys.textures.get(t),x=typeof i=="object"?i:r.get(i),s=x.width,a=x.height,g,c,h,l=s/n,o=a/d,u=x.cutX,v=x.cutY,f=0,p=0,m=0;m<d;m++){f=0;for(var y=0;y<n;y++)h=C(y,m),g=f+u,c=p+v,r.add(h,0,g,c,l,o),f+=l;p+=o}return{getFrameNameCallback:C,cellWidth:l,cellHeight:o,columns:n,rows:d}};const sa=Phaser.Utils.Objects.GetValue,Mat=Phaser.GameObjects.Image,Aat=Phaser.Utils.Objects.IsPlainObject,Rat=Phaser.Math.RotateAround;var Oat=function(e,t,i,n){Aat(t)&&(n=t,t=sa(n,"columns",1),i=sa(n,"rows",1));var d=sa(n,"createImageCallback");if(!d){var C=sa(n,"ImageClass",Mat);d=function(G,N,W){return new C(G,0,0,N,W)}}for(var r=sa(n,"originX",.5),x=sa(n,"originY",.5),s=sa(n,"add",!0),a=sa(n,"align",s),g=sa(n,"objectPool",void 0),c=e.scene,h=e.texture,l=e.frame,o=Pat(c,h,l,t,i),u=o.getFrameNameCallback,v=e.scaleX,f=e.scaleY,p=e.rotation,m=e.getTopLeft(),y=m.x,S=m.y,T=[],b=o.cellWidth*v,P=o.cellHeight*f,w=0;w<i;w++)for(var A=0;A<t;A++){var R,D=u(A,w);if(g&&g.length>0?R=g.pop().setTexture(h,D):R=d(c,h,D),s&&c.add.existing(R),a){var L=y+b*A,k=S+P*w,B=L+r*b,F=k+x*P;R.setOrigin(r,x).setPosition(B,F).setScale(v,f).setRotation(p),Rat(R,y,S,p)}T.push(R)}return T};const Dat={gridCutImage(e,t,i,n){n===void 0&&(n={}),n.objectPool=this.imagesPool;for(var d=Oat(e,t,i,n),C,r=0,x=d.length;r<x;r++)C=d[r],C.setVisible(!0),this.add(C);return this.cellImages=d,this.setChildLocalVisible(e,!1),d},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,n,d=0,C=t.length;d<C;d++)i=t[d],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),n=i.frame.name,i.setTexture(),e.remove(n);return this.imagesPool.push(...t),t.length=0,this}},$D={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var KD={};Object.assign(KD,dat,vat,Eat,Dat,$D);var Lat=function(e,t,i,n){},Fat=function(e,t,i,n){e.setChildLocalAlpha(t,1-n).setChildLocalAlpha(i,n)},Bat=function(e,t,i,n){e.setChildLocalAlpha(t,1)};const mA=Phaser.Utils.Objects.IsPlainObject,Vi=Phaser.Utils.Objects.GetValue,Iat=Phaser.Math.Clamp;class Y2 extends un{constructor(t,i,n,d,C,r){mA(i)?(r=i,i=Vi(r,"x",0),n=Vi(r,"y",0),d=Vi(r,"key",void 0),C=Vi(r,"frame",void 0)):mA(C)&&(r=C,C=void 0);var x=Vi(r,"back",void 0),s=Vi(r,"front",void 0);x||(x=t.add.image(i,n,d,C)),s||(s=t.add.image(i,n,d,C));var a=Vi(r,"width",void 0),g=Vi(r,"height",void 0),c=a!==void 0&&g!==void 0?1:0;a===void 0&&(a=s.width),g===void 0&&(g=s.height),super(t,i,n,a,g),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,c=Vi(r,"scaleMode",c),typeof c=="string"&&(c=kat[c]),this.scaleMode=c,x.setVisible(!1),this.addMultiple([x,s]),this.backImage=x,this.frontImage=s,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var h=Vi(r,"onStart",void 0),l=Vi(r,"onProgress",void 0),o=Vi(r,"onComplete",void 0),u=Vi(r,"dir",0);h===void 0&&l===void 0&&o===void 0&&(h=Lat,l=Fat,o=Bat,u=0),this.setTransitionStartCallback(h,Vi(r,"onStartScope",void 0)).setTransitionProgressCallback(l,Vi(r,"onProgressScope",void 0)).setTransitionCompleteCallback(o,Vi(r,"onCompleteScope",void 0)).setTransitionDirection(u).setDuration(Vi(r,"duration",1e3)).setEaseFunction(Vi(r,"ease","Linear"));var v=Vi(r,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,Rp.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=Iat(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,n=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),Qy.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,n,t)),Qy.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,n,t),t===1){Qy.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,n,t);var d=n.texture.key,C=n.frame.name;this.frontImage.setTexture(d,C),this.backImage.setTexture(d,C),Rp.call(this,n),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),Rp.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&YD.call(this),this}}var Qy=function(e,t,i,n,d,C){if(e){if(this.scaleMode){var r;n.biasScale>0&&(r=this.getChildLocalScaleX(n),r=r/n.biasScale,this.setChildLocalScale(n,r)),d.biasScale&&(r=this.getChildLocalScaleX(d),r=r/d.biasScale,this.setChildLocalScale(d,r))}if(t?e.call(t,i,n,d,C):e(i,n,d,C),this.scaleMode){var r;n.biasScale>0&&(r=this.getChildLocalScaleX(n),r=r*n.biasScale,this.setChildLocalScale(n,r)),d.biasScale&&(r=this.getChildLocalScaleX(d),r=r*d.biasScale,this.setChildLocalScale(d,r))}}};Object.assign(Y2.prototype,KD);const kat={fit:1,FIT:1,envelop:2,ENVELOP:2};At.register("transitionImage",function(e,t,i,n,d){var C=new Y2(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.TransitionImage",Y2);const Gat="slideLeft",Nat="slideRight",Vat="slideUp",zat="slideDown",Uat="slideAwayLeft",Xat="slideAwayRight",Hat="slideAwayUp",Yat="slideAwayDown",Wat="pushLeft",$at="pushRight",Kat="pushUp",Zat="pushDown",Jat="zoomOut",Qat="zoomIn",jat="zoomInOut",qat="fade",_at="crossFade",tot="wipeLeft",eot="wipeRight",iot="wipeUp",sot="wipeDown",not="irisOut",rot="irisIn",aot="irisInOut",oot="pieOut",lot="pieIn",hot="pieInOut",uot="blinds",dot="squares",fot="diamonds",cot="circles",vot="curtain",pot="pixellate",got="dissolve",mot="revealLeft",xot="revealRight",yot="revealUp",Sot="revealDown";var Cot=function(e){e.addTransitionMode(Xat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.width*d;t.setChildLocalPosition(i,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Uat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.width*-d;t.setChildLocalPosition(i,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Yat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.height*d;t.setChildLocalPosition(i,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(Hat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.height*-d;t.setChildLocalPosition(i,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0)}})},Tot=function(e){e.addTransitionMode(Nat,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=n.width*(d-1);t.setChildLocalPosition(n,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Gat,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=n.width*(1-d);t.setChildLocalPosition(n,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(zat,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=n.height*(d-1);t.setChildLocalPosition(n,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Vat,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=n.height*(1-d);t.setChildLocalPosition(n,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(n,0,0)}})},bot=function(e){e.addTransitionMode($at,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.width*d;t.setChildLocalPosition(i,C,0);var C=n.width*(d-1);t.setChildLocalPosition(n,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Wat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.width*-d;t.setChildLocalPosition(i,C,0);var C=n.width*(1-d);t.setChildLocalPosition(n,C,0)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Zat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.height*d;t.setChildLocalPosition(i,0,C);var C=n.height*(d-1);t.setChildLocalPosition(n,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}}).addTransitionMode(Kat,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=i.height*-d;t.setChildLocalPosition(i,0,C);var C=n.height*(1-d);t.setChildLocalPosition(n,0,C)},onComplete:function(t,i,n,d){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(n,0,0)}})},Eot=function(e){e.addTransitionMode(Jat,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=1-d;t.setChildLocalScale(i,C,C)},onComplete:function(t,i,n,d){t.setChildLocalScale(i,1,1)}}).addTransitionMode(Qat,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){var C=d;t.setChildLocalScale(n,C,C)},onComplete:function(t,i,n,d){t.setChildLocalScale(n,1,1)}}).addTransitionMode(jat,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,d){n.tint=0},onProgress:function(t,i,n,d){var C;d<.5?(C=1-Qe(d),t.setChildLocalScale(i,C,C)):(i.visible&&t.setChildVisible(i,!1),C=1-Qe(d),t.setChildLocalScale(n,C,C))},onComplete:function(t,i,n,d){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(n,1,1),t.setChildVisible(n,!0),n.tint=16777215}})},wot=function(e){e.addTransitionMode(qat,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,d){n.tint=0},onProgress:function(t,i,n,d){var C;d<.5?(d=Qe(d),C=Math.floor(255*(1-d)),i.tint=(C<<16)+(C<<8)+C):(i.visible&&t.setChildVisible(i,!1),d=Qe(d),C=Math.floor(255*(1-d)),n.tint=(C<<16)+(C<<8)+C)},onComplete:function(t,i,n,d){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(n,!0),n.tint=16777215}}).addTransitionMode(_at,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,d){},onProgress:function(t,i,n,d){t.setChildLocalAlpha(i,1-d),t.setChildLocalAlpha(n,d)},onComplete:function(t,i,n,d){t.setChildLocalAlpha(i,1)}})},Pot=function(e){var t=new Gr(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),n=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*n,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*n,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*n).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*n).setTopLeftPosition(0,0);break}}});return t},Mot=function(e){var t=Pot(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(eot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(tot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(sot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(iot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}})},Aot=function(e){var t=new Gr(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Rot=function(e){var t=Aot(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(not,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(rot,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,d,C){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(1-C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(aot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){d.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,d,C){var r;C<.5?(C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(1-C),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(1-C),d.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(d,!0),d.tint=16777215}})},Oot=function(e){var t=new Gr(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,n=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-n,90+n).setPie()}});return t},Dot=function(e){var t=Oot(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(oot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(lot,{ease:"Linear",dir:"in",mask:t,onStart:function(i,n,d,C){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(1-C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}}).addTransitionMode(hot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){d.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,n,d,C){var r;C<.5?(C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(1-C),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(1-C),d.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(d,!0),d.tint=16777215}})},Lot=function(e,t){var i=new Gr(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var n=this.getShapes(),d=this.width/t,C=0;C<t;C++)n[C].fillStyle(16777215).setSize(d*this.value,this.height).setTopLeftPosition(d*C,0)}});return i},Fot=function(e){var t=Lot(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(uot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}})},Bot=function(e,t,i){var n=new Gr(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var d=this.getShapes(),C=this.width/t,r=this.height/i,x=0;x<i;x++)for(var s=0;s<t;s++)d[s*i+x].fillStyle(16777215).setSize(C*this.value,r*this.value).setCenterPosition(C*(s+.5),r*(x+.5))}});return n},Iot=function(e){var t=Bot(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(dot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}})},kot=function(e,t,i){var n=new Gr(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var d=this.getShapes(),C=this.width/(t-1),r=this.height/i,x=r*2,s=C*this.value,a=r*this.value,g=0;g<i;g++)for(var c=0;c<t;c++){var h=c*C,l=g*x+c%2*r;d[c*i+g].fillStyle(16777215).start(h+s,l).lineTo(h,l+a).lineTo(h-s,l).lineTo(h,l-a).lineTo(h+s,l).close()}}});return n},Got=function(e){var t=kot(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(fot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}})},Not=function(e,t,i){var n=new Gr(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var d=this.getShapes(),C=this.width/(t-1),r=this.height/i,x=r*2,s=Math.max(C,r)*this.value,a=0;a<i;a++)for(var g=0;g<t;g++){var c=g*C,h=a*x+g%2*r;d[g*i+a].fillStyle(16777215).setCenterPosition(c,h).setRadius(s)}}});return n},Vot=function(e){var t=Not(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(cot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){i.maskGameObject.setValue(C)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1)}})},zot=function(e,t){var i=new Gr(e,{type:"Graphics",create:{lines:t},update:function(){for(var n=this.getShapes(),d=this.width/t,C=d/2,r=0;r<t;r++){var x=d*r,s=this.height*this.value,a=x+C;n[r].fillStyle(16777215).start(x,0).horizontalLineTo(s).arc(a,s,C,180,0,!0).horizontalLineTo(-s).lineTo(x,0).close()}}});return i},Uot=function(e){var t=zot(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(vot,{ease:"Linear",dir:"out",mask:t,onStart:function(i,n,d,C){d.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,n,d,C){var r;C<.5?(C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(C),n.tint=(r<<16)+(r<<8)+r):(n.visible&&i.setChildVisible(n,!1),C=Qe(C),r=Math.floor(255*(1-C)),i.maskGameObject.setValue(C),d.tint=(r<<16)+(r<<8)+r)},onComplete:function(i,n,d,C){i.removeMaskGameObject(!1),i.setChildVisible(n,!0),n.tint=16777215,i.setChildVisible(d,!0),d.tint=16777215}})},Xot=function(e){e.addTransitionMode(pot,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,n,d){t.setChildVisible(n,!1),i.effect=i.preFX.addPixelate(0),n.effect=n.preFX.addPixelate(0)},onProgress:function(t,i,n,d){if(d<.5){d=Qe(d);var C=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(C*d)}else{i.visible&&t.setChildVisible(i,!1),n.visible||t.setChildVisible(n,!0),d=Qe(d);var C=Math.min(n.width,n.height)/5;n.effect.amount=Math.ceil(C*d)}},onComplete:function(t,i,n,d){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),n.preFX.remove(n.effect),delete n.effect}})};const Hot=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,Yot=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${Hot}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,Wot=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Wn=Phaser.Utils.Objects.GetValue,$ot=Phaser.Math.Clamp;class jy extends Wot{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:Yot}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Wn(t,"progress",0)),this.setTransitionTargetTexture(Wn(t,"toTexture","__DEFAULT"),Wn(t,"toFrame",void 0),Wn(t,"resizeMode",1)),this.setNoise(Wn(t,"noiseX",void 0),Wn(t,"noiseY",void 0),Wn(t,"noiseZ",void 0)),this.setFromEdge(Wn(t,"fromEdgeStart",.01),Wn(t,"fromEdgeWidth",.05)),this.setToEdge(Wn(t,"toEdgeStart",.01),Wn(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=$ot(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,n){t===void 0&&(t="__DEFAULT");var d=this.game.textures.getFrame(t,i);return d||(d=this.game.textures.getFrame("__DEFAULT")),this.toRatio=d.width/d.height,this.toFrame=d,this.targetTexture=d.glTexture,n!==void 0&&(this.resizeMode=n),this}setResizeMode(t){return typeof t=="string"&&(t=Kot[t]),this.resizeMode=t,this}setNoise(t,i,n){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),n===void 0&&(n=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=n,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var Kot={stretch:0,contain:1,cover:2},Zot=function(e,t,i){X0(e).renderer.pipelines.addPostPipeline(t,i)},Jot=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var n=e.postPipelines[e.postPipelines.length-1];return n.resetFromJSON(i),i.name&&(n.name=i.name),n};const Qot=Phaser.Utils.Array.SpliceOne;var jot=function(e,t,i){for(var n,d,C,n=e.postPipelines,d=n.length-1;d>=0;d--){var C=n[d];C instanceof t&&(C.destroy(),Qot(n,d))}e.hasPostPipeline=e.postPipelines.length>0},qot=function(e){Zot(e.scene.game,"rexDissolvePostFx",jy),e.addTransitionMode(got,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,n,d){i.effect=Jot(i,jy)},onProgress:function(t,i,n,d){i.effect.setProgress(d)},onComplete:function(t,i,n,d){jot(i,jy),delete i.effect}})};const dv=.1,_ot=0,t0t=0,e0t=1,i0t=1,xA=0,yA=1;var s0t=function(e){e.addTransitionMode(xot,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,d){n.effect=n.preFX.addReveal(dv,_ot,xA)},onProgress:function(t,i,n,d){n.effect.progress=d},onComplete:function(t,i,n,d){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(mot,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,d){n.effect=n.preFX.addReveal(dv,e0t,xA)},onProgress:function(t,i,n,d){n.effect.progress=d},onComplete:function(t,i,n,d){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(Sot,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,d){n.effect=n.preFX.addReveal(dv,t0t,yA)},onProgress:function(t,i,n,d){n.effect.progress=d},onComplete:function(t,i,n,d){n.preFX.remove(n.effect),delete n.effect}}).addTransitionMode(yot,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,n,d){n.effect=n.preFX.addReveal(dv,i0t,yA)},onProgress:function(t,i,n,d){n.effect.progress=d},onComplete:function(t,i,n,d){n.preFX.remove(n.effect),delete n.effect}})};const SA=[Cot,Tot,bot,Eot,wot,Rot,Dot,Mot,Fot,Iot,Got,Vot,Uot,Xot,qot,s0t];class ZD extends Y2{constructor(t,i,n,d,C,r){super(t,i,n,d,C,r);for(var x=0,s=SA.length;x<s;x++)SA[x](this)}}At.register("transitionImagePack",function(e,t,i,n,d){var C=new ZD(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.TransitionImagePack",ZD);var n0t=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=e6(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},JD={scaleImage:n0t};Object.assign(JD,$D);var r0t=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),ms(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const CA=Phaser.Utils.Objects.IsPlainObject,na=Phaser.Utils.Objects.GetValue;class W2 extends un{constructor(t,i,n,d,C,r){CA(i)?(r=i,i=na(r,"x",0),n=na(r,"y",0),d=na(r,"key",void 0),C=na(r,"frame",void 0)):CA(C)&&(r=C,C=void 0);var x=na(r,"image");x?x.setPosition(i,n).setOrigin(.5):(x=t.add.image(i,n,d,C),d===void 0&&x.setVisible(!1)),super(t,i,n,1,1),this.type="rexImageBox";var s=na(r,"background");s&&this.add(s),this.background=s,this.add(x),this.image=x,this.scaleUp=na(r,"scaleUp",!1);var a=na(r,"width",x.width),g=na(r,"height",x.height);this.resize(a,g)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),r0t.call(this),this.scaleImage(),this}setTexture(t,i){var n=this.image;return n.setTexture(t,i),t!==null?(this.setChildVisible(n,!0),this.scaleImage()):this.setChildVisible(n,!1),this}}Object.assign(W2.prototype,JD);At.register("imageBox",function(e,t,i,n,d){var C=new W2(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.ImageBox",W2);At.register("fullWindowRectangle",function(e,t){var i=new Z5(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.FullWindowRectangle",Z5);At.register("fullWindowZone",function(){var e=new x5(this.scene);return this.scene.add.existing(e),e});wt(window,"RexPlugins.UI.FullWindowZone",x5);At.register("cover",function(e){var t=new J5(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Cover",J5);var a6=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const TA={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},bA={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},a0t={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},EA=Phaser.Utils.Objects.GetValue;var QD=function(e,t,i,n){var d=EA(n,"preventDefault",!1),C=EA(n,"preTest");for(let r in i)t.addEventListener(r,function(x){(!C||C(e,r))&&e.emit(i[r],e,x),d&&x.preventDefault()})};const o0t=Phaser.GameObjects.DOMElement,wA=Phaser.Utils.Objects.IsPlainObject,Sr=Phaser.Utils.Objects.GetValue;class $2 extends o0t{constructor(t,i,n,d,C,r){wA(i)?(r=i,i=Sr(r,"x",0),n=Sr(r,"y",0),d=Sr(r,"width",0),C=Sr(r,"height",0)):wA(d)&&(r=d,d=Sr(r,"width",0),C=Sr(r,"height",0)),r===void 0&&(r={});var x,s=Sr(r,"inputType",void 0);s===void 0&&(s=Sr(r,"type","text")),s==="textarea"?(x=document.createElement("textarea"),x.style.resize="none"):(x=document.createElement("input"),x.type=s),zp(TA,r,x);var a=Sr(r,"style",void 0);a=zp(bA,r,a);var g=x.style;for(var c in r)if(!(c in TA||c in bA)){if(c in g)a[c]=r[c];else if(c in x){if(c==="type")continue;x[c]=r[c]}}a["box-sizing"]="border-box",super(t,i,n,x,a),this.type="rexInputText",this.resize(d,C),QD(this,x,a0t),j8(x),Sr(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var l0t={resize:a6};Object.assign($2.prototype,l0t);At.register("inputText",function(e){var t=new $2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.InputText",$2);const PA=Phaser.Utils.Objects.GetValue;var h0t=function(e,t){var i=document.createElement("input");i.type="file";var n=PA(t,"accept",""),d=PA(t,"multiple",!1);return i.setAttribute("accept",n),d?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},jD=function(e,t){return e===void 0&&(e=0),new Promise(function(i,n){setTimeout(function(){i(t)},e)})},qD=function({game:e,fileInput:t,closeDelay:i}){return E2(X0(e).events,"focus").then(function(){return jD(i)}).then(function(){var n={files:t.files};return Promise.resolve(n)})};const u0t=Phaser.Utils.Objects.GetValue,d0t=Phaser.DOM.RemoveFromDOM;var _D=function(e,t){var i=u0t(t,"closeDelay",200),n=h0t(e,t);return n.click(),qD({game:e,fileInput:n,closeDelay:i}).then(function(d){return d0t(n),n.remove(),Promise.resolve(d)})},tL=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},f0t=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=X0(e);var n;return i==="textures"?n=e.textures:n=e.cache[i],n},eL=function(e,t,i,n,d,C){if(!(d===null||d===!1))if(er(d))d();else{var r=f0t(e,i,d);r.exists(n)&&r.remove(n)}var x=e.load;if(C&&x.once(`filecomplete-${i}-${n}`,function(a,g,c){C(c)}),er(t))t();else{var s=window.URL.createObjectURL(t);x[i](n,s)}x.start()},c0t=function(e,t,i,n,d){var C=this.scene;return eL(C,e,t,i,n,d),this},v0t=function(e,t,i,n){var d=this.scene;return new Promise(function(C,r){var x=function(s){C(s)};eL(d,e,t,i,n,x)})};const iL={loadFile:c0t,loadFilePromise:v0t},p0t=Phaser.GameObjects.DOMElement,MA=Phaser.Utils.Objects.IsPlainObject,Cr=Phaser.Utils.Objects.GetValue;class kf extends p0t{constructor(t,i,n,d,C,r){MA(i)?(r=i,i=Cr(r,"x",0),n=Cr(r,"y",0),d=Cr(r,"width",0),C=Cr(r,"height",0)):MA(d)&&(r=d,d=Cr(r,"width",0),C=Cr(r,"height",0));var x=document.createElement("input");x.type="file";var s=x.style;s.display="none";var a=document.createElement("label");a.appendChild(x);var g=Cr(r,"style",void 0);super(t,i,n,a,g),this.type="rexFileChooser",this.resetFromJSON(r),this.resize(d,C);var c=this;x.onchange=function(){c.emit("change",c)},this.setCloseDelay(Cr(r,"closeDelay",200)),x.onclick=function(){qD({game:t,fileInput:x,closeDelay:c.closeDelay}).then(function(){c.emit("select",c)})}}resetFromJSON(t){return this.setAccept(Cr(t,"accept","")),this.setMultiple(Cr(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var g0t={resize:a6,syncTo:tL};Object.assign(kf.prototype,g0t,iL);At.register("fileChooser",function(e){var t=new kf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.FileChooser",kf);const m0t={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},x0t={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var sL={resize:a6,syncTo:tL};Object.assign(sL,m0t,x0t,iL);const y0t={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},S0t=Phaser.GameObjects.DOMElement,AA=Phaser.Utils.Objects.IsPlainObject,ra=Phaser.Utils.Objects.GetValue;class o6 extends S0t{constructor(t,i,n,d,C,r){AA(i)?(r=i,i=ra(r,"x",0),n=ra(r,"y",0),d=ra(r,"width",0),C=ra(r,"height",0)):AA(d)&&(r=d,d=ra(r,"width",0),C=ra(r,"height",0)),r===void 0&&(r={});var x=document.createElement("div"),s=ra(r,"style",void 0);super(t,i,n,x,s),this.type="rexFileDropZone",this.resize(d,C),this._files=[],this.setDropEnable(ra(r,"dropEnable",!0));var a=ra(r,"filters");a&&this.addFilters(a),QD(this,x,y0t,{preventDefault:!0,preTest(g){return g.dropEnable}}),this.on("drop",function(g,c){this._files=c.dataTransfer.files;var h=this._files;if(h&&this.filters)for(var l in this.filters){for(var o=this.filters[l],u=[],v=0,f=h.length;v<f;v++){var p=h[v];o(p,h)&&u.push(p)}u.length>0&&this.emit(`drop.${l}`,u)}},this)}get files(){return this._files}}Object.assign(o6.prototype,sL);At.register("fileDropZone",function(e){var t=new o6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.FileDropZone",o6);var C0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,d,C,r,x,s=!1;if(this.childrenProportion,this.orientation===0)for(var a=!0,g=0,c=i.length;g<c;g++)n=i[g],n.hasOwnProperty("rexSizer")&&(d=n.rexSizer,!d.hidden&&(C=d.proportion,C===0||e?(x=this.getChildWidth(n),d.fitRatio>0&&!d.resolved&&(x=void 0),x===void 0&&(C!==0&&!this.hasProportion0Child?x=0:s=!0)):x=0,!s&&(r=n.rexSizer.padding,x+=(r.left+r.right)*this.scaleX,a?a=!1:x+=this.space.item*this.scaleX,t+=x)));else for(var g=0,c=i.length;g<c;g++)n=i[g],n.hasOwnProperty("rexSizer")&&(d=n.rexSizer,!d.hidden&&(x=this.getChildWidth(n),x===void 0&&(s=!0),!s&&(r=d.padding,x+=(r.left+r.right)*this.scaleX,t=Math.max(x,t))));if(!s)return t+(this.space.left+this.space.right)*this.scaleX},T0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,n,d,C,r,x,s=!1;if(this.childrenProportion,this.orientation===0)for(var a=0,g=i.length;a<g;a++)n=i[a],n.hasOwnProperty("rexSizer")&&(d=n.rexSizer,!d.hidden&&(x=this.getChildHeight(n),x===void 0&&(s=!0),!s&&(r=d.padding,x+=(r.top+r.bottom)*this.scaleY,t=Math.max(x,t))));else for(var c=!0,a=0,g=i.length;a<g;a++)n=i[a],n.hasOwnProperty("rexSizer")&&(d=n.rexSizer,!d.hidden&&(C=d.proportion,C===0||e?(x=this.getChildHeight(n),d.fitRatio>0&&!d.resolved&&(x=void 0),x===void 0&&(C!==0&&!this.hasProportion0Child?x=0:s=!0)):x=0,!s&&(r=d.padding,x+=(r.top+r.bottom)*this.scaleY,c?c=!1:x+=this.space.item*this.scaleY,t+=x)));if(!s)return t+(this.space.top+this.space.bottom)*this.scaleY},b0t=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,n=e.rexSizer;if(this.orientation===0)n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);else if(n.expand){var d=this.space,C=t-(d.left+d.right)*this.scaleX,r=n.padding;i=C-(r.left+r.right)*this.scaleX}return i},E0t=function(e,t){t===void 0&&(t=this.height);var i,n=e.rexSizer;if(this.orientation===0){if(n.expand){var d=this.space,C=t-(d.top+d.bottom)*this.scaleY,r=n.padding;i=C-(r.top+r.bottom)*this.scaleY}}else n.proportion>0&&this.proportionLength>0&&(i=n.proportion*this.proportionLength);return i},w0t=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,d=t.length;n<d;n++)i=t[n],i.isRexSizer&&e.push(i);return e},P0t=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,n=0,d=i.length;n<d;n++)e=i[n],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(ms(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Lf.call(this),this};const M0t=Phaser.Math.Wrap;var A0t=function(){for(var e=this.sizerChildren,t,i,n,d=this.innerLeft,C=this.innerTop,r=this.innerWidth,x=this.innerHeight,s=d,a=C,g,c,h,l,o,u,v,f,p,m=this.startChildIndex,y=0,S=e.length;y<S;y++)m===0?p=y:p=M0t(y+m,0,S),this.rtl&&(p=S-p-1),t=e[p],!t.rexSizer.hidden&&(i=t.rexSizer,n=i.padding,Ff.call(this,t),t.isRexSpace?(v=0,f=0):(v=this.getExpandedChildWidth(t),f=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,v,f),i6(t,this)):ms(t,v,f),v===void 0&&(v=De(t)),f===void 0&&(f=Le(t)),this.orientation===0?(g=s+n.left*this.scaleX,i.proportion===0||this.proportionLength===0?h=v:h=i.proportion*this.proportionLength,c=a+n.top*this.scaleY,l=x-(n.top+n.bottom)*this.scaleY):(g=s+n.left*this.scaleX,h=r-(n.left+n.right)*this.scaleX,c=a+n.top*this.scaleY,i.proportion===0||this.proportionLength===0?l=f:l=i.proportion*this.proportionLength),v===void 0&&(v=De(t)),f===void 0&&(f=Le(t)),o=(i.alignOffsetX+i.alignOffsetOriginX*v)*this.scaleX,u=(i.alignOffsetY+i.alignOffsetOriginY*f)*this.scaleY,Bf.call(this,t,g,c,h,l,i.align,o,u),this.orientation===0?s+=h+(n.left+n.right)*this.scaleX+this.space.item*this.scaleX:a+=l+(n.top+n.bottom)*this.scaleY+this.space.item*this.scaleY)},R0t=function(t){var t=N5.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},O0t=function(t){var t=U5.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},D0t=function(){return this.hasRatioFitChild&&this.orientation===1?!0:V5.call(this)},nL=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var n,d,C,r,x=this.sizerChildren,s=0,a=x.length;s<a;s++){var n=x[s],d=n.rexSizer;if(!d.hidden){var g=d.fitRatio;g&&(this.orientation===0?(r=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleY,C=r*g):(C=i-(this.getChildOuterPadding(n,"top")+this.getChildOuterPadding(n,"bottom"))*this.scaleX,r=C/g),ms(n,C,r),n.isRexSizer&&n.setMinSize(C,r),d.resolved=!0)}}}},L0t=function(e){this.wrapResult||(this.orientation===1&&nL.call(this,e,void 0),z5.call(this,e))},F0t=function(){return this.hasRatioFitChild&&this.orientation===0?!0:X5.call(this)},B0t=function(e){this.wrapResult||(this.orientation===0&&nL.call(this,void 0,e),H5.call(this,e))};const I0t=Phaser.GameObjects.Zone;class l6 extends I0t{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var k0t=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,d=1/0,C=0,r=i.length;C<r;C++){var x=i[C],s;this.orientation===0?s=Math.abs(x.left-e):s=Math.abs(x.top-t),d>s&&(d=s,n=C)}var x=i[i.length-1],s;return this.orientation===0?s=Math.abs(x.right-e):s=Math.abs(x.bottom-t),d>s&&(d=s,n=C+1),n};const rL=Phaser.Utils.Objects.IsPlainObject,nn=Phaser.Utils.Objects.GetValue,RA=Phaser.Display.Align.CENTER,G0t={min:0,full:-1};var qy=function(e,t,i,n,d,C,r,x,s,a){var g,c,h,l;Of.call(this,e);var o=e.isRexSpace,u=typeof t;if(t===null)return this;if(u!=="number"){if(u==="string")t=G0t[t];else if(rL(t)){var v=t;t=nn(v,"proportion",void 0),i=nn(v,"align",RA),n=nn(v,"padding",0),d=nn(v,"expand",!1),C=nn(v,"key",void 0),r=nn(v,"index",void 0),e.isRexSizer||(x=nn(v,"minWidth",void 0),s=nn(v,"minHeight",void 0)),a=nn(v,"fitRatio",0),g=nn(v,"offsetX",0),c=nn(v,"offsetY",0),h=nn(v,"offsetOriginX",0),l=nn(v,"offsetOriginY",0)}}typeof i=="string"&&(i=nu[i]),t===void 0&&(t=o?1:0),i===void 0&&(i=RA),n===void 0&&(n=0),d===void 0&&(d=!1),x===void 0&&(o?x=0:e.isRexSizer||(x=e._minWidth)),s===void 0&&(o?s=0:e.isRexSizer||(s=e._minHeight)),a===void 0||a===!1?a=0:a===!0&&(a=De(e)/Le(e)),g===void 0&&(g=0),c===void 0&&(c=0),h===void 0&&(h=0),l===void 0&&(l=0);var v=this.getSizerConfig(e);return v.proportion=t,v.align=i,v.padding=el(n),v.expand=d,v.fitRatio=t===0?a:0,v.alignOffsetX=g,v.alignOffsetY=c,v.alignOffsetOriginX=h,v.alignOffsetOriginY=l,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=x===void 0?De(e):x:e.minHeight=s===void 0?Le(e):s),d&&(this.orientation===0?e.minHeight=s:e.minWidth=x)),C!==void 0&&this.addChildrenMap(C,e),this};const N0t={add:qy,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),qy.call(this,new l6(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,n,d,C,r,x){return rL(i)&&(i.index=e),qy.call(this,t,i,n,d,C,r,e,x),this},insertAtPosition(e,t,i,n,d,C,r,x,s){var a=k0t.call(this,e,t);return a===-1&&(a=void 0),this.insert(a,i,n,d,C,r,x,s),this}},V0t=Phaser.Utils.Array.Remove,z0t={remove(e,t){return this.getParentSizer(e)!==this?this:(V0t(this.sizerChildren,e),Df.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,U2.call(this,e),this}},U0t={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=nu[t]),this.getSizerConfig(e).align=t,this}},X0t={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},H0t={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var Y0t=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],n=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?n||this.insertSpace(0):n&&this.remove(i,!0);var d=t.length-1,C=t[d],r=C&&C.isRexSpace;return e==="center"?r||this.insertSpace(d+1):r&&this.remove(C,!0),this};const h6={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,n){var d=i.getData(e),C=n.getData(e);return t?C-d:d-C}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,n){var d=i[e],C=n[e];return t?C-d:d-C}),this}};var aL={getChildrenWidth:C0t,getChildrenHeight:T0t,getExpandedChildWidth:b0t,getExpandedChildHeight:E0t,getChildrenSizers:w0t,preLayout:P0t,layoutChildren:A0t,resolveWidth:R0t,resolveHeight:O0t,hasWidthWrap:D0t,runWidthWrap:L0t,hasHeightWrap:F0t,runHeightWrap:B0t,setChildrenAlignMode:Y0t};Object.assign(aL,N0t,z0t,U0t,X0t,H0t,h6);var W0t=function(){for(var e=0,t=this.sizerChildren,i,n,d=0,C=t.length;d<C;d++)i=t[d],!i.rexSizer.hidden&&(n=i.rexSizer.proportion,n>0?e+=n:n===0&&(this.hasProportion0Child=!0));return e};const _y=Phaser.Utils.Objects.IsPlainObject,En=Phaser.Utils.Objects.GetValue;class fe extends il{constructor(t,i,n,d,C,r,x){_y(i)?(x=i,i=En(x,"x",0),n=En(x,"y",0),d=En(x,"width",void 0),C=En(x,"height",void 0),r=En(x,"orientation",0)):_y(d)?(x=d,d=En(x,"width",void 0),C=En(x,"height",void 0),r=En(x,"orientation",0)):_y(r)&&(x=r,r=En(x,"orientation",0)),r===void 0&&(r=0),super(t,i,n,d,C,x),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(r),this.setItemSpacing(En(x,"space.item",0)),this.setStartChildIndex(En(x,"startChildIndex",0)),this.setRTL(En(x,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=tl(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=W0t.call(this)),this._childrenProportion}}Object.assign(fe.prototype,aL);var fv=function(e,t,i){if(e){var n=t==null,d=i==null;return n&&d||(n||(e.displayWidth=t),d||(e.displayHeight=i),n&&(e.scaleX=e.scaleY),d&&(e.scaleY=e.scaleX)),e}},$0t=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var n=e.iconSize;n&&(this.setChildDisplaySize(i,n,n),this.iconWidth!==void 0&&this.setIconSize(n)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var d=this.childrenMap.action;if(d){e.action?this.show(d):this.hide(d);var C=e.actionSize;C&&(this.setChildDisplaySize(d,C,C),this.actionWidth!==void 0&&this.setActionSize(C)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},K0t={appendText:jO,resetDisplayContent:$0t};class u6 extends fe{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var n=this.childrenMap.icon;return!n||!n.setTexture?this:(n.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(fv(n,this.iconWidth,this.iconHeight),this.resetChildScaleState(n)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var n=this.childrenMap.action;return!n||!n.setTexture?this:(n.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(fv(n,this.actionWidth,this.actionHeight),this.resetChildScaleState(n)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&fv(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&fv(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,n){var d=this.childrenMap.iconMask;d&&(d.setPosition(),this.resetChildPositionState(d));var C=this.childrenMap.actionMask;return C&&(C.setPosition(),this.resetChildPositionState(C)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var d=this.childrenMap.actionMask;return d&&d.resize(),this}}Object.assign(u6.prototype,K0t);var sr=function(e,t,i,n){var d=new Zp(t,i,n);if(e&&!e.isRexSizer){var C=d.createGeometryMask();e.setMask(C),this.once("destroy",function(){e.setMask(),C.destroy()})}return this.pin(d),d};const Z0t=Phaser.GameObjects.Text;var d6=function(e){return e instanceof Z0t};const J0t=Phaser.GameObjects.BitmapText;var oL=function(e){return e instanceof J0t};const xs=0,ys=1,ln=2;var Wo=function(e){var t;return oL(e)?t=ln:d6(e)?t=xs:t=ys,t},Q0t=function(e,t){for(var i=[],n=e.split(`
`),d=t.style,C=d.wordWrapWidth,r=d.hasOwnProperty("wrapMode")?d.wrapMode:3,x=t.context,s=0,a=n.length;s<a;s++)q0t(x,n[s],C,r,i);return i},j0t=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var n=e.split(" "),d,C=0,r=n.length;C<r;C++)d=n[C],C<r-1?_d(d)?i.push(d+" "):(i.push(...d.split("")),i.push(" ")):d!==""&&(_d(d)?i.push(d):i.push(...d.split("")))}return i},q0t=function(e,t,i,n,d){if(t.length<=100){var C=e.measureText(t).width;if(C<=i)return d.push(t),d}for(var r=j0t(t,n),x,s,a=[],g=i,c=0,h=r.length;c<h;c++)x=r[c],s=e.measureText(x).width,g-=s,g<0&&(d.push(a.join("")),a.length=0,g=i-s),a.push(x);return a.length>0&&d.push(a.join("")),d},C4=function(e,t){var i=Wo(e);switch(i){case xs:switch(typeof t=="string"&&(t=Vp[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=Q0t;break;case 1:default:e.style.wordWrapCallback=null;break}break;case ys:typeof t=="string"&&(t=Vp[t]||0),e.style.wrapMode=t;break}},_0t=function(e){var t=function(i){var n=e.padding,d=i-(n.left+n.right)*e.scaleX,C=e.style;return d6(e)?(C.wordWrapWidth=d,C.maxLines=0):(C.wrapMode===0&&(C.wrapMode=1),C.wrapWidth=d,C.maxLines=0),C.fixedWidth=i,C.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},tlt=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},elt=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},ilt=function(e){return e instanceof _h},Jp=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=ilt(e)?tlt(e):oL(e)?elt(e):_0t(e),e};const t1=65535;var Qp=function(e,t,i){if(t==null)return e;if(t===0)return e1(e,0,i),e;var n=e.text.length;if(n===0)return e1(e,t,i),e;var d=Math.floor(t*1.5/n);i!==void 0&&d>i&&(d=Math.floor(i));for(var C={},r=DA(e,d,t,i,C),x=0;x<=t1&&r!==0;x++){if(d+=r,d<0){d=0;break}r=DA(e,d,t,i,C)}return x===t1&&console.warn(`FontSizeFit: Test count exceeds ${t1}`),e.setFontSize(d),e1(e,t,i),e},OA=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},DA=function(e,t,i,n,d){var C=OA(e,t,d),r=OA(e,t+1,d),x;if(n!==void 0)if(C.height<=n&&r.height>n)x=0;else{if(C.height>n)return-1;x=Math.floor(n-C.height)}var s;if(C.width<=i&&r.width>i)return 0;if(C.width>i)return-1;var s=Math.floor(i-C.width);return x===void 0?s:Math.min(s,x)},e1=function(e,t,i){var n=e.style;n&&(n.fixedWidth=t,n.parent.width=t,i!==void 0&&(n.fixedHeight=i,n.parent.height=i),n.update(!1))};const i1=Phaser.Utils.Objects.GetValue;var jp=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=i1(t,"minWidth",0),n=i1(t,"minHeight",0),d=i1(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=n,d?(e.runWidthWrap=function(C){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(C,r){return Qp(e,C,r),e}):(e.runWidthWrap=function(C){return e.setFixedSize&&e.setFixedSize(0,0),Qp(e,C,void 0),e},e.resize=function(C,r){return e.width===C&&e.height===r||e.setFixedSize(C,r),e}),e};const Pe=Phaser.Utils.Objects.GetValue;class Ta extends u6{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var n=Pe(i,"background",void 0),d=Pe(i,"icon",void 0),C=Pe(i,"iconMask",void 0),r=Pe(i,"text",void 0),x=Pe(i,"action",void 0),s=Pe(i,"actionMask",void 0),a=Pe(i,"align",void 0);if(n&&this.addBackground(n),d){var g;this.orientation===0?(r||x)&&(g={right:Pe(i,"space.icon",0),top:Pe(i,"space.iconTop",0),bottom:Pe(i,"space.iconBottom",0),left:Pe(i,"space.iconLeft",0)}):(r||x)&&(g={bottom:Pe(i,"space.icon",0),left:Pe(i,"space.iconLeft",0),right:Pe(i,"space.iconRight",0),top:Pe(i,"space.iconTop",0)});var c=Pe(i,"squareFitIcon",!1)?1:0;if(this.add(d,{proportion:0,padding:g,fitRatio:c}),C&&(C=sr.call(this,d,d,1)),!c){var h=Pe(i,"iconSize",void 0);this.setIconSize(Pe(i,"iconWidth",h),Pe(i,"iconHeight",h))}}if(r){var l=Pe(i,"wrapText",!1),o=Pe(i,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),C4(r,l),i.expandTextWidth=!0,Jp(r)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,jp(r,{fitHeight:!0}));var u=Pe(i,"space.text",0),v=Pe(i,"expandTextWidth",!1),f=Pe(i,"expandTextHeight",!1),p,g,m;this.orientation===0?(p=v?1:0,x&&(g={right:u}),m=f):(p=f?1:0,x&&(g={bottom:u}),m=v),this.add(r,{proportion:p,expand:m,padding:g})}if(x){var g;this.orientation===0?g={top:Pe(i,"space.actionTop",0),bottom:Pe(i,"space.actionBottom",0),right:Pe(i,"space.actionRight",0)}:g={left:Pe(i,"space.actionLeft",0),right:Pe(i,"space.actionRight",0),bottom:Pe(i,"space.actionBottom",0)};var c=Pe(i,"squareFitAction",!1)?1:0;if(this.add(x,{proportion:0,padding:g,fitRatio:c}),s&&(s=sr.call(this,x,x,1)),!c){var y=Pe(i,"actionSize");this.setActionSize(Pe(i,"actionWidth",y),Pe(i,"actionHeight",y))}}this.setChildrenAlignMode(a),this.addChildrenMap("background",n),this.addChildrenMap("icon",d),this.addChildrenMap("iconMask",C),this.addChildrenMap("text",r),this.addChildrenMap("action",x),this.addChildrenMap("actionMask",s)}}const uo=Phaser.Utils.Objects.GetValue;var slt=function(e,t){var i=uo(t,"canvas"),n=uo(i,"width",128),d=uo(i,"height",128),C=new _0(e,0,0,n,d);e.add.existing(C);var r=uo(i,"key"),x=uo(i,"frame"),s=uo(i,"fill");return s!==void 0?C.fill(s):r!==void 0&&C.loadTexture(r,x),C.setTexture=C.loadTexture.bind(C),C},nlt=function(e,t){var i=new W2(e,{scaleUp:uo(t,"scaleUpIcon",!1),background:uo(t,"iconBackground"),image:slt(e,t)});return e.add.existing(i),i};const rlt=Phaser.Utils.Objects.GetValue;var lL=function(e,t){var i=rlt(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const alt=Phaser.Utils.Objects.GetValue;var olt=function(e,t){var i=lL(e,t);if(i){var n=alt(t,"click"),d=new ya(i,n);return d.on("click",e.open,e),d}};const hL={accept:"image/*",multiple:!1};var uL=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,n=i.image,d=t[0];return n.loadFromFilePromise(d).then(function(){return i.scaleImage(),e.emit("select",d,e),Promise.resolve(d)})}},llt=function(e,t){var i=e.scene,n=new kf(i,hL);return i.add.existing(n),e.pin(n),n.on("change",function(){uL(e,n.files)}),n};const hlt={async openPromise(){var e=this;return _D(this.scene.game,hL).then(function(t){return uL(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var ult=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},dlt=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},dL={getFileName:ult,saveTexture:dlt};Object.assign(dL,hlt);const flt=Phaser.Utils.Objects.GetValue;class f6 extends Ta{constructor(t,i){var n=nlt(t,i);i.icon=n,super(t,i),this.type="rexImageFileInputLabel";var d=this.iconWidth,C=this.iconWidth;d!==void 0&&C!==void 0&&n.resize(d,C),this.clickTarget=lL(this,i),this.clickTarget&&(flt(i,"domButton",!0)?this.fileChooser=llt(this):this.clickBehavior=olt(this,i)),this.addChildrenMap("canvas",n.image),this.addChildrenMap("iconBackground",n.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,n){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,n)}}Object.assign(f6.prototype,dL);At.register("imageInputLabel",function(e){var t=new f6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ImageInputLabel",f6);let clt=class extends ai{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Oe(t,i))return t[i];var n=t.parent;if(Oe(n,i))return n[i]}set(t,i,n){return Oe(t,i)?t[i]=n:Oe(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const s1=Phaser.Utils.Objects.GetValue;class vlt extends ai{constructor(t,i){super(t,i),this.style=s1(i,"style",this);var n=s1(i,"propertiesMap");this.activeStyle=n1(i,"active",n),this.hoverStyle=n1(i,"hover",n),this.disableStyle=n1(i,"disable",n),this.onModifyStyle=s1(i,"onModifyStyle")}getStyle(t){return w2(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Ef(i,t))return this.modifyStyle(t),i}}setActiveState(t){return r1.call(this,"active",t),this}setHoverState(t){return r1.call(this,"hover",t),this}setDisableState(t){return r1.call(this,"disable",t),this}}var n1=function(e,t,i){var n=Ap(e,t);if(i)for(var d in n)i.hasOwnProperty(d)&&(n[i[d]]=n[d],delete n[d]);return n},r1=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,n=`${e}Style`,d=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[d]=this.applyStyle(this[n]):(this.applyStyle(this[d]),this[d]=void 0))};const sl={addStyleManager(e){return this.styleManager=new vlt(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},plt=Phaser.GameObjects.Image,Pd=Phaser.Utils.Objects.GetValue;class Gf extends plt{constructor(t,i){i===void 0&&(i={});var n=Pd(i,"x",0),d=Pd(i,"y",0),C=Pd(i,"key",""),r=Pd(i,"frame",void 0);super(t,n,d,C,r),this.type="rexStatesImage";var x=Pd(i,"effects",!0);x&&tu(this,x),this.style=new clt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Gf.prototype,sl);At.register("statesImage",function(e){var t=new Gf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesImage",Gf);class Nf extends Q0{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=glt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const glt={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(Nf.prototype,sl);At.register("statesRoundRectangle",function(e){var t=new Nf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesRoundRectangle",Nf);let mlt=class extends ai{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Oe(t,i))return t[i];var n=t.parent;if(Oe(n,i))return n[i]}set(t,i,n){return Oe(t,i)?t[i]=n:Oe(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const xlt=Phaser.GameObjects.NineSlice,$n=Phaser.Utils.Objects.GetValue;class Vf extends xlt{constructor(t,i){i===void 0&&(i={});var n=$n(i,"x",0),d=$n(i,"y",0),C=$n(i,"key",null),r=$n(i,"frame",null),x=$n(i,"width",0),s=$n(i,"height",0),a=$n(i,"leftWidth",0),g=$n(i,"rightWidth",0),c=$n(i,"topHeight",0),h=$n(i,"bottomHeight",0);super(t,n,d,C,r,x,s,a,g,c,h),this.type="rexStatesNineSlice";var l=$n(i,"effects",!0);l&&tu(this,l),this.style=new mlt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Vf.prototype,sl);At.register("statesNineSlice",function(e){var t=new Vf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesNineSlice",Vf);let ylt=class extends ai{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Oe(t,i))return t[i];var n=t.parent;if(Oe(n,i))return n[i]}set(t,i,n){return Oe(t,i)?t[i]=n:Oe(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const Slt=Phaser.Utils.Objects.GetValue;class zf extends p2{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var n=Slt(i,"effects",!0);n&&tu(this,n),this.style=new ylt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(zf.prototype,sl);At.register("statesNinePatch",function(e){var t=new zf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesNinePatch",zf);const Clt=Phaser.GameObjects.Text,a1=Phaser.Utils.Objects.GetValue;class K2 extends Clt{constructor(t,i){i===void 0&&(i={});var n=a1(i,"x",0),d=a1(i,"y",0),C=a1(i,"text","");super(t,n,d,C,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(r,x){var s=x.hasOwnProperty("fontStyle")||x.hasOwnProperty("fontSize")||x.hasOwnProperty("fontFamily");r.style.update(s)},this.addStyleManager(i),delete i.style}}Object.assign(K2.prototype,sl);At.register("statesText",function(e){var t=new K2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesText",K2);class Tlt extends ai{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Oe(t,i))return t[i];var n=t.parent;if(Oe(n,i))return n[i]}set(t,i,n){return Oe(t,i)?t[i]=n:Oe(t.parent,i)&&(t.parent[i]=n),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const blt=Phaser.GameObjects.BitmapText,S0=Phaser.Utils.Objects.GetValue;class Z2 extends blt{constructor(t,i){i===void 0&&(i={});var n=S0(i,"x",0),d=S0(i,"y",0),C=S0(i,"font",""),r=S0(i,"fontSize",!1),x=S0(i,"align",0),s=S0(i,"tint");super(t,n,d,C,"",r,x),this.type="rexStatesBitmapText",s!==void 0&&this.setTint(s);var a=S0(i,"effects",!0);a&&tu(this,a),this.style=new Tlt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Z2.prototype,sl);At.register("statesBitmapText",function(e){var t=new Z2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesBitmapText",Z2);class J2 extends A2{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),wt(i,"easeValue.duration",i.easeDuration),wt(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=Elt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const Elt={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(J2.prototype,sl);At.register("statesBarRectangle",function(e){var t=new J2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.StatesBarRectangle",J2);var wlt=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,Plt(this,e)),this},Plt=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(n=!0,i.animation={});var d=i.animation;n&&(d.duration=0);var C=d.onProgress;d.onProgress=function(x){C&&C(x),e.needRedraw()};var r=d.onComplete;return d.onComplete=function(x){r&&r(x),e.needRedraw()},t},Mlt=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,n=0,d=t.length;n<d;n++)if(i=t[n],i.label===e)return i}else return this.chart.data.datasets[e]},Alt=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var n=this.chart.data.labels;if(t=n.indexOf(t),t===-1)return}return i.data[t]}},Rlt=function(e,t,i){if(this.chart===void 0)return this;var n=this.getChartDataset(e);if(typeof t=="string"){var d=this.chart.data.labels;if(t=d.indexOf(t),t===-1)return this}return n.data[t]=i,this},Olt=function(){return this.chart===void 0?this:(this.chart.update(),this)};let c6=class extends _0{constructor(t,i,n,d,C,r){super(t,i,n,d,C),this.type="rexChart",this.chart=void 0,r!==void 0&&this.setChart(r)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}};var Dlt={setChart:wlt,getChartDataset:Mlt,getChartData:Alt,setChartData:Rlt,updateChart:Olt};Object.assign(c6.prototype,Dlt);At.register("chart",function(e,t,i,n,d){var C=new c6(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.Chart",c6);At.register("container",function(e,t,i,n,d){var C=new un(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.Container",un);At.register("sizer",function(e,t,i,n,d,C){var r=new fe(this.scene,e,t,i,n,d,C);return this.scene.add.existing(r),r});wt(window,"RexPlugins.UI.Sizer",fe);var fL=function(){return Array.prototype.reduce.call(arguments,Llt,0)},Llt=function(e,t){return e+t},Flt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,d,C,r,x,s=!1;this.totalColumnProportions;for(var a=0;a<this.columnCount;a++){if(x=this.columnProportions[a],i=0,x===0||e){for(var g=0;g<this.rowCount;g++)d=n[g*this.columnCount+a],d&&(d.rexSizer.hidden||(r=this.getChildWidth(d),r===void 0&&(x!==0&&!this.hasColumnProportion0Child?r=0:s=!0),!s&&(C=d.rexSizer.padding,r+=(C.left+C.right)*this.scaleX,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.columnWidth[a]=i)}if(!s){var c=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),h=fL(this.space.left,c,...this.space.column,this.space.right);return t+h*this.scaleX}},Blt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,n=this.sizerChildren,d,C,r,x,s=!1;this.totalRowProportions;for(var a=0;a<this.rowCount;a++){if(x=this.rowProportions[a],i=0,x===0||e){for(var g=0;g<this.columnCount;g++)d=n[a*this.columnCount+g],d&&(d.rexSizer.hidden||(r=this.getChildHeight(d),r===void 0&&(x!==0&&!this.hasRowProportion0Child?r=0:s=!0),!s&&(C=d.rexSizer.padding,r+=(C.top+C.bottom)*this.scaleY,i=Math.max(i,r))));s||(t+=i)}s||e&&(this.rowHeight[a]=i)}if(!s){var c=Math.max(this.space.indentTopOdd,this.space.indentTopEven),h=fL(this.space.top,c,...this.space.row,this.space.bottom);return t+h*this.scaleY}},Ilt=function(e,t){var i,n=e.rexSizer;if(n.expandWidth){var d=n.padding;i=t-(d.left+d.right)*this.scaleX}return i},klt=function(e,t){var i,n=e.rexSizer;if(n.expandHeight){var d=n.padding;i=t-(d.top+d.bottom)*this.scaleY}return i},Glt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,d=t.length;n<d;n++)i=t[n],i&&i.isRexSizer&&e.push(i);return e},Nlt=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Lf.call(this),this},Vlt=function(){for(var e,t,i,n=this.innerLeft,d=this.innerTop,C,r=d,x,s,a,g,c,h,l,o,u,v,f,p,m=0;m<this.rowCount;m++){v=this.getRowHeight(m),f=m%2?this.space.indentLeftEven:this.space.indentLeftOdd,C=n+f*this.scaleX;for(var y=0;y<this.columnCount;y++){if(u=this.getColumnWidth(y),e=this.getChildAt(y,m),!e||e.rexSizer.hidden){C+=u+this.space.column[y]*this.scaleX;continue}Ff.call(this,e),l=this.getExpandedChildWidth(e,u),o=this.getExpandedChildHeight(e,v),e.isRexSizer?(e.runLayout(this,l,o),i6(e,this)):ms(e,l,o),t=e.rexSizer,i=t.padding,x=C+i.left*this.scaleX,a=u-(i.left+i.right)*this.scaleX,p=y%2?this.space.indentTopEven:this.space.indentTopOdd,s=r+p*this.scaleY+i.top*this.scaleY,g=v-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=De(e)),o===void 0&&(o=Le(e)),c=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*o)*this.scaleY,Bf.call(this,e,x,s,a,g,t.align,c,h),C+=u+this.space.column[y]*this.scaleX}r+=v+this.space.row[m]*this.scaleY}},zlt=function(t){var t=N5.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var n=t-this.getChildrenWidth(!1);n>=0&&(this.proportionWidthLength=n/i)}else this.proportionWidthLength=0}return t},Ult=function(t){var t=U5.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var n=t-this.getChildrenHeight(!1);n>=0&&(this.proportionHeightLength=n/i)}else this.proportionHeightLength=0}return t},Xlt=function(e){var t,i,n,d;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(d=this.getColumnWidth(parseInt(C)%this.columnCount),i=this.getExpandedChildWidth(t,d),n=t.resolveWidth(i),n===void 0&&(n=i),t.resolveChildrenWidth(n))},Hlt=function(e){var t,i,n,d;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(d=this.getRowHeight(Math.floor(parseInt(C)/this.rowCount)),i=this.getExpandedChildHeight(t,d),n=t.resolveHeight(i),n===void 0&&(n=i),t.resolveChildrenHeight(n))},Ylt=function(e){var t,i,n,d;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(d=this.getColumnWidth(parseInt(C)%this.columnCount),i=this.getExpandedChildWidth(t,d),t.isRexSizer&&(n=t.resolveWidth(i),n===void 0&&(n=i)),t.runWidthWrap(n));return this},Wlt=function(e){var t,i,n,d;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(d=this.getRowHeight(Math.floor(parseInt(C)/this.rowCount)),i=this.getExpandedChildHeight(t,d),t.isRexSizer&&(n=t.resolveHeight(i),n===void 0&&(n=i)),t.runHeightWrap(n));return this};const LA=Phaser.Utils.Objects.IsPlainObject,wn=Phaser.Utils.Objects.GetValue,FA=Phaser.Display.Align.CENTER;var BA=function(e,t,i,n,d){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var C,r=0;r<n;r++)if(C=t*n+r,!i[C])return C}else if(t===void 0){for(var C,r=0;r<d;r++)if(C=r*n+e,!i[C])return C}else{var C=t*n+e;if(!i[C])return C}else if(t===!0){for(var C,r=0;r<n;r++)for(var x=0;x<d;x++)if(C=x*n+r,!i[C])return C}else for(var r=0,s=i.length;r<s;r++)if(!i[r])return r;return null},$lt=function(e,t,i,n,d,C,r){var x,s,a,g;if(Of.call(this,e),LA(t)){var h=t;t=wn(h,"column",void 0),i=wn(h,"row",void 0),n=wn(h,"align",FA),d=wn(h,"padding",0),C=wn(h,"expand",!1),r=wn(h,"key",void 0),x=wn(h,"offsetX",0),s=wn(h,"offsetY",0),a=wn(h,"offsetOriginX",0),g=wn(h,"offsetOriginY",0)}var c=BA(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(c===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),c=BA(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof n=="string"&&(n=nu[n]),n===void 0&&(n=FA),d===void 0&&(d=0),C===void 0&&(C=!0),x===void 0&&(x=0),s===void 0&&(s=0),a===void 0&&(a=0),g===void 0&&(g=0);var h=this.getSizerConfig(e);return h.align=n,h.padding=el(d),LA(C)?(h.expandWidth=wn(C,"width",!1),h.expandHeight=wn(C,"height",!1)):(h.expandWidth=C,h.expandHeight=C),h.alignOffsetX=x,h.alignOffsetY=s,h.alignOffsetOriginX=a,h.alignOffsetOriginY=g,this.sizerChildren[c]=e,r!==void 0&&this.addChildrenMap(r,e),this};const Klt={add:$lt};var Wh=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=e.length-1);for(var d=i;d<=n;d++)e[d]=t;return e};const Zlt={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),Df.call(this,e,t),this},removeAt(e,t,i){var n=this.getChildAt(e,t);return n&&this.remove(n,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return Wh(this.sizerChildren,null),U2.call(this,e),this}},Jlt={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,Wh(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,Wh(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},IA=Phaser.Utils.Objects.GetValue;var Qlt=function(e,t,i,n,d){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,Wh(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")Wh(this.columnProportions,i);else for(var C=0;C<e;C++)this.columnProportions[C]=i[C]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof n=="number")Wh(this.rowProportions,n);else for(var C=0;C<t;C++)this.rowProportions[C]=n[C]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(IA(d,"column",0)),this.setRowSpace(IA(d,"row",0));var r=this.scene,x=this.createCellContainerCallback;if(x)for(var s=0,a=this.rowCount;s<a;s++)for(var g=0,c=this.columnCount;g<c;g++){var h={column:g,row:s},l=x(r,g,s,h);l&&this.add(l,h)}return this},cL=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var n=[e*this.columnCount,0],d=0;d<this.columnCount;d++)n.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,n),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},jlt=function(e,t){return cL.call(this,this.rowCount,e,t),this},vL=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var n=this.rowCount-1;n>=0;n--){var d=n*this.columnCount+e;this.sizerChildren.splice(d,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},qlt=function(e,t){return vL.call(this,this.columnCount,e,t),this},pL={getChildrenWidth:Flt,getChildrenHeight:Blt,getExpandedChildWidth:Ilt,getExpandedChildHeight:klt,getChildrenSizers:Glt,preLayout:Nlt,layoutChildren:Vlt,resolveWidth:zlt,resolveHeight:Ult,resolveChildrenWidth:Xlt,resolveChildrenHeight:Hlt,runWidthWrap:Ylt,runHeightWrap:Wlt,resetGrid:Qlt,insertEmptyRow:cL,addEmptyRow:jlt,insertEmptyColumn:vL,addEmptyColumn:qlt};Object.assign(pL,Klt,Zlt,Jlt,h6);var _lt=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},tht=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const cv=Phaser.Utils.Objects.IsPlainObject,qe=Phaser.Utils.Objects.GetValue;class ar extends il{constructor(t,i,n,d,C,r,x,s,a,g){cv(i)?(g=i,i=qe(g,"x",0),n=qe(g,"y",0),d=qe(g,"width",void 0),C=qe(g,"height",void 0),r=qe(g,"column",g.col||0),x=qe(g,"row",0),s=qe(g,"columnProportions",0),a=qe(g,"rowProportions",0)):cv(d)?(g=d,d=qe(g,"width",void 0),C=qe(g,"height",void 0),r=qe(g,"column",g.col||0),x=qe(g,"row",0),s=qe(g,"columnProportions",0),a=qe(g,"rowProportions",0)):cv(r)?(g=r,r=qe(g,"column",g.col||0),x=qe(g,"row",0),s=qe(g,"columnProportions",0),a=qe(g,"rowProportions",0)):cv(s)&&(g=s,s=qe(g,"columnProportions",0),a=qe(g,"rowProportions",0)),super(t,i,n,d,C,g),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(qe(g,"createCellContainerCallback")),this.setIndentLeft(qe(g,"space.indentLeftOdd",0),qe(g,"space.indentLeftEven",0)),this.setIndentTop(qe(g,"space.indentTopOdd",0),qe(g,"space.indentTopEven",0)),this.resetGrid(r,x,s,a,qe(g,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=_lt.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=tht.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var n=this.sizerChildren.indexOf(t);return n===-1?null:(i===void 0&&(i={}),i.x=n%this.columnCount,i.y=Math.floor(n/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],n=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return n}getRowHeight(t){var i=this.rowProportions[t],n=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return n}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(ar.prototype,pL);At.register("gridSizer",function(e,t,i,n,d,C,r,x,s){var a=new ar(this.scene,e,t,i,n,d,C,r,x,s);return this.scene.add.existing(a),a});wt(window,"RexPlugins.UI.GridSizer",ar);var eht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},iht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},sht=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,n=0,d=t.length;n<d;n++)i=t[n],i!==`
`&&i.isRexSizer&&e.push(i);return e},nht=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Lf.call(this),this},rht=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,n,d,C=0,r,x,s=this.innerLeft,a=this.innerTop,g,c,h,l,o,u,v=this.wrapResult.lines,f,p,m,y=s,S=a,T=0,b=v.length;T<b;T++){switch(f=v[T],p=f.children,this.rtl&&p.reverse(),e?(r=T%2?this.space.indentLeftEven:this.space.indentLeftOdd,y=s+r*this.scaleX):(x=T%2?this.space.indentTopEven:this.space.indentTopOdd,S=a+x*this.scaleY),m=t-(e?f.width:f.height),this.align){case 0:break;case 1:e?y+=m:S+=m;break;case 2:e?y+=m/2:S+=m/2;break;case 3:C=o1(t,m,this.justifyPercentage,p.length);break;case 4:C=o1(t,m,this.justifyPercentage,p.length),C===0&&(e?y+=m:S+=m);break;case 5:C=o1(t,m,this.justifyPercentage,p.length),C===0&&(e?y+=m/2:S+=m/2);break}for(var P=!0,w=0,A=p.length;w<A;w++)i=p[w],!i.rexSizer.hidden&&(n=i.rexSizer,d=n.padding,Ff.call(this,i),e?g=y+d.left*this.scaleX:c=S+d.top*this.scaleY,P?P=!1:e?g+=this.space.item*this.scaleX:c+=this.space.item*this.scaleY,h=De(i),l=Le(i),e?(x=w%2?this.space.indentTopEven:this.space.indentTopOdd,c=S+x*this.scaleY+d.top*this.scaleY,y=g+h+d.right*this.scaleX+C):(r=w%2?this.space.indentLeftEven:this.space.indentLeftOdd,g=y+r*this.scaleX+d.left*this.scaleX,S=c+l+d.top*this.scaleY+C),o=(n.alignOffsetX+n.alignOffsetOriginX*h)*this.scaleX,u=(n.alignOffsetY+n.alignOffsetOriginY*l)*this.scaleY,Bf.call(this,i,g,c,h,l,n.align,o,u));e?S+=f.height+this.space.line*this.scaleY:y+=f.width+this.space.line*this.scaleX}},o1=function(e,t,i,n){return t/e<=i?t/(n-1):0},aht=function(){return this.orientation===0?!0:V5.call(this)},gL=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,n,d,C,r,x=0,s,a,g=t.lines,c=void 0,h;if(this.orientation===0){for(var l=0,o=i.length;l<o;l++){if(n=i[l],n===`
`)n=void 0,C=0,h=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.runLayout(this),C=this.getChildWidth(n),d=n.rexSizer.padding,C+=(d.left+d.right)*this.scaleX,h=x<C||c===void 0}h&&(c&&(c.width=e-(x+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height+this.space.line*this.scaleY),c={children:[],width:0,height:0},g.push(c),s=g.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,x=e-s*this.scaleX),x-=C+this.space.item*this.scaleX,n&&(c.children.push(n),r=this.getChildHeight(n),d=n.rexSizer.padding,r+=(d.top+d.bottom)*this.scaleY,c.height=Math.max(c.height,r))}c&&(c.width=e-(x+this.space.item*this.scaleX),t.width=Math.max(t.width,c.width),t.height+=c.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var u=e,l=0,o=i.length;l<o;l++){if(n=i[l],n===`
`)n=void 0,C=0,h=!0;else{if(n.rexSizer.hidden)continue;n.isRexSizer&&n.layout(),r=this.getChildHeight(n),d=n.rexSizer.padding,r+=(d.top+d.bottom)*this.scaleY,h=x<r||c===void 0}h&&(c&&(c.height=u-(x+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width+this.space.line*this.scaleX),c={children:[],width:0,height:0},g.push(c),a=g.length%2?this.space.indentTopOdd:this.space.indentTopEven,x=u-a*this.scaleY),x-=r+this.space.item*this.scaleY,n&&(c.children.push(n),C=this.getChildWidth(n),d=n.rexSizer.padding,C+=(d.left+d.right)*this.scaleX,c.width=Math.max(c.width,C))}c&&(c.height=u-(x+this.space.item*this.scaleY),t.height=Math.max(t.height,c.height),t.width+=c.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},oht=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=gL.call(this,t),this.rexSizer.resolved=!0,z5.call(this,e)}},lht=function(){return this.orientation===1?!0:X5.call(this)},hht=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=gL.call(this,t),this.rexSizer.resolved=!0,H5.call(this,e)}},uht=function(e,t){},dht=function(e,t){};const kA=Phaser.Math.Distance.Between;var fht=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var n=-1,d=1/0,C=0,r=i.length;C<r;C++){var x=i[C];if(!(Math.abs(x.centerY-t)>x.height/2)){var a=kA(x.left,x.centerY,e,t);d>a&&(d=a,n=C);var s=i[C+1];if(!(s&&s.y===x.y)){var a=kA(x.right,x.centerY,e,t);d>a&&(d=a,n=C+1)}}}return n};const cht=Phaser.Utils.Objects.IsPlainObject,C0=Phaser.Utils.Objects.GetValue,vht=Phaser.Display.Align.CENTER;var l1=function(e,t,i,n){if(e===`
`)return this.addNewLine(),this;var d,C,r,x;if(Of.call(this,e),cht(t)){var s=t;t=C0(s,"padding",0),i=C0(s,"key",void 0),n=C0(s,"index",void 0),d=C0(s,"offsetX",0),C=C0(s,"offsetY",0),r=C0(s,"offsetOriginX",0),x=C0(s,"offsetOriginY",0)}t===void 0&&(t=0),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=0),x===void 0&&(x=0);var s=this.getSizerConfig(e);return s.align=vht,s.padding=el(t),s.alignOffsetX=d,s.alignOffsetY=C,s.alignOffsetOriginX=r,s.alignOffsetOriginY=x,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const pht={add(e,t,i){if(ir(e))for(var n=e,d=0,C=n.length;d<C;d++)l1.call(this,n[d],t);else l1.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,n){return l1.call(this,t,i,n,e),this},insertAtPosition(e,t,i,n,d){var C=fht.call(this,e,t);return C===-1&&(C=void 0),this.insert(C,i,n,d),this}},ght=Phaser.Utils.Array.Remove,mht={remove(e,t){return this.getParentSizer(e)!==this?this:(ght(this.sizerChildren,e),Df.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,U2.call(this,e),this}};var mL={getChildrenWidth:eht,getChildrenHeight:iht,getChildrenSizers:sht,preLayout:nht,layoutChildren:rht,hasWidthWrap:aht,runWidthWrap:oht,hasHeightWrap:lht,runHeightWrap:hht,getExpandedChildWidth:uht,getExpandedChildHeight:dht};Object.assign(mL,pht,mht,h6);var xht=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,d=!1,C=0,r=e.length;C<r;C++)i=e[C],i!==`
`&&(n=this.getChildWidth(i),n===void 0&&(d=!0),!d&&(t=Math.max(n,t)));if(!d)return t},yht=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,n,d=!1,C=0,r=e.length;C<r;C++)i=e[C],i!==`
`&&(n=this.getChildHeight(i),n===void 0&&(d=!0),!d&&(t=Math.max(n,t)));if(!d)return t};const GA=Phaser.Utils.Objects.IsPlainObject,cs=Phaser.Utils.Objects.GetValue;class $o extends il{constructor(t,i,n,d,C,r){GA(i)?(r=i,i=cs(r,"x",0),n=cs(r,"y",0),d=cs(r,"width",void 0),C=cs(r,"height",void 0)):GA(d)&&(r=d,d=cs(r,"width",void 0),C=cs(r,"height",void 0)),super(t,i,n,d,C,r),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(cs(r,"orientation",0)),this.setItemSpacing(cs(r,"space.item",0)),this.setLineSpacing(cs(r,"space.line",0)),this.setIntentLeft(cs(r,"space.indentLeftOdd",0),cs(r,"space.indentLeftEven",0)),this.setIntentTop(cs(r,"space.indentTopOdd",0),cs(r,"space.indentTopEven",0)),this.setAlign(cs(r,"align",0)),this.setJustifyPercentage(cs(r,"justifyPercentage",.25)),this.setRTL(cs(r,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=tl(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=Sht[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=xht.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=yht.call(this)),this._maxChildHeight}}const Sht={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign($o.prototype,mL);At.register("fixWidthSizer",function(e,t,i,n,d){var C=new $o(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.FixWidthSizer",$o);At.register("overlapSizer",function(e,t,i,n,d){var C=new Gn(this.scene,e,t,i,n,d);return this.scene.add.existing(C),C});wt(window,"RexPlugins.UI.OverlapSizer",Gn);At.register("space",function(){var e=new l6(this.scene);return e});wt(window,"RexPlugins.UI.Space",l6);At.register("label",function(e){var t=new Ta(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Label",Ta);const NA=["alpha","tint","flipX","flipY"];var v6=function(e,t){if(!t)return e;for(var i=0,n=NA.length;i<n;i++){var d=NA[i];d in t&&d in e&&(e[d]=t[d])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var C,r;"originX"in t&&"originX"in e&&(C=t.originX),"originY"in t&&"originY"in e&&(r=t.originY),C!==void 0&&r!==void 0&&e.setOrigin(C,r)}return e},Hi=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var n;switch(i){case"bar":n=new J2(e,t);break;case"image":n=new Gf(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?n=new zf(e,t):n=new Vf(e,t);break;default:n=new Nf(e,t);break}return v6(n,t),e.add.existing(n),n},Cht=function(){switch(this.scrollMode){case 0:case 1:h1.call(this),this.updateController(),u1.call(this),d1.call(this);break;default:h1.call(this,"y"),h1.call(this,"x"),this.updateController(),u1.call(this,"y"),u1.call(this,"x"),d1.call(this,"y"),d1.call(this,"x");break}return this},h1=function(e){var t,i,n,d;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,n=this.childrenMap.scroller,d=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),n=this.childrenMap[`scroller${e}`],d=this.childrenMap[`slider${e}`]}var C=e==="Y"?this.scaleY:this.scaleX;i*=C,n&&n.setBounds(t,i),d&&(d.setEnable(t!==i),d.tickLength&&d.setTick(d.tickLength,t,i))},u1=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var d=this.childrenMap.scroller;d&&this.disableUnscrollableDrag&&d.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],n=this[`hideUnscrollableSlider${e}`];i&&n&&this.setChildVisible(i,t);var d=this.childrenMap.scroller,C=this[`disableUnscrollableDrag${e}`];d&&C&&d.setEnable(t);break}},d1=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var C=this.childrenMap.slider;if(!C)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),r=C.childrenMap.track,x=C.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),ms(x,void 0,i)}else{var n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),ms(x,n,void 0)}VA(C);break;default:e=e.toUpperCase();var d=this[`adaptThumb${e}SizeMode`];if(!d)return;var C=this.childrenMap[`slider${e}`];if(!C)return;var r=C.childrenMap.track,x=C.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=r.displayHeight*t;s!==void 0&&i<s&&(i=s),ms(x,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),n=r.displayWidth*t;s!==void 0&&n<s&&(n=s),ms(x,n,void 0)}VA(C);break}},VA=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},Tht=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,n=this.childrenMap.sliderY,d=this.childrenMap.scrollerX,C=this.childrenMap.sliderX;i&&i.setValue(this.childOY),n&&n.setValue(this.t),d&&d.setValue(this.childOX),C&&C.setValue(this.s);break}};const vv=Phaser.Math.Clamp,bht={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=vv(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=vv(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=vv(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=vv(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var xL={resizeController:Cht,updateController:Tht};Object.assign(xL,bht);const yL={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var p6=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=Eht(e));var i=e[t];return typeof i=="string"&&(i=yL[i]),i},Eht=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,n;return t&&i?n=2:t?n=0:i?n=1:n=0,n};const Qi=Phaser.Utils.Objects.GetValue;var wht=function(e,t,i){var n=Qi(i,"child"),d=Qi(n,"gameObject",void 0);if(d){var C=Qi(i,"space.child",0);e.childMargin={};var r=e.childMargin,x={};if(typeof C=="number")switch(e.scrollMode){case 0:case 1:r.top=0,r.bottom=0,r.left=0,r.right=0;break;default:r.top=C,r.bottom=C,r.left=C,r.right=C;break}else switch(e.scrollMode){case 0:r.top=Qi(C,"top",0),r.bottom=Qi(C,"bottom",0),x.left=Qi(C,"left",0),x.right=Qi(C,"right",0);break;case 1:r.top=Qi(C,"left",0),r.bottom=Qi(C,"right",0),x.top=Qi(C,"top",0),x.bottom=Qi(C,"bottom",0);break;default:r.top=Qi(C,"top",0),r.bottom=Qi(C,"bottom",0),r.left=Qi(C,"left",0),r.right=Qi(C,"right",0);break}t.add(d,{column:1,row:1,align:Qi(n,"align","center"),padding:x,expand:{width:Qi(n,"expandWidth",!0),height:Qi(n,"expandHeight",!0)}})}e.addChildrenMap("child",d)};const zA=Phaser.Math.Percent;var Pht=function(e,t,i){var n;return e.y===t.y?n=zA(i.x,e.x,t.x):e.x===t.x&&(n=zA(i.y,e.y,t.y)),n},SL=function(e,t){f1.x=e,f1.y=t;var i,n;this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint());var d=Pht(i,n,f1);return d},f1={},Mht=function(e,t,i){!this.enable||!this.inputActive||(this.value=SL.call(this,t,i))},c1=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=SL.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const Aht=Phaser.Utils.Objects.GetValue;var Rht=function(e){this.inputActive=!1;var t=Aht(e,"input",0);typeof t=="string"&&(t=Oht[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(d){this.inputActive=!0,this.eventEmitter.emit("inputstart",d)},this).on("dragend",function(d){this.inputActive=!1,this.eventEmitter.emit("inputend",d)},this).on("drag",Mht,this));break;case 1:this.setInteractive().on("pointerdown",function(d){this.inputActive=!0,this.eventEmitter.emit("inputstart",d)},this).on("pointerdown",c1,this);var n=function(d){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",d))};this.scene.input.on("pointerup",n,this).on("pointermove",c1,this),this.once("destroy",function(){this.scene.input.on("pointerup",n,this).off("pointermove",c1,this)},this);break}};const Oht={pan:0,drag:0,click:1,none:-1};var CL=function(e,t){t===void 0&&(t=Dht);var i=this.childrenMap.thumb,n=i.x,d=i.y;return Rf(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=n,i.y=d,t},Dht={};const Lht=Phaser.Display.Align.LEFT_CENTER,Fht=Phaser.Display.Align.TOP_CENTER;var Bht=function(e){if(e===void 0&&(e=Iht),this.childrenMap.thumb){var t=this.orientation===0?Lht:Fht;CL.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},Iht={};const kht=Phaser.Display.Align.RIGHT_CENTER,Ght=Phaser.Display.Align.BOTTOM_CENTER;var Nht=function(e){if(e===void 0&&(e=Vht),this.childrenMap.thumb){var t=this.orientation===0?kht:Ght;CL.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},Vht={};const UA=Phaser.Math.Linear;var zht=function(e,t,i,n){return n===void 0&&(n=Uht),n.x=UA(t.x,i.x,e),n.y=UA(t.y,i.y,e),n},Uht={},Xht=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,n;return this.reverseAxis?(i=this.getEndPoint(),n=this.getStartPoint()):(i=this.getStartPoint(),n=this.getEndPoint()),zht(e,i,n,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const Hht=Phaser.Display.Align.LEFT_CENTER,Yht=Phaser.Display.Align.TOP_CENTER,Wht=Phaser.Display.Align.RIGHT_CENTER,$ht=Phaser.Display.Align.BOTTOM_CENTER;var Kht=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,n,d,C=this.childrenMap.thumb;if(C)if(this.orientation===0){var r=De(C);if(i){var x=C.x-r*C.originX;n=this.right-x}else{var x=C.x-r*C.originX,s=x+r;n=s-this.left}}else{var a=Le(C);if(i){var g=C.y-a*C.originY;d=this.bottom-g}else{var g=C.y-a*C.originY,c=g+a;d=c-this.top}}else this.orientation===0?n=this.width*e:d=this.height*e;ms(t,n,d);var h;i?h=this.orientation===0?Wht:$ht:h=this.orientation===0?Hht:Yht,SD(t,this,h),this.resetChildPositionState(t)};const rn=Phaser.Utils.Objects.GetValue,pv=Phaser.Utils.Objects.IsPlainObject,Zht=Phaser.Math.Clamp,Jht=Phaser.Math.Snap.To;class au extends Yo(fe){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=rn(i,"reverseAxis",!1);var n=rn(i,"background",void 0),d=rn(i,"track",void 0),C=rn(i,"indicator",void 0),r=rn(i,"thumb",void 0);if(n&&(pv(n)&&(n=Hi(t,n)),this.addBackground(n)),d&&(pv(d)&&(d=Hi(t,d)),this.add(d,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),C&&(pv(C)&&(C=Hi(t,C)),this.pin(C)),r){pv(r)&&(r=Hi(t,r)),this.pin(r);var x=rn(i,"thumbOffsetX",0),s=rn(i,"thumbOffsetY",0);this.setThumbOffset(x,s)}this.addChildrenMap("background",n),this.addChildrenMap("track",d),this.addChildrenMap("indicator",C),this.addChildrenMap("thumb",r),this.setEnable(rn(i,"enable",void 0));var a=rn(i,"tick",void 0);a===void 0&&(a=rn(i,"gap",void 0)),this.setGap(a),Rht.call(this,i),this.setValue(rn(i,"value",0),rn(i,"min",void 0),rn(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,n){return t&&i!==void 0&&(t=t/(n-i)),this.gap=t,this}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=Jht(t,this.gap));var i=this._value;this._value=Zht(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,n){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,n),this}}var Qht={getStartPoint:Bht,getEndPoint:Nht,updateThumb:Xht,updateIndicator:Kht};Object.assign(au.prototype,Qht);const Vs=Phaser.Utils.Objects.GetValue;class g6 extends fe{constructor(t,i){super(t,i),this.type="rexScrollBar";var n=Vs(i,"background",void 0),d=Vs(i,"buttons",void 0),C=Vs(d,"top",Vs(d,"left",void 0)),r=Vs(d,"bottom",Vs(d,"right",void 0)),x,s=Vs(i,"slider",void 0);if(n&&this.addBackground(n),C){this.add(C);var a=new Jh(C);a.on("intouch",function(){if(this.enable){var v=x.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var g;if(this.orientation===0){var c=Vs(s,"width",void 0);g=c===void 0?1:0}else{var h=Vs(s,"height",void 0);g=h===void 0?1:0}x=new au(t,s),t.add.existing(x),this.add(x,{proportion:g})}if(r){this.add(r);var a=new Jh(r);a.on("intouch",function(){if(this.enable){var f=x.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=f}},this)}var l=[C,r];this.addChildrenMap("background",n),this.addChildrenMap("slider",x),this.addChildrenMap("buttons",l);var o=Vs(i,"valuechangeCallback",null);if(o!==null){var u=Vs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",o,u)}this.setEnable(Vs(i,"enable",void 0)),this.setValue(Vs(i,"value",0)),this.setScrollStep(Vs(d,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,n),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,n){return this.setGap(t,i,n),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var jht=function(e,t){t===void 0&&(t={});var i=_n(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var n=new g6(e,t);e.add.existing(n);var d=n.childrenMap.slider;return n.addChildrenMap("track",d.childrenMap.track),n.addChildrenMap("indicator",d.childrenMap.indicator),n.addChildrenMap("thumb",d.childrenMap.thumb),n};const qht=Phaser.Math.Snap.To;Phaser.Math.Clamp;var _ht=function(){this.emit("dragstart")},tut=function(){this.emit("dragend")},eut=function(){this.value+=this.dragDelta},iut=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,n=!!i;if(n){var C=e,r=t===0?0:t*t/(2*this.slidingDeceleration);if(C+=t>0?r:-r,C=qht(C,i,this.minValue),r=Math.abs(C-e),r>0){var d;t===0?(d=this.backDeceleration,t=Math.sqrt(2*d*r)):(d=t*t/(2*r),d*=.99),this._slowDown.init(e,void 0,t,d,C)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var d=this.slidingDeceleration;this._slowDown.init(e,t>0,t,d)}},sut=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},nut=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),n=this.backDeceleration,d=Math.sqrt(2*n*i);this._slowDown.init(e,void 0,d,n,t)},rut=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},XA=function(){this._slowDown.stop()};class aut extends Ca{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,n=i.dragState;return n.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,n=i.dragState;return n.isDown?t=n.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,n=i.dragState;return n.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var n=this.parent,d=n.dragState;d.justMoved&&eut.call(n),this.next()}enter_DRAG(){_ht.call(this.parent)}exit_DRAG(){tut.call(this.parent)}next_SLIDE(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){iut.call(this.parent)}exit_SLIDE(){XA.call(this.parent)}update_SLIDE(t,i){sut.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,n=i.dragState;return n.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){nut.call(this.parent)}exit_BACK(){XA.call(this.parent)}update_BACK(t,i){rut.call(this.parent,t,i),this.next()}}const Md=Phaser.Utils.Objects.GetValue,out=Phaser.Math.Distance.Between;class lut extends ai{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=Md(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(Md(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Md(t,"enable",!0)),this.holdThreshold=Md(t,"holdThreshold",50),this.pointerOutReleaseEnable=Md(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=y5(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=out(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,n){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!Fr(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=n)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,n){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!Fr(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=n}}preupdate(t,i){if(this.enable){var n=this.pointer;this.justMoved=!1,n&&!this.isInTouched?(this.x=n.worldX,this.y=n.worldY,this.preX=n.worldX,this.preY=n.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",n,this.localX,this.localY)):n&&this.isInTouched?this.x===n.x&&this.y===n.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=n.worldX,this.y=n.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",n,this.localX,this.localY)):!n&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",n))}}}const v1=Phaser.Utils.Objects.GetValue;class hut{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(v1(t,"value",0)),this.setSpeed(v1(t,"speed",0)),this.setAcceleration(v1(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class uut{constructor(){this.value,this.dir,this.movement=new hut}init(t,i,n,d,C){return this.value=t,this.end=C,C!==void 0?this.dir=t<C:this.dir=i,n=Math.abs(n),this.movement.setSpeed(n).setAcceleration(-d),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Si=Phaser.Utils.Objects.GetValue,dut=Phaser.Math.Clamp;class fut extends ai{constructor(t,i){super(t,i);var n=Si(i,"enable",!0);this._state=new aut(this,{enable:n,eventEmitter:!1});var d={rectBoundsInteractive:Si(i,"rectBoundsInteractive",!1),inputConfig:Si(i,"inputConfig",void 0),enable:n,pointerOutRelease:Si(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new lut(t,d),this._enable=void 0,this._value=void 0,this._slowDown=new uut,this.setSnapStep(Si(i,"snapStep",void 0));var C=Si(i,"valuechangeCallback",null);if(C!==null){var r=Si(i,"valuechangeCallbackScope",void 0);this.on("valuechange",C,r)}if(C=Si(i,"overmaxCallback",null),C!==null){var r=Si(i,"overmaxCallbackScope",void 0);this.on("overmax",C,r)}if(C=Si(i,"overminCallback",null),C!==null){var r=Si(i,"overminCallbackScope",void 0);this.on("overmin",C,r)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(Si(t,"orientation",0)),this.setDragThreshold(Si(t,"threshold",10)),this.setSlidingDeceleration(Si(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Si(t,"backDeceleration",2e3));var i=Si(t,"dragRate",1);i=i*(Si(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var n=Si(t,"bounds",void 0);return n?this.setBounds(n):this.setBounds(Si(t,"max",0),Si(t,"min",0)),this.setValue(Si(t,"value",this.maxValue||0)),this.setEnable(Si(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=cut[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var n=t;t=n[0],i=n[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,n=this.overMax(t),d=this.overMin(t);n&&this.emit("overmax",t,i),d&&this.emit("overmin",t,i),this.backEnable||(n&&(t=this.maxValue),d&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=dut(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const cut={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},gv=Phaser.Utils.Objects.GetValue;class vut extends ai{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=gv(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(gv(i,"speed",.1)),this.setEnable(gv(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(gv(i,"inputConfig",void 0)).on("wheel",function(n,d,C,r,x){this.tryScroll(C)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,n,d,C,r){this.focusMode===2&&!Fr(this.parent,t)||this.tryScroll(d)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const ui=Phaser.Utils.Objects.GetValue,put=Phaser.Math.Snap.To;var mv=function(e,t,i,n){i=i.toUpperCase();var d=i==="Y",C=e.scrollMode===2,r=e.childrenMap.child,x,s=`snapStep${i}`;if(C)x=ui(n,s,void 0);else{var x=ui(n,"snapStep",void 0);x===void 0&&(x=ui(n,s,void 0))}e[s]=x;var a,g,c=`slider${i}`;if(C||n.hasOwnProperty(c)?a=ui(n,c,void 0):a=ui(n,"slider",void 0),a){a===!0&&(a={}),a.orientation=d?1:0,g=jht(e.scene,a);var h,l,o,u=ui(a,"position",0);typeof u=="string"&&(u=gut[u]);var v=ui(n,`space.slider${i}`,void 0),f;v===void 0&&(v=ui(n,"space.slider",void 0),v===void 0&&(C?v=0:f=ui(n,"space.child",0)));var p;f===void 0?p=typeof v=="number":p=typeof f=="number",d?u===0?(h=2,l=1,f===void 0?o=p?{left:v}:v:o={left:ui(f,"right",f)}):(h=0,l=1,f===void 0?o=p?{right:v}:v:o={right:ui(f,"left",f)}):u===0?(h=1,l=2,f===void 0?o=p?{top:v}:v:o={top:ui(f,"bottom",f)}):(h=1,l=0,f===void 0?o=p?{bottom:v}:v:o={bottom:ui(f,"top",f)}),t.add(g,{column:h,row:l,align:"center",padding:o,expand:!0}),e[`hideUnscrollableSlider${i}`]=ui(a,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=ui(a,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=ui(a,"adaptThumbSize",!1),e[`minThumb${i}Size`]=ui(a,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var m=ui(n,"scrollDetectionMode");typeof m=="string"&&(m=mut[m]);var y,S,T=`scroller${i}`;C||n.hasOwnProperty(T)?y=ui(n,T,!0):y=ui(n,"scroller",!0),y&&r&&(y===!0&&(y={}),y.orientation=d?0:1,m!==void 0&&(y.rectBoundsInteractive=m===1),y.snapStep=x,S=new fut(r,y),r.isRexContainerLite&&r.sendChildToBack(r));var b=ui(n,C?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),P;if(b&&r&&(m!==void 0&&(b.focus=m===1?2:0),P=new vut(r,b)),e.addChildrenMap(`slider${i}`,g),e.addChildrenMap(`scroller${i}`,S),e.addChildrenMap(`mouseWheelScroller${i}`,P),(!C||d)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",g),e.addChildrenMap("scroller",S),e.addChildrenMap("mouseWheelScroller",P)),g){var w,A;C?(w=d?"t":"s",A=`scroll${i}`):(w="t",A="scroll"),g.on("valuechange",function(L){e[w]=L,e.emit(A,e)}).on("inputend",function(){var L=e[`snapStep${i}`];if(L){var k=e[d?"topChildOY":"leftChildOX"],B=e[d?"bottomChildOY":"rightChildOX"],F=e[`childO${i}`],G=put(F,L,k),N=500*(Math.abs(G-F)/L);g.setEaseValueDuration(N).easeValueTo(G,k,B)}})}if(S){var R,A;C?(R=`childO${i}`,A=`scroll${i}`):(R="childOY",A="scroll"),S.on("valuechange",function(k){e[R]=k,e.emit(A,e)})}if(P){var D;C?D=`addChildO${i}`:D="addChildOY",P.on("scroll",function(L){var k=e[s];k&&(L=k),e[D](-L,!0)})}};const gut={right:0,left:1,bottom:0,top:1},mut={gameObject:0,rectBounds:1},xv=Phaser.Utils.Objects.GetValue;var xut=function(e,t){var i=e.scene,n=[0,1,0],d=[0,1,0],C=xv(t,"width"),r=xv(t,"height");if(!C){var x=xv(t,"child.expandWidth",!0);x||(n[1]=0)}if(!r){var s=xv(t,"child.expandHeight",!0);s||(d[1]=0)}var a=new ar(i,{column:3,row:3,columnProportions:n,rowProportions:d});switch(wht(e,a,t),e.scrollMode){case 0:mv(e,a,"y",t);break;case 1:mv(e,a,"x",t);break;default:mv(e,a,"y",t),mv(e,a,"x",t);break}return a};const Tr=Phaser.Utils.Objects.GetValue;let Uf=class extends fe{constructor(t,i){i===void 0&&(i={});var n=p6(i),d=n===1;i.orientation=d?0:1,super(t,i),this.type=Tr(i,"type","rexScrollable"),this.scrollMode=n;var C=Tr(i,"background",void 0);C&&this.addBackground(C);var r=Tr(i,"header",void 0);if(r){var x=Tr(i,"align.header","center"),s=Tr(i,"space.header",0),a;d?a={right:s}:a={bottom:s},this.add(r,{proportion:0,align:x,padding:a,expand:Tr(i,"expand.header",!0)})}var g=xut(this,i);g&&this.add(g,{proportion:1,align:"center",padding:0,expand:!0});var c=Tr(i,"footer",void 0);if(c){var x=Tr(i,"align.footer","center"),h=Tr(i,"space.footer",0),a;d?a={left:h}:a={top:h},this.add(c,{proportion:0,align:x,padding:a,expand:Tr(i,"expand.footer",!0)})}this.addChildrenMap("background",C),this.addChildrenMap("header",r),this.addChildrenMap("footer",c),this.runLayoutFlag=!1}postLayout(t,i,n){var d=0,C=0;return this.runLayoutFlag?(C=this.t,this.scrollMode===2&&(d=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(C),this.scrollMode===2&&this.setS(d),super.postLayout(t,i,n),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,d=n.topChildOY-n.bottomChildOY,C=d+i.top+i.bottom,r=C*t-i.top;t=d!==0?r/d:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var n=this.childrenMap.child,d=n.topChildOY-n.bottomChildOY,C=d+i.top+i.bottom,r=d*t+i.top;t=C!==0?r/C:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,d=n.leftChildOX-n.rightChildOX,C=d+i.left+i.right,r=C*t-i.left;t=d!==0?r/d:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var n=this.childrenMap.child,d=n.leftChildOX-n.rightChildOX,C=d+i.left+i.right,r=d*t+i.left;t=C!==0?r/C:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(Uf.prototype,xL);var m6=function(e,t,i){var n=Wo(e);switch(n){case xs:i=e.getWrappedText(t);break;case ys:i=e.getPenManager(t,i);break;case ln:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},yut=function(e){return e!==void 0&&(this.text=e),this.lines=m6(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},TL=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},bL=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Sut=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case xs:i=this.lines.slice(e,t).join(`
`);break;case ys:var n=this.lines.getLineStartIndex(e),d=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(n,d,!0);break;case ln:i=this.lines.slice(e,t).join(`
`);break}return i},Q2=function(e,t){var i=Wo(e);switch(i){case xs:var C=e.style,n=C.wordWrapWidth,d=C.wordWrapCallback;C.wordWrapWidth=0,C.wordWrapCallback=void 0,e.setText(t),C.wordWrapWidth=n,C.wordWrapCallback=d;break;case ys:var C=e.style,r=C.wrapMode;C.wrapMode=0,e.setText(t),C.wrapMode=r;break;case ln:var x=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=x;break}},EL=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&Cut.call(this)},Cut=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},Tut=function(){var e=Math.max(Math.floor(TL.call(this,-this.textOY)),0),t=bL.call(this,e)+this.textOY,i=Sut.call(this,e);return Q2(this.textObject,i),this.textObject.rexSizer.offsetY=t,EL.call(this),this},but=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Lf.call(this),this},Eut=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case xs:case ys:e.setFixedSize(t,i);var n=e.style,d=Math.max(t,0);this.textObjectType===xs?n.wordWrapWidth=d:(n.wrapMode===0&&(n.wrapMode=1),n.wrapWidth=d);break;case ln:e.setMaxWidth(t);break}this.setText()}},wut=function(){var e,t,i,n=this.left,d=this.top,C,r,x,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,C=n+i.left*this.scaleX,r=d+i.top*this.scaleY,x=this.width*this.scaleX-(i.left+i.right)*this.scaleX,s=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,Eut.call(this,e,x,s),Rf(e,C,r,x,s,t.align),t.preOffsetY=0,EL.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const Put={setText:yut,updateTextObject:Tut,preLayout:but,layoutChildren:wut},HA=Phaser.Utils.Objects.IsPlainObject,an=Phaser.Utils.Objects.GetValue,Mut=Phaser.Display.Align.TOP_LEFT;class wL extends il{constructor(t,i,n,d,C,r){HA(i)?(r=i,i=an(r,"x",0),n=an(r,"y",0),d=an(r,"width",void 0),C=an(r,"height",void 0)):HA(d)&&(r=d,d=an(r,"width",void 0),C=an(r,"height",void 0)),super(t,i,n,d,C,r),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=an(r,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(an(r,"clampTextOY",!0)),this.alwaysScrollable=an(r,"alwaysScrollable",!1);var x=an(r,"background",void 0),s=an(r,"text",void 0);s===void 0&&(s=Aut(t)),this.textCropEnable=an(r,"textCrop",!!s.setCrop);var a=an(r,"textMask",!this.textCropEnable);x&&this.addBackground(x),this.add(s),this.sizerChildren=[s];var g=this.getSizerConfig(s);g.align=Mut,g.padding=el(0),g.expand=!0,this.textObject=s,this.textObjectType=Wo(s),g.preOffsetY=0,g.offsetY=0,a&&(this.textMask=sr.call(this,this.textObject,this)),this.addChildrenMap("background",x),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case xs:this.lines.length=0;break;case ys:this.lines.destroy();break;case ln:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case xs:case ys:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case ln:var n=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*n;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case xs:case ys:t=this.textObject.lineSpacing;break;case ln:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(TL.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=bL.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,n=this.bottomTextOY,d=this.textOYExceedTop(t),C=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:d?t=i:C&&(t=n)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),d&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=d,C&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=C}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Aut=function(e){return e.add.text(0,0,"")};Object.assign(wL.prototype,Put);var Rut=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const Out={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},Dut={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},br=Phaser.Utils.Objects.GetValue;class Xf extends Uf{constructor(t,i){i===void 0&&(i={});var n=br(i,"text",void 0),d=br(i,"textWidth",void 0),C=br(i,"textHeight",void 0),r=br(i,"textCrop",!!n.setCrop),x=br(i,"textMask",!r),s=br(i,"content",""),a=new wL(t,{width:d,height:C,text:n,textMask:x,textCrop:r&&!x,content:s,clampTextOY:br(i,"clampChildOY",!1),alwaysScrollable:br(i,"alwaysScrollable",!1)});t.add.existing(a),Rut(a),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:a,expandWidth:d===void 0,expandHeight:C===void 0};var g=br(i,"space",void 0);g&&(g.child=br(g,"text",0)),super(t,i),this.addChildrenMap("text",n)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Xf.prototype,Out,Dut);const yv=Phaser.Utils.Objects.GetValue;var PL=function(e,t,i){t=t?ts(t):{};var n=yv(i,"background",Hi),d=yv(i,"text",x6),C=yv(i,"track",Hi),r=yv(i,"thumb",Hi);n?t.background=n(e,t.background):delete t.background,d?t.text=d(e,t.text):delete t.text;var x=t.slider;x!==!1&&x!==null&&(x===void 0&&(x={}),C?x.track=C(e,x.track):delete x.track,r?x.thumb=r(e,x.thumb):delete x.thumb,t.slider=x);var s=new Xf(e,t);return e.add.existing(s),s},x6=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var n;switch(i){case"bitmaptext":case"bitmap":n=new Z2(e,t);break;case"bbcodetext":case"bbcode":n=new o5(e,0,0,"",t);break;case"label":n=new Hf(e,t);break;case"textarea":n=PL(e,t);break;default:n=new K2(e,t);break}return v6(n,t),e.add.existing(n),n},YA=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var n;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?n=new zf(e,t):n=new Vf(e,t);break;case"roundRectangle":n=new Nf(e,t);break;default:n=new Gf(e,t);break}return v6(n,t),e.add.existing(n),n};const Sv=Phaser.Utils.Objects.GetValue;var j2=function(e,t,i){t=t?ts(t):{};var n=Sv(i,"background",Hi),d=Sv(i,"text",x6),C=Sv(i,"icon",YA),r=Sv(i,"action",YA);return t.background!==null&&n?t.background=n(e,t.background):delete t.background,t.text!==null&&d?t.text=d(e,t.text):delete t.text,t.icon!==null&&C?t.icon=C(e,t.icon):delete t.icon,t.action!==null&&r?t.action=r(e,t.action):delete t.action,t};class Hf extends Ta{constructor(t,i,n){i=j2(t,i,n),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return p1(this.getChildren(),"setActiveState",t),this}setHoverState(t){return p1(this.getChildren(),"setHoverState",t),this}setDisableState(t){return p1(this.getChildren(),"setDisableState",t),this}}var p1=function(e,t,i){for(var n=0,d=e.length;n<d;n++){var C=e[n];C&&C[t]&&C[t](i)}};At.register("simpleLabel",function(e,t){var i=new Hf(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.SimpleLabel",Hf);const se=Phaser.Utils.Objects.GetValue;var Lut=function(e){var t=this.scene,i=se(e,"orientation",0);this.setOrientation(i);var n=se(e,"icon",void 0),d=se(e,"iconMask",void 0),C=se(e,"innerBackground",void 0),r=se(e,"title",void 0),x=se(e,"separator",void 0),s=se(e,"text",void 0),a=se(e,"action",void 0),g=se(e,"actionMask",void 0);if(n){var c=se(e,"align.icon","center"),T;this.orientation===0?T={right:se(e,"space.icon",0),top:se(e,"space.iconTop",0),bottom:se(e,"space.iconBottom",0),left:se(e,"space.iconLeft",0)}:T={bottom:se(e,"space.icon",0),left:se(e,"space.iconLeft",0),right:se(e,"space.iconRight",0),top:se(e,"space.iconTop",0)};var h=se(e,"squareFitIcon",!1)?1:0;if(this.add(n,{proportion:0,align:c,padding:T,fitRatio:h}),d&&(d=sr.call(this,n,n,1)),!h){var l=se(e,"iconSize",void 0);this.setIconSize(se(e,"iconWidth",l),se(e,"iconHeight",l))}}var o=new fe(t,{orientation:1});C&&o.addBackground(C);var u=se(e,"space.separator",0);if(r){var c=se(e,"align.title","left"),v=se(e,"expandTitleWidth",!1),f=se(e,"expandTitleHeight",!1),p,T,m;p=f?1:0,m=v,T={bottom:!x&&s?se(e,"space.title",u):0,left:se(e,"space.titleLeft",0),right:se(e,"space.titleRight",0)},o.add(r,{proportion:p,expand:m,align:c,padding:T})}if(x){var T={top:r?u:0,bottom:s?u:0,left:se(e,"space.separatorLeft",0),right:se(e,"space.separatorRight",0)};o.add(x,{expand:!0,padding:T})}if(s){var c=se(e,"align.text","left"),y=se(e,"expandTextWidth",!1),S=se(e,"expandTextHeight",!1),p,T,m;p=S?1:0,m=y,T={left:se(e,"space.textLeft",0),right:se(e,"space.textRight",0)},o.add(s,{proportion:p,expand:m,align:c,padding:T})}var T=void 0;if(a&&(T={right:se(e,"space.text",0)}),this.add(o,{proportion:1,padding:T}),a){var c=se(e,"align.action","center"),T;this.orientation===0?T={top:se(e,"space.actionTop",0),bottom:se(e,"space.actionBottom",0),right:se(e,"space.actionRight",0)}:T={left:se(e,"space.actionLeft",0),right:se(e,"space.actionRight",0),bottom:se(e,"space.actionBottom",0)};var h=se(e,"squareFitAction",!1)?1:0;if(this.add(a,{proportion:0,align:c,padding:T,fitRatio:h}),g&&(g=sr.call(this,a,a,1)),!h){var b=se(e,"actionSize");this.setActionSize(se(e,"actionWidth",b),se(e,"actionHeight",b))}}this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",d),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",C),this.addChildrenMap("title",r),this.addChildrenMap("separator",x),this.addChildrenMap("text",s),this.addChildrenMap("action",a),this.addChildrenMap("actionMask",g)};const _t=Phaser.Utils.Objects.GetValue;var Fut=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=_t(e,"title",void 0),n=_t(e,"separator",void 0),d=_t(e,"innerBackground",void 0),C=_t(e,"icon",void 0),r=_t(e,"iconMask",void 0),x=_t(e,"text",void 0),s=_t(e,"action",void 0),a=_t(e,"actionMask",void 0);if(i){var g=_t(e,"align.title","left"),c=_t(e,"expandTitleWidth",!1),h=_t(e,"expandTitleHeight",!1),l,o,u;l=h?1:0,u=c,o={bottom:_t(e,"space.title",0),left:_t(e,"space.titleLeft",0),right:_t(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:u,align:g,padding:o})}if(n){var v=_t(e,"space.separator",0),o={top:i?v:0,bottom:x?v:0,left:_t(e,"space.separatorLeft",0),right:_t(e,"space.separatorRight",0)};this.add(n,{proportion:0,expand:!0,padding:o})}var f=_t(e,"orientation",0),p=new fe(t,{orientation:f,rtl:_t(e,"rtl",!1),space:{left:_t(e,"space.innerLeft",0),right:_t(e,"space.innerRight",0),top:_t(e,"space.innerTop",0),bottom:_t(e,"space.innerBottom",0)}});if(d&&p.addBackground(d),this.add(p,{proportion:1,expand:!0}),C){var g=_t(e,"align.icon","center"),o;p.orientation===0?o={right:_t(e,"space.icon",0),top:_t(e,"space.iconTop",0),bottom:_t(e,"space.iconBottom",0),left:_t(e,"space.iconLeft",0)}:o={bottom:_t(e,"space.icon",0),left:_t(e,"space.iconLeft",0),right:_t(e,"space.iconRight",0),top:_t(e,"space.iconTop",0)};var m=_t(e,"squareFitIcon",!1)?1:0;if(p.add(C,{proportion:0,align:g,padding:o,fitRatio:m}),r&&(r=sr.call(this,C,C,1)),!m){var y=_t(e,"iconSize",void 0);this.setIconSize(_t(e,"iconWidth",y),_t(e,"iconHeight",y))}}if(x){var g=_t(e,"align.text","left"),S=_t(e,"space.text",0),T=_t(e,"expandTextWidth",!1),b=_t(e,"expandTextHeight",!1),l,o,u;p.orientation===0?(l=T?1:0,s&&(o={right:S}),u=b):(l=b?1:0,s&&(o={bottom:S}),u=T),p.add(x,{proportion:l,expand:u,align:g,padding:o})}if(s){var g=_t(e,"align.action","center"),o;p.orientation===0?o={top:_t(e,"space.actionTop",0),bottom:_t(e,"space.actionBottom",0),right:_t(e,"space.actionRight",0)}:o={left:_t(e,"space.actionLeft",0),right:_t(e,"space.actionRight",0),bottom:_t(e,"space.actionBottom",0)};var m=_t(e,"squareFitAction",!1)?1:0;if(p.add(s,{proportion:0,align:g,padding:o,fitRatio:m}),a&&(a=sr.call(this,s,s,1)),!m){var P=_t(e,"actionSize");this.setActionSize(_t(e,"actionWidth",P),_t(e,"actionHeight",P))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",n),this.addChildrenMap("innerSizer",p),this.addChildrenMap("innerBackground",d),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",x),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",a)};const eo=Phaser.Utils.Objects.GetValue,WA=[Lut,Fut];class q2 extends u6{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var n=eo(i,"background",void 0);n&&this.addBackground(n);var d=eo(i,"title",void 0),C=eo(i,"text",void 0);if(d){var r=eo(i,"wrapTitle",!1),x=eo(i,"adjustTitleFontSize",!1);r?(r===!0&&(r="word"),C4(d,r),i.expandTitleWidth=!0,Jp(d)):x&&(i.expandTextWidth=!0,i.expandTextHeight=!0,jp(d,{fitHeight:!0}))}if(C){var s=eo(i,"wrapText",!1),a=eo(i,"adjustTextFontSize",!1);s?(s===!0&&(s="word"),C4(C,s),i.expandTextWidth=!0,Jp(C)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,jp(C,{fitHeight:!0}))}var g=eo(i,"layoutMode",0),c=WA[g]||WA[0];c.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}At.register("titleLabel",function(e){var t=new q2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.TitleLabel",q2);const g1=Phaser.Utils.Objects.GetValue;var ML=function(e,t,i){var n=g1(i,"innerBackground",Hi),d=g1(i,"separator",Hi),C=g1(i,"title",x6),r,x;t.innerBackground!==null&&n&&(r=n(e,t.innerBackground)),t.separator!==null&&d&&(x=d(e,t.separator)),t=j2(e,t,i),r?t.innerBackground=r:delete t.innerBackground,x?t.separator=x:delete t.separator,t.title!==null&&C?t.title=C(e,t.title):delete t.title;var s=t.background;return s&&(r?e.children.moveBelow(s,r):x&&e.children.moveBelow(s,x)),t};class AL extends q2{constructor(t,i,n){i=ML(t,i,n),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return m1(this.getChildren(),"setActiveState",t),this}setHoverState(t){return m1(this.getChildren(),"setHoverState",t),this}setDisableState(t){return m1(this.getChildren(),"setDisableState",t),this}}var m1=function(e,t,i){for(var n=0,d=e.length;n<d;n++){var C=e[n];C&&C[t]&&C[t](i)}};At.register("simpleTitleLabel",function(e,t){var i=new AL(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.SimpleTitleLabel",AL);const Me=Phaser.Utils.Objects.GetValue,But=Phaser.Utils.Objects.IsPlainObject;var Iut=function(e,t){var i=Me(t,"background",void 0),n=Me(t,"icon",void 0),d=Me(t,"iconMask",void 0),C=Me(t,"nameText",void 0),r=Me(t,"valueText",void 0),x=Me(t,"bar",void 0),s=Me(t,"action",void 0),a=Me(t,"actionMask",void 0),g=Me(t,"barShape","line")==="line";if(But(x)){var c=g?E5:M2;x=new c(e,x),e.add.existing(x),C&&e.children.moveBelow(x,C),r&&e.children.moveBelow(x,r)}var h=C||r||x;if(i&&this.addBackground(i),n){var l=void 0;this.orientation===0?(h||s)&&(l={right:Me(t,"space.icon",0),top:Me(t,"space.iconTop",0),bottom:Me(t,"space.iconBottom",0)}):(h||s)&&(l={bottom:Me(t,"space.icon",0),left:Me(t,"space.iconLeft",0),right:Me(t,"space.iconRight",0)}),this.add(n,{proportion:0,padding:l}),d&&(d=sr.call(this,n,n,1))}if(h){var o=new fe(e,{orientation:1}),u;if(C||r){if(u=new fe(e,{orientation:0}),C){C.text===""&&C.setText(" "),C.setOrigin(0,C.originY);var l={left:Me(t,"space.name",0)};u.add(C,{padding:l})}if(r){r.text===""&&r.setText(" "),r.setOrigin(1,r.originY),u.addSpace();var l={right:Me(t,"space.value",0)};u.add(r,{padding:l}),this.setValueTextFormatCallback(Me(t,"valueTextFormatCallback",kut),Me(t,"valueTextFormatCallbackScope",void 0))}o.add(u,{expand:!0})}if(x)if(g){var v=u?Me(t,"space.bar"):0;v===void 0&&(v=Me(t,"space.barTop",0));var l={top:v,bottom:Me(t,"space.barBottom",0),left:Me(t,"space.barLeft",0),right:Me(t,"space.barRight",0)};o.add(x,{expand:!0,padding:l})}else{var l={top:Me(t,"space.barTop",0),bottom:Me(t,"space.barBottom",0),left:Me(t,"space.barLeft",0),right:Me(t,"space.barRight",0)};this.addBackground(x,l)}var l=void 0;s&&(l={right:Me(t,"space.text",0)});var f=Me(t,"align.text","bottom");this.add(o,{proportion:1,align:f,padding:l})}if(s){var l;this.orientation===0?l={top:Me(t,"space.actionTop",0),bottom:Me(t,"space.actionBottom",0)}:l={left:Me(t,"space.actionLeft",0),right:Me(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:l}),a&&(a=sr.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",n),this.addChildrenMap("iconMask",d),this.addChildrenMap("name",C),this.addChildrenMap("value",r),this.addChildrenMap("bar",x),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",a)},kut=function(e,t,i){return e.toString()};const Gut=Phaser.Math.Clamp,Nut={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var n;return this.valueTextFormatCallbackScope?n=this.valueTextFormatCallback(e,t,i):n=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),n},updateValueText(e,t,i){var n=this.childrenMap.value;return n&&this.valueTextFormatCallback&&(n.setText(this.getFormatValueText(e,t,i)),n.layout&&n.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=Gut(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new tr(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class _2 extends fe{constructor(t,i){super(t,i),this.type="rexNameValueLabel",Iut.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,n){var d=this.childrenMap.bar;return d===void 0?this:(d.setValue(t,i,n),this)}easeBarValueTo(t,i,n){var d=this.childrenMap.bar;return d===void 0?this:(d.easeValueTo(t,i,n),this)}setTexture(t,i){var n=this.childrenMap.icon;if(n!==void 0)return n.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,n){var d=this.childrenMap.iconMask;d&&(d.setPosition(),this.resetChildPositionState(d));var C=this.childrenMap.actionMask;return C&&(C.setPosition(),this.resetChildPositionState(C)),super.postLayout(t,i,n),this}resize(t,i){super.resize(t,i);var n=this.childrenMap.iconMask;n&&n.resize();var d=this.childrenMap.actionMask;return d&&d.resize(),this}}Object.assign(_2.prototype,Nut);At.register("nameValueLabel",function(e){var t=new _2(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.NameValueLabel",_2);class Vut extends G8{constructor(t){super(),this.setTable(Be(t,"table")),this.setMaxLevel(Be(t,"maxLevel"));var i=Be(t,"exp",0),n=Be(t,"level",void 0);n!==void 0&&!this.checkLevel(n,i)&&(console.error(`Level ${n} and Exp ${i} are mismatch`),n=void 0),this.resetExp(i,n)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=er(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),n=this._level,d=this._exp,C;;){var r=this.getExp(n),x=this.getExp(n+1);if(C=Math.min(x,t),this.emit("levelup",n,d,C,r,x),n===i&&C===t)break;n++,d=x}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var n=this.getExp(i+1);if(n>t||(i++,this.hasMaxLevel&&n===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,n){return i&&this.on("levelup",i,n),this.exp+=t,i&&this.off("levelup",i,n),this}setExp(t,i,n){return i&&this.on("levelup",i,n),this.exp=t,i&&this.off("levelup",i,n),this}setLevel(t,i,n){return i&&this.on("levelup",i,n),this.level=t,i&&this.off("levelup",i,n),this}}var T4=function(e,t,i){var n=Be(i,"reverse",!1),d;if(ir(e[0]))if(n)for(var r=e.length,C=r-1;C>=0;C--)d=T4(e[C],t,i);else for(var C=0,r=e.length;C<r;C++)d=T4(e[C],t,i);else d=zut(e,t,i);return d},zut=function(e,t,i){var n=Be(i,"argsConvert",void 0),d=Be(i,"argsConvertScope",void 0),C=e[0];if(io=Up(io,e,1),n){n===!0&&(n=v5,d=void 0);for(var r=0,x=io.length;r<x;r++)d?io[r]=n.call(d,io[r],e):io[r]=n(io[r],e)}var s;typeof C=="string"?(s=t[C],s==null&&(s=Be(t,C,null))):s=C;var a=s.apply(t,io);return a},io=[];const Kn=Phaser.Utils.Objects.GetValue;let RL=class extends ai{constructor(t,i){super(t,i);var n=Kn(i,"clock",void 0);n||(n=new L8(t)),this.clock=n,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(Kn(t,"clock",void 0)),this.state=Kn(t,"state",0),this.commands=Kn(t,"commands",[]),this.scope=Kn(t,"scope",void 0),this.setTimeUnit(Kn(t,"timeUnit",0)),this.setDtMode(Kn(t,"dtMode",0)),this.index=Kn(t,"index",0),this.nextTime=Kn(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,n){this.stop();var d=Kn(n,"timeUnit",void 0);d!==void 0&&this.setTimeUnit(d);var C=Kn(n,"dtMode",void 0);return C!==void 0&&this.setDtMode(C),t=t.filter(function(r){var x=r[0];return!isNaN(x)}).map(function(r){var x=r[0];return typeof x=="string"&&(r[0]=parseFloat(r[0])),r}),this.dtMode===0&&t.sort(function(r,x){var s=r[0],a=x[0];return s>a?1:s<a?-1:0}),Up(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...n){var d;return Array.isArray(i)?d=i:d=[i,...n],this.commands.push([t,d]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var n=i[this.index],d=n[1];if(ir(d)||(d=Up(Uut,n,1)),T4(d,this.scope),this.emit("runcommand",d,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=Hut[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=Xut[t]),this.timeUnit=t,this}};var Uut=[];const Xut={ms:0,s:1,sec:1},Hut={abs:0,absolute:0,inc:1,increment:1};var Yut=function(e,t,i,n,d){var C=(i-t)/(d-n)*this.totalEaseDuration,r=i===d?e+1:e;this.player.append(0,this.setEaseValueDuration,C).append(0,this.easeValueTo,i,n,d).append(0,this.emit,"levelup.start",e,t,i,this).append(C,Xi).append(0,this.emit,"levelup.end",r,t,i,this),this.player.isPlaying||this.player.start()};const Wut={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},$A=Phaser.Utils.Objects.GetValue;class y6 extends _2{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration($A(i,"easeDuration",1e3)),this.levelCounter=new Vut($A(i,"levelCounter")),this.player=new RL(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",Yut,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(y6.prototype,Wut);At.register("expBar",function(e){var t=new y6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ExpBar",y6);const Cv=fe.prototype.add,KA=fe.prototype.addSpace;var x1=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var n=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");n&&KA.call(this),Cv.call(this,e,{proportion:i,expand:!0});var d=!this.buttonsExpand&&this.buttonsAlign==="center";d&&KA.call(this),this.hasTailSpace=d}else Cv.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var C=this.sizerChildren.length-1;Cv.call(this,e,{index:C,proportion:i,expand:!0})}else Cv.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const $ut={addButton(e){if(ir(e))for(var t=e,i=0,n=t.length;i<n;i++)x1.call(this,t[i]);else x1.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)x1.call(this,e[t]);return this}},Kut=fe.prototype.remove,Zut=fe.prototype.clear;var y1=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),Kut.call(this,e,t),this)};const Jut={remove(e,t){if(ir(e))for(var i=e,n=0,d=i.length;n<d;n++)y1.call(this,i[n],t);else y1.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Zut.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)y1.call(this,t[i],e);return this}};var Qut=function(e,t,i){if(e){var n=this.setValueCallback,d=this.setValueCallbackScope;n&&(d?n.call(d,e,t,i):n(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},jut=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var n=e._selected;e._selected=i,Qut.call(t,e,i,n)}},enumerable:!0,configurable:!0}),e.selected=!1};const qut={add(e){return this.buttons.push(e),e._click||(e._click=new ya(e,this.clickConfig),e._click.on("click",function(t,i,n,d){this.fireEvent("button.click",i,n,d)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,n,d){this.fireEvent("button.over",i,n,d)},this).on("out",function(t,i,n,d){this.fireEvent("button.out",i,n,d)},this).on("down",function(t,i,n,d){this.fireEvent("button.down",i,n,d)},this).on("up",function(t,i,n,d){this.fireEvent("button.up",i,n,d)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),jut.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},_ut=Phaser.Utils.Array.Remove,tdt={remove(e){return this.buttonsType&&delete e.selected,_ut(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var edt=function(e,t,...i){if(this.buttons){var n;if(typeof t=="number"){if(n=t,t=this.buttons[n],!t)return}else if(n=this.buttons.indexOf(t),n===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,n,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,n,...i):this.eventEmitter.emit(e,t,n,...i)}};const Ad=Phaser.Utils.Objects.GetValue,idt={setButtonsType(e){e===void 0&&(e={});var t=Ad(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,n;switch(i=Ad(e,"setValueCallback",void 0),n=Ad(e,"setValueCallbackScope",void 0),i===void 0&&(i=Ad(e,"setButtonStateCallback",void 0),n=Ad(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=n,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(n){if(e._value!==n){e._value=n;for(var d=0,C=t.length;d<C;d++){var r=t[d];r.rexSizer.hidden||(i===void 0?r.name===n?r.selected=!0:r.selected=!1:i===d?r.selected=!0:r.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(n){i=this.buttons.indexOf(n),e.value=n.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var n=e[t];n.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,n=t.length;i<n;i++){var d=t[i];d.rexSizer.hidden||(e[d.name]=d.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,n=0,d=i.length;n<d;n++){var C=i[n];if(!C.rexSizer.hidden&&C.name===e){C.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,n=t.length;i<n;i++){var d=t[i];if(!d.rexSizer.hidden&&d.name===e)return d.selected}}};var sdt=function(e,t){if(e)if(ir(e)){for(var i,n=0,d=e.length;n<d;n++)if(i=ZA(e[n],t),i)return i}else{var i;for(var C in e)if(i=ZA(e[C],t),i)return i}else return null},ZA=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const tg={getButton(e){var t=this.buttons,i,n=typeof e;switch(n){case"number":i=t[e];break;case"string":i=sdt(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var n=0,d=i.length;n<d;n++)i[n]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,n=t.length;i<n;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,n=0,d=i.length;n<d;n++){var C=i[n];C._click.isOver&&(C._click.isOver=!1,t.fireEvent("button.out",C))}var C=this.getButton(e);return C&&(C._click.isOver=!0,t.fireEvent("button.over",C)),this},showButton(e){return Po(this.getButton(e)),this},hideButton(e){return Mo(this.getButton(e)),this},isButtonShown(e){return K5(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,n=0,d=i.length;n<d;n++)t?e.call(t,i[n],n,i):e(i[n],n,i);return this}};class eg{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var ndt={fireEvent:edt};Object.assign(eg.prototype,qut,tdt,idt,tg,ndt);const S6={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},T0=Phaser.Utils.Objects.GetValue;let zi=class extends fe{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n}),super(t,i),this.type="rexButtons",this.buttonGroup=new eg({parent:this,eventEmitter:T0(i,"eventEmitter",this),groupName:T0(i,"groupName",void 0),clickConfig:T0(i,"click",void 0)}).setButtonsType(i);var d=T0(i,"background",void 0),C=T0(i,"buttons",void 0);this.buttonsExpand=T0(i,"expand",!1),this.buttonsAlign=T0(i,"align",void 0),d&&this.addBackground(d),C&&this.addButtons(C),this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(zi.prototype,$ut,Jut,tg,S6);At.register("buttons",function(e){var t=new zi(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Buttons",zi);const rdt=ar.prototype.add,adt={addButton(e,t,i){return rdt.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,n=e;i<n;i++)this.addButton(e[i],void 0,t);return this}},odt=ar.prototype.remove,ldt=ar.prototype.clear;var S1=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),odt.call(this,i,t),this):this};const hdt={remove(e,t){if(ir(e))for(var i=e,n=0,d=i.length;n<d;n++)S1.call(this,i[n],t);else S1.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,ldt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)S1.call(this,t[i],e);return this}},Er=Phaser.Utils.Objects.GetValue;class ig extends ar{constructor(t,i){i===void 0&&(i={});var n=Er(i,"row",0),d=Er(i,"column",i.col||0),C=Er(i,"createCellContainerCallback"),r=Er(i,"buttons",void 0),x=Er(i,"expand",!0),s=x?1:0;if(C&&(i.createCellContainerCallback=void 0),r!==void 0){n=Math.max(n,r.length);for(var a=0,g=r.length;a<g;a++)d=Math.max(d,r[a].length)}i.row=n,i.column=d,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new eg({parent:this,eventEmitter:Er(i,"eventEmitter",this),groupName:Er(i,"groupName",void 0),clickConfig:Er(i,"click",void 0)}).setButtonsType(i);var c=Er(i,"background",void 0);if(this.buttonsExpand=x,Er(i,"space",void 0),c&&this.addBackground(c),r)for(var h,l,o=0,u=r.length;o<u;o++){h=r[o];for(var v=0,f=h.length;v<f;v++)l=h[v],l&&this.addButton(l,v,o)}else if(C)for(var p=0;p<n;p++)for(var m=0;m<d;m++){var l=C(t,m,p);l&&this.addButton(l,m,p)}this.addChildrenMap("background",c),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(ig.prototype,adt,hdt,tg,S6);At.register("gridButtons",function(e){var t=new ig(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.GridButtons",ig);const OL=$o.prototype.add;var Tv=function(e){return OL.call(this,e),this.buttonGroup.add(e),this};const udt={addButton(e){if(ir(e))for(var t=e,i=0,n=t.length;i<n;i++)Tv.call(this,t[i]);else Tv.call(this,e);return this},addButtons(e){if(ir(e[0]))for(var t=e,i,n=0,d=t.length-1;n<=d;n++){i=t[n];for(var C=0,r=i.length;C<r;C++)Tv.call(this,i[C]);n>d&&OL.addNewLine(this)}else for(var C=0,r=e.length;C<r;C++)Tv.call(this,e[C]);return this}},ddt=$o.prototype.remove,fdt=$o.prototype.clear;var C1=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),ddt.call(this,i,t),this):this};const cdt={remove(e,t){if(ir(e))for(var i=e,n=0,d=i.length;n<d;n++)C1.call(this,i[n],t);else C1.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,fdt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)C1.call(this,t[i],e);return this}},xh=Phaser.Utils.Objects.GetValue;class No extends $o{constructor(t,i){i===void 0&&(i={});var n=i.space;typeof n=="number"&&(i.space={item:n,line:n}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new eg({parent:this,eventEmitter:xh(i,"eventEmitter",this),groupName:xh(i,"groupName",void 0),clickConfig:xh(i,"click",void 0)}).setButtonsType(i);var d=xh(i,"background",void 0),C=xh(i,"buttons",void 0);this.buttonsAlign=xh(i,"align",void 0),d&&this.addBackground(d),C&&this.addButtons(C),this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(No.prototype,udt,cdt,tg,S6);At.register("fixWidthButtons",function(e){var t=new No(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.FixWidthButtons",No);const vdt={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,n,d){return this.childrenMap.fileChooser.loadFile(e,t,i,n,d),this},loadFilePromise(e,t,i,n){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,n)}},JA=Phaser.Utils.Objects.GetValue;class C6 extends Ta{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var n=new kf(t);t.add.existing(n),this.addBackground(n),this.addChildrenMap("fileChooser",n),this.setAccept(JA(i,"accept","")),this.setMultiple(JA(i,"multiple",!1)),n.on("change",function(d){var C=d.files;C.length!==0&&(C=Array.from(C),this.emit("select",C,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(C6.prototype,vdt);At.register("fileSelectorButton",function(e){var t=new C6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.FileSelectorButton",C6);const pdt={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},gdt={onCreateModalBehavior(e){e.on("button.click",function(t,i,n,d,C){var r=!1;switch(i){case"actions":r=!0;break;case"choices":e.hasAnyAction()||(r=!0);break}if(r){var x={index:n,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":x.value=e.getChoicesSelectedButtonName();break;case"checkboxes":x.value=e.getChoicesButtonStates();break;default:x.value=void 0}e.modalClose(x)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,k2.modal.call(this,e,t),this}};var DL={};Object.assign(DL,pdt,gdt);const Xt=Phaser.Utils.Objects.GetValue;class Yf extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=Xt(i,"eventEmitter",this);var n=Xt(i,"background",void 0),d=Xt(i,"title",void 0),C=Xt(i,"toolbar",void 0),r=Xt(i,"toolbarBackground",void 0),x=Xt(i,"leftToolbar",void 0),s=Xt(i,"leftToolbarBackground",void 0),a=Xt(i,"content",void 0),g=Xt(i,"description",void 0),c,h=Xt(i,"choices",void 0),l=Xt(i,"choicesBackground",void 0),o,u=Xt(i,"actions",void 0),v=Xt(i,"actionsBackground",void 0),f=Xt(i,"click",void 0);n&&this.addBackground(n);var p;C&&(p=new zi(t,{groupName:"toolbar",background:r,buttons:C,orientation:0,space:{item:Xt(i,"space.toolbarItem",0)},click:f,eventEmitter:this.eventEmitter}),t.add.existing(p));var m;if(x&&(m=new zi(t,{groupName:"leftToolbar",background:s,buttons:x,orientation:0,space:{item:Xt(i,"space.leftToolbarItem",0)},click:f,eventEmitter:this.eventEmitter}),t.add.existing(m)),d||C||x){var y=!!d&&Xt(i,"expand.title",!0),S=Xt(i,"align.title","center"),T=d&&!y&&S==="center"||!d&&(C||x),b=!T,P;b?P=new fe(t,{orientation:0}):P=new Gn(t),t.add.existing(P);var w=b?!0:{height:!0};if(m&&P.add(m,{align:"left",expand:w}),d){b&&!y&&S==="right"&&P.addSpace();var A={left:Xt(i,"space.titleLeft",0),right:Xt(i,"space.titleRight",0)},R=y?1:0;P.add(d,{align:S,proportion:R,expand:w,padding:A}),b&&!y&&S==="left"&&P.addSpace()}p&&(b&&!d&&P.addSpace(),P.add(p,{align:"right",expand:w}));var A;(a||g||h||u)&&(A={bottom:Xt(i,"space.title",0),top:Xt(i,"space.titleTop",0)});var R=Xt(i,"proportion.title",0);this.add(P,{padding:A,proportion:R,expand:!0})}if(a){var D=Xt(i,"align.content","center"),L=Xt(i,"space.content",0),A={left:Xt(i,"space.contentLeft",0),right:Xt(i,"space.contentRight",0),bottom:g||h||u?L:0},R=Xt(i,"proportion.content",0),k=Xt(i,"expand.content",!0);this.add(a,{align:D,padding:A,proportion:R,expand:k})}if(g){var D=Xt(i,"align.description","center"),B=Xt(i,"space.description",0),A={left:Xt(i,"space.descriptionLeft",0),right:Xt(i,"space.descriptionRight",0),bottom:h||u?B:0},R=Xt(i,"proportion.description",0),k=Xt(i,"expand.description",!0);this.add(g,{align:D,padding:A,proportion:R,expand:k})}if(h){var F=Xt(i,"choicesType","").split("-"),G=Rd(F,"wrap")?No:Rd(F,"grid")?ig:zi,N=Rd(F,"radio")?"radio":Rd(F,"checkboxes")?"checkboxes":void 0,W={left:Xt(i,"space.choicesBackgroundLeft",0),right:Xt(i,"space.choicesBackgroundRight",0),top:Xt(i,"space.choicesBackgroundTop",0),bottom:Xt(i,"space.choicesBackgroundBottom",0)},X=Xt(i,"space.choice",0);G===zi?W.item=X:G===No?(W.item=X,W.line=Xt(i,"space.choiceLine",X)):(W.column=Xt(i,"space.choiceColumn",X),W.row=Xt(i,"space.choiceRow",X));var $={width:Xt(i,"choicesWidth",void 0),height:Xt(i,"choicesHeight",void 0),groupName:"choices",buttonsType:N,background:l,buttons:h,space:W,click:f,eventEmitter:this.eventEmitter,setValueCallback:Xt(i,"choicesSetValueCallback",void 0),setValueCallbackScope:Xt(i,"choicesSetValueCallbackScope",void 0)};G===zi&&($.orientation=Rd(F,"x")?0:1),c=new G(t,$),t.add.existing(c);var J=Xt(i,"space.choices",0),A={left:Xt(i,"space.choicesLeft",0),right:Xt(i,"space.choicesRight",0),bottom:u?J:0},D=Xt(i,"align.choices","center"),R=Xt(i,"proportion.choices",0),k=Xt(i,"expand.choices",!0);this.add(c,{align:D,padding:A,proportion:R,expand:k}),this.buttonsType=N}if(u){o=new zi(t,{groupName:"actions",background:v,buttons:u,orientation:0,space:{item:Xt(i,"space.action",0)},expand:Xt(i,"expand.actions",!1),align:Xt(i,"align.actions","center"),click:f,eventEmitter:this.eventEmitter}),t.add.existing(o);var A={left:Xt(i,"space.actionsLeft",0),right:Xt(i,"space.actionsRight",0),bottom:Xt(i,"space.actionsBottom",0)},R=Xt(i,"proportion.action",0);this.add(o,{align:"center",padding:A,proportion:R,expand:!0})}Od(this,"click"),Od(this,"over"),Od(this,"out"),Od(this,"enable"),Od(this,"disable"),this.addChildrenMap("background",n),this.addChildrenMap("title",d),this.addChildrenMap("toolbar",C),this.addChildrenMap("leftToolbar",x),this.addChildrenMap("content",a),this.addChildrenMap("description",g),this.addChildrenMap("choices",c?c.buttons:void 0),this.addChildrenMap("actions",o?o.buttons:void 0),this.addChildrenMap("choicesSizer",c),this.addChildrenMap("actionsSizer",o),this.addChildrenMap("toolbarSizer",p),this.addChildrenMap("leftToolbarSizer",m)}}var Rd=function(e,t){return e.indexOf(t)!==-1},QA={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Od=function(e,t){e.on(`button.${t}`,function(i,n,d,C,r){QA.hasOwnProperty(n)&&e.emit(`${QA[n]}.${t}`,i,d,C,r)})};Object.assign(Yf.prototype,DL);At.register("dialog",function(e){var t=new Yf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Dialog",Yf);var _i=function(e,t,i){var n=new Hf(e,t,i);return e.add.existing(n),n},mdt=function(e){return e===void 0&&(e={}),xdt.call(this,e),ydt.call(this,e),Sdt.call(this,e),Cdt.call(this,e),this},xdt=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},ydt=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},Sdt=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var C=this.scene,r=this.defaultActionConfig,x=this.defaultActionButtonCreator,s=0,a=i.length;s<a;s++){var g=i[s],c=t[s];c||(c=_i(C,r,x),this.addAction(c)),c.show().resetDisplayContent(g)}this.buttonMode=i.length;for(var s=i.length,a=t.length;s<a;s++)t[s].hide()}else{var n=t[0];n&&(e.buttonA===null?n.hide():(n.show(),n.resetDisplayContent(e.buttonA)));var d=t[1];d&&(e.buttonB===null?d.hide():(d.show(),d.resetDisplayContent(e.buttonB)))}}},Cdt=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var n=this.scene,d=this.defaultChoiceConfig,C=this.defaultActionButtonCreator,r=0,x=i.length;r<x;r++){var s=i[r];typeof s=="string"&&(s={text:s});var a=t[r];a||(a=_i(n,d,C),this.addChoice(a)),a.show().resetDisplayContent(s);var g;s.hasOwnProperty("value")?g=s.value:g=s.text,a.setName(g)}for(var r=i.length,x=t.length;r<x;r++)t[r].hide()}};const Tdt=Phaser.Utils.Objects.Merge;var bdt=function(e,t){er(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Tdt(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var n=this,d=function(C){var r=C.index;r===n.confirmButtonIndex?n.emit("confirm",C):r===n.cancelButtonIndex&&n.emit("cancel",C),t&&t(C)};return k2.modal.call(this,e,d),this};const Edt={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var LL={resetDisplayContent:mdt,modal:bdt};Object.assign(LL,Edt);var wdt=function(e){e.setHoverState&&e.setHoverState(!0)},Pdt=function(e){e.setHoverState&&e.setHoverState(!1)},Mdt=function(e,t,i,n){e.setActiveState&&e.setActiveState(n)},Adt=function(e){e.setDisableState&&e.setDisableState(!1)},Rdt=function(e){e.setDisableState&&e.setDisableState(!0)},FL=function(){this.on("button.over",wdt).on("button.out",Pdt).on("button.enable",Adt).on("button.disable",Rdt).on("button.statechange",Mdt)};const Odt=Phaser.Utils.Objects.GetValue;var Ddt=function(e,t,i){var n=Odt(t,"$type");n===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(n="textarea");var d;switch(n){case"textarea":d=new PL(e,t,i);break;default:d=new _i(e,t,i);break}return e.add.existing(d),d};const T1=Phaser.Utils.Objects.GetValue;class sg extends Yf{constructor(t,i,n){i=i?ts(i):{},n===void 0&&(n={});var d=T1(n,"background",Hi);i.background=d(t,i.background),i.title=_i(t,i.title,n.title),i.content=Ddt(t,i.content,n.content),i.content instanceof Xf&&ua(i,"height")&&!ua(i,"proportion.content")&&wt(i,"proportion.content",1);var C=i.button,r=i.buttonA||C,x=i.buttonB||C,s=i.buttonMode;s===void 0&&(s=r&&x?2:r?1:0);var a=n.button,g=n.buttonA||a,c=n.buttonB||a;switch(s){case 2:i.actions=[_i(t,r,g),_i(t,x,c)];break;case 1:i.actions=[_i(t,r,g)];break;case 0:break;default:i.actions=[];break}var h=i.choice;h&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=C,this.defaultActionButtonCreator=a,this.defaultChoiceConfig=h,this.defaultChoiceCreator=n.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),FL.call(this),this.setConfirmButtonIndex(T1(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(T1(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(sg.prototype,LL);At.register("confirmDialog",function(e,t){var i=new sg(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.ConfirmDialog",sg);const jA=Phaser.Utils.Objects.GetValue;var BL=function(e,t){var i=t.dialog,n=!i;if(n){var d=t.style;d.buttonMode=2,i=new sg(e,d,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(jA(t,"confirmButtonIndex",0)).setCancelButtonIndex(jA(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),n&&t.onCreateDialog&&t.onCreateDialog(i);var C=t.modal;C&&!C.hasOwnProperty("destroy")&&(C.destroy=n);var r=t.confirm,x=t.cancel,s=t.confirmScope,a=t.cancelScope;r&&i.once("confirm",r,s),x&&i.once("cancel",x,a);var g=function(c){i.off("confirm",r,s),i.off("cancel",x,a)};return i.modal(C,g),i};class IL extends Ta{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=_n(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=BL(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}At.register("confirmActionButton",function(e){var t=new IL(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ConfirmActionButton",IL);var Ldt=function(e){return e===void 0&&(e={}),Fdt.call(this,e),Bdt.call(this,e),Idt.call(this,e),this},Fdt=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},Bdt=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var n=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(n);else{this.show(n);var d=e.firstName||"";n.setText(d)}var C=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(C);else{this.show(C);var r=e.lastNameTitle||"";C.resetDisplayContent(r)}var x=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(x);else{this.show(x);var s=e.lastName||"";x.setText(s)}},Idt=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const kdt=Phaser.Utils.Objects.Merge;var Gdt=function(e,t){er(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=kdt(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,n=function(d){d.firstName=i.firstName,d.lastName=i.lastName,i.emit("confirm",d),t&&t(d)};return k2.modal.call(this,e,n),this},Ndt={resetDisplayContent:Ldt,modal:Gdt},Vo=function(e,t,i){i===void 0&&(i=!0),i?t=t?ts(t):{}:t||(t={});var n=new wf(e,t);return e.add.existing(n),n};const Pn=Phaser.Utils.Objects.GetValue;var Vdt=function(e,t,i){var n=tl(Pn(t,"layoutMode",0)),d=n===0,C=new fe(e,{orientation:n,space:{item:Pn(t,"space.firstName",0)}});e.add.existing(C);var r=new fe(e,{orientation:"x"});e.add.existing(r);var x=Pn(t,"firstNameTitle",t.nameTitle),s=_i(e,x,i.firstNameTitle||i.nameTitle);r.add(s,{expand:!0,proportion:Pn(t,"proportion.firstNameTitle",0),padding:{right:Pn(t,"space.firstNameTitle",0)}});var a=t.nameInput||{},g=Pn(t,"firstNameInput",a),c=Vo(e,g,i.firstNameInput||i.nameInput),h=!g.hasOwnProperty("width");r.add(c,{expand:!0,proportion:h?1:0});var l=new fe(e,{orientation:"x"});e.add.existing(l);var o=Pn(t,"lastNameTitle",t.nameTitle),u=_i(e,o,i.lastNameTitle||i.nameTitle);l.add(u,{expand:!0,proportion:Pn(t,"proportion.lastNameTitle",0),padding:{right:Pn(t,"space.lastNameTitle",0)}});var v=Pn(t,"firstNameInput",a),f=Vo(e,v,i.lastNameInput||i.nameInput),p=!v.hasOwnProperty("width");if(l.add(f,{expand:!0,proportion:p?1:0}),d){var m=h?1:0,y=Pn(t,"proportion.firstName",m);C.add(r,{expand:!0,proportion:y});var S=p?1:0,T=Pn(t,"proportion.lastName",S);C.add(l,{expand:!0,proportion:T})}else C.add(r,{expand:h,proportion:0}),C.add(l,{expand:p,proportion:0});return C.addChildrenMap("firstNameTitle",s),C.addChildrenMap("firstNameInput",c),C.addChildrenMap("lastNameTitle",u),C.addChildrenMap("lastNameInput",f),C};const zdt=Phaser.Utils.Objects.GetValue;class T6 extends Yf{constructor(t,i,n){i===void 0&&(i={}),n===void 0&&(n={}),i.orientation="y";var d=i.space;d&&(d.hasOwnProperty("names")&&(d.content=d.names),d.hasOwnProperty("namesLeft")&&(d.contentLeft=d.namesLeft),d.hasOwnProperty("namesRight")&&(d.contentRight=d.namesRight));var C=zdt(n,"background",Hi);i.background=C(t,i.background),i.title=_i(t,i.title,n.title),i.content=Vdt(t,i,n),i.actions=[_i(t,i.button,n.button)],super(t,i),this.type="rexNameInputDialog";var r=i.content.childrenMap;this.addChildrenMap("firstNameTitle",r.firstNameTitle),this.addChildrenMap("firstNameInput",r.firstNameInput),this.addChildrenMap("lastNameTitle",r.lastNameTitle),this.addChildrenMap("lastNameInput",r.lastNameInput),this.addChildrenMap("button",i.actions[0]),FL.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(T6.prototype,Ndt);At.register("nameInputDialog",function(e,t){var i=new T6(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.NameInputDialog",T6);var O0=function(e,t){if(e){var i=hn(e);i&&i.remove(e,t)}};const bv=Phaser.Utils.Objects.GetValue;var Wf=function(e,t,i){var n=bv(e,`proportion.${t}`,i.proportion),d=bv(e,`align.${t}`,"center"),C=bv(e,`space.${t}`,void 0);if(typeof C=="number"&&i.paddingKey){var r=C;C={},C[i.paddingKey]=r}var x=bv(e,`expand.${t}`,!0);return{proportion:n,align:d,padding:C,expand:x}},ng=function(e){return Wf(e,"header",{proportion:0,paddingKey:"bottom"})},rg=function(e){return Wf(e,"leftSide",{proportion:0,paddingKey:"right"})},ag=function(e){return Wf(e,"content",{proportion:1})},og=function(e){return Wf(e,"rightSide",{proportion:0,paddingKey:"left"})},lg=function(e){return Wf(e,"footer",{proportion:0,paddingKey:"top"})},fa=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},ca=function(e,t){var i=new fe(e,{orientation:t});return e.add.existing(i),i},Udt=function(e){var t=this.scene,i=e.header;i&&this.add(i,ng(e));var n=ca(t,0);this.add(n,fa());var d=e.leftSide;d&&n.add(d,rg(e));var C=e.content;C&&n.add(C,ag(e));var r=e.rightSide;r&&n.add(r,og(e));var x=e.footer;x&&this.add(x,lg(e))},Xdt=function(e){var t=this.scene,i=e.header;i&&this.add(i,ng(e));var n=ca(t,0);this.add(n,fa());var d=e.leftSide;d&&n.add(d,rg(e));var C=ca(t,1);n.add(C,fa());var r=ca(t,0);C.add(r,fa());var x=e.content;x&&r.add(x,ag(e));var s=e.rightSide;s&&r.add(s,og(e));var a=e.footer;a&&C.add(a,lg(e))},Hdt=function(e){var t=this.scene,i=e.header;i&&this.add(i,ng(e));var n=ca(t,0);this.add(n,fa());var d=ca(t,1);n.add(d,fa());var C=ca(t,0);d.add(C,fa());var r=e.leftSide;r&&C.add(r,rg(e));var x=e.content;x&&C.add(x,ag(e));var s=e.footer;s&&d.add(s,lg(e));var a=e.rightSide;a&&n.add(a,og(e))},Ydt=function(e){var t=this.scene,i=e.header;i&&this.add(i,ng(e));var n=ca(t,0);this.add(n,fa());var d=e.leftSide;d&&n.add(d,rg(e));var C=ca(t,1);n.add(C,fa());var r=e.content;r&&C.add(r,ag(e));var x=e.footer;x&&C.add(x,lg(e));var s=e.rightSide;s&&n.add(s,og(e))};const Wdt=Phaser.Utils.Objects.GetValue,qA=[Udt,Xdt,Hdt,Ydt];var $dt=function(e){e===void 0&&(e={});var t=e.background,i=e.header,n=e.leftSide,d=e.content,C=e.rightSide,r=e.footer;O0(t),O0(i),O0(n),O0(d),O0(C),O0(r),this.clear(!0),t&&this.addBackground(t);var x=Wdt(e,"layoutMode",0);typeof x=="string"&&(x=Kdt[x.toUpperCase()]);var s=qA[x]||qA[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",n),this.addChildrenMap("content",d),this.addChildrenMap("rightSide",C),this.addChildrenMap("footer",r),this};const Kdt={FFF:0,LFF:1,FFR:2,LFR:3};class b6 extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var Zdt={build:$dt};Object.assign(b6.prototype,Zdt);At.register("holyGrail",function(e){var t=new b6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.HolyGrail",b6);const Jdt={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Po(this.getButton(e,t)),this},showLeftButton(e){return Po(this.getLeftButton(e)),this},showRightButton(e){return Po(this.getRightButton(e)),this},showTopButton(e){return Po(this.getTopButton(e)),this},showBottomButton(e){return Po(this.getBottomButton(e)),this},hideButton(e,t){return Mo(this.getButton(e,t)),this},hideLeftButton(e){return Mo(this.getLeftButton(e)),this},hideRightButton(e){return Mo(this.getRightButton(e)),this},hideTopButton(e){return Mo(this.getTopButton(e)),this},hideBottomButton(e){return Mo(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ne=Phaser.Utils.Objects.GetValue;class E6 extends ar{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=Ne(i,"expand.panel",!1);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Ne(i,"eventEmitter",this);var d=Ne(i,"background",void 0),C=Ne(i,"panel",void 0),r=Ne(i,"leftButtons",void 0),x=Ne(i,"leftButtonsBackground",void 0),s,a=Ne(i,"rightButtons",void 0),g=Ne(i,"rightButtonsBackground",void 0),c,h=Ne(i,"topButtons",void 0),l=Ne(i,"topButtonsBackground",void 0),o,u=Ne(i,"bottomButtons",void 0),v=Ne(i,"bottomButtonsBackground",void 0),f,p=Ne(i,"click",void 0);if(d&&this.addBackground(d),C&&this.add(C,{column:1,row:1,expand:n}),r){var m=Ne(i,"space.leftButtonsOffset",0),y=Ne(i,"space.leftButton",0),S=Ne(i,"expand.leftButtons",!1),T=Ne(i,"align.leftButtons","top");s=new zi(t,{groupName:"left",background:x,buttons:r,orientation:"y",space:{item:y},expand:S,click:p,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:T,padding:{top:m},expand:S})}if(a){var b=Ne(i,"space.rightButtonsOffset",0),P=Ne(i,"space.rightButton",0),w=Ne(i,"expand.rightButtons",!1),A=Ne(i,"align.rightButtons","top");c=new zi(t,{groupName:"right",background:g,buttons:a,orientation:"y",space:{item:P},expand:w,click:p,eventEmitter:this.eventEmitter}),this.add(c,{column:2,row:1,align:A,padding:{top:b},expand:w})}if(h){var R=Ne(i,"space.topButtonsOffset",0),D=Ne(i,"space.topButton",0),L=Ne(i,"expand.topButtons",!1),k=Ne(i,"align.topButtons","left");o=new zi(t,{groupName:"top",background:l,buttons:h,orientation:"x",space:{item:D},expand:L,align:Ne(i,"align.topButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(o,{column:1,row:0,align:k,padding:{left:R},expand:L})}if(u){var B=Ne(i,"space.bottomButtonsOffset",0),F=Ne(i,"space.bottomButton",0),G=Ne(i,"expand.bottomButtons",!1),N=Ne(i,"align.bottomButtons","left");f=new zi(t,{groupName:"bottom",background:v,buttons:u,orientation:"x",space:{item:F},expand:G,align:Ne(i,"align.bottomButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(f,{column:1,row:2,align:N,padding:{left:B},expand:G})}this.addChildrenMap("background",d),this.addChildrenMap("panel",C),this.addChildrenMap("leftButtons",r),this.addChildrenMap("rightButtons",a),this.addChildrenMap("topButtons",h),this.addChildrenMap("bottomButtons",u),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",c),this.addChildrenMap("topButtonsSizer",o),this.addChildrenMap("bottomButtonsSizer",f)}}Object.assign(E6.prototype,Jdt);At.register("tabs",function(e){var t=new E6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Tabs",E6);At.register("slider",function(e){var t=new au(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Slider",au);class kL{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=nu[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var n=this._deltaHeight!==t;if(this._deltaHeight=t,n){i.resetTotalRowsHeight();var d=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(d,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(kL.prototype,m2);const _A=Phaser.Utils.Objects.GetValue,Qdt=Phaser.Utils.Array.SpliceOne;class jdt{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Or,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var n=t.cellWidth;return n===void 0&&(n=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(n),this.initCells(_A(t,"cellsCount",0)),this.setColumnCount(_A(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var n=0;n<t;n++)i[n]=null;return this}insertNewCells(t,i){var n=this.cells;if(t===n.length){var d=t+i;n.legth=d;for(var C=t;C<d;C++)n[C]=null}else{var r=[];r.length=i;for(var C=0;C<i;C++)r[C]=null;this.cells.splice(t,0,...r)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var n=t+i,d=t;d<n;d++)this.freeCell(d);return n===this.cells.length?this.cells.length=t:(i===1?Qdt(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var n=i.scrollMode===0?i.width:i.height,d=n/t;this.setDefaultCellWidth(d)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var x=t/this.defaultCellHeight;switch(i){case 1:x=Math.ceil(x);break;default:x=Math.floor(x);break}return x}for(var n=this.rowCount,d=t,C,r,x=0;;)if(r=this.getRowHeight(x),d-=r,C=x>=0&&x<n,d>0&&C)x+=1;else{if(d===0)return i===2&&(x+=1),x;if(i===1){var s=x;x+=1,C=x>=0&&x<n,C||(x=s)}return x}}widthToColIndex(t,i){if(t===0)return 0;var n=t/this.defaultCellWidth;return i?n=Math.ceil(n):n=Math.floor(n),n}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var n,d=0,C=t;C<=i;C++)n=this.getRowHeight(C),d+=n;return d}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var n=0,d,C=0;C<i;C++)d=this.getCellHeight(this.colRowToCellIndex(C,t)),n<d&&(n=d);return n}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var n=this.getCell(t,!1),d=n?n.deltaHeight:0;i=this.defaultCellHeight+d}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var n=this.newCell(t);this.cells[t]=n}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new kL(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,n,d=t,C=i.length;d<C;d++)n=i[d],n&&(n.index=d);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var qdt=function(e){var t=this.table,i=this.topTableOY,n=this.bottomTableOY,d=e>i,C=e<n;if(this.clampTableOXY){var r=t.rowCount,x=t.heightToRowIndex(this.instHeight,1);r<x?e=0:d?e=i:C&&(e=n)}return this._tableOY!==e&&(this._tableOY=e),d&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=d,C&&(this.execeedBottomState||this.emit("execeedbottom",this,e,n)),this.execeedBottomState=C,this},_dt=function(e){var t=this.table,i=this.leftTableOX,n=this.rightTableOX,d=e>this.leftTableOX,C=e<this.rightTableOX;if(this.clampTableOXY){var r=t.colCount,x=t.widthToColIndex(this.instWidth,!0);r<x?e=0:d?e=i:C&&(e=n)}return this._tableOX!==e&&(this._tableOX=e),d&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=d,C&&(this.execeedRightState||this.emit("execeedright",this,e,n)),this.execeedRightState=C,this},w6=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const tft=Phaser.Geom.Intersects.RectangleToRectangle,eft=Phaser.Geom.Rectangle.Overlaps;var ift=function({parent:e,mask:t,children:i,onVisible:n,onInvisible:d,scope:C}){if(t){i===void 0&&(i=e.getAllChildren());for(var r=!!n||!!d,x=e.getBounds(),s=w6(t),a,g,c,h,l=0,o=i.length;l<o;l++)if(a=i[l],a!==s&&sft(a)){if(h=a.visible,a.getBounds)switch(g=a.getBounds(g),c=nft(x,g),c){case 4:rft(e,a);break;case 0:tft(x,g)||eft(x,g)?b1(e,a,t):aft(e,a);break;default:b1(e,a,t);break}else b1(e,a,t);if(r&&a.visible!==h){var u=a.visible?n:d;u&&(C?u.call(C,a,e):u(a,e))}}}},sft=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},nft=function(e,t){var i=t.top,n=t.bottom,d=t.left,C=t.right,r=0;return r+=e.contains(d,i)?1:0,r+=e.contains(d,n)?1:0,r+=e.contains(C,i)?1:0,r+=e.contains(C,n)?1:0,r},rft=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},b1=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},aft=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const yh=Phaser.Utils.Objects.GetValue,oft={update:0,everyTick:1},GL={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(yh(e,"updateMode",0)),this.enableChildrenMask(yh(e,"padding",0)),this.setMaskLayer(yh(e,"layer",void 0)),this.onMaskGameObjectVisible=yh(e,"onVisible"),this.onMaskGameObjectInvisible=yh(e,"onInvisible"),this.maskGameObjectCallbackScope=yh(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=oft[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=sr.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):ift({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=w6(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var lft=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var n=this.table,d=this.tableOYOffset,C=this.tableOY+d,r=this.tableOX;this.startRowIndex=Math.max(n.heightToRowIndex(-C,2),0);for(var x=this.startRowIndex,s=Math.max(n.widthToColIndex(-r),0),a=s,g=n.colRowToCellIndex(a,x),c=this.bottomBound,h=this.rightBound,l=n.cellsCount-1,o=n.colCount-1,u=this.getCellTLX(a),v=u,f=this.getCellTLY(x)+d,p=f;p<c&&g<=l;){if(this.table.isValidCellIdx(g)){var m=n.getCell(g,!0);this.visibleCells.set(m),this.preVisibleCells.contains(m)||this.showCell(m);var y,S;if(this.scrollMode===0?(y=v,S=p):(y=p,S=v),m.cellContainerAlign==null)m.setXY(y,S);else{var T=m.getContainer();Rf(T,y,S,m.width,m.height,m.cellContainerAlign),m.setXY(T.x,T.y)}}v<h&&a<o?(v+=n.getColWidth(a),a+=1):(v=u,p+=n.getRowHeight(x),a=s,x+=1),g=n.colRowToCellIndex(a,x)}i||this.setScale(e,t)}},NL=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},hft=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},uft=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},dft=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},VL=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},fft=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(tR.call(this),this.hideCells()),tR.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},tR=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},cft=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},zL=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),n=this.tableOX-(this.scrollMode===0?e:t),d=this.table,C=d.heightToRowIndex(-i,0),r=d.widthToColIndex(-n),x=d.colRowToCellIndex(r,C);return x===null||!this.isCellVisible(x)?null:x},vft=function(e,t){var i=zL.call(this,e,t);if(i!==null)return this.getCellContainer(i)},pft=function(e,t){return this.visibleCells.each(e,t),this},gft=function(e,t){return this.visibleCells.iterate(e,t),this},mft=function(e,t){return this.table.cells.slice().forEach(e,t),this},xft=function(e,t){return this.table.cells.forEach(e,t),this},yft=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const Sft=Phaser.Math.Clamp;var Cft=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=Sft(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},Tft=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,n=e,d=e+t;n<d;n++)i=this.getCell(n,!1),i&&(this.visibleCells.contains(i)&&(VL.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},bft=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},Eft=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},wft=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(NL.call(this,t),this)},UL={setTableOY:qdt,setTableOX:_dt,showCells:lft,showCell:NL,getCellTLX:hft,getCellTLY:uft,hideCells:dft,hideCell:VL,updateTable:fft,isCellVisible:cft,pointToCellIndex:zL,pointToCellContainer:vft,eachVisibleCell:pft,iterateVisibleCell:gft,eachCell:mft,iterateCell:xft,setCellsCount:yft,insertNewCells:Cft,removeCells:Tft,setColumnCount:bft,setGridSize:Eft,updateVisibleCell:wft};Object.assign(UL,GL);const Pft=Phaser.GameObjects.Group,eR=Phaser.Structs.Set,Mn=Phaser.Utils.Objects.GetValue;let XL=class extends un{constructor(t,i,n,d,C,r){r===void 0&&(r={}),super(t,i,n,d,C),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new eR,this.preVisibleCells=new eR,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var x=Mn(r,"reuseCellContainer",!1);x&&(this.cellContainersPool=new Pft(t));var s=Mn(r,"cellVisibleCallback",null);if(s!==null){var a=Mn(r,"cellVisibleCallbackScope",void 0);this.on("cellvisible",s,a)}if(s=Mn(r,"cellInvisibleCallback",null),s!==null){var a=Mn(r,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",s,a)}Mn(r,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(Mn(r,"mask",void 0)),this.setScrollMode(Mn(r,"scrollMode",0)),this.setClampMode(Mn(r,"clampTableOXY",!0)),this.setStartFromBottomEnable(Mn(r,"startFromBottom",!1));var g,c,h,l=this.scrollMode===0;if(l?(g=r.cellWidth,c=r.cellHeight,h=r.columns):(g=r.cellHeight,c=r.cellWidth,h=Mn(r,"rows",r.columns)),this.fixedCellSize=Mn(r,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&g===void 0,h||(h=1),this.fixedCellSize)h=Math.max(Math.floor(this.instWidth/g),1);else if(this.expandCellSize){var d=l?this.width:this.height;g=d/h}r.cellWidth=g,r.cellHeight=c,r.columns=h,this.table=new jdt(this,r),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Mft[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),n;return i&&(n=i.getContainer()),n}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.height=i,this}setCellWidth(t,i){var n;return typeof t=="number"?n=this.table.getCell(t,!0):n=t,n.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var n=t;t=i,i=n}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var d=this.table.cells,C=0,r=d.length;C<r;C++){var x=d[C];x&&(x.deltaHeight=0)}if(this.fixedCellSize){var s=Math.floor(this.instWidth/t);this.table.setColumnCount(s)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var n=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(n)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(XL.prototype,UL);const Mft={v:0,vertical:0,h:1,horizontal:1};var Aft=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},Rft=function(e){e.on("cellvisible",function(t,r,n){var d=this.createCellContainerCallback,C=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var r;C?r=d.call(C,t,r,n):r=d(t,r,n),r&&(t.cellContainerAlign==null&&r.setOrigin&&r.setOrigin(0),r.isRexSizer&&r.layout()),t.item=void 0,t.items=void 0,t.setContainer(r)},this)},Br=function(e,t,i,n,d,C,r){var x;if(d===void 0)x=n;else{var s=C.camera,a=n+s.scrollX*(i.scrollFactorX-1),g=d+s.scrollY*(i.scrollFactorY-1);x=i.pointToCellIndex(a,g)}if(x!=null){var c=i.getCellContainer(x);c&&e.emit(t,c,x,C,r)}},Oft=function(e,t){e.on("pointerdown",function(i,n,d,C){Br(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,C)},this).on("pointerup",function(i,n,d,C){Br(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,C)},this)},Dft=function(e,t){e.on("pointermove",iR,this).on("pointerover",iR,this).on("pointerout",Lft,this)},iR=function(e,t,i,n){var d=this.childrenMap.child,C=e.camera,r=e.worldX+C.scrollX*(d.scrollFactorX-1),x=e.worldY+C.scrollY*(d.scrollFactorY-1),s=d.pointToCellIndex(r,x);if(s!==d.input.lastOverCellIndex){var a=d.input.lastOverCellIndex;d.input.lastOverCellIndex=s,Br(this.eventEmitter,"cell.out",d,a,void 0,e,n),Br(this.eventEmitter,"cell.over",d,s,void 0,e,n)}},Lft=function(e,t){var i=this.childrenMap.child,n=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Br(this.eventEmitter,"cell.out",i,n,void 0,e,t)};const Fft=Phaser.Utils.Objects.GetValue;var Bft=function(e,t){var i=Fft(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new ya(e,i),e._click.on("click",function(n,d,C,r){Br(this.eventEmitter,"cell.click",d,C.worldX,C.worldY,C,r)},this))};const Ift=Phaser.Utils.Objects.GetValue;var kft=function(e,t){var i=Ift(t,"tap",void 0);i!==!1&&(e._tap=new N2(e,i),e._tap.on("tap",function(n,d,C){var r=`cell.${n.tapsCount}tap`;Br(this.eventEmitter,r,n.gameObject,n.worldX,n.worldY,C)},this))};const Gft=Phaser.Utils.Objects.GetValue;var Nft=function(e,t){var i=Gft(t,"press",void 0);i!==!1&&(e._press=new V2(e,i),e._press.on("pressstart",function(n,d,C){Br(this.eventEmitter,"cell.pressstart",e,n.worldX,n.worldY,C)},this).on("pressend",function(n,d,C){Br(this.eventEmitter,"cell.pressend",e,n.worldX,n.worldY,C)},this))};const Vft=Phaser.Utils.Objects.GetValue;var zft=function(e,t){var i=Vft(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new If(e,i),e._swipe.on("swipe",function(n,d,C){var r=n.left?"left":n.right?"right":n.up?"up":"down";Br(this.eventEmitter,`cell.swipe${r}`,e,n.worldX,n.worldY,C)},this))},Uft=function(e,t){e.setInteractive(),Oft.call(this,e,t),Dft.call(this,e,t),Bft.call(this,e,t),kft.call(this,e,t),Nft.call(this,e,t),zft.call(this,e,t)},Xft=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const Hft={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},Zn=Phaser.Utils.Objects.GetValue;class P6 extends Uf{constructor(t,i){i===void 0&&(i={});var n=p6(i),d=Zn(i,"table",void 0);d===void 0&&(d={}),d.scrollMode=n===2?0:n,d.clampTableOXY=Zn(i,"clampChildOY",!1);var C=Zn(d,"width",void 0),r=Zn(d,"height",void 0),x=new XL(t,0,0,C,r,d);t.add.existing(x);var s,a;d.scrollMode===0?(s=C===void 0,a=r===void 0):(s=r===void 0,a=C===void 0),Aft(x),x._minWidth=C===void 0?0:void 0,x._minHeight=r===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:x,expandWidth:s,expandHeight:a};var g=Zn(i,"space",void 0);g&&(g.child=Zn(g,"table",0)),super(t,i),this.addChildrenMap("table",x),this.addChildrenMap("tableLayer",x.maskLayer),this.eventEmitter=Zn(i,"eventEmitter",this);var c=Zn(i,"createCellContainerCallback",Xi),h=Zn(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(c,h),Rft.call(this,x),this.resizeControllerFlag=!1;var l=n===0?"cellheightchange":"cellwidthchange";x.on(l,function(){this.resizeControllerFlag=!0},this),Zn(d,"interactive",!0)&&Uft.call(this,x,d),this.setItems(Zn(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var n=this.childrenMap.child;return n.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var Yft={setItems:Xft};Object.assign(P6.prototype,Hft,Yft);At.register("gridTable",function(e){var t=new P6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.GridTable",P6);var M6=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},Wft=function(e,t){e.popUp(M6(e.root.easeIn,e))},$ft=function(e,t){e.scaleDown(M6(e.root.easeOut,e))};const Kft={setTransitInCallback(e){return e===void 0&&(e=Wft),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=$ft),this.transitOutCallback=e,this}};var Zft=function(e,t,i,n,d){var C=iu(e),r=C.time.delayedCall(t,function(){C.sys.events.once("postupdate",function(){i.call(n,d)})});return r};const Jft={delayCall(e,t,i){return this.timer=Zft(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var Qft=function(e,t){var n=this.childrenMap.subMenu;if(n&&n.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var n=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(n),this.childrenMap.subMenu=n,this.root.emit("expand",n,e,this),this},jft=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},qft=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},HL={expandSubMenu:Qft,collapse:jft,collapseSubMenu:qft};Object.assign(HL,Kft,Jft);var _ft=function(e,t,i,n){var d;return i&&(t.scene=e,n?d=i.call(n,t):d=i(t),t.scene=void 0),d},tct=function(e,t,i,n){var d,C=[],r;if(t&&i)for(var x=0,s=t.length;x<s;x++)d=t[x],d.scene=e,n?r=i.call(n,d,x,t):r=i(d,x,t),d.scene=void 0,C.push(r);return C},ect=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var n=this.root.childrenKey,d=this.items[i][n];d&&this.expandSubMenu(t,d)}},e).on("button.click",function(t,i,n,d){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,n,d),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,n,d){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,n,d),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,n,d){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,n,d),this.root._isPassedEvent=!1)},e)},sR=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=tl(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},ict=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ws=Phaser.Utils.Objects.GetValue;class A6 extends zi{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var n=i._rootMenu,d=i._parentMenu,C=i._parentButton,r=ws(i,"popup",!0),x=ws(i,"items",void 0),s=ws(i,"createBackgroundCallback",void 0),a=ws(i,"createBackgroundCallbackScope",void 0);i.background=_ft(t,x,s,a);var g=ws(i,"createButtonCallback",void 0),c=ws(i,"createButtonCallbackScope",void 0);if(i.buttons=tct(t,x,g,c),super(t,i),this.type="rexMenu",this.items=x,this.root=n===void 0?this:n,this.isRoot=this.root===this,this.parentMenu=d,this.parentButton=C,this.timer=void 0,this.isRoot){this.isPopUpMode=r;var h=i.bounds;h===void 0&&(h=eu(t)),this.bounds=h,this.subMenuSide=[this.y<h.centerY?E4:Dp,this.x<h.centerX?b4:Op];var l=ws(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=sct[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=ws(i,"toggleOrientation",!1),this.expandEventName=ws(i,"expandEvent","button.click"),this.easeIn=sR(this,ws(i,"easeIn",0)),this.easeOut=sR(this,ws(i,"easeOut",0)),this.setTransitInCallback(ws(i,"transitIn")),this.setTransitOutCallback(ws(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=a,this.createButtonCallback=g,this.createButtonCallbackScope=c,this.childrenKey=ws(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ws(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var o=0,u=0;if(!this.root.easeIn.sameOrientation){var v=M6(this.root.easeIn,this).orientation,f=d?d.orientation:this.orientation,l=this.root.subMenuSide[f];v===0&&l===Op&&(o=1),v===1&&l===Dp&&(u=1)}if(r&&this.setOrigin(o,u).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[d.orientation];switch(l){case Op:this.alignTop(C.top).alignRight(C.left);break;case b4:this.alignTop(C.top).alignLeft(C.right);break;case Dp:this.alignLeft(C.left).alignBottom(C.top);break;case E4:this.alignLeft(C.left).alignTop(C.bottom);break}}ect(this),r&&(this.pushIntoBounds(this.root.bounds),ict.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const Op=2,b4=0,Dp=3,E4=1,sct={up:Dp,down:E4,left:Op,right:b4};Object.assign(A6.prototype,HL);At.register("menu",function(e){var t=new A6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Menu",A6);var nct={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=rct[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const rct={down:0,up:1};var act=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(n=!0);break;case 1:e=0;break;default:e=0;break}if(!n)return e},oct=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,n=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(n=!0);break;default:e=0;break}if(!n)return e},lct=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},hct=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},uct=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):ms(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},dct=function(e,t){t||e.clearMask&&e.clearMask(!1)},YL={getChildrenWidth:act,getChildrenHeight:oct,getChildrenSizers:lct,resetChildPosition:hct,layoutChildren:uct,removeChildCallback:dct};Object.assign(YL,GL);const nR=Phaser.Utils.Objects.IsPlainObject,An=Phaser.Utils.Objects.GetValue,fct=Phaser.Display.Align.TOP_LEFT;class WL extends il{constructor(t,i,n,d,C,r){nR(i)?(r=i,i=An(r,"x",0),n=An(r,"y",0),d=An(r,"width",void 0),C=An(r,"height",void 0)):nR(d)&&(r=d,d=An(r,"width",void 0),C=An(r,"height",void 0)),super(t,i,n,d,C,r),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(An(r,"scrollMode",0));var x=An(r,"clampChildOY",!0),s=An(r,"clampChildOX",x);this.setClampMode(x,s);var a=An(r,"child",void 0),g=An(r,"expand",!0);a.setOrigin&&a.setOrigin(0),this.add(a),this.sizerChildren=[a];var c=this.getSizerConfig(a);c.align=fct,c.expand=g,this.child=a;var h=An(r,"mask");this.setupChildrenMask(h),this.childrenMask&&(this.maskGameObject=w6(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=yL[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?Le(this.child):De(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?De(this.child):Le(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,n=this.bottomChildOY,d=this.childOYExceedTop(t),C=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:d?t=i:C&&(t=n)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),d&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=d,C&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=C}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,n=this.rightChildOX,d=this.childOXExceedLeft(t),C=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:d?t=i:C&&(t=n)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),d&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=d,C&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=C}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(WL.prototype,YL);var cct=function(e,t,i,n){if(!this.hasChild(e))return this;var d,C;switch(this.scrollMode){case 0:d=this.childOY+Ev.call(this,e,"y",t);break;case 1:d=this.childOY+Ev.call(this,e,"x",t);break;default:d=this.childOY+Ev.call(this,e,"y",t),C=this.childOX+Ev.call(this,e,"x",t);break}return i===void 0||i<=0?(this.childOY=d,this.scrollMode===2&&(this.childOX=C)):(this._easeScrollChildOY===void 0&&(this._easeScrollChildOY=new tr(this)),this._easeScrollChildOY.restart({key:"childOY",to:d,duration:i,ease:n}),this.scrollMode===2&&(this._easeScrollChildOX===void 0&&(this._easeScrollChildOX=new tr(this)),this._easeScrollChildOX.restart({key:"childOX",to:C,duration:i,ease:n}))),this};const rR=["top","bottom","centerY","center"],aR=["left","right","centerX","center"];var Ev=function(e,t,i){t=t.toUpperCase();var n=t==="Y",d=this.childrenMap.child,C;if(n){if(i)for(var r=0,x=rR.length;r<x;r++){var s=rR[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":C=d.top-B0(e).y;break;case"bottom":C=d.bottom-rf(e).y;break;case"centerY":case"center":C=d.centerY-wP(e).y;break;default:var a=d.top-B0(e).y,g=d.bottom-rf(e).y;a<=0&&g>=0?C=0:C=Math.abs(a)<=Math.abs(g)?a:g;break}}else{if(i)for(var r=0,x=aR.length;r<x;r++){var s=aR[r];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":C=d.left-B0(e).x;break;case"right":C=d.right-nf(e).x;break;case"centerX":case"center":C=d.centerX-wP(e).x;break;default:var c=d.left-B0(e).x,h=d.right-nf(e).x;c<=0&&h>=0?C=0:C=Math.abs(c)<=Math.abs(h)?c:h;break}}return C};const so=Phaser.Utils.Objects.GetValue;class $f extends Uf{constructor(t,i){i===void 0&&(i={});var n=p6(i),d=so(i,"panel",void 0);d===void 0&&(d={}),d.scrollMode=n,d.clampChildOY=so(i,"clampChildOY",!1),d.clampChildOX=so(i,"clampChildOX",!1);var C=new WL(t,d);t.add.existing(C);var r,x;switch(n){case 0:r=so(i,"expand.panel",!0),x=!0;break;case 1:r=!0,x=so(i,"expand.panel",!0);break;default:r=!0,x=!0}i.type="rexScrollablePanel",i.child={gameObject:C,expandWidth:r,expandHeight:x,align:so(i,"align.panel","center")};var s=so(i,"space",void 0);s&&(s.child=so(s,"panel",0)),super(t,i),this.addChildrenMap("panel",C.child),this.addChildrenMap("panelLayer",C.maskLayer),this.addChildrenMap("mask",C.maskGameObject),this.addChildrenMap("scrollableBlock",C)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),z2(this.childrenMap.child,t),this}}var vct={scrollToChild:cct};Object.assign($f.prototype,vct);const pct=Phaser.Utils.Objects.GetValue;var gct=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var c=[],n=this.listCreateButtonCallback;if(n)for(var d=this.options,C=0,r=d.length;C<r;C++){var x=n.call(this,e,d[C],C,d);x&&(e.add.existing(x),c.push(x))}var s=this.listWidth;s===void 0&&(this.listAlignMode==="text"?s=this.getElement("text").width:s=this.width);var a=this.listHeight,g={width:s,buttons:c,space:this.listSpace},c,h,l;if(this.listCreateSliderThumbCallback?l=a>0||this.listMaxHeight>0:l=!1,!l)g.height=a,c=oR(e,g,this.listWrapEnable),h=c;else{var c=oR(e,g,this.listWrapEnable);if(this.listMaxHeight>0&&(c.layout(),c.height<=this.listMaxHeight&&(h=c)),!h){a===0&&(a=this.listMaxHeight);var o=lR(e,this.listCreateSliderTrackCallback),u=lR(e,this.listCreateSliderThumbCallback);h=new $f(e,{height:a,scrollMode:0,panel:{child:c,mask:{padding:1}},slider:{track:o,thumb:u,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:pct(this.listSpace,"panel",0)}}),e.add.existing(h)}}return t&&h.addBackground(t,"background"),this.listDraggable&&h.setDraggable(!0),h!==c&&c.on("button.over",function(v,f,p,m){h.emit("button.over",v,f,p,m)}).on("button.out",function(v,f,p,m){h.emit("button.out",v,f,p,m)}).on("button.click",function(v,f,p,m){h.emit("button.click",v,f,p,m)}),h},oR=function(e,t,i){var n;return i?(t.orientation="x",n=new No(e,t)):(t.orientation="y",n=new zi(e,t)),e.add.existing(n),n},lR=function(e,t,i){var n;return t&&(n=t.call(i,e),e.add.existing(n)),n},mct=function(e,t,i,n,d){var C={};switch(C.mode=0,i){case 0:case"x":C.end={x:0};break;case 1:case"y":C.end={y:0};break;default:C.end=0;break}return C.duration=t,C.ease=n,d===void 0?d=new lf(e,C):d.resetFromJSON(C),d.restart(),d},xct=function(e,t,i,n,d){return ua(e,t)?Be(e,t):ua(e,i)?Be(e,i):d};const Sh=Phaser.Utils.Objects.GetValue;var yct=function(e,t){var i=Sh(t,"expandDirection",void 0);typeof i=="string"&&(i=Sct[i]);var n=xct(t,"alignTarget","alignTargetX"),d=Sh(t,"alignTargetY",n),C=Sh(t,"alignOffsetX",0),r=Sh(t,"alignOffsetY",0),x=Sh(t,"alignSide",""),s=x.includes("right"),a=Sh(t,"bounds"),g=i===0,c=i===1,h=!g&&!c,l=s?1:0,o=g||h?0:1;e.setOrigin(l,o);var u,v;s?u=n.getTopRight().x:u=n.getTopLeft().x,v=d.getBottomLeft().y,e.setPosition(u+C,v+r);var f=a;f||(f=eu(e.scene)),h&&e.getBottomLeft().y>f.bottom&&(v=d.getTopLeft().y,e.setOrigin(0,1).setPosition(u+C,v+r))};const Sct={down:0,up:1},hR=Phaser.Utils.Objects.GetValue;class $L extends F2{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(C,r){W5(C,r,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(C,r){mct(C,r,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),yct(t,i),t.isRexSizer&&t.layout();var n=hR(i,"touchOutsideClose",!1),d=hR(i,"anyTouchClose",!1);d&&(n=!1),d?this.once("open",this.anyTouchClose,this):n&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&I2(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var Cct=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=gct.call(this);e.on("button.over",function(n,d,C,r){this.currentOverIndex=d,this.listOnButtonOver&&this.listOnButtonOver.call(this,n,d,C,r),this.emit("button.over",this,e,n,d,C,r)},this).on("button.out",function(n,d,C,r){this.currentOverIndex===d&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,n,d,C,r),this.emit("button.out",this,e,n,d,C,r)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new $L(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(n,d,C,r){this.listOnButtonClick&&this.listOnButtonClick.call(this,n,d,C,r),this.emit("button.click",this,e,n,d,C,r),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},Tct=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},bct=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},Ect=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},wct=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const Pct={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var KL={openListPanel:Cct,closeListPanel:Tct,toggleListPanel:bct,emitButtonClick:Ect,emitButtonOver:wct};Object.assign(KL,nct,Pct);const He=Phaser.Utils.Objects.GetValue;class Kf extends Ta{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(He(i,"options"));var n=He(i,"list");this.setWrapEnable(He(n,"wrap",!1)),this.setCreateButtonCallback(He(n,"createButtonCallback")),this.setCreateListBackgroundCallback(He(n,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(He(n,"createTrackCallback")),this.setCreateListSliderThumbCallback(He(n,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(He(n,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(He(n,"scroller")),this.setListMouseWheelScrollerConfig(He(n,"mouseWheelScroller")),this.setButtonClickCallback(He(n,"onButtonClick")),this.setButtonOverCallback(He(n,"onButtonOver")),this.setButtonOutCallback(He(n,"onButtonOut")),this.setListExpandDirection(He(n,"expandDirection")),this.setListEaseInDuration(He(n,"easeIn",500)),this.setListEaseOutDuration(He(n,"easeOut",100)),this.setListTransitInCallback(He(n,"transitIn")),this.settListTransitOutCallback(He(n,"transitOut")),this.setListMaxHeight(He(n,"maxHeight",0)),this.setListSize(He(n,"width"),He(n,"height",0)),this.setListAlignmentMode(He(n,"alignParent","text")),this.setListAlignmentSide(He(n,"alignSide","")),this.setListBounds(He(n,"bounds")),this.setListSpace(He(n,"space")),this.setListDraggable(He(n,"draggable",!1)),this.setValueChangeCallback(He(i,"setValueCallback"),He(i,"setValueCallbackScope")),this.setValue(He(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var n=this.valueChangeCallback,d=this.valueChangeCallbackScope;n&&(d?n.call(d,this,t,i):n(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(Kf.prototype,KL);At.register("dropDownList",function(e){var t=new Kf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.DropDownList",Kf);var ZL=function(e,t,i){t=t?ts(t):{},i===void 0&&(i={});var n=t.label||t.button,d=t.button||t.label;delete t.label,delete t.button;var C=i.label||i.button||i,r=i.button||i.label||i,x=j2(e,n,C);x.list=t.list||{},x.list.createButtonCallback=function(g,c){var h=_i(g,d,r).resetDisplayContent(c);return c.hasOwnProperty("value")&&(h.value=c.value),h};var s=t.track;s&&(x.list.createTrackCallback=function(g){return Hi(g,s)},delete t.track);var a=t.thumb;return a&&(x.list.createThumbCallback=function(g){return Hi(g,a)},delete t.thumb),x.list.onButtonOver=function(g,c,h,l){g.setHoverState&&g.setHoverState(!0)},x.list.onButtonOut=function(g,c,h,l){g.setHoverState&&g.setHoverState(!1)},x};class JL extends Kf{constructor(t,i,n){i=ZL(t,i,n),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,n=t.length;i<n;i++){var d=t[i];typeof d=="string"&&(t[i]={text:d,value:d})}return super.setOptions(t),this}}At.register("simpleDropDownList",function(e,t){var i=new JL(this.scene,e,t);return this.scene.add.existing(i),i});wt(window,"RexPlugins.UI.SimpleDropDownList",JL);var Mct=function(e){var t=Wo(e),i,n,d;switch(t){case xs:case ys:i=e.height-e.padding.top-e.padding.bottom,n=e.lineSpacing,d=e.style.metrics.fontSize+e.style.strokeThickness;break;case ln:i=e.height,n=0;var C=e.fontSize/e.fontData.size;d=e.fontData.lineHeight*C;break}return(i-n)/(d+n)},Act=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var n;switch(this.textObjectType){case xs:case ln:n=this.lines.slice(e,t).join(`
`);break;case ys:var d=this.lines.getLineStartIndex(e),C=this.lines.getLineEndIndex(t-1);n=this.lines.getSliceTagText(d,C,!0);var r=(n.match(/\n/g)||[]).length;r>t-e-1&&(n=n.substring(0,n.length-1));break}return n};const Rct={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(Hh(i));var i=this.sections.join(`
`);this.lines=m6(this.parent,i,this.lines);var n=this.totalLinesCount-t,d=this.pageLinesCount,C;d>0?C=Math.ceil(n/this.pageLinesCount):C=1;for(var r=0;r<C;r++)this.pageStartIndexes.push(t+r*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=Hh(e).split(this.pageBreak),n=0,d=i.length;n<d;n++)this.appendPage(i[n]);return this},appendText(e){var t=this.content+Hh(e);return this.setText(t,!1),this}},uR=Phaser.Math.Clamp,Oct={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=uR(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=uR(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},Dct={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Q2(this.parent,e)}};var QL={getLines:Act};Object.assign(QL,Rct,Oct,Dct);const Ch=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class hg extends ai{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Wo(this.parent),this.pageStartIndexes=[],this.lines=m6(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(Ch(t,"maxLines",void 0)),this.setPageBreak(Ch(t,"pageBreak",`\f
`)),this.setText(Ch(t,"text","")),this.startLineIndex=Ch(t,"start",-1),this.endLineIndex=Ch(t,"end",void 0);var i=Ch(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case xs:this.lines.length=0;break;case ys:this.lines.destroy();break;case ln:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case xs:case ys:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(Mct(this.parent));break;case ln:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(hg.prototype,QL);const Lct={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Q2(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(Hh(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var Fct=function(e,t,i,n){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(n)),this},jL=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},Bct=function(e,t,i,n,d){var C;if(t>0){n===void 0&&(n=0);var r=jL(this.parent,e);C=Ict(r,t)+n}return this.start(e,i,C,d)},Ict=function(e,t){for(var i=void 0,n=0;n<t&&(i=e.indexOf(`
`,i+1),i!==-1);n++);return i},Dd=function(e,t,i,n){var d;return e.getSubString?d=e.getSubString(t,i,n):d=t.slice(i,n),d},qL=function(e,t,i,n){var d=this.parent,C;if(n===0){var r=0,x=t;this.insertIndex=x,C=Dd(d,e,r,x)}else if(n===1){var x=i,r=x-t;this.insertIndex=0,C=Dd(d,e,r,x)}else if(n===2){var s=i/2,r=Math.floor(s-t/2),x=r+t;this.insertIndex=t%2?t:0,C=Dd(d,e,r,x)}else if(n===3){var a=Math.floor(t/2),g;if(a>0){var x=i,r=x-a;g=Dd(d,e,r,x)}else g="";var c=t-a,h;if(c>0){var r=0,x=r+c;this.insertIndex=x,h=Dd(d,e,r,x)}else h="",this.insertIndex=0;C=h+g}return this.insertChar=C.charAt(this.insertIndex-1),C},kct=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)qL.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},Gct=function(){var e=this.getTimer();return e&&(e.paused=!0),this},Nct=function(){var e=this.getTimer();return e&&(e.paused=!1),this},_L={start:Fct,startFromLine:Bct,stop:kct,pause:Gct,resumeTyping:Nct};Object.assign(_L,Lct);var Vct=function(e,t){var i=Wo(e);switch(i){case xs:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case ys:t=e.getText(t,void 0,void 0,!0);break;case ln:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Ld=Phaser.Utils.Objects.GetFastValue,E1=Phaser.Utils.Objects.GetValue;class ug extends ai{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(E1(t,"wrap",!1)),this.setTypeMode(E1(t,"typeMode",0)),this.setTypingSpeed(E1(t,"speed",333)),this.setTextCallback=Ld(t,"setTextCallback",null),this.setTextCallbackScope=Ld(t,"setTextCallbackScope",null),this.setTypingContent(Ld(t,"text","")),this.typingIndex=Ld(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=Ld(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=zct[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Hh(t);this.textWrapEnable&&(i=Vct(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=jL(this.parent,this.text).length,this}onTyping(){var t=qL.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Q2(this.parent,t):this.parent.setText(t)}}const zct={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(ug.prototype,_L);const Fd=Phaser.Utils.Objects.GetValue;var Uct=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(d,C){super(d,C),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var r=this.childrenMap.text,x=Fd(C,"expandTextWidth",!1),s=Fd(C,"expandTextHeight",!1);if(x||s){var a=Wo(r);switch(a){case xs:case ys:if(r.resize=function(c,h){var l=x?c:0,o=s?h:0;r.setFixedSize(l,o),l>0&&r.setWordWrapWidth(l)},a===ys){var g=r.style;g.wrapMode===0&&(g.wrapMode=1)}break}x&&(r._minWidth=0),s&&(r._minHeight=0)}this.setTypingMode(Fd(C,"typingMode","page")),this.page=new hg(r,Fd(C,"page",void 0)),this.typing=new ug(r,Fd(C,"typing",C.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=r.width,this.textHeightSave=r.height}setTypingMode(d){return typeof d=="string"&&(d=Xct[d]),this.typingMode=d,this}start(d,C){return C!==void 0&&this.setTypingSpeed(C),this.isRunning=!0,this.page.setText(d),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(d,C){if(C!==void 0&&this.setTypingSpeed(C),this.isRunning)this.page.appendText(d),this.typing.appendText(d);else{if(this.isRunning=!0,this.page.appendText(d),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var r=this.page.getPage(),x=this.typing.textLength;this.typing.start(r,void 0,x)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var d=this.page.getNextPage();this.typing.start(d)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var d=this.page.getPageOfNextLine(),C;this.isFirstLine?C=0:C=this.page.pageLinesCount-1,this.typing.startFromLine(d,C)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(d){return this.isRunning?(this.typing.stop(d),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(d){return this.typing.setTypingSpeed(d),this}setTypingSpeed(d){return this.typing.setTypingSpeed(d),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var d=this.childrenMap.text;(this.textWidthSave!==d.width||this.textHeightSave!==d.height)&&(this.textWidthSave=d.width,this.textHeightSave=d.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(d){this.emit("typechar",d)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var d=this.isLastPage;this.isRunning=!d,this.emit("pageend"),d&&this.emit("complete")}else this.typeNextLine()}}return i};const Xct={page:0,line:1};class R6 extends Uct(q2){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}At.register("textBox",function(e){var t=new R6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.TextBox",R6);class tF extends R6{constructor(t,i,n){i=ML(t,i,n),super(t,i)}}At.register("simpleTextBox",function(e){var t=new tF(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.SimpleTextBox",tF);const on=Phaser.Utils.Objects.GetValue;class eF extends fe{constructor(t,i){super(t,i),this.type="rexNumberBar";var n=on(i,"background",void 0),d=on(i,"icon",void 0),C=on(i,"iconMask",void 0),r=on(i,"slider",void 0),x=on(i,"text",void 0),s=on(i,"space.icon",0),a=on(i,"space.slider",0);if(n&&this.addBackground(n),d){var g;this.orientation===0?(r||x)&&(g={right:s}):(r||x)&&(g={bottom:s}),this.add(d,{proportion:0,align:"center",padding:g}),C&&(C=sr.call(this,d,d,1))}var c;if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null,r.hasOwnProperty("input")||(r.input=-1),c=new au(t,r),t.add.existing(c);var g;this.orientation===0?x&&(g={right:a}):x&&(g={bottom:a});var h;if(this.orientation===0){var l=on(r,"width",void 0);h=l===void 0?1:0}else{var o=on(r,"height",void 0);h=o===void 0?1:0}this.add(c,{proportion:h,align:"center",padding:g})}x&&this.add(x),this.addChildrenMap("background",n),this.addChildrenMap("icon",d),this.addChildrenMap("iconMask",C),this.addChildrenMap("slider",c),this.addChildrenMap("text",x);var u=on(i,"valuechangeCallback",null);if(u!==null){var v=on(i,"valuechangeCallbackScope",void 0);this.on("valuechange",u,v)}this.setEnable(on(i,"enable",void 0)),this.setValue(on(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,n),this}addValue(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,n),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,n){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,n),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}At.register("numberBar",function(e){var t=new eF(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.NumberBar",eF);At.register("scrollBar",function(e){var t=new g6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ScrollBar",g6);const w1=Phaser.Utils.Objects.GetValue,dR={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class iF extends Gn{constructor(t,i){super(t,i),this.type="rexBadge";var n=w1(i,"background",void 0);n&&this.addBackground(n),this.addChildrenMap("background",n);var d=w1(i,"main",void 0);d&&this.add(d,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",d);for(var C in dR){var r=w1(i,C,void 0);r&&(this.add(r,{key:C,align:dR[C],expand:!1}),this.addChildrenMap(C,r))}}}At.register("badgeLabel",function(e){var t=new iF(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.BadgeLabel",iF);const Hct=Gn.prototype.add;var fR=function(e,t,i,n,d,C,r,x,s){return e.setVisible(!1),Hct.call(this,e,t,i,n,d,C,r,x,s),this};const Yct={add:fR,addPage:fR};var Wct=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const cR=un.prototype.setChildVisible;var $ct=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(cR.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var n=this.currentPage;return n&&(cR.call(this,n,!0),this.emit("pagevisible",n,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&n.setAlpha(0).fadeIn(t,1)),this},Kct=function(e){return this.sizerChildren.hasOwnProperty(e)},sF={getPage:Wct,swapPage:$ct,hasPage:Kct};Object.assign(sF,Yct);const vR=Phaser.Utils.Objects.GetValue;class dg extends Gn{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(vR(i,"swapMode",0)),this.setFadeInDuration(vR(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=Zct[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(dg.prototype,sF);const Zct={invisible:0,destroy:1};At.register("pages",function(e){var t=new dg(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Pages",dg);const Jct=Phaser.GameObjects.Mesh;class nF extends Jct{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const rF=Phaser.Math.Vector3,Qct=Phaser.Math.Matrix4;var pR=new rF,gR=new rF,mR=new Qct,jct=function(e,t,i,n,d,C,r){t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=0),pR.set(t,i,n),gR.set(d,C,r),mR.fromRotationXYTranslation(gR,pR,!0);for(var x=0,s=e.vertices.length;x<s;x++)e.vertices[x].transformMat4(mR)};const qct=Phaser.Utils.Objects.IsPlainObject,b0=Phaser.Utils.Objects.GetValue,_ct=Phaser.Geom.Mesh.GenerateGridVerts,P1=Phaser.Math.RadToDeg,Lp=Phaser.Math.DegToRad,aF=45,t3t=1+1/Math.sin(Lp(aF));let oF=class extends nF{constructor(t,i,n,d,C,r){qct(i)&&(r=i,i=b0(r,"x",0),n=b0(r,"y",0),d=b0(r,"key",null),C=b0(r,"frame",null)),super(t,i,n,d,C),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(t3t),this.hideCCW=b0(r,"hideCCW",!0);var x=b0(r,"gridWidth",0),s=b0(r,"gridHeight",x);this.resetVerts(x,s),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,aF),this}resetVerts(C,r){if(C!==void 0&&(this.gridWidth=C),r!==void 0&&(this.gridHeight=r),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var n=this.frame.cutWidth,d=this.frame.cutHeight,C,r;this.gridWidth===0?C=Math.max(n/8,32):r=this.gridWidth,this.gridHeight===0?r=Math.max(d/8,32):r=this.gridHeight,_ct({mesh:this,width:n/this.height,height:d/this.height,widthSegments:Math.ceil(n/C),heightSegments:Math.ceil(d/r)});var x=this.transformInfo;return x&&this.transformVerts(x.x,x.y,x.z,x.rotateX,x.rotateY,x.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return P1(this.rotationX)}set angleX(t){this.rotationX=Lp(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return P1(this.rotationY)}set angleY(t){this.rotationY=Lp(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return P1(this.rotationZ)}set angleZ(t){this.rotationZ=Lp(t)}transformVerts(t,i,n,d,C,r){return t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=0),C===void 0&&(C=0),r===void 0&&(r=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=d,this.transformInfo.rotateY=C,this.transformInfo.rotateZ=r,jct(this,t,i,n,d,C,r),this}};const e3t=Phaser.Textures.DynamicTexture;var lF=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var n=new e3t(e.sys.textures,null,t,i);return n};const i3t=Phaser.Utils.Objects.IsPlainObject,wv=Phaser.Utils.Objects.GetValue;class hF extends oF{constructor(t,i,n,d,C,r){i3t(i)&&(r=i,i=wv(r,"x",0),n=wv(r,"y",0),d=wv(r,"width",32),C=wv(r,"height",32));var x=lF(t,d,C);super(t,i,n,x,null,r),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,w5(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var qn=function(e,t,i,n){if(Array.isArray(e))for(var d=!1,C=0,r=e.length;C<r;C++){var x=e[C];if(!(n&&!x)&&(i?d=t.call(i,x,C,e):d=t(x,C,e),d))return}else{var d=!1;for(var s in e){var x=e[s];if(!(n&&!x)&&(i?d=t.call(i,x,s,e):d=t(x,s,e),d))return}}};const Th=Phaser.Math.RadToDeg,bh=Phaser.Math.DegToRad;class s3t extends un{constructor(t,i,n,d,C,r){super(t,i,n,d,C),this.faces=r,qn(r,function(x){x.setPosition(i,n),this.add(x)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Th(this.rotationX)}set angleX(t){this.rotationX=bh(t)}get rotateX(){return Th(this.rotationX)}set rotateX(t){this.rotationX=bh(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Th(this.rotationY)}set angleY(t){this.rotationY=bh(t)}get rotateY(){return Th(this.rotationY)}set rotateY(t){this.rotationY=bh(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Th(this.rotationZ)}set angleZ(t){this.rotationZ=bh(t)}get rotateZ(){return Th(this.rotationZ)}set rotateZ(t){this.rotationZ=bh(t)}setDebug(t,i){return qn(this.faces,function(n){n.setDebug(t,i)},null,!0),this}panX(t){return qn(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return qn(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return qn(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,n,d,C,r){return qn(this.faces,function(x){x.transformVerts(t,i,n,d,C,r)},null,!0),this}forEachFace(t,i,n){return qn(this.faces,t,i,n),this}}const n3t=Phaser.Utils.Objects.IsPlainObject,r3t={key:"__WHITE"},a3t={image:oF,rendertexture:hF};var xR=function(e,t){t===void 0&&(t=r3t);var i;return n3t(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new a3t[t.type](e,t),e.add.existing(i)):i=t,i},o3t=function(e,t,i){var n;if(i===void 0){n=[];for(var d,C,r=0,x=t.length;r<x;r++)C=t[r],C?d=xR(e,C):d=null,n.push(d)}else{n={};for(var d,s,r=0,x=i.length;r<x;r++)s=i[r],t.hasOwnProperty(s)?d=xR(e,t[s]):d=null,n[s]=d}return n};const l3t=Phaser.Math.DegToRad,yR=l3t(180);var h3t=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,yR,0):i.transformVerts(0,0,0,yR,0,0))};const M1=Phaser.Utils.Objects.GetValue,u3t=Phaser.Math.Linear;let d3t=class extends q0{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(M1(t,"ease","Cubic")),this.setFrontToBackDirection(M1(t,"frontToBack",0)),this.setBackToFrontDirection(M1(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=SR[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=SR[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var n=i+1,d=this.parent;return d.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*n):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*n),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var n=this.easeFn(i.t),d=u3t(this.startAngle,this.endAngle,n);t.orientation===0?t.angleY=d:t.angleX=d}};const SR={right:0,"left-to-right":0,left:1,"right-to-left":1},f3t=Phaser.Utils.Objects.IsPlainObject,E0=Phaser.Utils.Objects.GetValue,c3t=["back","front"];class v3t extends s3t{constructor(t,i,n,d){f3t(i)&&(d=i,i=E0(d,"x",0),n=E0(d,"y",0));var C=o3t(t,d,c3t),r=C.back,x=C.front,s=E0(d,"width"),a=E0(d,"height");if(s===void 0||a===void 0){if(s===void 0){var g=x?x.width:0,c=r?r.width:0;s=Math.max(g,c)}if(a===void 0){var h=x?x.height:0,l=r?r.height:0;a=Math.max(h,l)}}super(t,i,n,s,a,C),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,qn(C,function(u,v){this[`${v}Face`]=u},this);var o=E0(d,"flip",void 0);o!==!1&&(this.flip=new d3t(this,o)),this.setOrientation(E0(d,"orientation",0)),h3t(this,C),this.setFace(E0(d,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,qn(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,qn(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,qn(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=p3t[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=g3t[t]),this.currentFaceIndex=t;var i=t===1,n=i?180:0;this.orientation===0?this.angleY=n:this.angleX=n}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const p3t={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},g3t={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const m3t=Phaser.Utils.Objects.GetValue;var x3t=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=m3t(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},uF=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,n=0,d=i.length;n<d;n++)e.setChildVisible(i[n],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},y3t=function(e,t){if(!e)return!1;uF(e,t);var i=t.useParentBounds;w5({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var n=t.visibleSibling,d=e.children,C=0,r=d.length;C<r;C++){var x=d[C];x.visible&&x!==t&&(e.setChildVisible(x,!1),n.push(x))}return t.isRunning=!0,!0},dF=function(e){return class extends e{constructor(i,n){var d=i.scene;super(d,0,0,1,1,n),d.add.existing(this),x3t(i,this,n)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=y3t(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return uF(this.rexContainer.parent,this),this}}};class fF extends dF(hF){get perspectiveState(){return this.isRunning}}const S3t=Phaser.Utils.Objects.GetValue;var C3t=function(e){var t=this.scene;this.setSnapshotPadding(S3t(e,"snapshotPadding",0)),e=_n(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new v3t(t,e);t.add.existing(i);var n=i.flip;if(n){var d=this;n.on("start",function(){d.enterPerspectiveMode()}).on("complete",function(){d.exitPerspectiveMode()})}return i};const T3t=["front","back"],b3t={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=T3t[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var n=i.visible;i.visible=!0;var d=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(d,{padding:this.snapshotPadding}),i.visible=n,this}},CR=Phaser.Utils.Objects.GetValue;class O6 extends Gn{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var n=i.back,d=CR(i,"expand.back",!0);this.add(n,{key:"back",expand:d});var C=i.front,r=CR(i,"expand.front",!0);this.add(C,{key:"front",expand:r}),this.perspectiveCard=C3t.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,n=this.childrenMap.front,d=this.childrenMap.back;this.setChildVisible(n,i),this.setChildVisible(d,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,n,d,C,r){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,n,d,C,r),this}forEachFace(t,i,n){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,n),this}}Object.assign(O6.prototype,b3t);At.register("perspectiveCard",function(e){var t=new O6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.PerspectiveCard",O6);var E3t=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},w3t=function(e){for(var t=this.getElement("tabs.buttons"),i=0,n=t.length;i<n;i++)if(t[i].name===e)return i};const P3t=Phaser.Utils.Objects.IsPlainObject,A1=Phaser.Utils.Objects.GetValue,M3t=Phaser.Utils.String.UUID;var A3t=function(e,t,i){if(P3t(e)){var n=e;e=A1(n,"key"),t=A1(n,"tab"),i=A1(n,"page")}return e||(e=M3t()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},R3t=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var n;t!==void 0&&(n=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),n!==void 0&&(this.childrenMap.pages.fadeInDuration=n)}return this},O3t=function(e){return this.swapPage(0,e),this},D3t=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const L3t={swapPage:R3t,swapFirstPage:O3t,swapLastPage:D3t},F3t={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,n=i.getByName(e),d=this.childrenMap.pages,C=d.getElement(e);return!n||!C?this:(d.removeChildrenMap(e),i.removeButton(n,t),d.remove(C,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var B3t=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},I3t=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},k3t={top:1,left:3,right:5,bottom:7},TR={top:"bottom",left:"right",right:"left",bottom:"top"},G3t=function(e){var t=k3t[e];if(t===void 0)return this;var i=this.childrenMap.tabs,n=this.sizerChildren.indexOf(i);if(n===t)return this;this.sizerChildren[n]=null,this.sizerChildren[t]=i;var d=this.getSizerConfig(i).padding,C=TR[this.tabsPosition],r=TR[e];return d[r]=d[C],d[C]=0,this.tabsPosition=e,this};const N3t={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var cF={getPageKey:E3t,getPageIndex:w3t,addPage:A3t,getPage:B3t,getTab:I3t,setTabPosition:G3t};Object.assign(cF,L3t,F3t,N3t);const Jn=Phaser.Utils.Objects.GetValue,bR=ar.prototype.add;let fg=class extends ar{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var n=Jn(i,"expand.pages",!0);n&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var d=Jn(i,"background",void 0);d&&this.addBackground(d);var C=Jn(i,"pages"),r=new dg(t,C);t.add.existing(r);var x=Jn(i,"tabsPosition",void 0);x===void 0&&(x=Jn(i,"tabPosition","top"));var s=Jn(i,"wrapTabs",!1),a=s?No:zi,g=Jn(i,"tabs",void 0);g===void 0&&(g={}),g.orientation=x==="top"||x==="bottom"?"x":"y",g.buttonsType="radio",!s&&!g.hasOwnProperty("expand")&&(g.expand=Jn(i,"expand.tabs",!1));var c=new a(t,g);t.add.existing(c),bR.call(this,r,{column:1,row:1,expand:n});var h,l,o=Jn(i,"space.item",0);switch(x){case"top":h=1,l=0,o={bottom:o};break;case"bottom":h=1,l=2,o={top:o};break;case"left":h=0,l=1,o={right:o};break;case"right":h=2,l=1,o={left:o};break}bR.call(this,c,{column:h,row:l,padding:o,expand:s?!0:Jn(i,"expand.tabs",!1),align:Jn(i,"align.tabs","left")}),this.addChildrenMap("background",d),this.addChildrenMap("tabs",c),this.addChildrenMap("pages",r),this.tabsPosition=x,c.on("button.click",function(u){var v=u.name;r.hasPage(v)&&r.swapPage(v)}),c.on("button.statechange",function(u,v,f,p){var m=f?"tab.focus":"tab.blur";this.emit(m,u,u.name)},this),r.on("pagevisible",function(u,v,f){this.emit("page.focus",u,v)}),r.on("pageinvisible",function(u,v,f){this.emit("page.blur",u,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(fg.prototype,cF);At.register("tabPages",function(e){var t=new fg(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.TabPages",fg);class V3t extends F2{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const z3t={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var n=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();n.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var U3t=function(e,t){da.popUp.call(e,t,this.expandDirection)},X3t=function(e,t){da.scaleDown.call(e,t,this.expandDirection)};const H3t={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=U3t.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=X3t.bind(this)),this.childTransition.setTransitOutCallback(e),this}},Pi=Phaser.Utils.Objects.GetValue;let Zf=class extends fe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var n=i.background,d=i.title,C=i.child;n&&this.addBackground(n);var r=Pi(i,"space"),x=this.orientation===1?"left":"top",h=Pi(i,"align.title",x),l=Pi(i,"expand.title",!0);this.add(d,{proportion:0,align:h,expand:l,padding:{left:Pi(r,"titleLeft",0),right:Pi(r,"titleRight",0),top:Pi(r,"titleTop",0),bottom:Pi(r,"titleBottom",0)}});var s=Pi(i,"toggleByTarget",void 0),a=Pi(i,"toggleClickConfig");s===void 0&&(s=d),s&&j5.onClick.call(s,function(){this.toggle()},this,a),this.childTransition=new V3t(C);var g=Pi(i,"customChildOrigin",!1);if(!g){var c=this.rtl?1:0;C.setOrigin(c)}var h=Pi(i,"align.child","left"),l=Pi(i,"expand.child",!0),o=l?1:0;this.add(C,{proportion:o,align:h,expand:l,padding:{left:Pi(r,"childLeft",0),right:Pi(r,"childRight",0),top:Pi(r,"childTop",0),bottom:Pi(r,"childBottom",0)}}),this.addChildrenMap("title",d),this.addChildrenMap("child",C),this.addChildrenMap("background",n);var u=i.transition;this.setTransitionDuration(Pi(u,"duration",200)),this.setExpandCallback(Pi(u,"expandCallback",void 0)),this.setCollapseCallback(Pi(u,"collapseCallback",void 0)),this.reLayoutTarget=Pi(i,"reLayoutTarget",void 0);var v=i.onExpandStart;v&&this.on("expand.start",v);var f=i.onExpandComplete;f&&this.on("expand.complete",f);var p=i.onCollapseStart;p&&this.on("collapse.start",p);var m=i.onCollapseComplete;m&&this.on("collapse.complete",m);var y=Pi(i,"expanded",void 0);y!==void 0&&this.setExpandedState(y)}};Object.assign(Zf.prototype,z3t,H3t);At.register("folder",function(e){var t=new Zf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Folder",Zf);var Y3t=function(e,t,i,n){for(var d in this.treesMap){var C=this.treesMap[d];if(H0(C.nodeBody,e,t,i,n))return C;var r=C.pointToChild(e,t,i,n);if(r)return r}return null},W3t=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],z2(this,e),this},vF=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var n=this.nodeBody;n.setText&&n.setText(i)}setTexture(i,n){var d=this.nodeBody;return d.setTexture&&d.setTexture(i,n),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},$3t=function(e,t,i,n){for(var d in this.nodesMap){var C=this.nodesMap[d];if(this.isTreeObject(C)){var r=C;if(H0(r.nodeBody,e,t,i,n))return r;var x=r.pointToChild(e,t,i,n);if(x)return x}else if(H0(C,e,t,i,n))return C}return null};const K3t={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var uf=function(e,t,i,n,d=!1){var C;if($s(t))C=t,delete t[key];else if(er(t)){var r=t;C=r(e,i),C&&e.add.existing(C)}else(d||t)&&n&&(C=n(e,t,i));return C},D6=function(e,t,i){var n=Hi(e,t);return n},Z3t=function(e,t,i){var n=new Hf(e,t);return e.add.existing(n),n.resetDisplayContent(""),n};const Eh=Phaser.Utils.Objects.GetValue;let pF=class extends vF(fe){constructor(t,i,n){var d=i.space;super(t,{orientation:"x",space:{left:Eh(d,"nodeLeft",0),right:Eh(d,"nodeRight",0),top:Eh(d,"nodeTop",0),bottom:Eh(d,"nodeBottom",0)}}),this.type="rexTreeNode";var C=uf(t,Eh(i,"nodeBackground"),n,D6,!1),r=uf(t,Eh(i,"nodeBody"),n,Z3t,!0);C&&this.addBackground(C),this.add(r,{proportion:1}),this.nodeBody=r,this.addChildrenMap("background",C),this.addChildrenMap("nodeBody",r)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};var gF=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var n=e.displayList;if(Ud(n)){t.isRexContainerLite?t.addToLayer(n):n.add(t);return}e.scene.add.existing(t)};const ER=Phaser.Utils.String.UUID,J3t={addTree(e,t){if($s(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=ER());var n=this.createTree(t);return gF(this,n),this.insertNode(e,n,{expand:!0}),n._postAddCallback(),n},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var n;$s(t)||(i=t,t=new pF(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(n=i,i=void 0):i&&(n=i.nodeKey,delete i.nodeKey),n===void 0&&(n=ER()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(n)&&(console.error(`[Trees] Duplicate nodeKey '${n}'`),this.removeNode(this.nodesMap[n],!0)),t.nodeKey=n,this.nodesMap[n]=t;var d=this.childrenMap.child;return d.insert(e,t,i),t}},Q3t={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var n=i.childrenMap.child;return n.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},j3t={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var mF={pointToChild:$3t};Object.assign(mF,K3t,J3t,Q3t,j3t);var q3t=function(e,t,i){var n=new Mf(e,t);return e.add.existing(n),n.on("expand.start",function(d){d.setDirection("down")}).on("collapse.complete",function(d){d.setDirection("right")}),n};const wR=Phaser.Utils.Objects.GetValue;var _3t=function(e,t){var i=new pF(e,t,{isLeaf:!1});e.add.existing(i);var n=uf(e,wR(t,"toggleButton"),{isLeaf:!1},q3t,!0);return i.insert(0,n,{padding:{right:wR(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",n),i};const PR=Phaser.Utils.Objects.GetValue;var tvt=function(e,t){var i=new fe(e,{orientation:PR(t,"childrenOrientation","y")});e.add.existing(i);var n=uf(e,PR(t,"childrenBackground"),{isLeaf:!1},D6,!1);return n&&i.addBackground(n),i};const evt=Phaser.Utils.Objects.Clone;var ivt=function(e,t){var i=e?evt(e):{};if(!t)return i;for(var n in t)i[n]=t[n];return i};const no=Phaser.Utils.Objects.GetValue;class Y0 extends vF(Zf){constructor(t,i){i===void 0&&(i={});var n=uf(t,no(i,"background"),{isLeaf:!1},D6,!1),d=tvt(t,i),C=d.childrenMap.items,r=_3t(t,i),x=r.childrenMap.toggleButton,s=r.childrenMap.nodeBody,a=tl(no(i,"orientation","y")),g=i.space;if(g){var c=no(g,"indent",0);g.childLeft=no(g,"indentLeft",a===1?c:0),g.childRight=no(g,"indentRight",0),g.childTop=no(g,"indentTop",a===0?c:0),g.childBottom=no(g,"indentBottom",0)}var h={background:n,title:r,child:d,toggleByTarget:x,transition:i.transition,orientation:a,space:g,align:i.align,expand:i.expand};super(t,h),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=s,this.addChildrenMap("toggleButton",x),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",C),this.on("expand.start",function(){x.emit("expand.start",x),Pv(this,"expand.start")},this).on("expand.complete",function(){x.emit("expand.complete",x),Pv(this,"expand.complete")}).on("collapse.start",function(){x.emit("collapse.start",x),Pv(this,"collapse.start")}).on("collapse.complete",function(){x.emit("collapse.complete",x),Pv(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var o=no(i,"expanded",!0);o!==void 0&&l.setExpandedState(o),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return Y0.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof Y0}}Y0.CreateTree=function(e,t,i){return new Y0(e,ivt(t,i))};var Pv=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(Y0.prototype,mF);const svt=Phaser.Utils.String.UUID,nvt={addTree(e){if($s(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=svt());var n=Y0.CreateTree(this.scene,this.treeConfig,t);return gF(this,n),n.nodeKey=i,this.treesMap[i]=n,this.insert(e,n,{expand:!0}),n._postAddCallback(),n}},rvt={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},avt={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var xF={pointToChild:Y3t,setChildrenInteractive:W3t};Object.assign(xF,nvt,rvt,avt);const ovt=Phaser.Utils.Objects.GetValue;class L6 extends fe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=ovt(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(L6.prototype,xF);At.register("trees",function(e){var t=new L6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Trees",L6);At.register("textArea",function(e){var t=new Xf(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.TextArea",Xf);var lvt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const hvt={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},uvt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Mv=Phaser.Utils.Objects.GetValue;class cg extends Uf{constructor(t,i){i===void 0&&(i={});var n=Mv(i,"text"),d;$s(n)?d=n:(n===void 0&&(n={}),n.textArea=!0,d=new wf(t,n),t.add.existing(d)),lvt(d);var C=n.width===void 0,r=n.height===void 0;C&&(d.minWidth=0),r&&(d.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:d,expandWidth:C,expandHeight:r};var x=Mv(i,"space",void 0);x&&(x.child=Mv(x,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",d);var s,a;d.on("cursorin",function(){var c=d.textOY,h=d.contentHeight,l=s!==c,o=a!==h;s=c,a=h,o&&this.resizeController(),(l||o)&&(this.t=d.t)},this),d.on("textchange",function(c){this.emit("textchange",c,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var g=Mv(i,"content",void 0);g&&this.setText(g)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(cg.prototype,hvt,uvt);At.register("textAreaInput",function(e){var t=new cg(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.TextAreaInput",cg);At.register("scrollablePanel",function(e){var t=new $f(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ScrollablePanel",$f);const Av={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},fo={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},dvt={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=fo[e]),e){case fo.popUp:e=Av.popUp;break;case fo.fadeIn:e=Av.fadeIn;break}return e||(e=Xi),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=fo[e]),e){case fo.scaleDown:e=Av.scaleDown;break;case fo.fadeOut:e=Av.fadeOut;break}return e||(e=Xi),this.transitOutCallback=e,this}},fvt={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Xi]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Xi]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Bd=Phaser.Utils.Objects.GetValue;class F6 extends Ta{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Bd(i,"duration.in",200)),this.setDisplayTime(Bd(i,"duration.hold",1200)),this.setTransitOutTime(Bd(i,"duration.out",200)),this.setTransitInCallback(Bd(i,"transitIn",fo.popUp)),this.setTransitOutCallback(Bd(i,"transitOut",fo.scaleDown)),this.player=new RL(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(F6.prototype,dvt,fvt);At.register("toast",function(e){var t=new F6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Toast",F6);var cvt={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const vvt={setQueueDirection(e){return typeof e=="string"&&(e=cvt[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=Xi),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Xi),this.transitOutCallback=e,this}},pvt=j5.onClick,yF=AD.delayCall,gvt=L2.moveTo;var mvt=function(e,t,i){var n=t(e.scene,i,e);if(pvt.call(n,function(){e.removeMessage(n)}),e.displayTime){var d=e.transitInTime+e.displayTime+10;yF.call(n,d,function(){e.removeMessage(n)})}return n},SF=function(e){for(var t=e.childrenMap.items,i,n=[],d=0,C=t.length;d<C;d++)i=t[d],n.push({x:i.x,y:i.y});return n},xvt=function(e){for(var t=e.childrenMap.items,i,n=[],d=0,C=t.length;d<C;d++)i=t[d],n.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var r=SF(e),d=0,C=t.length;d<C;d++){var x=n[d];t[d].setScale(x.x,x.y)}return r},yvt=function(e,t,i,n){for(var d=e.childrenMap.items,C=Math.min(t.length,i.length,d.length),r,x,s,a=e.queueDirection,g=0;g<C;g++){switch(r=d[g],x=t[g],s=i[g],r.setPosition(x.x,x.y),a){case 0:if(x.y<=s.y)continue;break;case 1:if(x.y>=s.y)continue;break;case 2:if(x.x<=s.x)continue;break;case 3:if(x.x>=s.x)continue;break}gvt.call(r,n,s.x,s.y)}},Svt=function(e,t,i){var n=SF(e);e.add(t);var d=xvt(e);yvt(e,n,d,i),e.transitInCallback(t,i,e)};const Cvt={showMessage(e){var t=mvt(this,this.createMessageLabelCallback,e);return Svt(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),yF.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var CF={};Object.assign(CF,vvt,Cvt);const MR={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),da.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),da.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),da.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),da.popUp.call(e,t,"x");break}hf.fadeIn.call(e,t)},transitOut(e,t,i){hf.fadeOut.call(e,t)}},w0=Phaser.Utils.Objects.GetValue;class B6 extends fe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(w0(i,"createMessageLabelCallback")),this.setQueueDirection(w0(i,"queueDirection",1)),this.setTransitInTime(w0(i,"duration.in",200)),this.setDisplayTime(w0(i,"duration.hold",2e3)),this.setTransitOutTime(w0(i,"duration.out",200)),this.setTransitInCallback(w0(i,"transitIn",MR.transitIn)),this.setTransitOutCallback(w0(i,"transitOut",MR.transitOut))}}Object.assign(B6.prototype,CF);At.register("toastQueue",function(e){var t=new B6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ToastQueue",B6);var Tvt=function(e,t){if(t===!1)return null;if($s(t))return t;var i=new Q0(e,t);return e.add.existing(i),i};const bvt=Phaser.Utils.String.Pad;var AR=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=bvt(i,6,0,1),i=t+i,i},Evt=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Rn=Phaser.Utils.Objects.GetValue,wvt=Phaser.Utils.Objects.IsPlainObject,Pvt=Phaser.Math.Clamp;let I6=class extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var n=Rn(i,"background",void 0),d=Rn(i,"swatch"),C;wvt(d)&&(C=Rn(d,"size"));var r=Tvt(t,Rn(i,"swatch")),x=Rn(i,"inputText",{}),s;if(x&&(s=Vo(t,x)),n&&this.addBackground(n),r){C=Rn(i,"swatchSize",C);var a;C!==void 0?(ms(r,C,C),a=!1):a=Rn(i,"squareExpandSwatch",!0);var g=a?1:0;this.add(r,{proportion:0,expand:!0,fitRatio:g})}if(s){var c=Rn(x,"width")===void 0?1:0,h=Rn(x,"height")===void 0;this.add(s,{proportion:c,expand:h})}this.addChildrenMap("background",n),this.addChildrenMap("swatch",r),this.addChildrenMap("inputText",s),s&&s.on("close",function(){this.setValue(s.value)},this);var l=Rn(i,"valuechangeCallback",null);if(l!==null){var o=Rn(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}this.setValue(Rn(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=p4(t),t==null){var n=this.childrenMap.inputText;n&&n.setText(AR(this._value));return}}else t=Pvt(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&Evt(i,t);var n=this.childrenMap.inputText;n&&n.setText(AR(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var Mvt={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=Avt[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const Avt={down:0,up:1},TF=Phaser.Display.Color,qp=Phaser.Math.Percent;var Rvt=function(e,t,i){i===void 0&&(i=!1);var n=e.width,d=e.height,C=new TF;if(i)for(var r=0;r<d;r++){var x=qp(r,0,d);C.setFromHSV(x,1,1),t.fillStyle=C.rgba,t.fillRect(0,r,n,1)}else for(var s=0;s<n;s++){var x=qp(s,0,n);C.setFromHSV(x,1,1),t.fillStyle=C.rgba,t.fillRect(s,0,1,d)}},Ovt=function(e,t,i){for(var n=e.width,d=e.height,C=t.getImageData(0,0,n,d),r=C.data,x=new TF,s=0;s<d;s++)for(var a=0;a<n;a++){var g=qp(a,0,n),c=1-qp(s,0,d);x.setFromHSV(i,g,c);var h=(s*n+a)*4;r[h]=x.red,r[h+1]=x.green,r[h+2]=x.blue,r[h+3]=255}t.putImageData(C,0,0)};const Dvt=Phaser.Display.Color,RR=Phaser.Math.Percent,Lvt=Phaser.Display.Color.ColorToRGBA,Fvt=Phaser.Display.Color.HSVToRGB;class Bvt extends _0{constructor(t,i,n,d,C,r){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=2),C===void 0&&(C=2),super(t,i,n,d,C),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new Dvt,this.setOrientation(r),this.setSize(d,C)}setOrientation(t){return this.orientation=tl(t),this}updateTexture(){return Rvt(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=RR(t,0,this.width):this.hue=RR(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var n=this.getHue(t,i);return this.colorObject.setFromRGB(Fvt(n,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(R1===void 0&&(R1={}),i=R1),this.colorObject.setFromRGB(Lvt(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var R1=void 0,Ivt=Phaser.Math.RotateAround,bF=function(e,t,i,n){n===void 0?n={}:n===!0&&(O1===void 0&&(O1={}),n=O1),t-=e.width*e.originX,i-=e.height*e.originY;var d={x:t*e.scaleX,y:i*e.scaleY};return Ivt(d,0,0,-e.rotation),n.x=e.x+t,n.y=e.y+i,n},O1;class kvt extends Gn{constructor(t,i){i===void 0&&(i={}),super(t,i);var n=i.width!=null?1:0,d=new Bvt(t).setOrientation(n);t.add.existing(d),this.type="rexColorPicker.HPalette",d.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var C=new Q0(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(C),this.add(d,{key:"paletteCanvas",expand:!0}).add(C,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var n=Math.min(t,i);return this.childrenMap.marker.setSize(n,n),this}onPaletteCanvasPointerDown(t,i,n,d){if(t.isDown){var C=this.childrenMap.paletteCanvas,r=C.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,d=i.colorToLocalPosition(t,!0);return bF(i,d.x,d.y,n),this.resetChildPositionState(n),this}getHue(t,i){var n=this.childrenMap.paletteCanvas;return n.getHue(t,i)}}const Gvt=Phaser.Display.Color,OR=Phaser.Math.Percent,DR=Phaser.Display.Color.ColorToRGBA,Nvt=Phaser.Display.Color.HSVToRGB;class Vvt extends _0{constructor(t,i,n,d,C,r){i===void 0&&(i=0),n===void 0&&(n=0),d===void 0&&(d=2),C===void 0&&(C=2),super(t,i,n,d,C),this.type="rexColorPicker.SVPaletteCanvas",r===void 0&&(r=1),this.colorObject=new Gvt,this.setHue(r),this.setSize(d,C)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return Ovt(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var n=OR(t,0,this.width),d=1-OR(i,0,this.height);return this.colorObject.setFromRGB(Nvt(this.hue,n,d)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(DR(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(D1===void 0&&(D1={}),i=D1),this.colorObject.setFromRGB(DR(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var D1=void 0;class zvt extends Gn{constructor(t,i){super(t,i);var n=new Vvt(t);t.add.existing(n),this.type="rexColorPicker.SVPalette",n.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var d=new Q0(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(d),this.add(n,{key:"paletteCanvas",expand:!0}).add(d,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,n,d){if(t.isDown){var C=this.childrenMap.paletteCanvas,r=C.getColor(i,n);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,n=this.childrenMap.marker,d=i.colorToLocalPosition(t,!0);return bF(i,d.x,d.y,n),this.resetChildPositionState(n),this}}const Qn=Phaser.Utils.Objects.GetValue;class k6 extends fe{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var n=Qn(i,"hPalette.position",0);typeof n=="string"&&(n=Uvt[n]);var d=n===0||n===2?1:0;this.setOrientation(d);var C=Qn(i,"background",void 0),r,x;if(this.orientation===0){var r=Qn(i,"hPalette.width",void 0);r===void 0&&(r=Qn(i,"hPalette.size",10))}else x=Qn(i,"hPalette.height",void 0),x===void 0&&(x=Qn(i,"hPalette.size",10));var s=new kvt(t,{width:r,height:x});t.add.existing(s);var a=Qn(i,"svPalette.width",void 0),g=Qn(i,"svPalette.height",void 0),c=new zvt(t,{width:a,height:g});t.add.existing(c),C&&this.addBackground(C);var h={proportion:0,expand:!0},l,o;this.orientation===0?(l=a===void 0?1:0,o=g===void 0):(l=g===void 0?1:0,o=a===void 0);var u={proportion:l,expand:o};n===0||n===3?this.add(c,u).add(s,h):this.add(s,h).add(c,u),s.on("input",function(){c.setHue(s.getHue()),this.setValue(c.color,!0)},this),c.on("input",function(){this.setValue(c.color,!0)},this),this.addChildrenMap("background",C),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",c);var v=Qn(i,"valuechangeCallback",null);if(v!==null){var f=Qn(i,"valuechangeCallbackScope",void 0);this.on("valuechange",v,f)}this.setValue(Qn(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,n){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,n),this}}var Uvt={bottom:0,left:1,top:2,right:3};const wr=Phaser.Utils.Objects.GetValue,Xvt=Phaser.Display.Color,Hvt=Phaser.Display.Color.ColorToRGBA,Yvt=Phaser.Display.Color.HSVToRGB,P0=Phaser.Math.Clamp;class G6 extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new Xvt;var n=wr(i,"background",void 0),d=wr(i,"formatLabel",void 0);$s(d)||(d=_i(t,d).resetDisplayContent());var C=[];if(i.inputText0&&i.inputText1&&i.inputText2)C.push(i.inputText0),C.push(i.inputText1),C.push(i.inputText2);else for(var r=wr(i,"inputText"),x=0;x<3;x++){var s=Vo(t,r).setMaxLength(3).setNumberInput();C.push(s)}n&&this.addBackground(n);var g=wr(i,"proportion.formatLabel",0),a=!!d.isRexContainerLite,c=wr(i,"expand.formatLabel",a);this.add(d,{proportion:g,expand:c});for(var g=wr(r,"width")===void 0?1:0,c=wr(r,"height")===void 0,x=0,h=C.length;x<h;x++)this.add(C[x],{proportion:g,expand:c});this.addChildrenMap("background",n),this.addChildrenMap("formatLabel",d),this.addChildrenMap("components",C),this.onClick(d,this.toggleColorFormat,this);for(var x=0,h=C.length;x<h;x++)C[x].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=wr(i,"valuechangeCallback",null);if(l!==null){var o=wr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}d.setText("RGB"),this.setValue(wr(i,"value",16777215))}get value(){return this._value}set value(t){t=P0(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(Hvt(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,n,d;return this.colorFormat==="RGB"?(i=this.colorObject.red,n=this.colorObject.green,d=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),n=Math.floor(this.colorObject.s*100),d=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(n),t[2].setValue(d),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=P0(t[0].value,0,255),n=P0(t[1].value,0,255),d=P0(t[2].value,0,255);this.colorObject.setTo(i,n,d)}else{var C=P0(t[0].value,0,359)/360,r=P0(t[1].value,0,100)/100,x=P0(t[2].value,0,100)/100;this.colorObject.setFromRGB(Yvt(C,r,x))}return this}}const L1=Phaser.Utils.Objects.GetValue;class Wvt extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var n=L1(i,"background",void 0),d=new k6(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:L1(i,"space.hPalette",8)}});t.add.existing(d);var C;i.colorComponents&&(C=new G6(t,i.colorComponents),t.add.existing(C)),n&&(this.addBackground(n),new B2(n,{stopAllLevels:!1})),this.add(d,{proportion:1,expand:!0}),C&&this.add(C,{proportion:0,expand:!0}),this.addChildrenMap("background",n),this.addChildrenMap("colorPicker",d),this.addChildrenMap("colorComponents",C),d.on("valuechange",function(r){this.setValue(r)},this),C&&C.on("valuechange",function(r){this.setValue(r)},this),this.setValue(L1(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var n=this.childrenMap.colorComponents;n&&n.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var $vt=function(t){var t=this.scene,i,n=this.colorPickerCreateBackgroundCallback;n&&(i=n.call(this,t),t.add.existing(i));var d=this.colorPickerWidth;d===void 0&&(d=this.width);var C=this.colorPickerHeight;C===void 0&&(C=d);var r;this.colorComponentsHeight>0?r={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:r=!1;var x=new Wvt(t,{width:d,height:C,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:r,value:this.value});return t.add.existing(x),x},Kvt=function(){if(!this.colorPicker){var e=$vt.call(this).layout(),t=new $L(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},EF={openColorPicker:Kvt};Object.assign(EF,Mvt);const as=Phaser.Utils.Objects.GetValue;class vg extends I6{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var n=i.colorPicker,d=n!==!1&&n!==null;if(d){this.setColorPickerSize(as(n,"width",160),as(n,"height",170));var C,r=as(n,"background");r?C=function(l){return Hi(l,r)}:C=as(n,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(C),this.setColorPickerHPalettePosition(as(n,"hPalettePosition",0)),this.setColorPickerExpandDirection(as(n,"expandDirection")),this.setColorPickerEaseInDuration(as(n,"easeIn",200)),this.setColorPickerEaseOutDuration(as(n,"easeOut",200)),this.setColorPickerTransitInCallback(as(n,"transitIn")),this.setColorPickerTransitOutCallback(as(n,"transitOut")),this.setColorPickerBounds(as(n,"bounds"));var x=as(n,"space");x===void 0&&(x={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(x)}var s=i.colorComponents,a=s!==!1&&s!==null;if(d&&a){this.setColorComponentsHeight(as(s,"height",30)),this.setColorComponentsFormatLabelConfig(as(s,"formatLabel"));var g=as(s,"inputText");g||(g=as(i,"inputText")),this.setColorComponentsInputTextConfig(g);var c=as(s,"space");c===void 0&&(c={item:8}),this.setColorComponentsSpace(c)}var h=this.childrenMap.swatch;h&&d&&this.onClick(h,this.openColorPicker,this)}}Object.assign(vg.prototype,EF);At.register("colorInput",function(e){var t=new vg(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ColorInput",vg);At.register("colorInputLite",function(e){var t=new I6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ColorInputBase",I6);At.register("colorPicker",function(e){var t=new k6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ColorPicker",k6);At.register("colorComponents",function(e){var t=new G6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.ColorComponents",G6);var wF=function(e){for(var t=e.scene.input,i=t.manager,n=i.pointersTotal,d=i.pointers,C,r=0;r<n;r++)if(C=d[r],!(!C.primaryDown||t.getDragState(C)!==0||!g5(e,C)))return t.setDragState(C,1),t._drag[C.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(C,3),t.processDragStartList(C)):t.setDragState(C,2),!0;return!1};const Rv=Phaser.Utils.Objects.GetValue,LR=Phaser.Math.Distance.Between,FR=Phaser.Math.RotateAroundDistance;class N6 extends ai{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Rv(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Rv(t,"enable",!0)),this.setAxisMode(Rv(t,"axis",0)),this.setAxisRotation(Rv(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=Zvt[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return wF(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,n){this.isDragging||(this.pointer=t)}onDrag(t,i,n){if(this.pointer===t){var d=this.parent;if(this.axisMode===0)d.x=i,d.y=n;else if(this.axisRotation===0)this.axisMode===1?d.x=i:this.axisMode===2&&(d.y=n);else{var C,r={x:i,y:n};C=LR(r.x,r.y,d.x,d.y),r=FR(r,d.x,d.y,-this.axisRotation,C),this.axisMode===1?r.y=d.y:this.axisMode===2&&(r.x=d.x),C=LR(r.x,r.y,d.x,d.y),r=FR(r,d.x,d.y,this.axisRotation,C),d.x=r.x,d.y=r.y}}}onDragEnd(t,i,n,d){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const Zvt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var Jvt=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],n=this.getSizerConfig(e).padding,d=this.getSizerConfig(t).padding,C=this.getSizerConfig(i).padding;if(this.orientation===0){var r=this.innerLeft+n.left,x=this.innerRight-C.right,s=De(t),a=t.x+s*(0-t.originX),g=t.x+s*(1-t.originX),c=a-d.left-this.space.item-n.right,h=g+d.right+this.space.item+C.left,l=c-r,o=x-h,u=l+o;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,o=u-l),this.minSecondChildSize>0&&o<this.minSecondChildSize&&(o=this.minSecondChildSize,l=u-o),this.setSplitRatio(l/u)}else{var v=this.innerTop+n.top,f=this.innerBottom-C.bottom,p=Le(t),m=t.y+p*(0-t.originY),y=t.y+p*(1-t.originY),S=m-d.top-this.space.item-n.bottom,T=y+d.bottom+this.space.item+C.top,b=S-v,P=f-T,w=b+P;this.minFirstChildSize>0&&b<this.minFirstChildSize&&(b=this.minFirstChildSize,P=w-b),this.minSecondChildSize>0&&P<this.minSecondChildSize&&(P=this.minSecondChildSize,b=w-P),this.setSplitRatio(b/w)}var A=this.minWidth,R=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(A,R)};const Li=Phaser.Utils.Objects.GetValue,Qvt=Phaser.Math.Clamp;class PF extends fe{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var n=Li(i,"background",void 0),d,C,r,x;this.orientation===0?(d="leftPanel",C="rightPanel",r="minLeftPanelWidth",x="minRightPanelWidth"):(d="topPanel",C="bottomPanel",r="minTopPanelHeight",x="minBottomPanelHeight");var s=Li(i,d,void 0),a=Li(i,"splitter",void 0),g=Li(i,C,void 0);n&&this.addBackground(n);var c=Li(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:Li(c,`${d}Left`,0),right:Li(c,`${d}Right`,0),top:Li(c,`${d}Top`,0),bottom:Li(c,`${d}Bottom`,0)}}),this.add(a,{proportion:0,expand:!0,padding:{left:Li(c,"splitterLeft",0),right:Li(c,"splitterRight",0),top:Li(c,"splitterTop",0),bottom:Li(c,"splitterBottom",0)}}),this.add(g,{proportion:1,expand:!0,padding:{left:Li(c,`${C}Left`,0),right:Li(c,`${C}Right`,0),top:Li(c,`${C}Top`,0),bottom:Li(c,`${C}Bottom`,0)}}),this.addChildrenMap("background",n),this.addChildrenMap(d,s),this.addChildrenMap("splitter",a),this.addChildrenMap(C,g),this.minFirstChildSize=Li(i,r,0),this.minSecondChildSize=Li(i,x,0),this.setSplitRatio(Li(i,"splitRatio",.5)),this.splitterDragBehavior=new N6(a,{axis:this.orientation===0?1:2}),a.on("dragstart",function(){this.emit("splitter.dragstart",a,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",a,this.splitRatio)},this).on("drag",function(){Jvt.call(this),this.emit("splitter.drag",a,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",a,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",a,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=Qvt(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}At.register("splitPanels",function(e){var t=new PF(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.SplitPanels",PF);var jvt=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!0)}},qvt=function(){return function(e,t,i,n){t!=="panel"&&i.setChildVisible(e,!1)}};const _vt={show:jvt,hide:qvt};var tpt=function(e,t){return t===void 0&&(t=1),function(i,n,d,C){n!=="panel"&&d.fadeChild(i,C?0:e,t)}},ept=function(e,t){return t===void 0&&(t=0),function(i,n,d,C){n!=="panel"&&d.fadeChild(i,C?0:e,t)}};const ipt={show:tpt,hide:ept};var BR=function(e,t){return function(i,n,d,C){n!=="panel"&&d.moveChild(i,C?0:e,t)}};const spt={show:BR,hide:BR};var IR=function(e,t){return function(i,n,d,C){n==="panel"&&d.moveChild(i,C?0:e,t)}};const npt={show:IR,hide:IR},F1={visible:_vt,fade:ipt,move:spt,"move-panel":npt};var rpt=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var n,d;return F1.hasOwnProperty(t)?(n=F1[t].show.apply(null,i),d=F1[t].hide.apply(null,i)):(n=Xi,d=Xi),{show:n,hide:d}};const apt={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},opt=un.prototype.setChildVisible,lpt={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=X2(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),opt.call(this,e,t),this}},hpt={fadeChild(e,t,i){var n;return typeof e=="string"?(n=e,e=this.sizerChildren[n]):n=X2(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===n?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?os(e._fade):Promise.resolve()}},upt={moveChild(e,t,i,n){var d;typeof e=="string"?(d=e,e=this.sizerChildren[d]):d=X2(this.sizerChildren,e),t===void 0&&(t=500);var C=this.currentChildKey===d;if(n===void 0)switch(d){case"leftSide":case"rightSide":n=De(e);break;case"topSide":case"bottomSide":n=Le(e);break;default:if(C)switch(this.previousChildKey){case"leftSide":case"rightSide":n=De(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":n=Le(this.sizerChildren[this.previousChildKey]);break;default:n=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":n=De(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":n=Le(this.sizerChildren[this.currentChildKey]);break;default:n=0;break}break}var r,x,s,a;if(C)switch(d){case"panel":switch(this.previousChildKey){case"leftSide":r=!0;break;case"rightSide":x=!0;break;case"topSide":s=!0;break;case"bottomSide":a=!0;break}break;case"leftSide":x=!0;break;case"rightSide":r=!0;break;case"topSide":a=!0;break;case"bottomSide":s=!0;break}else switch(d){case"panel":switch(this.currentChildKey){case"leftSide":x=!0;break;case"rightSide":r=!0;break;case"topSide":a=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":r=!0;break;case"rightSide":x=!0;break;case"topSide":s=!0;break;case"bottomSide":a=!0;break}return r?e.moveTo(t,`-=${n}`,void 0,i):x?e.moveTo(t,`+=${n}`,void 0,i):s?e.moveTo(t,void 0,`-=${n}`,i):a?e.moveTo(t,void 0,`+=${n}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,n){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,n),e._easeMove?os(e._easeMove):Promise.resolve()}};var MF={};Object.assign(MF,lpt,hpt,upt);const zs=Phaser.Utils.Objects.GetValue;class V6 extends Gn{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var n=zs(i,"showChildCallback",void 0);if(n)if(er(n)){var d=zs(i,"showChildCallbackScope",void 0);this.on("showchild",n,d);var C=zs(i,"hideChildCallback",void 0),r=zs(i,"hideChildCallbackScope",void 0);this.on("hidechild",C,r)}else{var x=rpt(n);this.on("showchild",x.show),this.on("hidechild",x.hide)}var s=zs(i,"background",void 0),a=zs(i,"panel",void 0),g=zs(i,"leftSide",void 0),c=zs(i,"rightSide",void 0),h=zs(i,"topSide",void 0),l=zs(i,"bottomSide",void 0);if(s&&this.addBackground(s),a&&this.add(a,"panel","center",0,!0),g){var o=zs(i,"expand.left",!0);this.add(g,"leftSide","left-top",0,{height:o})}if(c){var o=zs(i,"expand.right",!0);this.add(c,"rightSide","right-top",0,{height:o})}if(h){var o=zs(i,"expand.top",!0);this.add(h,"topSide","left-top",0,{width:o})}if(l){var o=zs(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:o})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(V6.prototype,apt,MF);At.register("sides",function(e){var t=new V6(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Sides",V6);var dpt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const fpt=Phaser.Utils.Array.GetFirst,cpt=Phaser.Utils.Array.Remove;var vpt=function(e){var t=fpt(this.inputHandlers,"name",e);return t&&cpt(this.inputHandlers,t),this};class Jf extends Ta{constructor(t,i){i=j2(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?ts(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class ppt extends Jf{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var n=new Mf(t,i.expandedIcon);t.add.existing(n),this.addSpace().add(n,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",n)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",n=this.childrenMap.expandedIcon;return n.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AF=function(e,t){var i=_n(e);for(var n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i},Hd=function(e,t,i){return Hi(e,AF(t,i))};const gpt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},mpt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class RF extends Zf{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(RF.prototype,gpt,mpt);const wh=Phaser.Utils.Objects.GetValue;var xpt=function(e,t,i){var n=e.scene,d=wh(i,"title")||{},C=new ppt(n,d);n.add.existing(C),C.on("folder.expand",function(){C.setExpandedState(!0)}).on("folder.collapse",function(){C.setExpandedState(!1)});var r={root:wh(i,"root"),styles:wh(i,"tweaker"),space:wh(i,"space")||{}},x=e.createTweaker(r),s=wh(i,"background"),a=Hd(n,t,s),g=new RF(n,{title:C,child:x,background:a,transition:{duration:wh(i,"transition.duration",200)}});return n.add.existing(g),g};const kR=Phaser.Utils.Objects.GetValue;var ypt=function(e){e===void 0&&(e={});var t=kR(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=xpt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=kR(e,"expanded",!0);n!==void 0&&i.setExpandedState(n);var d=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,d),d};const Spt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},Cpt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}};class OF extends fg{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(OF.prototype,Spt,Cpt);const Ov=Phaser.Utils.Objects.GetValue;var Tpt=function(e,t,i){var n=e.scene,d=new OF(n,i);n.add.existing(d);for(var C=Ov(i,"tab"),r={root:Ov(i,"root"),styles:Ov(i,"tweaker")},x=Ov(t,"pages")||[],s=0,a=x.length;s<a;s++){var g=x[s];d.addPage({key:g.title,tab:_i(n,C).setActiveState(!1).resetDisplayContent({text:g.title}),page:e.createTweaker(r)})}return d.on("tab.focus",function(c,h){c.setActiveState(!0)}).on("tab.blur",function(c,h){c.setActiveState(!1)}),d};const GR=Phaser.Utils.Objects.GetValue;var bpt=function(e){e===void 0&&(e={});var t=GR(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=Tpt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var n=GR(e,"pages")||[],d=[],C=0,r=0,x=n.length;r<x;r++){var s=i.getPage(r),a=n[r].show;a&&(C=r);var g=n[r].key;g&&this.root.addChildrenMap(g,s),d.push(s)}return i.swapPage(C,0),d};const Ept={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},wpt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,n=t.length;i<n;i++)t[i].setInputRowTitleWidth(e);return this}},Ph=Phaser.Utils.Objects.GetValue;class DF extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var n=Ph(i,"background",void 0),d=Ph(i,"title",void 0);n&&this.addBackground(n),d&&this.add(d,{expand:!0,space:{bottom:Ph(i,"space.title",0)}});var C=new fe(t,{orientation:"x",space:{item:Ph(i,"space.column",0)}});t.add.existing(C);for(var r=Ph(i,"columns",void 0),x,s,a=0,g=r.length;a<g;a++)x=r[a],s=x.child,C.add(x.child,{proportion:s.minWidth===0?1:0,expand:Ph(x,"expand",!0)});this.add(C,{expand:!0}),this.addChildrenMap("title",d),this.addChildrenMap("columnsSizer",C),this.addChildrenMap("columns",C.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(DF.prototype,Ept,wpt);const M0=Phaser.Utils.Objects.GetValue;var Ppt=function(e,t,i){var n=e.scene,d=M0(i,"title")||{},C=new Jf(n,d);n.add.existing(C);var r={root:M0(i,"root"),styles:M0(i,"tweaker")},x=M0(i,"background");x&&!Array.isArray(x)&&(x=[x]);var s=M0(t,"columns",2);if(typeof s=="number"){var a=s;s=[];for(var g=0,c=a;g<c;g++)s.push({})}for(var g=0,c=s.length;g<c;g++){var h=s[g];x&&(r.background=x[g%x.length]),r.width=M0(h,"width",0);var l=e.createTweaker(r);h.child=l}var o=new DF(n,{title:C,columns:s,space:M0(i,"space")});return n.add.existing(o),o};const NR=Phaser.Utils.Objects.GetValue;var Mpt=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=NR(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=Ppt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=NR(e,"columns",void 0);if(n&&Array.isArray(n))for(var d=0,C=n.length;d<C;d++){var r=n[d].key;r&&this.root.addChildrenMap(r,i.getColumn(d))}return i.getColumns()};const Apt={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,n=t.length;i<n;i++)t[i].setBindingTarget(e);return this}},Rpt={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Dv=Phaser.Utils.Objects.GetValue;class LF extends fe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var n=Dv(i,"background",void 0),d=Dv(i,"title",void 0);n&&this.addBackground(n),d&&this.add(d,{expand:!0,space:{bottom:Dv(i,"space.title",0)}});var C=Dv(i,"child",void 0);this.add(C,{expand:!0}),this.addChildrenMap("title",d),this.addChildrenMap("child",C)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(LF.prototype,Apt,Rpt);const Pr=Phaser.Utils.Objects.GetValue;var Opt=function(e,t,i){var n=e.scene,d=Pr(i,"title")||{},C=new Jf(n,d);n.add.existing(C);var r=Pr(i,"itemWidth",0),x=Pr(i,"itemHeight",0),s={root:Pr(i,"root"),styles:Pr(i,"tweaker"),space:Pr(i,"space"),align:Pr(i,"align",5),wrap:!0,itemWidth:Pr(t,"itemWidth",r),itemHeight:Pr(t,"itemHeight",x)};Pr(i,"background");var a=e.createTweaker(s),g=new LF(n,{title:C,child:a});return n.add.existing(g),g};const Dpt=Phaser.Utils.Objects.GetValue;var Lpt=function(e){e===void 0&&(e={});var t=Dpt(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=Opt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var n=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,n),n};const Fpt={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},Bpt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class FF extends $f{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(FF.prototype,Fpt,Bpt);const ro=Phaser.Utils.Objects.GetValue;var Ipt=function(e,t,i){var n=e.scene,d=ro(i,"title")||{},C=new Jf(n,d);n.add.existing(C);var r={root:ro(i,"root"),styles:ro(i,"tweaker"),space:ro(i,"space")||{}},x=e.createTweaker(r),s=ro(i,"slider");if(s){s=ts(s);var a=s.track;a&&(s.track=Hd(n,t,a));var g=s.thumb;g&&(s.thumb=Hd(n,t,g))}var c=ro(i,"background"),h=Hd(n,t,c),l=new FF(n,{scrollMode:0,header:C,panel:{child:x,mask:{padding:1}},slider:s,background:h,height:ro(t,"height",0),space:ro(i,"space",void 0)});return n.add.existing(l),l};const kpt=Phaser.Utils.Objects.GetValue;var Gpt=function(e){e===void 0&&(e={});var t=kpt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=Ipt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var n=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,n),n};const VR=Phaser.Utils.Objects.GetValue,Npt={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=VR(e,"onGetValue"),this.onSetValue=VR(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},Vpt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},zpt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},B1=Phaser.Utils.Objects.GetValue;class z6 extends fe{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var n=i.inputTitle,d=i.inputField,C=i.background,a=B1(i,"proportion.title",0),r=B1(i,"space.title",0),x;this.orientation===0?x={right:r}:x={bottom:r},this.add(n,{proportion:a,expand:!0,padding:x});var s=d.defaultProportion;s===void 0&&(s=i.defaultExpandWidth?1:0);var a=B1(i,"proportion.inputField",s);this.add(d,{proportion:a,expand:!0}),C&&this.addBackground(C),this.addChildrenMap("title",n),this.addChildrenMap("inputField",d),this.addChildrenMap("background",C),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(z6.prototype,Npt,Vpt,zpt);var BF=function(e,t,i){var n=new Jf(e,i);return e.add.existing(n),n},Upt=function(e){e===void 0&&(e=fe);class t extends e{get bindingTarget(){var n=this.getParentSizer();return n.bindingTarget}get bindingKey(){var n=this.getParentSizer();return n.bindTargetKey}get value(){return this._value}get root(){var n=this.getParentSizer(),d=n.getParentSizer();return d.root}onBindTarget(n,d){this.onBindTargetCallback&&this.onBindTargetCallback(this,n,d)}validate(n){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(n,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(n){return this.textFormatCallback?n=this.textFormatCallback(n):n=n.toString(),n}set value(n){if(this._value!==n&&(this.validate(n)||(n=this._value),this.filterValueCallback&&(n=this.filterValueCallback(this,n)),this.displayValueCallback&&this.displayValueCallback(this,n),this._value!==n)){var d=this._value;if(this._value=n,!this.syncValueFlag){var C=this.bindingTarget,r=this.bindingKey;this.emit("valuechange",n,d,C,r),this.root.emit("valuechange",n,d,C,r)}}}getValue(){return this.value}setValue(n){return this.value=n,this}syncValue(n){return this.syncValueFlag=!0,this.value=n,this.syncValueFlag=!1,this}setup(n,d){return d===void 0&&(d=!1),(d||n.hasOwnProperty("format"))&&this.setTextFormatCallback(n.format),(d||n.hasOwnProperty("onValidate"))&&this.setValidateCallback(n.onValidate),this.setupCallback&&this.setupCallback(this,n,d),this}setSetupCallback(n){return this.setupCallback=n,this}setFilterValueCallback(n){return this.filterValueCallback=n,this}setDisplayValueCallback(n){return this.displayValueCallback=n,this}setOnBindTargetCallback(n){return this.onBindTargetCallback=n,this}setTextFormatCallback(n){return this.textFormatCallback=n,this}setValidateCallback(n){return this.validateCallback=n,this}}return t},Xpt=function(e,t,i){for(var n,d=this.inputHandlers,C=0,r=d.length;C<r;C++){var x=d[C];if(x.accept(t)){var s=Upt(x.baseClass);n=new s(e),e.add.existing(n),n.setSetupCallback(x.setup).setFilterValueCallback(x.filterValue).setDisplayValueCallback(x.displayValue).setOnBindTargetCallback(x.onBindTarget),x.build(n,i);break}}return n&&n.setup(t,!0),n};const zR=Phaser.Utils.Objects.GetValue;var Hpt=function(e,t,i){var n=Xpt.call(this,e,t,i);if(!n)return null;var d=zR(i,"title")||{},C=BF(e,t,d),r=zR(i,"background")||{},x=Hi(e,r),s=new z6(e,{...i,...t,inputTitle:C,inputField:n,background:x});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},Ypt=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var n=this.styles.inputRow||{};this.isWrapMode?n.defaultExpandWidth=!0:n.defaultExpandWidth=this.styles.orientation===1;var d=Hpt.call(this,this.scene,i,n);if(!d)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)d.setMinWidth(this.itemWidth),d.setMinHeight(this.itemHeight),this.add(d);else{var C;this.orientation===1?C=0:(C=this.itemWidth>0?0:1,d.minWidth===0&&d.setMinWidth(this.itemWidth)),d.minHeight===0&&d.setMinHeight(this.itemHeight),this.add(d,{proportion:C,expand:!0})}if(i.onValueChange){var r=d.childrenMap.inputField;r.on("valuechange",i.onValueChange)}return d.setAutoUpdateEnable(i.autoUpdate),d.setBindingTarget(e,t),i.monitor&&d.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,d),this},Wpt=function(e,t){var i=new Q0(e,t);return e.add.existing(i),i};const $pt=Phaser.Utils.Objects.GetValue;var Kpt=function(e,t){var i=$pt(t,"wrap",!1),n=i?No:zi,d=new n(e,t);return e.add.existing(d),d};const Lv=Phaser.Utils.Objects.GetValue;var Zpt=function(e,t,i){for(var n=Lv(i,"title")||{},d=BF(e,t,n),C=t.buttons,r=Lv(i,"button")||{},x=[],s=0,a=C.length;s<a;s++){var g=_i(e,r);x.push(g);var c=C[s];g.resetDisplayContent(c.label),g.callback=c.callback}var h=Kpt(e,{buttons:x,expand:!0,wrap:Lv(t,"wrap",!1)});h.defaultProportion=1;var l=Lv(i,"background")||{},o=Wpt(e,l),u=new z6(e,{...i,inputTitle:d,inputField:h,background:o});return e.add.existing(u),u.setTitle(t),h.on("button.click",function(v){v.callback(u.bindingTarget)}),u};const Jpt=Phaser.Utils.Objects.GetValue;var Qpt=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var n=Jpt(this.styles,"inputRow")||{},d=Zpt(t,e,n);return this.add(d,{expand:!0}),i&&d.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,d),this},jpt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},qpt=function(e,t,i){return Hi(e,AF(t,i))};const _pt=Phaser.Utils.Objects.GetValue;var t2t=function(e){e===void 0&&(e={});var t=this.scene,i=_pt(this.styles,"separator"),n=qpt(t,e,i);return this.add(n,{expand:!0}),this},e2t=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),Gd(this,ts(e),t,i),this},Gd=function(e,t,i,n){if(t)for(var d=0,C=t.length;d<C;d++){var r=t[d];r.hasOwnProperty("$target")&&(i=r.$target,delete r.$target);var x=r.$type;switch(delete r.$type,x){case"folder":var s=e.addFolder(r);Gd(s,r.$properties,i,n);break;case"tab":for(var a=e.addTab(r),g=0,c=a.length;g<c;g++)Gd(a[g],r.pages[g].$properties,i,n);break;case"columns":for(var h=e.addColumns(r),g=0,c=h.length;g<c;g++)Gd(h[g],r.columns[g].$properties,i,n);break;case"scrollable":var l=e.addScrollable(r);Gd(l,r.$properties,i,n);break;case"separator":e.addSeparator();break;case"button":r.bindingTarget=i,e.addButton(r);break;case"buttons":r.bindingTarget=i,e.addButtons(r);break;default:var o=r.$key;if(delete r.$key,o.indexOf(".")===-1)r.bindingTarget=i,r.bindingKey=o;else{var u=o.split(".");r.bindingKey=u.pop();for(var v=i,f=0,p=u.length;f<p;f++)if(v=v[u[f]],!i){console.warn(`[Monitor] Key path '${o}' is invalid`);continue}r.bindingTarget=v}r.hasOwnProperty("monitor")||(r.monitor=n),e.addInput(r);break}}},i2t=function(e){for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var d=t[i];d.setBindingTarget&&d.setBindingTarget(e)}return this},s2t=function(){for(var e=0,t=this.sizerChildren,i=0,n=t.length;i<n;i++){var d=t[i];d.rexSizer.hidden||(d.getMinTitleWidth?e=Math.max(e,d.getMinTitleWidth()):d.getMaxInputRowTitleWidth&&(e=Math.max(e,d.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},n2t=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,n=t.length;i<n;i++){var d=t[i];d.rexSizer.hidden||(d.setMinTitleWidth?d.setMinTitleWidth(e):d.setInputRowTitleWidth&&d.setInputRowTitleWidth(e))}return this},r2t={registerInputHandler:dpt,removeInputHandler:vpt,addFolder:ypt,addTab:bpt,addColumns:Mpt,addWrap:Lpt,addScrollable:Gpt,addInput:Ypt,addButtons:Qpt,addButton:jpt,addSeparator:t2t,addRows:e2t,setBindingTarget:i2t,getMaxInputRowTitleWidth:s2t,setInputRowTitleWidth:n2t};const ao=Phaser.Utils.Objects.GetValue;var IF=function(e){var t=ao(e,"wrap",!1),i=t?$o:fe;class n extends i{constructor(C,r){r===void 0&&(r={}),r.orientation===void 0&&(r.orientation=t?0:1),super(C,r),this.type="rexTweakerShell",this.isWrapMode=t,r.root?(this.root=r.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=ao(r,"styles")||{},this.styles.orientation=this.orientation;var x=ao(r,"itemWidth");x===void 0&&(x=ao(this.styles,"itemWidth",0)),this.itemWidth=x;var s=ao(r,"itemHeight");if(s===void 0&&(s=ao(this.styles,"itemHeight",0)),this.itemHeight=s,t||this.root===this&&this.orientation===1){var a=ao(r,"inputRow.alignTitle");if(a===void 0){var g=ao(this.styles,"inputRow.proportion.title");a=!g}else a&&wt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=a}else this.alignInputRowTitleStartFlag=!1;var c=Hd(C,void 0,r.background);c&&this.addBackground(c)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(C,r){r===void 0&&(r=!0);var x=IF(C),s=new x(this.scene,C);return r&&this.scene.add.existing(s),s}}return Object.assign(n.prototype,r2t),n},a2t=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const o2t={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var n=t.inputText,d=Vo(i,n);e.add(d,{proportion:1,expand:!0,key:"inputText"}),d.on("close",function(){e.setValue(d.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&a2t(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var l2t=function(e,t,i){i===void 0&&(i=!0),i?t=t?ts(t):{}:t||(t={});var n=new cg(e,t);return e.add.existing(n),n},h2t=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const u2t={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var n=t.inputTextArea;n===void 0&&(n={}),n.hasOwnProperty("text")||(n.text=t.inputText),n.hasOwnProperty("slider")||(n.slider=t.slider);var d=l2t(i,n);e.add(d,{proportion:1,expand:!0,key:"inputText"}),d.on("close",function(){e.setValue(d.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&h2t(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var d2t=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const f2t={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var n=t.inputNumber||t.inputText,d=Vo(i,n).setNumberInput();e.add(d,{proportion:1,expand:!0,key:"inputText"}),d.on("close",function(){e.setValue(d.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&d2t(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var c2t=function(e,t){var i=new au(e,t);return e.add.existing(i),i};const I1=Phaser.Utils.Objects.GetValue,v2t=Phaser.Math.Linear,p2t=Phaser.Math.Snap.Floor;var g2t=function(e,t,i,n){e.minValue=t,e.maxValue=i,e.step=n;var d=e.childrenMap.slider;d.setGap(n,t,i)},m2t=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const x2t={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var n=t.slider,d=e.orientation===0?"track.height":"track.width",C=I1(n,d),r=c2t(i,n),g=t.defaultExpandWidth?2:0,c=I1(t,"proportion.range.slider",g),x=C===void 0;e.add(r,{proportion:c,expand:x,key:"slider"});var s=t.inputNumber||t.inputText,a=Vo(i,s).setNumberInput(),g=t.defaultExpandWidth?1:0,c=I1(t,"proportion.range.inputText",g);e.add(a,{proportion:c,expand:!0,key:"inputText"}),a.on("close",function(){e.setValue(a.value)}),r.on("valuechange",function(){var h=v2t(e.minValue,e.maxValue,r.value);e.step&&(h=p2t(h,e.step,e.minValue)),e.setValue(h)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&g2t(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&m2t(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var n=e.childrenMap.inputText;n.setText("").setText(e.getFotmatText(t))}};var kF=function(e,t){var i=new zi(e,t);return e.add.existing(i),i};const y2t=Phaser.Utils.Objects.GetValue;var S2t=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const C2t={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var n=y2t(t,"incDec")||{},d={text:null,action:null},C=kF(i,{expand:!1}),r=t.defaultExpandWidth?1:0;e.add(C,{proportion:r,expand:!0});var x=t.inputNumber||t.inputText,s=Vo(i,x).setNumberInput();s.on("close",function(){e.setValue(s.value)});var a=Object.assign(ts(d),n.incButton||{}),g=_i(i,a),c=Object.assign(ts(d),n.decButton||{}),h=_i(i,c);C.addButton(g),C.addButton(h);var l=n.inputTextIndex||0;C.insert(l,s,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,C.on("button.click",function(o,u,v,f){var p=e.value;u===0?p+=e.step:p-=e.step,e.maxValue!==void 0&&p>e.maxValue&&(p=e.maxValue),e.minValue!==void 0&&p<e.minValue&&(p=e.minValue),e.setValue(p)}),e.addChildrenMap("incButton",g),e.addChildrenMap("decButton",h),e.addChildrenMap("inputText",s)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&S2t(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var T2t=function(e,t,i){i===void 0&&(i=!0),i?t=t?ts(t):{}:t||(t={});var n=new vg(e,t);return e.add.existing(n),n};const b2t={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var n=t.colorInput;n===void 0&&(n={}),n.hasOwnProperty("inputText")||(n.inputText=t.inputText);var d=T2t(i,n);e.add(d,{proportion:1,expand:!0,key:"colorInput"}),d.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var E2t=function(e,t){var i=new S5(e,t);return e.add.existing(i),i};const w2t={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var n=t.checkbox,d=E2t(i,n),C=n.size;C!==void 0&&d.setSize(C,C);var r=C!==void 0?0:1;e.add(d,{proportion:0,expand:!1,fitRatio:r,key:"checkbox"}),d.on("valuechange",function(x){e.setValue(x)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var P2t=function(e,t){var i=new C5(e,t);return e.add.existing(i),i};const M2t={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var n=t.toggleSwitch,d=P2t(i,n),C=n.size;C!==void 0&&d.setSize(C,C);var r=C!==void 0?0:1;e.addSpace().add(d,{proportion:0,expand:!1,fitRatio:r,key:"toggleSwitch"}),d.on("valuechange",function(x){e.setValue(x)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var A2t=function(e,t){t=ZL(e,t);var i=new Kf(e,t);return e.add.existing(i),i},GF=function(e,t){for(var i=0,n=e.length;i<n;i++){var d=e[i];if(d.value===t)return i}},R2t=function(e,t){var i=GF(e,t);if(i!=null)return e[i]},O2t=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const D2t={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var n=A2t(i,t.list);e.add(n,{proportion:1,expand:!0,key:"list"}),n.on("button.click",function(d,C,r,x,s,a){e.setValue(r.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&O2t(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=R2t(i.options,t);i.resetDisplayContent(n).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var L2t=function(e,t){for(var i=0,n=e.length;i<n;i++){var d=e[i];d&&d.setActiveState(i===t)}};const F2t=Phaser.Utils.Objects.GetValue;var B2t=function(e,t){var i=e.childrenMap.list;i.options=t;var n=e.scene,d=i.buttonConfig;i.clearButtons(!0);for(var C=0,r=t.length;C<r;C++){var x=t[C],s=_i(n,d).setActiveState(!1).resetDisplayContent({text:x.text});i.addButton(s)}};const I2t={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var n=t.button?ts(t.button):{},d=F2t(n,"expand",!0);d&&(n.align="center"),delete n.expand;var C=kF(i,{expand:d});C.buttonConfig=n,e.add(C,{proportion:1,expand:!0,key:"list"}),C.on("button.click",function(r,x,s,a){var g=C.options[x];g&&(e._selectedIndex=x,e.setValue(g.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&B2t(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,n=e._selectedIndex;n===void 0&&(n=GF(i.options,t)),L2t(i.childrenMap.buttons,n)}};var k2t=function(){this.registerInputHandler(o2t).registerInputHandler(u2t).registerInputHandler(f2t).registerInputHandler(x2t).registerInputHandler(C2t).registerInputHandler(b2t).registerInputHandler(w2t).registerInputHandler(M2t).registerInputHandler(D2t).registerInputHandler(I2t)};class NF extends IF(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",k2t.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}At.register("tweaker",function(e){var t=new NF(this.scene,e);return this.scene.add.existing(t),t});wt(window,"RexPlugins.UI.Tweaker",NF);At.register("click",function(e,t){return new ya(e,t)});wt(window,"RexPlugins.UI.Click",ya);At.register("clickOutside",function(e,t){return new q5(e,t)});wt(window,"RexPlugins.UI.ClickOutside",q5);At.register("inTouching",function(e,t){return new Jh(e,t)});wt(window,"RexPlugins.UI.InTouching",Jh);At.register("tap",function(e,t){return $s(e)||(t=e,e=this.scene),new N2(e,t)});wt(window,"RexPlugins.UI.Tap",N2);At.register("press",function(e,t){return $s(e)||(t=e,e=this.scene),new V2(e,t)});wt(window,"RexPlugins.UI.Press",V2);At.register("swipe",function(e,t){return $s(e)||(t=e,e=this.scene),new If(e,t)});wt(window,"RexPlugins.UI.Swipe",If);At.register("pan",function(e,t){return $s(e)||(t=e,e=this.scene),new ID(e,t)});wt(window,"RexPlugins.UI.Pan",ID);At.register("drag",function(e,t){return new N6(e,t)});wt(window,"RexPlugins.UI.Drag",N6);At.register("pinch",function(e){return new kD(this.scene,e)});wt(window,"RexPlugins.UI.Pinch",kD);At.register("rotate",function(e){return new t6(this.scene,e)});wt(window,"RexPlugins.UI.Rotate",t6);const G2t=Phaser.Utils.Objects.IsPlainObject,UR=Phaser.Utils.Objects.GetValue;var XR=function(e,t,i){var n;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(G2t(e)){var d=e;e=UR(d,"key",i.texture.key),t=UR(d,"frame",i.frame.name)}else typeof e=="string"||(n=e);return n===void 0&&(n=function(C){C.setTexture(e,t)}),n};const Id=Phaser.Utils.Objects.GetValue,N2t=Phaser.Utils.Objects.GetAdvancedValue,V2t=Phaser.Math.Linear;class VF extends q0{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(N2t(t,"duration",500)),this.setEase(Id(t,"ease","Sine")),this.setOrientation(Id(t,"orientation",0)),this.setFrontFace(Id(t,"front",void 0)),this.setBackFace(Id(t,"back",void 0)),this.setFace(Id(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=z2t[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=U2t[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=XR(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=XR(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var n=i.t;i.isOddIteration&&(n=1-n),n=this.easeFn(n);var d=V2t(this.scale0,0,n);this.orientation===0?t.scaleX=d:t.scaleY=d}}const z2t={x:0,horizontal:0,y:1,vertical:1},U2t={front:0,back:1};At.register("flip",function(e,t){return new VF(e,t)});wt(window,"RexPlugins.UI.Flip",VF);At.register("shake",function(e,t){return new $5(e,t)});wt(window,"RexPlugins.UI.Shake",$5);At.register("touchEventStop",function(e,t){return new B2(e,t)});wt(window,"RexPlugins.UI.TouchEventStop",B2);At.register("perspective",function(e,t){return new fF(e,t)});wt(window,"RexPlugins.UI.Perspective",fF);const zF=Phaser.Math.RotateAround;var k1=function(e,t,i){var n=e.width/2,d=e.height/2;return vs.x=t-n,vs.y=i-d,zF(vs,0,0,e.rotation),vs.x*=e.scaleX,vs.y*=e.scaleY,vs.x+=e.x,vs.y+=e.y,vs},X2t=function(e,t,i){var n=e.width/2,d=e.height/2;return vs.x=t-e.x,vs.y=i-e.y,vs.x/=e.scaleX,vs.y/=e.scaleY,zF(vs,0,0,-e.rotation),vs.x+=n,vs.y+=d,vs},vs={x:0,y:0};class H2t{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var n=this.parent,d=n.height,C=n.frame.cutWidth/d/2,r=n.frame.cutHeight/d/2,x=t/d-C,s=i/d-r,a=this.vertex;return a.x=x,a.y=-s,n.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,n){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,n||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var n=X2t(this.parent,t,i);return this.setLocalXY(n.x,n.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return k1(this.parent,this._localX,this._localY)}get x(){var t=k1(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=k1(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const Y2t=Phaser.Geom.Mesh.Vertex,W2t=Phaser.Geom.Mesh.Face;var $2t=function(e){for(var t=e.isNinePointMode,i=t?9:4,n=e.vertices,d=e.faces,C=e.controlPoints,r=0;r<i;r++){var x=new Y2t;n.push(x),C.push(new H2t(e,x))}var s;t?s=J2t:e.fourPointsModeRTL?s=Z2t:s=K2t;for(var r=0,a=s.length;r<a;r+=3){var g=n[s[r+0]],c=n[s[r+1]],h=n[s[r+2]];d.push(new W2t(g,c,h))}t?(e.topLeft=C[0],e.topCenter=C[1],e.topRight=C[2],e.centerLeft=C[3],e.center=C[4],e.centerRight=C[5],e.bottomLeft=C[6],e.bottomCenter=C[7],e.bottomRight=C[8]):(e.topLeft=C[0],e.topRight=C[1],e.bottomLeft=C[2],e.bottomRight=C[3])};const K2t=[0,2,3,0,3,1],Z2t=[1,3,2,1,2,0],J2t=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Q2t=function(e){var t,i=0,n=e.height,d=0,C=e.width;if(e.isNinePointMode){var r=(d+C)/2,x=(i+n)/2;t=[d,i,r,i,C,i,d,x,r,x,C,x,d,n,r,n,C,n]}else t=[d,i,C,i,d,n,C,n];return t};const j2t=Phaser.Utils.Objects.IsPlainObject,Mh=Phaser.Utils.Objects.GetValue;let q2t=class extends nF{constructor(t,i,n,d,C,r){j2t(i)&&(r=i,i=Mh(r,"x",0),n=Mh(r,"y",0),d=Mh(r,"key",null),C=Mh(r,"frame",null)),super(t,i,n,d,C),this.type="rexQuadImage",this.isNinePointMode=Mh(r,"ninePointMode",!1),this.fourPointsModeRTL=Mh(r,"rtl",!1),this.controlPoints=[],$2t(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,n=this.controlPoints.length;i<n;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Q2t(this),i=this.width,n=this.height,d=this.frame.cutWidth/n/2,C=this.frame.cutHeight/n/2,r=this.frame.u0,x=this.frame.u1,s=this.frame.v0,a=this.frame.v1,g=x-r,c=a-s,h=this.controlPoints,l=0,o=t.length;l<o;l+=2){var u=t[l+0],v=t[l+1],f=l/2,p=u/n-d,m=v/n-C,y=r+g*(u/i),S=s+c*(v/n);this.vertices[f].set(p,-m,0).setUVs(y,S),h[f].resetLocalXY(u,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var HR=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var n=e.width,d=e.height,C=n*.5,r=d*.5,x=Math.tan(t)*r,s=Math.tan(i)*C,a=e.controlPoints,g=0,c=a.length;g<c;g++){var h=a[g],l=h.localXOrigin,o=h.localYOrigin;h.localX=l+(o>r?x:-x),h.localY=o+(l>C?s:-s)}};const _2t=Phaser.Utils.Objects.IsPlainObject,Fv=Phaser.Utils.Objects.GetValue,YR=Phaser.Math.DegToRad,WR=Phaser.Math.RadToDeg;class tgt extends q2t{constructor(t,i,n,d,C){if(_2t(i)){var r=i;i=Fv(r,"x",0),n=Fv(r,"y",0),d=Fv(r,"key",null),C=Fv(r,"frame",null)}super(t,i,n,d,C),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,HR(this,this._skewX,this._skewY)}get skewXDeg(){return WR(this._skewX)}set skewXDeg(t){this.skewX=YR(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,HR(this,this._skewX,this._skewY)}get skewYDeg(){return WR(this._skewY)}set skewYDeg(t){this.skewY=YR(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const egt=Phaser.Utils.Objects.IsPlainObject,Bv=Phaser.Utils.Objects.GetValue;class igt extends tgt{constructor(t,i,n,d,C){if(egt(i)){var r=i;i=Bv(r,"x",0),n=Bv(r,"y",0),d=Bv(r,"width",32),C=Bv(r,"height",32)}var x=lF(t,d,C);super(t,i,n,x,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class UF extends dF(igt){get skewState(){return this.isRunning}}At.register("skew",function(e,t){return new UF(e,t)});wt(window,"RexPlugins.UI.Skew",UF);At.register("anchor",function(e,t){return new Y5(e,t)});wt(window,"RexPlugins.UI.Anchor",Y5);At.register("textTyping",function(e,t){return new ug(e,t)});wt(window,"RexPlugins.UI.TextTyping",ug);At.register("textPage",function(e,t){return new hg(e,t)});wt(window,"RexPlugins.UI.TextPage",hg);var Dh=void 0,sgt=function(e){e!==Dh&&(Dh!==void 0&&Dh.close(),Dh=e)},ngt=function(e){e===Dh&&(Dh=void 0)};const Mr=Phaser.Utils.Objects.GetValue,rgt=Phaser.Utils.Objects.Clone;var agt=function(e,t){t===void 0&&(t={}),t=rgt(t);var i=e.scene,n=e.style,d=Mr(t,"backgroundColor",n.backgroundColor);d===null&&(d="transparent"),t.text=Mr(t,"text",e.text),t.fontFamily=Mr(t,"fontFamily",n.fontFamily),t.fontSize=Mr(t,"fontSize",n.fontSize),t.color=Mr(t,"color",n.color),t.backgroundColor=d,t.direction=Mr(t,"rtl",n.rtl)?"rtl":"ltr",t.align=Mr(t,"align",ogt(n)),t.direction==="rtl"&&d6(e)&&(t.align="right");var C=e.padding;C.left>0&&(t.paddingLeft=`${C.left}px`),C.right>0&&(t.paddingRight=`${C.right}px`),n.backgroundCornerRadius&&(t.borderRadius=Mr(t,"borderRadius",`${n.backgroundCornerRadius}px`));var r=new $2(i,e.x,e.y,Mr(t,"width",e.width),Mr(t,"height",e.height),t);r.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var x=e.parentContainer;return x?x.add(r):i.add.existing(r),r},ogt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},lgt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const A0=Phaser.Utils.Objects.GetValue,hgt=Phaser.Utils.Objects.Merge;var ugt=function(e,t){e===void 0&&(e={}),e=hgt(e,this.openConfig),sgt(this),er(e)&&(t=e,e=void 0);var i=A0(e,"inputType",void 0);i===void 0&&(i=A0(e,"type","text")),t===void 0&&(t=A0(e,"onClose",void 0));var n=A0(e,"onCreate",void 0),d=A0(e,"onOpen",void 0),C=A0(e,"onTextChanged",void 0);return this.inputText=agt(this.parent,e),n&&n(this.parent,this.inputText),this.inputText.on("textchange",function(r){var x=r.text;C?C(this.parent,x):this.parent.text=x},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,A0(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=lgt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),d&&d(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},dgt=function(){return ngt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},fgt={open:ugt,close:dgt};const cgt=Phaser.Utils.Objects.GetValue;class pg extends ai{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var n=cgt(i,"clickEnable",!0);n&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(pg.prototype,fgt);var vgt=function(e,t,i){return e._edit||(e._edit=new pg(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};At.register("textEdit",function(e,t){return new pg(e,t)});wt(window,"RexPlugins.UI.TextEdit",pg);At.register("layerManager",function(e){return new C2(this.scene,e)});wt(window,"RexPlugins.UI.LayerManager",C2);class XF extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new At(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,n,d){return t.visible?Fr(t,i,n,d):!1}get viewport(){return eu(this.scene,this.scene.cameras.main,!0)}}var pgt={getParentSizer:hn,getTopmostSizer:cD,removeFromParent:O0,hide:Mo,show:Po,isShown:K5,confirmAction:BL,edit:vgt,wrapExpandText:Jp,fontSizeExpandText:jp,fontSizeResize:Qp,setFontSizeToFitWidth:Qp,waitEvent:E2,waitComplete:os,delayPromise:jD,setChildrenInteractive:z2,fadeIn:O2,fadeOutDestroy:D2,easeMoveTo:wD,easeMoveFrom:PD,modal:Q5,modalPromise:kst,modalClose:LD,requestDrag:wF,openFileChooser:_D};Object.assign(XF.prototype,pgt);class Iv extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C="ground-icons",r=0,x=!0,s){super(i,n,d,C,r);it(this,"isMovingToPlayer",!1);it(this,"isFollowingPlayer",!1);it(this,"isInteractable",!0);it(this,"onClaim");this.isInteractable=x,this.onClaim=s,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setImmovable(!0),this.setInteractive(),this.isInteractable?this.on("pointerdown",a=>{a.button===0&&this.moveToPlayer()}):this.on("pointerdown",a=>{a.button===0&&this.claimByTween()})}moveToPlayer(){this.scene.player.pickupItems(this),this.isMovingToPlayer=!0}throw(){this.isFollowingPlayer=!1;const i=this.scene.player;if(!i||!i.facing)return;const n=50,d=this.body;switch(i.facing){case"up":d.setVelocity(0,-n);break;case"down":d.setVelocity(0,n);break;case"left":d.setVelocity(-n,0);break;case"right":d.setVelocity(n,0);break}this.scene.time.delayedCall(Dt/1.5,()=>{this.setVelocity(0)})}update(){const i=this.scene.player;if(!i)return;const n=i.x,d=i.y-15;this.isMovingToPlayer?Phaser.Math.Distance.Between(this.x,this.y,n,d)<8?(this.isMovingToPlayer=!1,this.isFollowingPlayer=!0,this.setPosition(n,d),this.setVelocity(0)):this.scene.physics.moveTo(this,n,d,50):this.isFollowingPlayer&&this.setPosition(n,d)}claimByTween(){const i=this.scene.player;i&&this.scene.tweens.add({targets:this,x:i.x,y:i.y,scale:.2,alpha:0,duration:500,ease:"Power2",onComplete:()=>{var n;(n=this.onClaim)==null||n.call(this),this.destroy()}})}}const me=Ir()(zo((e,t)=>({x:jd,y:qd,gold:0,level:1,exp:0,serverData:null,skills:tU(),isSyncSuccessfully:!1,setGold:i=>{e({gold:i})},setLevel:i=>{e({level:i})},setPosition:(i,n)=>{e({x:i,y:n})},characterName:"",characterType:null,bornAt:new Date().toDateString(),setBornAt(i){e({bornAt:i})},setCharacterType:i=>{e({characterType:i})},setCharacterName:i=>{e({characterName:i})},setExp:i=>e({exp:i}),setSkillData:(i,n)=>{const d={...t().skills};d[i]=n,e({skills:d})},setSkillExp:(i,n)=>{const d={...t().skills},C=d[i]||{level:1,exp:0};d[i]={...C,exp:n},e({skills:d})},setSkills:i=>{e({skills:i})},syncOfflineData:async i=>{let n=!1;try{e({isSyncSuccessfully:!1}),ee.getState().setIsLoadingGame(!0);const d=await Zd.post("/api/player/sync-offline-data",i);d.status===200&&!d.message?(n=!0,e({isSyncSuccessfully:!0}),ee.getState().setLastUpdate(Date.now())):Ce.error(d.message)}catch(d){Ce.error(d==null?void 0:d.message)}finally{ee.getState().setIsLoadingGame(!1)}return n},getOfflineData:async()=>{let i=null;try{ee.getState().setIsLoadingGame(!0);const n=await Zd.get("/api/player/get-offline-data");n.data&&(i=n.data,e({serverData:n.data}))}catch(n){Tt.error(n==null?void 0:n.message)}finally{ee.getState().setIsLoadingGame(!1)}return i},version:1,setVersion(i){e({version:i})}}),{name:Gh,storage:RI,partialize:e=>({characterType:e.characterType,characterName:e.characterName,x:e.x,y:e.y,gold:e.gold,level:e.level,bornAt:e.bornAt,skills:e.skills,exp:e.exp,version:e.version})}));class ggt{constructor(t){it(this,"lastSavedAt",0);it(this,"lastSavedPos",{x:0,y:0});it(this,"interval",5*Dt);it(this,"threshold",4);this.player=t}async update(){const t=Date.now(),{x:i,y:n}=this.player;Phaser.Math.Distance.Between(i,n,this.lastSavedPos.x,this.lastSavedPos.y)>this.threshold&&t-this.lastSavedAt>this.interval&&(this.lastSavedAt=t,this.lastSavedPos={x:i,y:n},await this.saveToIndexedDB({x:i,y:n}))}async saveToIndexedDB(t){const{setPosition:i}=me.getState();i(t.x,t.y)}}const Gt={Primary:2600544,SecondaryHex:"#f39c12",AccentHex:"#2980b9",Success:3066993,SuccessHex:"#2ecc71",Danger:15158332,DangerHex:"#e74c3c",BgLight:15528177,BgDark:2899536,BgDarkHex:"#2c3e50",TextLight:"#ffffff",TextDark:"#2d3436",Light:16764006},mgt={XS:"12px"},Et={Padding:10},xgt={Morning:"#FFF2CC",Noon:"#FFFFFF",Afternoon:"#FFD580",Evening:"#FF9E80",Night:"#1A237E"},df="roboto",be={fontFamily:df,color:Gt.TextDark,fontSize:mgt.XS,backgroundColor:"transparent",fontStyle:"bold"};class ygt{constructor(t,i,n,d=60){it(this,"scene");it(this,"baseX");it(this,"baseY");it(this,"radius");it(this,"bgCircle");it(this,"stick");it(this,"direction",{x:0,y:0});it(this,"player",null);it(this,"isDragging",!1);this.scene=t,this.baseX=i,this.baseY=n,this.radius=d,this.createJoystick()}setPlayer(t){this.player=t}createJoystick(){this.bgCircle=this.scene.add.circle(this.baseX,this.baseY,this.radius,Gt.BgDark,.3).setScrollFactor(0),this.stick=this.scene.add.circle(this.baseX,this.baseY,30,Gt.BgLight,.9).setScrollFactor(0).setInteractive({draggable:!0}),this.scene.input.setDraggable(this.stick),this.stick.on("drag",(t,i,n)=>{this.isDragging=!0;const d=i-this.baseX,C=n-this.baseY,r=Math.sqrt(d*d+C*C);let x=i,s=n;if(r>this.radius){const c=Math.atan2(C,d);x=this.baseX+Math.cos(c)*this.radius,s=this.baseY+Math.sin(c)*this.radius}this.stick.setPosition(x,s);const a=(x-this.baseX)/this.radius,g=(s-this.baseY)/this.radius;this.direction={x:a,y:g}}),this.stick.on("dragend",()=>{this.isDragging=!1,this.stick.setPosition(this.baseX,this.baseY),this.direction={x:0,y:0},this.handleMoveEnd()})}update(){this.isDragging&&this.player&&this.handleMove()}handleMoveEnd(){this.safePlayerAction(t=>{t.isUsingJoystick=!1,t.setVelocity(0,0),t.moving=!1})}handleMove(){this.safePlayerAction(t=>{t.isUsingJoystick=!0,t.moveTarget=null;const i=t.getStatusManager().getStatus().speed||0,n=Math.hypot(this.direction.x,this.direction.y)||1,d=n>=.8,C=d?i*t.RUN_MULTIPLIER:i;t.isRunning=d,t.setVelocity(this.direction.x/n*C,this.direction.y/n*C),t.moving=!0,Math.abs(this.direction.x)>Math.abs(this.direction.y)?(t.facing=this.direction.x>0?"right":"left",t.setFlipX(this.direction.x<0)):t.facing=this.direction.y>0?"down":"up"})}safePlayerAction(t){this.player&&this.player.body&&t(this.player)}getDirection(){return this.direction}updatePosition(t,i){this.baseX=t,this.baseY=i,this.bgCircle.setPosition(t,i),this.stick.setPosition(t,i),this.direction={x:0,y:0},this.handleMoveEnd()}getPlayer(){return this.player}destroy(){this.stick.destroy(),this.bgCircle.destroy(),this.player=null}}class Sgt{constructor(t,i,n,d,C,r=30){it(this,"container");it(this,"circle");it(this,"label");it(this,"callback");this.callback=C,this.circle=t.add.circle(0,0,r,Gt.BgLight,.9).setStrokeStyle(2,Gt.Danger),this.label=t.add.text(0,0,d,be).setOrigin(.5),this.container=t.add.container(i,n,[this.circle,this.label]).setScrollFactor(0),this.container.setSize(r*2,r*2),this.container.setInteractive(),this.container.on("pointerdown",()=>{this.circle.setScale(Bt/2)}),this.container.on("pointerup",()=>{this.circle.setScale(Bt/2),this.callback&&this.callback()}),this.container.on("pointerout",()=>{this.circle.setScale(Bt/2)})}setPosition(t,i){this.container.setPosition(t,i)}destroy(){this.container.destroy()}setVisible(t){this.container.setVisible(t)}setCallback(t){this.callback=t}}const Fn=Ir()(zo(e=>({lastDevice:"Desktop",setLastDevice:t=>{e({lastDevice:t})},currentWeather:"Cloudy",setCurrentWeather:t=>{e({currentWeather:t})},lastWeather:"Sunny",setLastWeather:t=>{e({lastWeather:t})},totalGameMinutes:.3*Dt,setTotalGameMinutes:t=>{e({totalGameMinutes:t})},lastPhase:"Morning",lastSeason:"Spring",setLastPhase:t=>{e({lastPhase:t})},setLastSeason(t){e({lastSeason:t})},version:1,setVersion:t=>{e({version:t})}}),{name:Ih,storage:MI,partialize:e=>({lastDevice:e.lastDevice,currentWeather:e.currentWeather,lastWeather:e.lastWeather,totalGameMinutes:e.totalGameMinutes,lastPhase:e.lastPhase,lastSeason:e.lastSeason,version:e.version})})),HF=Ir()(zo(e=>({logs:[],updateLogs:t=>e(i=>({logs:[t,...i.logs].slice(0,20)})),version:1,setVersion:t=>{e({version:t})}}),{name:kh,storage:AI,partialize:e=>({animals:e.logs,version:e.version})})),Cgt=[[0,1,2],[7,8,9],[14,15,16]],co=class co{constructor(t){it(this,"scene");it(this,"slotSize",4*Et.Padding);it(this,"progressBar");it(this,"barX");it(this,"barY");it(this,"barWidth");it(this,"barHeight");it(this,"lastProgress",0);it(this,"loadingText");it(this,"joystick",null);it(this,"mobileActionButton",null);it(this,"healthBar");it(this,"healthBarValue");it(this,"energyBar");it(this,"energyBarValue");it(this,"thirstBar");it(this,"thirstBarValue");it(this,"clock");it(this,"clockHand");it(this,"timeBg");it(this,"timeValue");it(this,"timeWeekdayValue");it(this,"goldBg");it(this,"goldValue");it(this,"goldUnsubscribe");it(this,"weatherIcon");it(this,"seasonIcon");it(this,"slots");it(this,"slotsElement");it(this,"slotItems",[]);it(this,"slotImageTrash",null);it(this,"isShopDialogOpen",!1);it(this,"shopDialog");it(this,"slotUnsubscribe");it(this,"toastManager");it(this,"popover",null);it(this,"popoverWrapper",null);it(this,"updateLayoutLoading",()=>{const t=this.scene.scale.width/2,i=this.scene.scale.height/2;this.loadingText.setPosition(t,i-4*Et.Padding),this.barWidth=this.scene.scale.width*.5,this.barHeight=2*Et.Padding,this.barX=t-this.barWidth/2,this.barY=i,this.updateProgress(this.lastProgress)});this.scene=t,this.popover=null,this.popoverWrapper=null,this.slots=[],this.slotsElement=[],this.slotItems=ee.getState().shortcutItems}static getInstance(t){if(co.instance)t&&co.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");co.instance=new co(t)}return co.instance}setScene(t){this.scene=t}getScene(){return this.scene}setToastManager(t){this.toastManager=t}toast(t,i){var n;(n=this.toastManager)==null||n.showToast(t,i)}createDragEvents(){this.scene.input.on("gameobjectover",()=>{Os.emit("cursor-hover",!0)}),this.scene.input.on("gameobjectout",()=>{Os.emit("cursor-hover",!1)})}createAnimations(t){Rh(t,"hud-menu-button",[{key:"button",frame:80},{key:"button",frame:133}]),Rh(t,"hud-bag-button",[{key:"button",frame:105},{key:"button",frame:158}]),Rh(t,"hud-book-button",[{key:"button",frame:96},{key:"button",frame:149}]),Rh(t,"hud-quit-button",[{key:"button",frame:67},{key:"button",frame:120}]),Ws(t,"clock-hand",{textureKey:"clock-hand",start:0,end:7,frameRate:8/(.6*Dt),repeat:-1})}initLoading(){const t=this.scene.scale.width/2,i=this.scene.scale.height/2;this.loadingText=this.scene.add.text(t,i-4*Et.Padding,"Đang tải trò chơi...",{...be,color:Gt.TextLight}).setOrigin(.5),this.barWidth=this.scene.scale.width*.5,this.barHeight=2*Et.Padding,this.barX=t-this.barWidth/2,this.barY=i,this.progressBar=this.scene.add.graphics(),this.progressBar.fillStyle(Gt.Success,1),this.progressBar.fillRect(this.barX,this.barY,0,this.barHeight),this.scene.scale.on("resize",this.updateLayoutLoading,this)}updateProgress(t){this.lastProgress=t,this.progressBar&&(this.progressBar.clear(),this.progressBar.fillStyle(Gt.Success,1),this.progressBar.fillRect(this.barX,this.barY,this.barWidth*t,this.barHeight))}initJoyStickMobile(t){this.joystick&&(this.joystick.destroy(),this.joystick=null);const i=7*Et.Padding+5,n=i,d=this.scene.cameras.main.height-2*i;this.joystick=new ygt(this.scene,n,d,5*Et.Padding),this.joystick.setPlayer(t)}destroyJoyStick(){this.joystick&&(this.joystick.destroy(),this.joystick=null)}initMobileActionButton(t){this.mobileActionButton&&(this.mobileActionButton.destroy(),this.mobileActionButton=null);const i=7*Et.Padding+5,n=this.scene.scale.width-i,d=this.scene.scale.height-2*i;this.mobileActionButton=new Sgt(this.scene,n,d,"🔫",t)}destroyMobileActionButton(){this.mobileActionButton&&(this.mobileActionButton.destroy(),this.mobileActionButton=null)}initHUD(){const t=this.scene.scene.get(Ht.GLOBAL),{soundController:i}=Ze(t),n=Et.Padding,d=ut*Bt,{popupController:C,inventoryController:r}=ti(this.scene);this.scene.add.sprite(n+d/2,n+d/2,"icon-menu").setInteractive().setScale(Bt).on("pointerdown",p=>{p.button===0&&(C==null||C.showPopup("Menu","menu",{cancelText:"Đóng",onCancel:()=>{Tt.debug("Đóng menu"),this.activeButtonPressSfx()}}),this.activeButtonPressSfx())}).play("hud-menu-button"),this.scene.add.sprite(n+d/2,n*2+d*1.5,"icon-bag").setInteractive().setScale(Bt).on("pointerdown",p=>{p.button===0&&(C==null||C.showPopup("Túi đồ","menu-inventory",{cancelText:"Đóng",onCancel:()=>{r.closePopover(),Tt.debug("Đóng kho đồ"),this.activeButtonPressSfx()}}),this.activeButtonPressSfx())}).play("hud-bag-button"),this.scene.add.sprite(n+d/2,n*3+d*2.5,"icon-book").setInteractive().setScale(Bt).on("pointerdown",p=>{p.button===0&&(C==null||C.showPopup("Bộ sưu tập","book",{cancelText:"Đóng",onCancel:()=>{Tt.debug("Đóng bộ sưu tập"),this.activeButtonPressSfx()}}),this.activeButtonPressSfx())}).play("hud-book-button"),this.scene.add.sprite(n+d/2,n*7+d*2.5,"icon-quit").setInteractive().setScale(Bt).on("pointerdown",p=>{p.button===0&&(C==null||C.showPopup("Thoát game","quit",{cancelText:"Đóng",onCancel:()=>{Tt.debug("Đóng Thoát game"),this.activeButtonPressSfx()}}),this.activeButtonPressSfx())}).play("hud-quit-button"),this.clock=this.scene.add.image(this.scene.scale.width-8*Et.Padding,Et.Padding,"clock-clock").setScale(Bt).setOrigin(1,0).setDepth(Ut.PRIORITY).setFlipY(!1),this.clockHand=this.scene.add.sprite(this.scene.scale.width-(10*Et.Padding+12),4*Et.Padding,"clock-hand").setScale(Bt).setDepth(2*Ut.PRIORITY),this.clockHand.play("clock-hand"),this.timeBg=this.scene.add.image(this.scene.scale.width-Et.Padding,Et.Padding,"clock-extras",4).setScale(Bt).setOrigin(1,0),this.timeValue=this.scene.add.text(this.scene.scale.width-(2*Et.Padding+4),2*Et.Padding+4,"09:00 AM",be).setOrigin(1,0),this.timeWeekdayValue=this.scene.add.text(this.scene.scale.width-(4*Et.Padding+2),4*Et.Padding+6,"Fri. 13",be).setOrigin(1,0),this.goldBg=this.scene.add.image(this.scene.scale.width-Et.Padding,4*Et.Padding+8,"clock-extras",1).setScale(Bt).setOrigin(1,0);const{gold:c}=me.getState();this.goldValue=this.scene.add.text(this.scene.scale.width-2*Et.Padding,8*Et.Padding,lw(c),{...be,color:Gt.TextLight,letterSpacing:this.scene.game.device.os.desktop?3.5:1.5,backgroundColor:Gt.BgDarkHex,padding:{x:5},fontStyle:"bold"}).setOrigin(1,0),this.goldUnsubscribe=me.subscribe((p,m)=>{p.gold!==m.gold&&(this.goldValue.setText(lw(p.gold)),HF.getState().updateLogs({source:"gold",after:p.gold,before:m.gold})),p.gold>m.gold&&i.playSfx("sfxDropCollectGold",{loop:!1})}),this.healthBar=this.scene.add.image(this.scene.scale.width-Et.Padding,9*Et.Padding+6,"bars",26).setScale(Bt).setOrigin(1,0),this.healthBarValue=this.scene.add.image(this.scene.scale.width-Et.Padding,9*Et.Padding+6,"bars",21).setScale(Bt).setCrop(0,0,32,16).setOrigin(1,0),this.energyBar=this.scene.add.image(this.scene.scale.width-Et.Padding,10*Et.Padding+12,"bars",27).setScale(Bt).setOrigin(1,0),this.energyBarValue=this.scene.add.image(this.scene.scale.width-Et.Padding,10*Et.Padding+12,"bars",25).setScale(Bt).setCrop(0,0,2*ut,ut).setOrigin(1,0),this.thirstBar=this.scene.add.image(this.scene.scale.width-Et.Padding,12*Et.Padding+8,"bars",30).setScale(Bt).setOrigin(1,0),this.thirstBarValue=this.scene.add.image(this.scene.scale.width-Et.Padding,12*Et.Padding+8,"bars",29).setScale(Bt).setCrop(0,0,2*ut,ut).setOrigin(1,0),this.weatherIcon=this.scene.add.image(this.scene.scale.width-15*Et.Padding,8*Et.Padding+4,"weather-icons",1).setScale(Bt);const{lastSeason:h}=Fn.getState();this.seasonIcon=this.scene.add.image(this.scene.scale.width-18*Et.Padding,8*Et.Padding+4,"weather-icons",10).setScale(Bt);const l=p=>{switch(Tt.debug("seasonChanged",p),p){case"Spring":this.seasonIcon.setFrame(10);break;case"Summer":this.seasonIcon.setFrame(11);break;case"Autumn":this.seasonIcon.setFrame(12);break;case"Winter":this.seasonIcon.setFrame(13);break;default:this.seasonIcon.setFrame(10)}};l(h),Os.on("seasonChanged",l),this.scene.events.once(Phaser.Scenes.Events.SHUTDOWN,()=>{Os.off("seasonChanged",l)});const o=8,{width:u,height:v}=this.scene.scale,f=o*this.slotSize;this.renderShortcutBar(ee.getState().shortcutItems),this.slotUnsubscribe=ee.subscribe((p,m)=>{p.shortcutItems!==m.shortcutItems&&(this.renderShortcutBar(ee.getState().shortcutItems),this.updateShortcutPosition(),this.updateSlotsBorder())}),this.slotImageTrash=this.scene.add.image(f+u/2-13*Et.Padding,v-(5*Et.Padding+5),"hud",5).setScale(Bt).setInteractive().on("pointerdown",p=>{if(p.button===0){Tt.debug("Trashed!");const m=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:y,usableController:S}=Ze(m),T=y.getEquippedItem("tool")||y.getEquippedItem("weapon")||S.getEquippedItem("seed");T&&ee.getState().removeItemFromShortcut(T),this.activeButtonPressSfx()}}),this.updateHUDPositions(),this.scene.scale.on("resize",()=>{this.updateHUDPositions()})}updateHUDPositions(){var C,r,x,s;const{width:t,height:i}=this.scene.scale,n=this.slots.length*this.slotSize,d=7*Et.Padding+5;(C=this.joystick)==null||C.updatePosition(d,i-2*d),(r=this.mobileActionButton)==null||r.setPosition(t-d,i-2*d),(x=this.slotImageTrash)==null||x.setPosition(n+t/2-13*Et.Padding,i-(5*Et.Padding+5)),(s=this.shopDialog)==null||s.setPosition(t/2,i/2),this.clock.setPosition(t-8*Et.Padding,Et.Padding),this.clockHand.setPosition(t-(10*Et.Padding+12),4*Et.Padding),this.timeBg.setPosition(t-Et.Padding,Et.Padding),this.timeValue.setPosition(t-(2*Et.Padding+4),2*Et.Padding+4),this.timeWeekdayValue.setPosition(t-(4*Et.Padding+2),4*Et.Padding+6),this.goldBg.setPosition(t-Et.Padding,4*Et.Padding+8),this.goldValue.setPosition(t-2*Et.Padding,8*Et.Padding),this.healthBar.setPosition(t-Et.Padding,9*Et.Padding+6),this.healthBarValue.setPosition(t-Et.Padding,9*Et.Padding+6),this.energyBar.setPosition(t-Et.Padding,10*Et.Padding+12),this.energyBarValue.setPosition(t-Et.Padding,10*Et.Padding+12),this.thirstBar.setPosition(t-Et.Padding,12*Et.Padding+8),this.thirstBarValue.setPosition(t-Et.Padding,12*Et.Padding+8),this.weatherIcon.setPosition(t-15*Et.Padding,8*Et.Padding+4),this.seasonIcon.setPosition(t-18*Et.Padding,8*Et.Padding+4),this.updateShortcutPosition()}updateShortcutPosition(){const{width:t,height:i}=this.scene.scale,n=this.slots.length*this.slotSize,d=(t-n)/2-(2*Et.Padding+8),C=i-10*Et.Padding;this.slots.forEach((r,x)=>{r.x=d+x*this.slotSize,r.y=C});for(let r=0;r<this.slots.length;r++){const x=this.slots[r],s=this.slotsElement[r];if(!x||!s)continue;const a=ut*3*Bt/2;s.x=x.x+a,s.y=x.y+a}}renderShortcutBar(t){this.destroySlotBars();const{width:i,height:n}=this.scene.scale,d=8,C=d*this.slotSize,r=(i-C)/2-(2*Et.Padding+8);this.slotItems=t;for(let x=0;x<d;x++){const s=x===0,a=x===d-1,g=r+x*this.slotSize,c=n-10*Et.Padding,h=this.createSlot(g,c,"slots",Cgt,s,a,x);this.slots.push(h)}}createSlot(t,i,n,d,C,r,x){const{inventoryController:s}=ti(this.scene),a=this.scene.add.container(t,i);for(let v=0;v<3;v++)for(let f=0;f<3;f++){let p=d[1][1];v===0?f===0&&C?p=d[0][0]:f===2&&r?p=d[0][2]:p=d[0][1]:v===1?f===0&&C?p=d[1][0]:f===2&&r?p=d[1][2]:p=d[1][1]:v===2&&(f===0&&C?p=d[2][0]:f===2&&r?p=d[2][2]:p=d[2][1]);const m=this.scene.add.image(f*ut,v*ut,n,p).setOrigin(0);a.add(m)}a.setScale(Bt);const g=ut*3*Bt/2,c=this.slotItems[x],h=!!c,l=t+(h?ut:g),o=i+(h?ut:g);let u;if(h){u=this.scene.add.container(l,o);const v=this.scene.add.container(0,0),f=this.scene.add.image(0,0,"slots",4).setOrigin(0).setScale(Bt),p=this.scene.add.image(ut*Bt,0,"slots",5).setOrigin(0).setScale(Bt),m=this.scene.add.image(0,ut*Bt,"slots",11).setOrigin(0).setScale(Bt),y=this.scene.add.image(ut*Bt,ut*Bt,"slots",12).setOrigin(0).setScale(Bt);v.add([f,p,m,y]),v.x=-ut*2-12,v.y=-ut*2-8,v.setScale(1.3),v.setDepth(Ut.PRIORITY),v.setVisible(!1),u.setData("outerBg",v);const S=this.scene.add.container(0,0),T=this.scene.add.image(0,0,"slots",23).setOrigin(0).setScale(Bt),b=this.scene.add.image(ut*Bt,0,"slots",24).setOrigin(0).setScale(Bt),P=this.scene.add.image(0,ut*Bt,"slots",30).setOrigin(0).setScale(Bt),w=this.scene.add.image(ut*Bt,ut*Bt,"slots",31).setOrigin(0).setScale(Bt);S.add([T,b,P,w]),S.x=-ut*2,S.y=-ut*2,S.setVisible(!1),u.setData("activeBg",S);const A=this.scene.add.container(0,0),R=this.scene.add.image(0,0,"slots",21).setOrigin(0).setScale(Bt),D=this.scene.add.image(ut*Bt,0,"slots",22).setOrigin(0).setScale(Bt),L=this.scene.add.image(0,ut*Bt,"slots",28).setOrigin(0).setScale(Bt),k=this.scene.add.image(ut*Bt,ut*Bt,"slots",29).setOrigin(0).setScale(Bt);A.add([R,D,L,k]),A.x=-ut*2,A.y=-ut*2,u.setData("innerBg",A);const{atlasKey:B,frame:F}=s.getItemIconConfig(c),G=this.scene.add.image(0,-2,B,F).setScale(Bt).setOrigin(.5);if(u.add([v,A,S,G]),c.quantity>1){const N=this.scene.add.text(ut*Bt/2-10,ut*Bt/2-8,`${c.quantity}`,{...be,color:Gt.TextLight,backgroundColor:Gt.BgDarkHex}).setOrigin(.5);u.add(N)}u.setSize(ut*Bt,ut*Bt)}else{u=this.scene.add.container(l,o);const v=this.scene.add.container(0,0),f=this.scene.add.image(0,0,"slots",21).setOrigin(0).setScale(Bt),p=this.scene.add.image(ut*Bt,0,"slots",22).setOrigin(0).setScale(Bt),m=this.scene.add.image(0,ut*Bt,"slots",28).setOrigin(0).setScale(Bt),y=this.scene.add.image(ut*Bt,ut*Bt,"slots",29).setOrigin(0).setScale(Bt);v.add([f,p,m,y]),v.x=-ut*2,v.y=-ut*2,u.add([v]),u.setSize(ut*Bt,ut*Bt)}return u.setInteractive().setDepth(Ut.PRIORITY).setData("item",c).on("pointerdown",v=>{if(v.button===0)if(h){const{inventoryController:f}=ti(this.scene);f.useItem(c),this.updateSlotsBorder(),this.activeButtonPressSfx()}else Tt.debug(`Slot trống vị trí: ${x}`)}),this.scene.input.setDraggable(u),this.slotsElement.push(u),a}updateSlotsBorder(){const t=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:i,usableController:n}=Ze(t);this.slotsElement.forEach(d=>{const C=d.getData("item"),r=d.getData("outerBg"),x=d.getData("innerBg"),s=d.getData("activeBg");!C||!r||(i.isEquipped(C.id)||n.isEquipped(C.id)?(r.setVisible(!0),s.setVisible(!0),x.setVisible(!1)):(r.setVisible(!1),s.setVisible(!1),x.setVisible(!0)))})}createShopButton(){var t=new zi(this.scene,{x:this.scene.scale.width-16*Et.Padding,y:3*Et.Padding+5,orientation:0,buttons:[Gz(this.scene)]}).layout();t.on("button.down",(i,n,d,C)=>{d.button===0&&(Tt.debug(`Click button cửa hàng
`),this.createShopDialog(),t.setButtonEnable(!1),setTimeout(()=>{t.setButtonEnable(!0)},Dt),this.activeButtonPressSfx())}),this.scene.scale.on("resize",()=>{t.setPosition(this.scene.scale.width-16*Et.Padding,4*Et.Padding)}),this.scene.add.existing(t)}showConfirmPopup(t,i){const n=this.scene,d=n.add.text(0,0,t,{fontSize:"18px",color:Gt.TextLight,wordWrap:{width:300},align:"center"}).setOrigin(.5),C=40,r=80,x=Math.max(250,d.width+C),s=Math.max(150,d.height+r),a=n.add.container(n.cameras.main.centerX,n.cameras.main.centerY),g=n.add.rectangle(0,0,x,s,Gt.BgDark,.8).setOrigin(.5).setStrokeStyle(2,Gt.Light);d.setY(-s/2+40);const c=n.add.text(-50,s/2-40,"Đồng ý",{fontSize:"16px",backgroundColor:Gt.SuccessHex,color:Gt.TextLight,padding:{x:10,y:5}}).setOrigin(.5).setInteractive(),h=n.add.text(50,s/2-40,"Hủy",{fontSize:"16px",backgroundColor:Gt.DangerHex,color:Gt.TextLight,padding:{x:10,y:5}}).setOrigin(.5).setInteractive();a.add([g,d,c,h]),a.setDepth(Ut.POPUP+4*Ut.PRIORITY),c.on("pointerdown",l=>{l.button===0&&(i(),a.destroy(),this.activeButtonPressSfx())}),h.on("pointerdown",l=>{l.button===0&&(a.destroy(),this.activeButtonPressSfx())})}activeButtonPressSfx(){const t=this.scene.scene.get(Ht.GLOBAL),{soundController:i}=Ze(t);i.playSfx("sfxButtonPress",{loop:!1})}showQuantityPopup(t){const i=this.scene,n=i.add.container(i.cameras.main.centerX,i.cameras.main.centerY),d=i.add.rectangle(0,0,250,150,Gt.BgDark,.8).setOrigin(.5).setStrokeStyle(2,Gt.Light),C=i.add.text(0,-50,"Nhập số lượng",{fontSize:"18px",color:Gt.TextLight}).setOrigin(.5),r=document.createElement("input");r.type="number",r.value="1",r.min="1",r.style.width="60px",r.style.textAlign="center",r.style.color=Gt.TextLight;const x=i.add.dom(0,-10,r),s=i.add.text(-50,40,"Đồng ý",{fontSize:"16px",backgroundColor:Gt.SuccessHex,color:Gt.TextLight,padding:{x:10,y:5}}).setOrigin(.5).setInteractive(),a=i.add.text(50,40,"Hủy",{fontSize:"16px",backgroundColor:Gt.DangerHex,color:Gt.TextLight,padding:{x:10,y:5}}).setOrigin(.5).setInteractive();n.add([d,C,x,s,a]),n.setDepth(Ut.POPUP+4*Ut.PRIORITY),s.on("pointerdown",()=>{const g=parseInt(r.value,10);if(isNaN(g)||g<=0){this.toastManager.showToast("Số lượng không hợp lệ!",3e3);return}const{level:c,gold:h,setGold:l}=me.getState();if(c<t.levelRequired){this.toastManager.showToast("Bạn không đủ cấp để mua vật phẩm này",3e3);return}if(h<t.price*g){this.toastManager.showToast("Bạn không đủ vàng để mua vật phẩm này",3e3);return}this.toastManager.showToast(`Đã mua ${g} vật phẩm ${t.name}`,3e3),l(h-t.price*g);const o={id:_e(),iconKey:t.iconKey,name:t.name,quantity:g,canShortcut:t.canShortcut,description:t.description,type:t.type,quality:t.quality||"normal",sellPrice:t.sellPrice};ee.getState().addInventoryItem(o),o.canShortcut&&ee.getState().addItemToShortcut(o),n.destroy()}),a.on("pointerdown",()=>{n.destroy()})}showPopover(t,i){this.closePopover();const n=this.scene.add.rectangle(0,0,this.scene.scale.width,this.scene.scale.height,Gt.BgDark,0).setOrigin(0).setInteractive().on("pointerdown",()=>{this.closePopover()}),d=this.scene.add.rectangle(0,0,25*Et.Padding,18*Et.Padding,Gt.BgDark).setStrokeStyle(2,Gt.Light).setOrigin(0),C=this.scene.add.text(Et.Padding,Et.Padding,"Mua 1",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",a=>{if(a.button===0){const{level:g,gold:c,setGold:h}=me.getState();if(g<i.levelRequired){this.toastManager.showToast("Bạn không đủ cấp để mua vật phẩm này",3e3);return}if(c<i.price){this.toastManager.showToast("Bạn không đủ vàng để mua vật phẩm này",3e3);return}this.toastManager.showToast(`Đã mua vật phẩm ${i.name} từ cửa hàng`,3e3),h(c-i.price);const l={id:_e(),iconKey:i.iconKey,name:i.name,quantity:1,canShortcut:i.canShortcut,description:i.description,type:i.type,quality:i.quality||"normal",sellPrice:i.sellPrice};if(ee.getState().addInventoryItem(l),!l.canShortcut)return;ee.getState().addItemToShortcut(l),this.closePopover()}}),r=this.scene.add.text(Et.Padding,5*Et.Padding,"Mua nhiều",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",a=>{a.button===0&&this.showQuantityPopup(i)}),x=this.scene.add.text(Et.Padding,9*Et.Padding,`${i.description}`,{...be,color:Gt.TextLight,padding:{x:2,y:1}}),s=this.scene.add.text(Et.Padding,13*Et.Padding,`(Cấp độ: ${i.levelRequired}) - Giá ${i.price} vàng`,{...be,color:Gt.TextLight,padding:{x:2,y:1}});this.popover=this.scene.add.container(t.x,t.y,[d,C,r,x,s]).setDepth(Ut.POPUP+4*Ut.PRIORITY),this.popoverWrapper=this.scene.add.container(0,0,[n,this.popover]).setDepth(Ut.POPUP+4*Ut.PRIORITY)}createShopItemGrid(){const t=ee.getState().storeDummy,{inventoryController:i}=ti(this.scene),n=2*Et.Padding,d=6,C=4,r=d*C,x=ut*Bt,s=2*Et.Padding,a=d*x+(d-1)*n,g=C*x+(C-1)*n,c=-a/2+1.5*Et.Padding,h=-g/2,l=4;let o=0;const u=this.scene.add.container(0,0);u.setSize(a,g);const v=()=>{u.removeAll(!0);const f=o*r,p=Math.min(f+r,t.length);let m=f;for(let T=0;T<C;T++)for(let b=0;b<d;b++){const P=b*(x+s)+c,w=T*(x+s)+h,A=this.scene.add.image(P,w,"inventory",1).setScale(Bt).setOrigin(.5);if(u.add(A),m<p){const R=t[m],{atlasKey:D,frame:L}=i.getItemIconConfig(R),k=this.scene.add.image(P,w,D,L).setDisplaySize(x,x).setOrigin(.5).setScale(Bt).setInteractive();if(k.on("pointerdown",B=>{B.button===0&&this.showPopover(B,R)}),u.add(k),R.quantity>1){const B=this.scene.add.text(P+x/2-ut,w+x/2-Et.Padding,`${R.quantity}`,{...be,color:Gt.TextLight,backgroundColor:Gt.AccentHex});u.add(B)}m++}else A.setInteractive().on("pointerdown",R=>{R.button===0&&Tt.debug(`Slot trống (${T}, ${b})`)})}const y=this.scene.add.image(c-5*Et.Padding,h+g/2-Et.Padding,"hud",16).setScale(Bt).setOrigin(.5).setInteractive().on("pointerdown",T=>{T.button===0&&o>0&&(o--,v())}).setAlpha(o===0?.3:1),S=this.scene.add.image(c+a+2*Et.Padding,h+g/2-Et.Padding,"hud",17).setScale(Bt).setOrigin(.5).setInteractive().on("pointerdown",T=>{T.button===0&&o<l-1&&(o++,v())}).setAlpha(o===l-1?.3:1);u.add([y,S])};return v(),u}createShopDialog(){var i,n,d;const{popupController:t}=ti(this.scene);this.isShopDialogOpen||t.getCurrentPopup()||(this.isShopDialogOpen=!0,this.shopDialog=(i=this.scene.rexUI)==null?void 0:i.add.dialog({x:this.scene.scale.width/2,y:this.scene.scale.height/2,width:40*Et.Padding,background:this.scene.add.image(0,0,"banner").setCrop(0,0,3*ut,3*ut).setScale(Bt*4).setOrigin(.5),title:this.scene.rexUI.add.label({text:this.scene.add.text(0,0,"Cửa hàng",{...be,color:Gt.SecondaryHex}),space:{left:13*Et.Padding,right:15,top:2*Et.Padding,bottom:Et.Padding}}),content:this.createShopItemGrid(),actions:[this.scene.rexUI.add.label({background:this.scene.rexUI.add.roundRectangle(0,0,10*Et.Padding,4*Et.Padding,5,Gt.Danger),text:this.scene.add.text(0,0,"Đóng",{...be,color:Gt.TextLight}),space:{left:Et.Padding,right:Et.Padding,top:5,bottom:5}})],space:{title:2*Et.Padding,content:2*Et.Padding,action:2*Et.Padding,left:2*Et.Padding,right:2*Et.Padding,top:2*Et.Padding,bottom:2*Et.Padding},align:{actions:"center"},expand:{content:!0}}).layout().setDepth(Ut.POPUP+3*Ut.PRIORITY).popUp(Ut.POPUP_SHOP),(n=this.shopDialog)==null||n.on("button.click",()=>{var C;(C=this.shopDialog)==null||C.scaleDownDestroy(.3*Dt),this.isShopDialogOpen=!1,this.activeButtonPressSfx()}),(d=this.shopDialog)==null||d.once("destroy",()=>{this.closePopover(),this.isShopDialogOpen=!1,this.shopDialog=void 0}))}destroySlotBars(){this.slots&&(this.slots.forEach(t=>{t.destroy(!0)}),this.slots=[]),this.slotsElement&&(this.slotsElement.forEach(t=>{var i;(i=t.destroy)==null||i.call(t)}),this.slotsElement=[])}getIsShopDialogOpen(){return this.isShopDialogOpen}update(t){var s,a,g,c;const i=((s=t.player)==null?void 0:s.getStatusManager().getStatus().health)||0,n=((a=t.player)==null?void 0:a.getStatusManager().getStatus().energy)||0,d=((g=t.player)==null?void 0:g.getStatusManager().getStatus().water)||0,C=Phaser.Math.Clamp(i/100,0,1),r=Phaser.Math.Clamp(n/100,0,1),x=Phaser.Math.Clamp(d/100,0,1);this.healthBarValue.setCrop(0,0,2*ut*C,ut),this.energyBarValue.setCrop(0,0,2*ut*r,ut),this.thirstBarValue.setCrop(0,0,2*ut*x,ut),(c=this.joystick)==null||c.update()}closePopover(){this.popoverWrapper&&(this.popoverWrapper.destroy(),this.popoverWrapper=void 0,this.popover&&(this.popover.destroy(!0),this.popover=void 0))}destroy(){var t,i;(t=this.goldUnsubscribe)==null||t.call(this),(i=this.slotUnsubscribe)==null||i.call(this),this.destroyJoyStick(),this.destroyMobileActionButton(),this.toastManager.destroy(),this.closePopover(),this.isShopDialogOpen=!1,this.shopDialog=void 0}};it(co,"instance",null);let di=co;class Tgt extends Phaser.GameObjects.Sprite{constructor(i,n,d,C){super(i,n,d,C);it(this,"scene");it(this,"targetX");it(this,"targetY");it(this,"speed",50);this.scene=i,this.scene.add.existing(this),this.scene.physics.add.existing(this),this.setOrigin(.5)}moveTo(i,n){this.targetX=i,this.targetY=n,this.scene.physics.moveTo(this,i,n,this.speed)}update(){this.targetX!==void 0&&this.targetY!==void 0&&Phaser.Math.Distance.Between(this.x,this.y,this.targetX,this.targetY)<4&&this.body.setVelocity(0,0)}}class bgt extends Tgt{constructor(i,n,d,C,r,x=2*Dt){super(i,n,d,"bee");it(this,"startPoint");it(this,"endPoint");it(this,"loopDelay");this.speed=25,this.startPoint=new Phaser.Math.Vector2(n,d),this.endPoint=new Phaser.Math.Vector2(C,r),this.loopDelay=x,this.setFlipX(!0),this.setDepth(Ut.ENVIRONMENTS+1),this.play("bee-fly"),this.startFlightLoop()}startFlightLoop(){this.setVisible(!0),this.setPosition(this.startPoint.x,this.startPoint.y),this.scene.tweens.add({targets:this,x:this.endPoint.x,y:this.endPoint.y,duration:Phaser.Math.Distance.BetweenPoints(this.startPoint,this.endPoint)/this.speed*1e3,ease:"Linear",onComplete:()=>{this.setVisible(!1),this.scene.time.delayedCall(this.loopDelay,()=>{this.startFlightLoop()})}})}}class YF extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C,r,x,s){super(i,n,d,C);it(this,"petState");it(this,"variant");it(this,"petType");this.variant=r,this.petState=x,this.petType=s,i.physics.add.existing(this),i.add.existing(this),this.setSize(ut,ut),this.setOffset(ut/2,ut),this.setDepth(Ut.PETS)}changeState(i){if(!this.getAvailableStates().includes(i))throw new Error(`Invalid state ${i} for ${this.petType}`);this.state=i,this.playAnimationForState(i)}getCurrentState(){return this.petState}getVariant(){return this.variant}}class Egt extends YF{constructor(t,i,n,d,C,r){super(t,i,n,d,C,r,X4.Cat),this.playAnimationForState(r)}getAvailableStates(){return[ps.Walk,ps.Sit,ps.Run,ps.Eat,ps.Sleep,ps.LickPaw,ps.InsideBox]}getVariantValueByFolderIndex(t){switch(t){case 1:return this.variant.folder1;case 2:return this.variant.folder2;case 3:return this.variant.folder3;case 4:return this.variant.folder4;case 5:return this.variant.folder5;case 6:return this.variant.folder6;case 7:return this.variant.folder7;default:return"unknown"}}playAnimationForState(t){const i=this.texture.key.match(/^pet-cat-(\d+)-/);if(!i){Tt.warn("Cannot determine folder index from texture key:",this.texture.key);return}const n=parseInt(i[1],10),d=this.getVariantValueByFolderIndex(n),C=`cat_${n}_${d}_${t}`.toLowerCase();this.anims.play(C,!0)}}class wgt extends YF{constructor(t,i,n,d,C,r){super(t,i,n,d,C,r,X4.Dog),this.playAnimationForState(r),this.setInteractive(),this.on("pointerdown",x=>{var s;Tt.debug(`${this.name} clicked at (${x.x}, ${x.y})`),(s=t.player)==null||s.petting()})}getAvailableStates(){return[ps.Walk,ps.Sit,ps.Run,ps.Eat,ps.GetPetted,ps.TakeBath]}playAnimationForState(t){const i=this.texture.key.match(/^pet-dog-(\d+)-/);if(!i){Tt.warn("Cannot determine folder index from texture key:",this.texture.key);return}const n=parseInt(i[1],10),d=this.getVariantValueByFolderIndex(n),C=`dog_${n}_${d}_${t}`.toLowerCase();this.anims.play(C,!0)}getVariantValueByFolderIndex(t){switch(t){case 1:return this.variant.folder1;case 2:return this.variant.folder2;case 3:return this.variant.folder3;case 4:return this.variant.folder4;case 5:return this.variant.folder5;case 6:return this.variant.folder6;case 7:return this.variant.folder7;case 8:return this.variant.folder8;case 9:return this.variant.folder9;default:return"unknown"}}}const vo=class vo{constructor(t){it(this,"scene");it(this,"isTransitioning",!1);it(this,"globalScene");this.scene=t,this.globalScene=this.scene.game.scene.keys[Ht.GLOBAL]}static getInstance(t){if(vo.instance)t&&vo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");vo.instance=new vo(t)}return vo.instance}setScene(t){this.scene=t}getScene(){return this.scene}initMap(t="map"){const i=this.scene.make.tilemap({key:t,tileWidth:ut,tileHeight:ut});if(!i)throw new Error("Missing map");return this.scene.map=i,i}initLayers(t=null){var z,K,H,Q,j,q,tt,st,nt;const i=t==null?void 0:t.addTilesetImage("Tileset Grass Spring","spring-tiles",ut,ut);if(!i)throw new Error("Missing springTileset");const n=t==null?void 0:t.addTilesetImage("Birch Tree","birch-tree-tiles",ut,ut),d=t==null?void 0:t.addTilesetImage("Mahogany Tree","mahogany-tree-tiles",ut,ut),C=t==null?void 0:t.addTilesetImage("Maple Tree","maple-tree-tiles",ut,ut),r=t==null?void 0:t.addTilesetImage("Pine Tree","pine-tree-tiles",ut,ut),x=t==null?void 0:t.addTilesetImage("Apricot Tree","apricot-tree-tiles",ut,ut),s=t==null?void 0:t.addTilesetImage("Cherry Tree","cherry-tree-tiles",ut,ut),a=t==null?void 0:t.addTilesetImage("house7","spring-house7",ut,ut),g=t==null?void 0:t.addTilesetImage("Well","spring-well",ut,ut),c=t==null?void 0:t.addTilesetImage("props water","spring-props-water",ut,ut),h=t==null?void 0:t.addTilesetImage("props water 2","spring-props-water2",ut,ut),l=t==null?void 0:t.addTilesetImage("spring stones","spring-stones",ut,ut),o=t==null?void 0:t.addTilesetImage("Exterior","exterior",ut,ut),u=t==null?void 0:t.addTilesetImage("dog house","dog-house",ut,ut),v=t==null?void 0:t.addTilesetImage("dog bathtub","dog-bath-tub",ut,ut),f=t==null?void 0:t.addTilesetImage("dog food","dog-food",ut,ut),p=t==null?void 0:t.addTilesetImage("Frogs-Sheet","frog-sheet",ut,ut),m=t==null?void 0:t.addTilesetImage("Fence Wood","fence-wood",ut,ut),y=t==null?void 0:t.addTilesetImage("Smoke","smoke",ut,ut),S=t==null?void 0:t.addTilesetImage("Bridge Wood 1","bridge-wood-1",ut,ut),T=t==null?void 0:t.addTilesetImage("bonfire","bonfire",ut,ut),b=t==null?void 0:t.addTilesetImage("bonfire Fish","bonfire-fish",ut,ut),P=t==null?void 0:t.addTilesetImage("Box","box",ut,ut),w=t==null?void 0:t.addTilesetImage("Tent Goblin","tent-goblin",ut,ut),A=t==null?void 0:t.addTilesetImage("wood moss","wood-moss",ut,ut),R=t==null?void 0:t.addTilesetImage("bubbles","bubbles",ut,ut),D=t==null?void 0:t.addTilesetImage("bubbles 2","bubbles-2",ut,ut),L=t==null?void 0:t.addTilesetImage("Fish point small","fish-point-small",ut,ut),k=t==null?void 0:t.addTilesetImage("FishPoint","fish-point",ut,ut),B=t==null?void 0:t.addTilesetImage("chest","chest",ut,ut),F=t==null?void 0:t.addTilesetImage("Beehive","beehive",ut,ut),G=t==null?void 0:t.addTilesetImage("Brown Capybara","brown-capybara",ut,ut),N=t==null?void 0:t.addTilesetImage("anthill","anthill",ut,ut),W=t==null?void 0:t.addTilesetImage("Ant1","ant-1",ut,ut),X=t==null?void 0:t.addTilesetImage("Ant 2","ant-2",ut,ut),$=t==null?void 0:t.addTilesetImage("Butterflies","butterflies",ut,ut),J=t==null?void 0:t.addTilesetImage("Scarescrow","scares-crow",ut,ut);if(!n)throw new Error("Missing birchTreeTileset");if(!d)throw new Error("Missing mahoganyTreeTileset");if(!C)throw new Error("Missing mapleTreeTileset");if(!r)throw new Error("Missing pineTreeTileset");if(!x)throw new Error("Missing apricotTreeTileset");if(!s)throw new Error("Missing cherryTreeTileset");if(!a)throw new Error("Missing house7Tileset");if(!g)throw new Error("Missing wellTileset");if(!c)throw new Error("Missing springPropsWaterTileset");if(!h)throw new Error("Missing springPropsWater2Tileset");if(!l)throw new Error("Missing springStonesTileset");if(!o)throw new Error("Missing exteriorTileset");if(!u)throw new Error("Missing dogHouseTileset");if(!v)throw new Error("Missing dogBathTubTileset");if(!f)throw new Error("Missing dogFoodTileset");if(!p)throw new Error("Missing frogsheetTileset");if(!m)throw new Error("Missing fenceWoodTileset");if(!y)throw new Error("Missing smokeTileset");if(!S)throw new Error("Missing bridgeWood1Tileset");if(!T)throw new Error("Missing bonfireTileset");if(!b)throw new Error("Missing bonfireFishTileset");if(!P)throw new Error("Missing boxTileset");if(!A)throw new Error("Missing woodMossTileset");if(!w)throw new Error("Missing tentGoblinTileset");if(!R)throw new Error("Missing bubblesTileset");if(!D)throw new Error("Missing bubbles2Tileset");if(!L)throw new Error("Missing fishPointSmallTileset");if(!k)throw new Error("Missing fishPointTileset");if(!B)throw new Error("Missing chestTileset");if(!F)throw new Error("Missing beehiveTileset");if(!G)throw new Error("Missing brownCapybaraTileset");if(!N)throw new Error("Missing anthillTileset");if(!W)throw new Error("Missing ant1Tileset");if(!X)throw new Error("Missing ant2Tileset");if(!$)throw new Error("Missing ant2Tileset");if(!J)throw new Error("Missing scaresCrowTileset");this.scene.textures.get("spring-tiles").setFilter(Phaser.Textures.FilterMode.NEAREST),this.scene.groundLayer=(z=t==null?void 0:t.createLayer(Un.GROUND,[i,D]))==null?void 0:z.setActive(!1),this.scene.detailLayer=(K=t==null?void 0:t.createLayer(Un.DETAILS,[i,h,c,l,S,R,L,k,G]))==null?void 0:K.setActive(!1),this.scene.decorationLayer=(H=t==null?void 0:t.createLayer(Un.DECORATIONS,[i,p,o,T,b,A,$,a]))==null?void 0:H.setActive(!1),this.scene.treeLayer=(j=(Q=t==null?void 0:t.createLayer(Un.TREES,[n,d,C,r,x,s]))==null?void 0:Q.setDepth(Ut.TREES))==null?void 0:j.setActive(!1),this.scene.obstacleLayer=(tt=(q=t==null?void 0:t.createLayer(Un.OBSTACLES,[B]))==null?void 0:q.setDepth(Ut.OBSTACLES))==null?void 0:tt.setActive(!1),this.scene.envLayer=(nt=(st=t==null?void 0:t.createLayer(Un.ENVIRONMENTS,[a,g,v,f,u,y,o,P,w,m,F,N,W,X,J]))==null?void 0:st.setDepth(Ut.ENVIRONMENTS))==null?void 0:nt.setActive(!1);const V=this.scene.game.device.os.desktop?hE:dE,Y=this.scene.game.device.os.desktop?uE:fE;return this.scene.groundLayer.setCullPadding(V,Y),this.scene.detailLayer.setCullPadding(V,Y),this.scene.decorationLayer.setCullPadding(V,Y),this.scene.treeLayer.setCullPadding(V,Y),this.scene.envLayer.setCullPadding(V,Y),this.scene.obstacleLayer.setCullPadding(V,Y),this.scene.collisionLayer=t==null?void 0:t.getObjectLayer(Un.COLLISIONS),{springTileset:i}}initHouseLayers(t=null){var y,S,T,b;const i=t==null?void 0:t.addTilesetImage("Walls and Floors","walls-and-floors",ut,ut),n=t==null?void 0:t.addTilesetImage("Xmas","x-mas",ut,ut),d=t==null?void 0:t.addTilesetImage("Blacksmith","black-smith",ut,ut),C=t==null?void 0:t.addTilesetImage("cats furniture","cats-furniture",ut,ut),r=t==null?void 0:t.addTilesetImage("Part 1 copiar","part-1",ut,ut),x=t==null?void 0:t.addTilesetImage("Part 2 copiar","part-2",ut,ut),s=t==null?void 0:t.addTilesetImage("Part 3 copiar","part-3",ut,ut),a=t==null?void 0:t.addTilesetImage("Part 4 copiar","part-4",ut,ut),g=t==null?void 0:t.addTilesetImage("Part 5","part-5",ut,ut),c=t==null?void 0:t.addTilesetImage("Part 6 copiar","part-6",ut,ut),h=t==null?void 0:t.addTilesetImage("Part 7 copiar","part-7",ut,ut),l=t==null?void 0:t.addTilesetImage("Part 8 copiar","part-8",ut,ut),o=t==null?void 0:t.addTilesetImage("Part 9 copiar","part-9",ut,ut),u=t==null?void 0:t.addTilesetImage("Part 10 copiar","part-10",ut,ut),v=t==null?void 0:t.addTilesetImage("Part 11 copiar","part-11",ut,ut),f=t==null?void 0:t.addTilesetImage("part 12","part-12",ut,ut);if(!i)throw new Error("Missing wallAndFloorsTileset");if(!n)throw new Error("Missing xmasTileset");if(!d)throw new Error("Missing blacksmithTileset");if(!C)throw new Error("Missing catsFurnitureTileset");if(!r)throw new Error("Missing part1Tileset");if(!x)throw new Error("Missing part2Tileset");if(!s)throw new Error("Missing part3Tileset");if(!a)throw new Error("Missing part4Tileset");if(!g)throw new Error("Missing part5Tileset");if(!c)throw new Error("Missing part6Tileset");if(!h)throw new Error("Missing part7Tileset");if(!l)throw new Error("Missing part8Tileset");if(!o)throw new Error("Missing part9Tileset");if(!u)throw new Error("Missing part10Tileset");if(!v)throw new Error("Missing part11Tileset");if(!f)throw new Error("Missing part12Tileset");this.scene.groundLayer=(y=t==null?void 0:t.createLayer(Un.GROUND,[i]))==null?void 0:y.setActive(!1),this.scene.decorationLayer=(S=t==null?void 0:t.createLayer(Un.DECORATIONS,[r,x,s,a,g,c,h,l,o,u,v,f,i,d,C]))==null?void 0:S.setActive(!1),this.scene.envLayer=(b=(T=t==null?void 0:t.createLayer(Un.ENVIRONMENTS,[i,r,g,l,n]))==null?void 0:T.setDepth(Ut.ENVIRONMENTS))==null?void 0:b.setActive(!1);const p=this.scene.game.device.os.desktop?hE:dE,m=this.scene.game.device.os.desktop?uE:fE;this.scene.groundLayer.setCullPadding(p,m),this.scene.decorationLayer.setCullPadding(p,m),this.scene.envLayer.setCullPadding(p,m),this.scene.collisionLayer=t==null?void 0:t.getObjectLayer(Un.COLLISIONS)}createAnims(){Ws(this.scene,"bee-fly",{textureKey:"bee",start:0,end:3,frameRate:5,repeat:-1})}createCollisionObjectsWithDebug(){var C;const t=this.scene.add.graphics(),i=this.scene.physics.add.staticGroup(),n=this.scene.physics.add.staticGroup(),d=this.scene.physics.add.staticGroup();(C=this.scene.collisionLayer)==null||C.objects.forEach(r=>{const{properties:x}=r,s=r.width??0,a=r.height??0,g=r.x??0,c=r.y??0;if(r.point){const h=ut,l=ut,o=this.scene.add.rectangle(g,c,h,l);this.scene.physics.add.existing(o,!0),o.setVisible(!1),i.add(o)}else if(r.polygon){const h=r.polygon.map(l=>({x:g+l.x,y:c+l.y}));t.lineStyle(2,Gt.Primary,1),t.strokePoints(h,!0)}else{x&&(x==null?void 0:x.length)>0&&x.some(v=>v.name==="isWindow"&&v.value===!0),x&&(x==null?void 0:x.length)>0&&x.some(v=>v.name==="isLight"&&v.value===!0);const h=x&&(x==null?void 0:x.length)>0&&x.some(v=>v.name==="isBee"&&v.value===!0),l=x&&(x==null?void 0:x.length)>0&&x.some(v=>v.name==="climbable"&&v.value===!0),o=x&&(x==null?void 0:x.length)>0&&x.some(v=>v.name==="swimable"&&v.value===!0);if(s===0&&a===0){Tt.warn("Object width & height both 0:",r);return}Xs.get("VITE_APP_ENV")!=="production"&&(t.lineStyle(2,Gt.Primary,1),s===0||a===0?t.strokeLineShape(new Phaser.Geom.Line(g,c,g+s,c+a)):t.strokeRect(g,c,s,a));const u=this.scene.add.rectangle(g+s/2,c+a/2,s||1,a||1);if(this.scene.physics.add.existing(u,!0),u.setVisible(!1),l?n.add(u):o?d.add(u):i.add(u),h){const v=g+32,f=c+16,p=g+4,m=c;new bgt(this.scene,v,f,p,m,3*Dt)}}}),this.scene.player&&this.scene.physics.add.collider(this.scene.player,i),this.scene.climbGroup=n,this.scene.physics.add.overlap(this.scene.player,n,()=>{var r;(r=this.scene.player)==null||r.enterClimbing()}),this.scene.swimGroup=d,this.scene.physics.add.overlap(this.scene.player,d,()=>{var r;(r=this.scene.player)==null||r.enterSwimming()})}createCollisionObjectsWithDebugHouse(){var i;const t=this.scene.physics.add.staticGroup();(i=this.scene.collisionLayer)==null||i.objects.forEach(n=>{const d=n.x??0,C=n.y??0;if(!n.point){if(!n.polygon){let r=n.width??0,x=n.height??0;const s=this.scene.add.rectangle(d+r/2,C+x/2,r||1,x||1);this.scene.physics.add.existing(s,!0),s.setVisible(!1),t.add(s)}}}),this.scene.player&&this.scene.physics.add.collider(this.scene.player,t)}handlePointerDown(t){var s,a;const i=this.scene.game.scene.keys[Ht.GLOBAL],{deviceController:n}=Ze(i),d=this.scene.game.scene.keys[Ht.UI],{uiController:C,popupController:r}=ti(d);if(r!=null&&r.getCurrentPopup()||C!=null&&C.getIsShopDialogOpen())return;const x=n==null?void 0:n.getDeviceType();t.button===0?x!=="Desktop"?(this.handleMovementPointer(t),this.handleClickObject(t)):((s=this.scene.player)!=null&&s.isAsKeeping()&&this.scene.player.throwingItems(),this.handleClickObject(t),(this.checkCanUseTool(t)||this.checkCanUseSeed(t))&&(this.handleToolAction(),this.handleSeedAction(),this.handleFarmCrop(t)),this.checkCanFishing(t)?(a=this.scene.player)==null||a.startFishing():Tt.debug("Không thể câu ở đây!")):t.rightButtonDown()&&this.handleMovementPointer(t)}checkCanUseTool(t){const i=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:n}=Ze(i),d=n.getEquippedItem("tool"),C=this.scene.player,r=t.worldX-C.x,x=t.worldY-C.y,s=Math.sqrt(r*r+x*x);switch(d==null?void 0:d.iconKey){case"watering_can_wood":return s<ut;case"sickle_wood":return s<ut;case"hoe_wood":return s<ut;default:return!1}}checkCanUseSeed(t){const i=this.scene.game.scene.keys[Ht.GLOBAL],{usableController:n}=Ze(i),d=n.getEquippedItem("seed"),C=this.scene.player,r=t.worldX-C.x,x=t.worldY-C.y,s=Math.sqrt(r*r+x*x);switch(d==null?void 0:d.iconKey){case"strawberry":case"spring_onion":case"potato":case"onion":case"carrot":case"blueberry":case"parsnip":case"cabbage":case"broccoli":case"rice":case"cauliflower":case"tomato":case"sunflower":case"hot-pepper":case"corn":case"bell-pepper-green":case"bell-pepper-red":case"bell-pepper-yellow":case"melon":case"watermelon":case"cucumber":case"eggplant":case"pineapple":case"green-beans":case"wheat":case"blackberry":case"beetroot":case"pumpkin":case"grapes":return s<ut;default:return!1}}checkCanFishing(t){var a,g,c,h,l;const i=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:n}=Ze(i),d=n.getEquippedItem("tool"),C=this.scene.game.scene.keys[Ht.BASE];if(!((a=C.groundLayer)!=null&&a.active))return;const r=(g=C.groundLayer)==null?void 0:g.worldToTileX(t.worldX),x=(c=C.groundLayer)==null?void 0:c.worldToTileY(t.worldY),s=(h=C.groundLayer)==null?void 0:h.getTileAt(r,x);return(s==null?void 0:s.properties.isWater)&&!((l=this.scene.player)!=null&&l.isAsFishing())&&(d==null?void 0:d.iconKey)==="fishing_rod_wood"||!1}handleFarmCrop(t){var f,p,m,y,S,T,b;const i=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:n,usableController:d,calendarController:C}=Ze(i),r=n.getEquippedItem("tool"),x=d.getEquippedItem("seed"),s=this.scene.player;if(!(s!=null&&s.isBlockingAnimPlaying()))return;const a=t.worldX-((f=this.scene.farmManager)==null?void 0:f.startX),g=t.worldY-((p=this.scene.farmManager)==null?void 0:p.startY),c=Math.floor(a/ut),h=Math.floor(g/ut),l=(y=(m=this.scene.farmManager)==null?void 0:m.tiles[h])==null?void 0:y[c];if(!l)return;const o=this.scene.game.scene.keys[Ht.UI],u=di.getInstance(o);let v="Không thể thực hiện hành động này";if(!l.tilledAt&&(r==null?void 0:r.iconKey)==="hoe_wood"){(S=this.scene.farmManager)==null||S.setTileTilled(c,h),l.upSkillLevel();const{soundController:P}=Ze(this.globalScene);P.playSfx("sfxDiggingTile",{loop:!1});return}else!l.tilledAt&&zx(x==null?void 0:x.iconKey)&&(v="Ô đất này chưa được xới, hãy dùng cuốc trước!");if(l.tilledAt&&!l.wateredAt&&(r==null?void 0:r.iconKey)==="watering_can_wood"){(T=this.scene.farmManager)==null||T.setTileWatered(c,h),l.upSkillLevel();const{soundController:P}=Ze(this.globalScene);P.playSfx("sfxWateringPlant",{loop:!1});return}else l.tilledAt&&!l.wateredAt&&zx(x==null?void 0:x.iconKey)&&(v="Ô đất chưa được tưới nước!");if(l.tilledAt&&zx(x==null?void 0:x.iconKey)){const P=(x==null?void 0:x.type)==="seed"?"spring":(x==null?void 0:x.type)==="seed-summer"?"summer":"fall";if(C.getCurrentSeason()!==fU(P))v="Cây trồng không thể trồng vào mùa này!";else{l.onPlant(x==null?void 0:x.iconKey,P,x.quality||"normal"),l.upSkillLevel();const{soundController:w}=Ze(this.globalScene);w.playSfx("sfxPlant",{loop:!1});return}}if((r==null?void 0:r.iconKey)==="sickle_wood"&&((b=l.crop)!=null&&b.getIsGrown())){l.harvestCrop(),l.upSkillLevel();const{soundController:P}=Ze(this.globalScene);P.playSfx("sfxHarvestPlant",{loop:!1});return}else(r==null?void 0:r.iconKey)==="sickle_wood"&&!l.crop?v="Không có cây nào để gặt!":(r==null?void 0:r.iconKey)==="sickle_wood"&&l.crop&&!l.crop.getIsGrown()&&(v="Cây chưa đủ lớn để thu hoạch!");u.toast(v,3e3)}handleToolAction(){var d,C;const t=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:i}=Ze(t),n=i.getEquippedItem("tool");n&&((d=this.scene.player)==null||d.equipTool((n==null?void 0:n.iconKey)||"axe_wood"),(C=this.scene.player)==null||C.useTool())}handleSeedAction(){var d,C;const t=this.scene.game.scene.keys[Ht.GLOBAL],{usableController:i}=Ze(t),n=i.getEquippedItem("seed");n&&((d=this.scene.player)==null||d.equipSeed((n==null?void 0:n.iconKey)||"strawberry"),(C=this.scene.player)==null||C.useSeed())}handleMovementPointer(t){if(!this.scene.player)return;Phaser.Math.Distance.Between(this.scene.player.x,this.scene.player.y,t.worldX,t.worldY)>12&&(this.scene.player.moveTarget=new Phaser.Math.Vector2(t.worldX,t.worldY))}handleClickObject(t){var x,s,a,g,c,h,l,o;const i=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:n}=Ze(i),d=this.scene.game.scene.keys[Ht.UI],{uiController:C}=ti(d),r=this.getClickedObject(t);if(r){Tt.debug("Đối tượng bị click:",r);const{properties:u}=r;if(u&&(u==null?void 0:u.length)>0){if(u[0].name==="isTreasure"&&u[0].value&&Tt.debug("game-treasure-dialog"),u[0].name==="exitHouse"&&u[0].value&&hw(this.scene,Ht.BASE,{targetX:jd,targetY:qd}),u[0].name==="enterHouse"&&u[0].value&&!Uh()&&hw(this.scene,Ht.HOUSE,{targetX:dH,targetY:fH}),u[0].name==="bed"&&u[0].value){const v={x:r.x+ut/2,y:r.y};this.scene.player.setDepth(Ut.ENVIRONMENTS+1),this.scene.player.setPosition(v.x,v.y),this.scene.player.sleep()}if(u[0].name==="isChair"&&u[0].value&&((x=this.scene.player)==null||x.sit({x:r.x+ut-4,y:r.y})),u[0].name==="isInsect"&&u[0].value&&((s=this.scene.player)==null||s.catchingInsect()),u[0].name==="isPractive"&&u[0].value){const v=n.getEquippedItem("weapon");if(!v)Tt.debug("Player cần trang bị vũ khí để tấn công!");else if(v.iconKey==="sword_wood")(a=this.scene.player)==null||a.attack();else if(v.iconKey==="bow_wood")(g=this.scene.player)==null||g.attackBow(r);else if(v.iconKey==="magic_wood"){switch(Hz()){case"fire":(c=this.scene.player)==null||c.attackMagic(r,"fire");break;case"water":(h=this.scene.player)==null||h.attackMagic(r,"water");break;case"heal":(l=this.scene.player)==null||l.magicHealer();break;case"poison":(o=this.scene.player)==null||o.attackMagic(r,"poison");break}Tt.debug("Đang sử dụng gậy phép")}else Tt.debug("Vũ khí không hợp lệ!")}u[0].name==="openShop"&&u[0].value&&C.createShopDialog()}}}getClickedObject(t){var i,n;return(n=(i=this.scene.collisionLayer)==null?void 0:i.objects)==null?void 0:n.find(d=>{if(!d||typeof d.x>"u"||typeof d.y>"u"||typeof d.width>"u"||typeof d.height>"u")return!1;const C=t.worldX,r=t.worldY;return C>=d.x&&C<=d.x+d.width&&r>=d.y&&r<=d.y+d.height})}initCat(){const t=(r,x,s,a,g=5,c=-1)=>{Ws(this.scene,r,{textureKey:x,start:s,end:a,frameRate:g,repeat:c})},i={folder1:"White",folder2:"Pink",folder3:"1",folder4:"1",folder5:"1",folder6:"1",folder7:"1"},n={walk:{start:0,end:3},sit:{start:12,end:15},run:{start:24,end:27},eat:{start:44,end:47},sleep:{start:39,end:36},lickpaw:{start:20,end:23},insidebox:{start:48,end:51}},d={1:["Black","Brown","Ginger","Gray","Light-Brown","Light-Gray","Pink","White"],2:["Blue","Ginger","Green","Pink"],3:[1],4:[1,2],5:[1],6:[1,2],7:[1,2]},C=["walk","sit","run","eat","sleep","lickpaw","insidebox"];for(const[r,x]of Object.entries(d)){const s=parseInt(r,10);for(const a of x){const g=`pet-cat-${s}-${a}`.toLowerCase();for(const c of C){const h=`cat_${s}_${a}_${c}`.toLowerCase(),l=n[c]||{start:0,end:3};t(h,g,l.start,l.end,5,0)}}}new Egt(this.scene,cH,vH,"pet-cat-1-white",i,ps.Sit)}initDog(){const t=(r,x,s,a,g=5,c=-1)=>{Ws(this.scene,r,{textureKey:x,start:s,end:a,frameRate:g,repeat:c})},i={folder1:"1",folder2:"1",folder3:"1",folder4:"1",folder5:"1",folder6:"1",folder7:"1",folder8:"1",folder9:"1"},n={walk:{start:0,end:3},sit:{start:12,end:15},run:{start:24,end:27},eat:{start:44,end:47},getpetted:{start:40,end:43},takebath:{start:44,end:47}},d={1:[1,2,3,4,5,6,7],2:[1],3:[1,2],4:[1,2,3,4,5],5:[1,2,3,4],6:[1,2,3],7:[1],8:[1,2],9:[1,2,3,4,5,6]},C=["walk","sit","run","eat","getpetted","takebath"];for(const[r,x]of Object.entries(d)){const s=parseInt(r,10);for(const a of x){const g=`pet-dog-${s}-${a}`.toLowerCase();for(const c of C){const h=`dog_${s}_${a}_${c}`.toLowerCase(),l=n[c]||{start:0,end:3};t(h,g,l.start,l.end,5,0)}}}new wgt(this.scene,pH,gH,"pet-dog-1-1",i,ps.Sit)}launchUIScene(){this.scene.scene.launch(Ht.GLOBAL),this.scene.scene.launch(Ht.UI),this.scene.scene.launch(Ht.DEBUG),this.scene.scene.launch(Ht.CURSOR),this.scene.scene.bringToTop(Ht.GLOBAL),this.scene.scene.bringToTop(Ht.UI),this.scene.scene.bringToTop(Ht.DEBUG),this.scene.scene.bringToTop(Ht.CURSOR)}};it(vo,"instance",null);let w4=vo;const oa=class oa{constructor(t,i,n=3){it(this,"scene");it(this,"clouds",[]);it(this,"cloudKey");it(this,"cloudCount");this.scene=t,this.cloudKey=i,this.cloudCount=n,this.scene.events.on("update",this.update,this)}static getInstance(t,i,n=3){if(oa.instance)t&&oa.instance.setScene(t);else{if(!t||!i)throw new Error("Scene and cloudKey must be provided on first initialization.");oa.instance=new oa(t,i,n)}return oa.instance}setScene(t){this.scene.events.off("update",this.update,this),this.scene=t,this.scene.events.on("update",this.update,this)}getScene(){return this.scene}start(){if(!(this.clouds.length>0))for(let t=0;t<this.cloudCount;t++){const i=Phaser.Math.Between(-200,Us.WIDTH),n=Phaser.Math.Between(40,this.scene.scale.height),d=Phaser.Math.Between(0,2),C=this.scene.add.image(i,n,this.cloudKey,d).setScale(Bt*Phaser.Math.FloatBetween(.8,1.2)).setAlpha(.85).setDepth(Ut.CLOUD);this.clouds.push(C)}}stop(){this.scene.events.off("update",this.update,this)}destroy(){this.stop(),this.clouds.forEach(t=>t.destroy()),this.clouds=[],oa.instance=null}update(t){this.clouds.forEach(i=>{i.x+=.5,i.x>Us.WIDTH+100&&(i.x=-200,i.y=Phaser.Math.Between(40,this.scene.scale.height))})}};it(oa,"instance",null);let P4=oa;const po=class po{constructor(t){it(this,"scene");it(this,"userAgent");it(this,"vendor");it(this,"lastDevice","Desktop");this.userAgent=navigator.userAgent,this.vendor=navigator.vendor||"",this.scene=t;const{lastDevice:i}=Fn.getState();this.lastDevice=i,this.scene.events.on("update",this.update,this)}static getInstance(t){if(po.instance)t&&po.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");po.instance=new po(t)}return po.instance}setScene(t){this.scene=t}getScene(){return this.scene}update(){const{setLastDevice:t}=Fn.getState(),i=this.getDeviceType();i!==this.lastDevice&&(this.lastDevice=i,t(i),Os.emit("deviceChanged",i))}getOS(){return/Windows NT/.test(this.userAgent)?"Windows":/Macintosh/.test(this.userAgent)?"MacOS":/Linux/.test(this.userAgent)?"Linux":/Android/.test(this.userAgent)?"Android":/iPhone|iPad|iPod/.test(this.userAgent)?"iOS":"Unknown OS"}getBrowser(){return/Chrome/.test(this.userAgent)&&/Google Inc/.test(this.vendor)?"Chrome":/Safari/.test(this.userAgent)&&/Apple Computer/.test(this.vendor)?"Safari":/Firefox/.test(this.userAgent)?"Firefox":/Edge/.test(this.userAgent)?"Edge":/MSIE|Trident/.test(this.userAgent)?"Internet Explorer":"Unknown Browser"}getDeviceType(){const t=navigator.userAgent||navigator.vendor||this.userAgent||window.opera;return/android/i.test(t)||/iphone|ipod/i.test(t)?"Mobile":/ipad/i.test(t)||/Macintosh/.test(t)&&"ontouchend"in document||/tablet/i.test(t)?"Tablet":"Desktop"}getAll(){return{os:this.getOS(),browser:this.getBrowser(),device:this.getDeviceType()}}};it(po,"instance",null);let M4=po;const la=class la{constructor(t,i){it(this,"scene");it(this,"emitter",null);it(this,"rainBreakGroup");it(this,"groundY",Us.HEIGHT);it(this,"rainTextureKey");this.scene=t,this.rainTextureKey=i,this.rainBreakGroup=t.add.group(),this.initAnimation(),this.scene.events.on("update",this.checkParticles,this)}static getInstance(t,i){if(la.instance)t&&la.instance.setScene(t);else{if(!t||!i)throw new Error("Scene and rainTextureKey must be provided on first initialization.");la.instance=new la(t,i)}return la.instance}initAnimation(){Ws(this.scene,"rainBreakAnim",{textureKey:"sprash",start:0,end:3,frameRate:5,repeat:0})}setScene(t){this.scene.events.off("update",this.checkParticles,this),this.scene=t,this.scene.events.on("update",this.checkParticles,this)}getScene(){return this.scene}start(){this.emitter||(this.rainBreakGroup=this.scene.add.group(),this.emitter=this.scene.add.particles(0,0,this.rainTextureKey,{x:{min:0,max:Us.WIDTH},y:0,lifespan:4*Dt,speedX:40,speedY:150,scale:{start:2,end:2},quantity:5,frequency:20,alpha:{start:.5,end:0},blendMode:Phaser.BlendModes.NORMAL,angle:60,rotate:-15}).setDepth(Ut.RAIN),this.emitter.start())}stop(){var t;(t=this.emitter)==null||t.stop()}destroy(){var t,i,n;(t=this.emitter)==null||t.stop(),(i=this.emitter)==null||i.destroy(),this.emitter=null,this.rainBreakGroup&&this.rainBreakGroup.children&&((n=this.rainBreakGroup)==null||n.clear(!0,!0)),this.scene.anims.exists("rainBreakAnim")&&this.scene.anims.remove("rainBreakAnim"),la.instance=null}checkParticles(){var t;(t=this.emitter)==null||t.forEachAlive(i=>{i.y>=this.groundY/2&&(Phaser.Math.FloatBetween(0,1)<.05&&this.spawnRandomBreakAnimation(),i.kill())},this)}spawnRandomBreakAnimation(){var d;if(!this.scene.anims.exists("rainBreakAnim"))return;const t=Phaser.Math.Between(0,Us.WIDTH),i=Phaser.Math.Between(0,Us.HEIGHT),n=this.scene.add.sprite(t,i,"sprash",0).setScale(Bt).setDepth(Ut.RAIN).play("rainBreakAnim");n.on("animationcomplete",()=>n.destroy()),(d=this.rainBreakGroup)==null||d.add(n)}};it(la,"instance",null);let A4=la;const $R={realDayDuration:600*Dt,daysPerSeason:7},go=class go{constructor(t){it(this,"scene");it(this,"realDayDuration");it(this,"daysPerSeason");it(this,"totalGameMinutes",.3*Dt);it(this,"lastUpdate");it(this,"running",!0);it(this,"lastPhase","Morning");it(this,"lastSeason","Spring");it(this,"lastGameMinutesUpdate",0);it(this,"seasonNames",["Spring","Summer","Autumn","Winter"]);it(this,"dayPhases",[{name:"Morning",start:300},{name:"Noon",start:720},{name:"Afternoon",start:900},{name:"Evening",start:1080},{name:"Night",start:1260}]);it(this,"weekdays",["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]);this.scene=t,this.realDayDuration=$R.realDayDuration,this.daysPerSeason=$R.daysPerSeason,this.lastUpdate=t.time.now;const{lastSeason:i,lastPhase:n,totalGameMinutes:d}=Fn.getState();this.lastPhase=n,this.lastSeason=i,this.totalGameMinutes=d}static getInstance(t){if(go.instance)t&&go.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");go.instance=new go(t)}return go.instance}setScene(t){this.scene=t}getScene(){return this.scene}start(){this.scene.events.on("update",this.update,this)}update(){if(!this.running)return;const{setLastPhase:t,setLastSeason:i,setTotalGameMinutes:n}=Fn.getState(),d=this.scene.time.now,C=d-this.lastUpdate;this.lastUpdate=d;const r=1440/this.realDayDuration;this.totalGameMinutes+=C*r,d-this.lastGameMinutesUpdate>=1e3&&(n(this.totalGameMinutes),this.lastGameMinutesUpdate=d);const x=this.getCurrentDayPeriod();x!==this.lastPhase&&(this.lastPhase=x,t(x),Os.emit("dayPhaseChanged",x));const s=this.getCurrentSeason();s!==this.lastSeason&&(this.lastSeason=s,i(s),Os.emit("seasonChanged",s))}getTimeInfo(){return{time:this.getFormattedTime(),season:this.getCurrentSeason(),day:this.getCurrentDayInSeason(),phase:this.getCurrentDayPeriod(),year:this.getCurrentYear(),month:this.getCurrentMonth(),weekday:this.getCurrentWeekday()}}getCurrentDayInSeason(){return Math.floor(this.totalGameMinutes/1440)%this.daysPerSeason+1}getCurrentSeason(){const t=Math.floor(this.totalGameMinutes/1440),i=Math.floor(t/this.daysPerSeason)%this.seasonNames.length;return this.seasonNames[i]||"Spring"}getCurrentTimeInDay(){return this.totalGameMinutes%1440}getCurrentDayPeriod(){const t=this.getCurrentTimeInDay();for(let i=this.dayPhases.length-1;i>=0;i--){const n=this.dayPhases[i];if(n&&t>=n.start)return n.name}return"Night"}pause(){this.running=!1}resume(){this.running=!0,this.lastUpdate=this.scene.time.now}reset(){this.totalGameMinutes=0,this.lastUpdate=this.scene.time.now}getFormattedTime(){const t=Math.floor(this.getCurrentTimeInDay()),i=Math.floor(t/60),n=t%60,d=i>=12?"PM":"AM";return`${(i%12===0?12:i%12).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")} ${d}`}getCurrentYear(){const t=Math.floor(this.totalGameMinutes/1440),i=this.daysPerSeason*this.seasonNames.length;return Math.floor(t/i)+1}getCurrentMonth(){const t=Math.floor(this.totalGameMinutes/1440);return Math.floor(t/this.daysPerSeason)%this.seasonNames.length+1}getCurrentWeekday(){const t=Math.floor(this.totalGameMinutes/1440);return this.weekdays[t%7]||"Mon"}getDayPhaseLightColorByPhase(t){const i=xgt;return Phaser.Display.Color.HexStringToColor(i[t]).color}};it(go,"instance",null);let R4=go;const mo=class mo{constructor(t){it(this,"scene");it(this,"currentWeather");it(this,"lastWeather","Sunny");it(this,"weatherOptions",["Sunny","Rainy","Cloudy","Windy","Snowy"]);it(this,"seasonalWeatherMap",{Spring:["Sunny","Rainy","Cloudy","Windy","Thunderstorm"],Summer:["Sunny","Sunny","Cloudy","Windy","Thunderstorm"],Autumn:["Cloudy","Windy","Rainy","Sunny","Thunderstorm"],Winter:["Snowy","Cloudy","Windy","Sunny","Thunderstorm"]});it(this,"seasonalDayPeriodWeatherMap",{Spring:{Morning:["Sunny","Cloudy","Rainy"],Noon:["Sunny","Cloudy","Windy"],Afternoon:["Sunny","Rainy","Cloudy","Windy"],Evening:["Cloudy","Windy","Rainy"],Night:["Cloudy","Rainy","Windy","Thunderstorm"]},Summer:{Morning:["Sunny","Cloudy"],Noon:["Sunny","Windy"],Afternoon:["Sunny","Cloudy","Thunderstorm"],Evening:["Cloudy","Windy","Thunderstorm"],Night:["Cloudy","Windy","Thunderstorm"]},Autumn:{Morning:["Cloudy","Windy","Sunny"],Noon:["Sunny","Cloudy","Rainy"],Afternoon:["Cloudy","Windy","Rainy","Thunderstorm"],Evening:["Windy","Rainy","Cloudy"],Night:["Windy","Rainy","Thunderstorm"]},Winter:{Morning:["Snowy","Cloudy"],Noon:["Snowy","Sunny","Cloudy"],Afternoon:["Snowy","Cloudy","Windy"],Evening:["Snowy","Cloudy","Windy"],Night:["Snowy","Cloudy","Windy","Thunderstorm"]}});const{currentWeather:i}=Fn.getState();i?this.currentWeather=i:this.currentWeather=this.generateRandomWeatherBySeasonAndTime("Spring","Morning"),this.scene=t,this.scene.events.on("update",this.update,this)}static getInstance(t){if(mo.instance)t&&mo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");mo.instance=new mo(t)}return mo.instance}setScene(t){this.scene=t}getScene(){return this.scene}start(){this.scene.time.addEvent({delay:180*Dt,callback:()=>{const{calendarController:t}=Ze(this.scene),i=this.generateRandomWeatherBySeasonAndTime((t==null?void 0:t.getCurrentSeason())||"Spring",(t==null?void 0:t.getCurrentDayPeriod())||"Morning");this.setWeather(i)},callbackScope:this,loop:!0})}update(){const{setLastWeather:t}=Fn.getState(),i=this.getWeather();i!==this.lastWeather&&(this.lastWeather=i,t(i),Os.emit("weatherChanged",i))}generateRandomWeather(){const t=Math.floor(Math.random()*this.weatherOptions.length);return this.weatherOptions[t]||"Sunny"}getWeather(){return this.currentWeather}updateWeather(){this.currentWeather=this.generateRandomWeather()}setWeather(t){const{setCurrentWeather:i}=Fn.getState();this.weatherOptions.includes(t)&&(this.currentWeather=t,i(t))}generateRandomWeatherBySeason(t){const i=this.seasonalWeatherMap[t],n=Math.floor(Math.random()*i.length);return i[n]||"Sunny"}generateRandomWeatherBySeasonAndTime(t,i){const n=this.seasonalDayPeriodWeatherMap[t][i],d=Math.floor(Math.random()*n.length);return n[d]||"Cloudy"}};it(mo,"instance",null);let O4=mo;const Rr=Ir()(zo(e=>({sound:!0,musicVolume:.5,sfxVolume:.5,fullscreen:!1,setFullScreen:t=>{e({fullscreen:t})},setMusicVolume:t=>{e({musicVolume:t})},setSfxVolume:t=>{e({sfxVolume:t})},setSound:t=>{e({sound:t})},version:1,setVersion:t=>{e({version:t})}}),{name:Nh,storage:OI,partialize:e=>({sound:e.sound,musicVolume:e.musicVolume,sfxVolume:e.sfxVolume,fullscreen:e.fullscreen,version:e.version})})),Rs=Ir()(zo((e,t)=>({cropConfigs:{strawberry:{name:"Dâu tây",growTime:720*Dt,frames:[0,1,2,3,4,5],harvestFrame:51,sellPrice:100},onion:{name:"Hành tây",growTime:660*Dt,frames:[27,28,29,30,31,32],harvestFrame:120,sellPrice:65},potato:{name:"Khoai tây",growTime:480*Dt,frames:[18,19,20,21,22,23],harvestFrame:97,sellPrice:75},spring_onion:{name:"Hành lá",growTime:360*Dt,frames:[9,10,11,12,13,14],harvestFrame:74,sellPrice:52},carrot:{name:"Cà rốt",growTime:420*Dt,frames:[36,37,38,39,40,41],harvestFrame:143,sellPrice:65},blueberry:{name:"Việt quất",growTime:780*Dt,frames:[45,46,47,48,49,50],harvestFrame:166,sellPrice:115},parsnip:{name:"Củ cải vàng",growTime:300*Dt,frames:[54,55,56,57,58],harvestFrame:189,sellPrice:60},cabbage:{name:"Bắp cải",growTime:540*Dt,frames:[72,73,74,75,76,77],harvestFrame:235,sellPrice:90},broccoli:{name:"Bông cải xanh",growTime:600*Dt,frames:[63,64,65,66,67,68],harvestFrame:212,sellPrice:100},rice:{name:"Lúa",growTime:840*Dt,frames:[81,82,83,84,85,86],harvestFrame:258,sellPrice:58},cauliflower:{name:"Súp lơ",growTime:900*Dt,frames:[90,91,92,93,94],harvestFrame:281,sellPrice:100},tomato:{name:"Cà chua",growTime:8.5*Dt,frames:[0,1,2,3,4,5,6],harvestFrame:151,sellPrice:50},sunflower:{name:"Hoa hướng dương",growTime:8.5*Dt,frames:[14,15,16,17,18,19],harvestFrame:174,sellPrice:50},"hot-pepper":{name:"Ớt cay",growTime:8.5*Dt,frames:[28,29,30,31,32,33,34],harvestFrame:197,sellPrice:50},corn:{name:"Ngô",growTime:8.5*Dt,frames:[42,43,44,45,46,47,48,49],harvestFrame:220,sellPrice:50},"bell-pepper-green":{name:"Ớt chuông xanh",growTime:8.5*Dt,frames:[56,57,58,59,60,63],harvestFrame:243,sellPrice:50},"bell-pepper-red":{name:"Ớt chuông đỏ",growTime:8.5*Dt,frames:[56,57,58,59,60,62],harvestFrame:266,sellPrice:50},"bell-pepper-yellow":{name:"Ớt chuông vàng",growTime:8.5*Dt,frames:[56,57,58,59,60,61],harvestFrame:289,sellPrice:50},melon:{name:"Dưa gang",growTime:8.5*Dt,frames:[70,71,72,73,74,75],harvestFrame:312,sellPrice:50},watermelon:{name:"Dưa hấu",growTime:8.5*Dt,frames:[84,85,86,87,88,89,90,91],harvestFrame:335,sellPrice:50},cucumber:{name:"Dưa chuột",growTime:8.5*Dt,frames:[98,99,100,101,102,103],harvestFrame:358,sellPrice:50},eggplant:{name:"Cà tím",growTime:8.5*Dt,frames:[112,113,114,115,116,117],harvestFrame:381,sellPrice:50},pineapple:{name:"Dứa",growTime:8.5*Dt,frames:[126,127,128,129,130,131],harvestFrame:404,sellPrice:50},"green-beans":{name:"Đậu xanh",growTime:8.5*Dt,frames:[140,141,142,143,144,145],harvestFrame:427,sellPrice:50},blackberry:{name:"Dâu đen",growTime:8.5*Dt,frames:[154,155,156,157,158,159],harvestFrame:450,sellPrice:50},wheat:{name:"Lúa mì",growTime:8.5*Dt,frames:[168,169,170,171,172,173],harvestFrame:473,sellPrice:50},beetroot:{name:"Củ cải đường",growTime:8.5*Dt,frames:[0,1,2,3,4,5],harvestFrame:44,sellPrice:50},pumpkin:{name:"Bí đỏ",growTime:8.5*Dt,frames:[9,10,11,12,13,14],harvestFrame:67,sellPrice:50},grapes:{name:"Nho",growTime:8.5*Dt,frames:[18,18,20,21,22,23],harvestFrame:90,sellPrice:50}},tileStateFrameMap:{[Ms.Empty]:[[455,456,457],[480,481,482],[505,506,507]],[Ms.Tilled]:[[455,68,457],[480,68,482],[505,68,507]],[Ms.Watered]:[[467,468,469],[492,493,494],[517,518,519]],[Ms.Planted]:[[455,456,457],[480,481,482],[505,506,507]]},tiles:{},setTiles(i){e({tiles:i})},plantCrop:(i,n,d)=>{const C=t().tiles[i];C&&(C.crop=n,C.state=Ms.Planted,C.plantedAt=d??Date.now(),C.harvestedAt=null,e({tiles:{...t().tiles,[i]:C}}))},harvestCrop:i=>{const n=t().tiles[i];n&&(n.crop=null,n.state=Ms.Tilled,n.harvestedAt=Date.now(),n.plantedAt=null,e({tiles:{...t().tiles,[i]:n}}))},tillTile:i=>{const n=t().tiles[i];n&&(n.state=Ms.Tilled,n.tilledAt=Date.now(),e({tiles:{...t().tiles,[i]:n}}))},waterTile:i=>{const n=t().tiles[i];n&&(n.state=Ms.Watered,n.wateredAt=Date.now(),e({tiles:{...t().tiles,[i]:n}}))},loadTiles:i=>{const d=t().tiles,C=i.reduce((r,x)=>{const s=d[x.tileId];return s?r[x.tileId]={...x,crop:s.crop??x.crop,state:s.state??x.state,plantedAt:s.plantedAt??x.plantedAt}:r[x.tileId]=x,r},{});e({tiles:C})},version:1,setVersion:i=>{e({version:i})}}),{name:Fh,storage:wI,partialize:e=>({tiles:e.tiles,version:e.version})})),kn=Ir()(zo((e,t)=>({scene:void 0,setScene:i=>{e({scene:i})},getMaleGoatBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"male-baby-idle_left",variant:"black",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"goat-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"goat-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"goat-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"goat-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleGoatBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"female-baby-idle_left",variant:"black",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"goat-black-female-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"goat-black-female-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"goat-black-female-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"goat-black-female-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleGoatBlondeOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"male-baby-idle_left",variant:"blonde",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"goat-blonde-male-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"goat-blonde-male-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"goat-blonde-male-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-blonde-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"goat-blonde-male-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-blonde-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleGoatBlondeOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"female-baby-idle_left",variant:"blonde",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"goat-blonde-female-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"goat-blonde-female-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"goat-blonde-female-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-blonde-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"goat-blonde-female-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-blonde-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleGoatPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"male-baby-idle_left",variant:"pink",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"goat-pink-male-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"goat-pink-male-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"goat-pink-male-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-pink-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"goat-pink-male-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-pink-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleGoatPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"female-baby-idle_left",variant:"pink",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"goat-pink-female-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"goat-pink-female-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"goat-pink-female-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-pink-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"goat-pink-female-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-pink-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleGoatBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"male-baby-idle_left",variant:"brown",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"goat-brown-male-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"goat-brown-male-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"goat-brown-male-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"goat-brown-male-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleGoatBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"goat",stage:"baby",state:"female-baby-idle_left",variant:"brown",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"goat-brown-female-baby-idle_left",frames:i.anims.generateFrameNumbers("goat-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"goat-brown-female-baby-idle_right",frames:i.anims.generateFrameNumbers("goat-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"goat-brown-female-adult-idle_left",frames:i.anims.generateFrameNumbers("goat-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"goat-brown-female-adult-idle_right",frames:i.anims.generateFrameNumbers("goat-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMalePigPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"pig",stage:"baby",state:"male-baby-idle_left",variant:"pink",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"pig-pink-male-baby-idle_left",frames:i.anims.generateFrameNumbers("pig-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"pig-pink-male-baby-idle_right",frames:i.anims.generateFrameNumbers("pig-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"pig-pink-male-adult-idle_left",frames:i.anims.generateFrameNumbers("pig-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"pig-pink-male-adult-idle_right",frames:i.anims.generateFrameNumbers("pig-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMalePigMudPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"pig",stage:"baby",state:"male-baby-idle_left",variant:"mud-pink",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"pig-mud-pink-male-baby-idle_left",frames:i.anims.generateFrameNumbers("pig-mud-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"pig-mud-pink-male-baby-idle_right",frames:i.anims.generateFrameNumbers("pig-mud-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"pig-mud-pink-male-adult-idle_left",frames:i.anims.generateFrameNumbers("pig-mud-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"pig-mud-pink-male-adult-idle_right",frames:i.anims.generateFrameNumbers("pig-mud-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleOstrichBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"ostrich",stage:"egg",state:"male-egg-idle_left",variant:"black",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"ostrich-black-male-egg-idle_left",frames:i.anims.generateFrameNumbers("ostrich-black-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"ostrich-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("ostrich-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"ostrich-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("ostrich-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"ostrich-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("ostrich-black-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"ostrich-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("ostrich-black-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleOstrichBlueOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"ostrich",stage:"egg",state:"male-egg-idle_left",variant:"blue",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"ostrich-blue-male-egg-idle_left",frames:i.anims.generateFrameNumbers("ostrich-blue-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"ostrich-blue-male-baby-idle_left",frames:i.anims.generateFrameNumbers("ostrich-blue-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"ostrich-blue-male-baby-idle_right",frames:i.anims.generateFrameNumbers("ostrich-blue-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"ostrich-blue-male-adult-idle_left",frames:i.anims.generateFrameNumbers("ostrich-blue-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"ostrich-blue-male-adult-idle_right",frames:i.anims.generateFrameNumbers("ostrich-blue-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleOstrichBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"ostrich",stage:"egg",state:"male-egg-idle_left",variant:"brown",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"ostrich-brown-male-egg-idle_left",frames:i.anims.generateFrameNumbers("ostrich-brown-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"ostrich-brown-male-baby-idle_left",frames:i.anims.generateFrameNumbers("ostrich-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"ostrich-brown-male-baby-idle_right",frames:i.anims.generateFrameNumbers("ostrich-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"ostrich-brown-male-adult-idle_left",frames:i.anims.generateFrameNumbers("ostrich-brown-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"ostrich-brown-male-adult-idle_right",frames:i.anims.generateFrameNumbers("ostrich-brown-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleSheep1Options:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"sheep",stage:"baby",state:"male-baby-idle_left",variant:"1",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"sheep-1-male-baby-idle_left",frames:i.anims.generateFrameNumbers("sheep-1-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"sheep-1-male-baby-idle_right",frames:i.anims.generateFrameNumbers("sheep-1-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"sheep-1-male-adult-idle_left",frames:i.anims.generateFrameNumbers("sheep-1-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"sheep-1-male-adult-idle_right",frames:i.anims.generateFrameNumbers("sheep-1-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleSheep1Options:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"sheep",stage:"baby",state:"female-baby-idle_left",variant:"1",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"sheep-1-female-baby-idle_left",frames:i.anims.generateFrameNumbers("sheep-1-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"sheep-1-female-baby-idle_right",frames:i.anims.generateFrameNumbers("sheep-1-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"sheep-1-female-adult-idle_left",frames:i.anims.generateFrameNumbers("sheep-1-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"sheep-1-female-adult-idle_right",frames:i.anims.generateFrameNumbers("sheep-1-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleSheep2Options:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"sheep",stage:"baby",state:"male-baby-idle_left",variant:"2",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"sheep-2-male-baby-idle_left",frames:i.anims.generateFrameNumbers("sheep-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"sheep-2-male-baby-idle_right",frames:i.anims.generateFrameNumbers("sheep-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"sheep-2-male-adult-idle_left",frames:i.anims.generateFrameNumbers("sheep-2-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"sheep-2-male-adult-idle_right",frames:i.anims.generateFrameNumbers("sheep-2-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleSheep2Options:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"sheep",stage:"baby",state:"female-baby-idle_left",variant:"2",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"sheep-2-female-baby-idle_left",frames:i.anims.generateFrameNumbers("sheep-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"sheep-2-female-baby-idle_right",frames:i.anims.generateFrameNumbers("sheep-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"sheep-2-female-adult-idle_left",frames:i.anims.generateFrameNumbers("sheep-2-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"sheep-2-female-adult-idle_right",frames:i.anims.generateFrameNumbers("sheep-2-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleDuckWhiteOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"male-egg-idle_left",variant:"white",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"duck-white-male-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"duck-white-male-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"duck-white-male-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"duck-white-male-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-white-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"duck-white-male-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-white-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleDuckWhiteOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"female-egg-idle_left",variant:"white",facing:"left",gender:"female",animations:{"female-egg-idle_left":{key:"duck-white-female-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:24,end:27}),frameRate:5,repeat:-1},"female-baby-idle_left":{key:"duck-white-female-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"duck-white-female-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"duck-white-female-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-white-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"duck-white-female-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-white-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleDuckBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"male-egg-idle_left",variant:"black",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"duck-black-male-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-black-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"duck-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"duck-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"duck-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"duck-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleDuckYellowOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"male-egg-idle_left",variant:"yellow",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"duck-yellow-male-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-yellow-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"duck-yellow-male-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-yellow-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"duck-yellow-male-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-yellow-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"duck-yellow-male-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-yellow-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"duck-yellow-male-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-yellow-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleDuckMallad2Options:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"male-egg-idle_left",variant:"mallad-2",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"duck-mallad-2-male-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-2-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"duck-mallad-2-male-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"duck-mallad-2-male-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-2-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"duck-mallad-2-male-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-2-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"duck-mallad-2-male-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-2-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleDuckMalladOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"male-egg-idle_left",variant:"mallad",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"duck-mallad-male-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"duck-mallad-male-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"duck-mallad-male-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"duck-mallad-male-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"duck-mallad-male-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleDuckMalladOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"duck",stage:"egg",state:"female-egg-idle_left",variant:"mallad",facing:"left",gender:"female",animations:{"female-egg-idle_left":{key:"duck-mallad-female-egg-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:24,end:27}),frameRate:5,repeat:-1},"female-baby-idle_left":{key:"duck-mallad-female-baby-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"duck-mallad-female-baby-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"duck-mallad-female-adult-idle_left",frames:i.anims.generateFrameNumbers("duck-mallad-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"duck-mallad-female-adult-idle_right",frames:i.anims.generateFrameNumbers("duck-mallad-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenWhiteOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"white",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-white-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-white-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-white-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-white-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-white-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-white-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-white-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-white-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBlackWhiteOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"black-white",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-black-white-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-white-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-black-white-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-black-white-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-black-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-black-white-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-white-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-black-white-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-black-white-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBlondeOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"blonde",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-blonde-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-blonde-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-blonde-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-blonde-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-blonde-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-blonde-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBlondeGreenOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"blonde-green",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-blonde-green-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-blonde-green-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-blonde-green-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-blonde-green-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-blonde-green-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-blonde-green-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-blonde-green-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBrowBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"brown-black",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-brown-black-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-black-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-brown-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-brown-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-brown-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-brown-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-black-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-brown-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-brown-black-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBrowWhiteOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"brown-white",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-brown-white-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-white-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-brown-white-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-brown-white-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-brown-white-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-brown-white-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-brown-white-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-brown-white-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-brown-white-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenEvilOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"evil",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-evil-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-evil-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-evil-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-evil-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-evil-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-evil-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-evil-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-evil-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-evil-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-evil-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenFullOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"full",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-full-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-full-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-full-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-full-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-full-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-full-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-full-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-full-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-full-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-full-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenGreenOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"green",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-green-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-green-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-green-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-green-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-green-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-green-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-green-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-green-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-green-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-green-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"pink",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-pink-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-pink-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-pink-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-pink-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-pink-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-pink-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-pink-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenRedOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"red",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-red-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-red-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-red-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-red-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-red-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-red-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-red-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-red-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-red-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-red-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenUniverseOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"universe",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-universe-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-universe-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-universe-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-universe-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-universe-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-universe-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-universe-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-universe-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-universe-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-universe-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleChickenBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:320,type:"chicken",stage:"egg",state:"male-egg-idle_left",variant:"black",facing:"left",gender:"male",animations:{"male-egg-idle_left":{key:"chicken-black-male-egg-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-baby",{start:24,end:27}),frameRate:5,repeat:-1},"male-baby-idle_left":{key:"chicken-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"chicken-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("chicken-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"chicken-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("chicken-black-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"chicken-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("chicken-black-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"black",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"black",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-black-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-black-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-black-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-black-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"pink",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-pink-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-pink-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-pink-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-pink-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-pink-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-pink-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowPinkOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"pink",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-pink-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-pink-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-pink-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-pink-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-pink-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-pink-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-pink-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowBlondeOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"blonde",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-blonde-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-blonde-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-blonde-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-blonde-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-blonde-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-blonde-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowBlondeOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"blonde",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-blonde-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-blonde-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-blonde-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-blonde-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-blonde-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-blonde-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-blonde-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"brown",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-brown-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-brown-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-brown-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-brown-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"brown",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-brown-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-brown-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-brown-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-brown-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowHlBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"highlighter-black",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-highlighter-black-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-highlighter-black-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-highlighter-black-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-highlighter-black-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-black-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowHlBlackOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"highlighter-black",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-highlighter-black-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-highlighter-black-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-black-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-highlighter-black-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-highlighter-black-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-black-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getMaleCowHlBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"male-baby-idle_left",variant:"highlighter-brown",facing:"left",gender:"male",animations:{"male-baby-idle_left":{key:"cow-highlighter-brown-male-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-baby-idle_right":{key:"cow-highlighter-brown-male-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_left":{key:"cow-highlighter-brown-male-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1},"male-adult-idle_right":{key:"cow-highlighter-brown-male-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-male-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},getFeMaleCowHlBrownOptions:()=>{const i=t().scene;if(!i)throw new Error("Scene not set");return{x:515,y:350,type:"cow",stage:"baby",state:"female-baby-idle_left",variant:"highlighter-brown",facing:"left",gender:"female",animations:{"female-baby-idle_left":{key:"cow-highlighter-brown-female-baby-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-baby-idle_right":{key:"cow-highlighter-brown-female-baby-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-baby",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_left":{key:"cow-highlighter-brown-female-adult-idle_left",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1},"female-adult-idle_right":{key:"cow-highlighter-brown-female-adult-idle_right",frames:i.anims.generateFrameNumbers("cow-highlighter-brown-female-adult",{start:0,end:3}),frameRate:5,repeat:-1}}}},animals:[],setAnimals(i){e({animals:i})},addAnimal:i=>e(n=>({animals:[...n.animals,i]})),removeAnimal:i=>e(n=>({animals:n.animals.filter(d=>d.id!==i)})),updateAnimal:(i,n)=>e(d=>({animals:d.animals.map(C=>C.id===i?{...C,...n}:C)})),resetAnimals:()=>e({animals:[]}),version:1,setVersion:i=>{e({version:i})}}),{name:Lh,storage:EI,partialize:e=>({animals:e.animals,version:e.version})})),xo=class xo{constructor(t){it(this,"scene");it(this,"currentPopup");it(this,"stack",[]);it(this,"bg");it(this,"playerInfoUnsubscribe");this.scene=t}static getInstance(t){if(xo.instance)t&&xo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");xo.instance=new xo(t)}return xo.instance}setScene(t){this.scene=t}getScene(){return this.scene}createAnimations(t){Rh(t,"popup-close-button",[{key:"button-48x16",frame:119},{key:"button-48x16",frame:136}]),Rh(t,"popup-back-button",[{key:"button-48x16",frame:17},{key:"button-48x16",frame:34}])}renderPlayerInfo(t){const{characterType:i,characterName:n,level:d,exp:C,skills:r}=t;eU(this.scene,`${i}_idle`,`${i}_idle`,0,3,5,-1);const x=this.scene.add.container(-75,-50),s=this.scene.add.sprite(0,0,`${i}`).setScale(Bt).setInteractive();s.play(`${i}_idle`),x.add(s);const a=this.scene.add.text(0,s.height/2+10,`Level: ${d} / Exp: ${C}`,{...be,color:Gt.TextDark}).setOrigin(.5,0);x.add(a);const g=this.scene.add.container(-20,-75);let c=0;const h=this.scene.add.text(0,c,`Tên: ${n}`,{...be,color:Gt.TextDark}).setOrigin(0,0);g.add(h),c+=20;const l=this.scene.add.text(0,c,"Kỹ năng:",{...be,color:Gt.SecondaryHex}).setOrigin(0,0);g.add(l),c+=20;for(const[p,m]of Object.entries(r)){const y=this.scene.add.text(0,c,`${iU(p)}: Lv ${m.level} (${m.exp} EXP)`,{...be,color:Gt.TextDark,fontStyle:"bold"}).setOrigin(0,0);g.add(y),c+=20}const o=0;g.x=x.width+o;const u=x.width+o+g.width,v=Math.max(x.height,g.height);return this.scene.add.container(-u/2,-v/2,[x,g])}showPopup(t,i,n){const{uiController:d}=ti(this.scene);if(d.getIsShopDialogOpen())return;const{width:C,height:r}=this.scene.cameras.main;this.currentPopup&&(this.currentPopup.setVisible(!1),this.stack.some(l=>{var o;return l.name===((o=this.currentPopup)==null?void 0:o.name)})||this.stack.push(this.currentPopup));const{bg:x,box:s,titleContainer:a}=this.initWrapper(t),g=this.scene.add.container(C/2,r/2,[x,s,a]);if(i==="menu"){const h=this.createMenu(0,-50);g.add(h)}if(i==="menu-inventory"){const h=this.createMenuInventory(-15,-10);g.add(h)}if(i==="menu-setting"){const h=this.createMenuSetting(-32,-32);g.add(h)}if(i==="quit"){const h=this.createConfirmQuit(-50,0);g.add(h)}if(i==="menu-character"){let h=this.renderPlayerInfo(me.getState());g.add(h),this.playerInfoUnsubscribe=me.subscribe((l,o)=>{l!==o&&(g.remove(h,!0),h=this.renderPlayerInfo(l),g.add(h))})}if(this.stack.length>0){const h=this.createBackButton(-this.bg.width/2+80,this.bg.height/2-20,"← Quay lại",()=>{this.closePopup();const{uiController:l}=ti(this.scene);l.activeButtonPressSfx()});g.add(h)}let c;n!=null&&n.cancelText&&(c=this.createCancelButton(this.bg.width/2-80,this.bg.height/2-20,n.cancelText,()=>{var h;this.closePopup(),(h=n==null?void 0:n.onCancel)==null||h.call(n)})),c&&g.add(c),g.setDepth(Ut.POPUP),g.setName(i),this.currentPopup=g,this.scene.add.existing(g)}initWrapper(t){const i=this.scene.add.rectangle(0,0,310,310,Gt.BgDark,.7).setOrigin(.5);this.bg=i;const n=this.scene.add.image(0,0,"banner").setCrop(0,0,48,48).setScale(Bt*4).setOrigin(.5),d=this.scene.add.image(0,-140,"banner",4).setCrop(0,16,48,16).setScale(1.5*Bt).setOrigin(.5),C=this.scene.add.text(0,-140,t,{...be,color:Gt.SecondaryHex}).setOrigin(.5),r=this.scene.add.container(0,0,[d,C]);return r.setDepth(Ut.PRIORITY),r.setSize(d.width,d.height),{bg:i,box:n,titleContainer:r}}createBackButton(t,i,n,d){const C=this.scene.add.sprite(t,i,"banner-48x16").setOrigin(.5).setScale(Bt);C.play("popup-back-button"),C.setInteractive(),C.on("pointerdown",s=>{s.button===0&&d()});const r=this.scene.add.text(t,i,n,{...be,color:Gt.TextLight}).setOrigin(.5).setDepth(Ut.PRIORITY);return this.scene.add.container(0,0,[C,r])}createCancelButton(t,i,n,d){const C=this.scene.add.sprite(t,i,"banner-48x16").setOrigin(.5).setScale(Bt);C.play("popup-close-button"),C.setInteractive(),C.on("pointerdown",s=>{s.button===0&&d()});const r=this.scene.add.text(t,i,n,{...be,color:Gt.TextLight}).setOrigin(.5).setDepth(Ut.PRIORITY);return this.scene.add.container(0,0,[C,r])}createMenu(t,i){const n=["Nhân vật","Túi đồ","Lưu Dữ Liệu","Cài đặt"],d=[];return n.forEach((C,r)=>{const x=this.scene.add.image(0,0,"button-48x16",17).setOrigin(.5).setScale(Bt);x.setInteractive(new de.Geom.Rectangle(0,0,x.width,x.height),de.Geom.Rectangle.Contains),x.on("pointerdown",async g=>{if(g.button===0){switch(C){case"Nhân vật":this.openCharacterPopup();break;case"Túi đồ":this.openInventoryPopup();break;case"Lưu Dữ Liệu":Tt.debug("Lưu Dữ Liệu");const h=3*Dt;if(ee.getState().lastUpdate&&Date.now()-ee.getState().lastUpdate<3600*1e3){di.getInstance(this.scene).toast("Bạn chỉ có thể lưu sau mỗi 1 tiếng",h);return}if(!Ln.getState().token)di.getInstance(this.scene).toast("Đăng nhập để đồng bộ dữ liệu của bạn",h),setTimeout(()=>{Ln.getState().logout()},h);else{const{bornAt:l,characterName:o,characterType:u,exp:v,gold:f,level:p,skills:m,x:y,y:S,version:T}=me.getState(),{fullscreen:b,musicVolume:P,sfxVolume:w,sound:A,version:R}=Rr.getState(),{currentWeather:D,lastDevice:L,lastPhase:k,lastSeason:B,lastWeather:F,totalGameMinutes:G,version:N}=Fn.getState(),{inventoryItems:W,isNewbie:X,shortcutItems:$,version:J}=ee.getState(),{tiles:V,version:Y}=Rs.getState(),{animals:z,version:K}=kn.getState(),{logs:H,version:Q}=HF.getState(),j={player:{bornAt:l,characterName:o,characterType:u,exp:v,gold:f,level:p,skills:m,x:y,y:S,version:T},settings:{fullscreen:b,musicVolume:P,sfxVolume:w,sound:A,version:R},global:{currentWeather:D,lastDevice:L,lastPhase:k,lastSeason:B,lastWeather:F,totalGameMinutes:G,version:N},game:{inventoryItems:W,isNewbie:X,shortcutItems:$,version:J},farmCrop:{tiles:V,version:Y},farmAnimal:{animals:z,version:K},logs:{logs:H,version:Q}};await me.getState().syncOfflineData(K4(j))?di.getInstance(this.scene).toast("Đã lưu dữ liệu thành công!",3e3):di.getInstance(this.scene).toast("Lưu dữ liệu thất bại",3e3)}break;case"Cài đặt":this.openSettingsPopup();break}const{uiController:c}=ti(this.scene);c.activeButtonPressSfx()}});const s=this.scene.add.text(0,0,C,{...be,color:Gt.TextLight}).setOrigin(.5),a=this.scene.add.container(t,i+r*40,[x,s]);a.setSize(x.width,x.height),a.setDepth(Ut.PRIORITY),d.push(a)}),d}createMenuInventory(t,i){const n=this.scene.add.container(t,i),{inventoryController:d}=ti(this.scene);return d==null||d.setContainer(n),n}createMenuSetting(t,i){const n=this.scene.scene.get(Ht.GLOBAL),{soundController:d}=Ze(n),C=this.scene.add.container(t,i),r=this.scene.add.text(0,0,"Zoom",be).setOrigin(1),x=this.scene.scale.isFullscreen?[28,29]:[5,6],s=this.createFrameContainer(20,-10,"extras",x);s.setSize(32,16),s.setInteractive().on("pointerdown",v=>{if(v.button===0){const{setFullScreen:f}=Rr.getState();f(this.scene.scale.isFullscreen),this.scene.scale.isFullscreen?(this.scene.scale.stopFullscreen(),this.updateFrameContainerFrames(s,"extras",[5,6])):(this.scene.scale.startFullscreen(),this.updateFrameContainerFrames(s,"extras",[28,29]))}});const a=this.scene.add.text(0,30,"Âm thanh",be).setOrigin(1),g=this.scene.sound.mute?13:12,c=this.scene.add.image(20,25,"button",g).setScale(Bt).setInteractive().on("pointerdown",v=>{v.button===0&&(this.scene.sound.mute?(d.unmuteAll(),c.setFrame(12)):(d.muteAll(),c.setFrame(13)))}),h=this.scene.add.text(0,60,"SFX",be).setOrigin(1),l=this.createVolumeSlider(60,55,d.getSfxVolume(),v=>{d.setSfxVolume(v)}),o=this.scene.add.text(0,90,"Music",be).setOrigin(1),u=this.createVolumeSlider(60,85,d.getMusicVolume(),v=>{d.setMusicVolume(v)});return C.add([r,s,a,c,h,l,o,u]),C}createVolumeSlider(t,i,n,d){var x;const C=this.scene.add.container(t,i),r=(x=this.scene.rexUI)==null?void 0:x.add.slider({x:0,y:0,width:100,height:20,orientation:"x",value:de.Math.Clamp(n,0,1),track:this.scene.rexUI.add.roundRectangle(0,0,0,0,6,Gt.BgDark),thumb:this.scene.rexUI.add.roundRectangle(0,0,0,0,10,Gt.Light),valuechangeCallback:function(s){d(s)},space:{top:4,bottom:4},input:"drag"});return C.add(r),r==null||r.layout(),C}createConfirmQuit(t,i){const n=this.scene.add.container(t,i),d=48*Bt,C=16,r=this.scene.add.image(0,0,"button-48x16",34).setScale(Bt).setOrigin(.5),x=this.scene.add.text(0,0,"Đồng ý",{...be,color:Gt.TextLight}).setOrigin(.5),s=this.scene.add.container(0,0,[r,x]);s.setSize(96,32),s.setInteractive().on("pointerdown",h=>{if(h.button===0){this.closePopup(),Ln.getState().logout();const{uiController:l}=ti(this.scene);l.activeButtonPressSfx()}});const a=this.scene.add.image(0,0,"button-48x16",85).setScale(Bt).setOrigin(.5),g=this.scene.add.text(0,0,"Hủy",{...be,color:Gt.TextLight}).setOrigin(.5),c=this.scene.add.container(d+C,0,[a,g]);return c.setSize(96,32),c.setInteractive().on("pointerdown",h=>{if(h.button===0){this.closePopup();const{uiController:l}=ti(this.scene);l.activeButtonPressSfx()}}),n.add([s,c]),n}createFrameContainer(t,i,n,d){const C=this.scene.add.container(t,i);return d.forEach((r,x)=>{const s=this.scene.add.image(x*ut,0,n,r).setOrigin(.5);C.add(s)}),C}updateFrameContainerFrames(t,i,n){t.removeAll(!0),n.forEach((d,C)=>{const r=t.scene.add.image(C*ut,0,i,d).setOrigin(.5);t.add(r)})}openCharacterPopup(){this.showPopup("Nhân vật","menu-character",{cancelText:"Đóng",onCancel:()=>{Tt.debug("Đóng menu nhân vật");const{uiController:t}=ti(this.scene);t.activeButtonPressSfx()}})}openInventoryPopup(){const{inventoryController:t}=ti(this.scene);this.showPopup("Túi đồ","menu-inventory",{cancelText:"Đóng",onCancel:()=>{t.closePopover(),Tt.debug("Đóng menu túi đồ");const{uiController:i}=ti(this.scene);i.activeButtonPressSfx()}})}openSettingsPopup(){this.showPopup("Cài đặt","menu-setting",{cancelText:"Đóng",onCancel:()=>{Tt.debug("Đóng menu cài đặt");const{uiController:t}=ti(this.scene);t.activeButtonPressSfx()}})}closePopup(){if(this.currentPopup&&(this.currentPopup.destroy(),this.currentPopup=void 0),this.stack.length>0){const t=this.stack.pop();t.setVisible(!0),this.currentPopup=t}}closeAllPopups(){for(this.currentPopup&&(this.currentPopup.destroy(),this.currentPopup=void 0);this.stack.length>0;){const t=this.stack.pop();t==null||t.destroy()}}activeResizeEvent(){this.scene.scale.on("resize",()=>{this.updatePopupPositions()})}updatePopupPositions(){const{width:t,height:i}=this.scene.cameras.main;this.stack.forEach(n=>{n.x=t/2,n.y=i/2}),this.currentPopup&&this.currentPopup.setPosition(t/2,i/2)}getCurrentPopup(){return this.currentPopup}destroy(){var t,i;(t=this.playerInfoUnsubscribe)==null||t.call(this),(i=this.currentPopup)==null||i.destroy()}};it(xo,"instance",null);let D4=xo;const yo=class yo{constructor(t){it(this,"scene");it(this,"equippedItems",{});this.scene=t}static getInstance(t){if(yo.instance)t&&yo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");yo.instance=new yo(t)}return yo.instance}setScene(t){this.scene=t}getScene(){return this.scene}equip(t,i){this.equippedItems[t]=i,Tt.debug(`[EQUIP] Đã trang bị ${i.name} vào slot ${t}`)}unequip(t){const i=this.equippedItems[t];i&&(Tt.debug(`[UNEQUIP] Đã gỡ ${i.name} khỏi slot ${t}`),delete this.equippedItems[t])}getEquippedItem(t){return this.equippedItems[t]}getAllEquipped(){return this.equippedItems}isEquipped(t){return Object.values(this.equippedItems).some(i=>(i==null?void 0:i.id)===t)}};it(yo,"instance",null);let L4=yo;const So=class So{constructor(t){it(this,"scene");it(this,"sounds",new Map);it(this,"musicKey","spring-bg-music");it(this,"musicVolume",.5);it(this,"sfxVolume",1);this.scene=t;const{sound:i,musicVolume:n,sfxVolume:d}=Rr.getState();this.scene.sound.mute=!i,this.musicVolume=n,this.sfxVolume=d}static getInstance(t){if(So.instance)t&&So.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");So.instance=new So(t)}return So.instance}setScene(t){this.scene=t}getScene(){return this.scene}create(){this.addSound(this.musicKey,!0,this.musicVolume),this.play(this.musicKey)}addSound(t,i=!1,n=1){const d=this.scene.sound.add(t,{loop:i,volume:n});this.sounds.set(t,d)}play(t){const i=this.sounds.get(t);i&&!i.isPlaying&&i.play()}stop(t){const i=this.sounds.get(t);i!=null&&i.isPlaying&&i.stop()}pause(t){const i=this.sounds.get(t);i!=null&&i.isPlaying&&i.pause()}resume(t){const i=this.sounds.get(t);i!=null&&i.isPaused&&i.resume()}muteAll(){const{setSound:t}=Rr.getState();t(!1),this.scene.sound.mute=!0}unmuteAll(){const{setSound:t}=Rr.getState();t(!0),this.scene.sound.mute=!1}setMusicVolume(t){this.musicVolume=t;const{setMusicVolume:i}=Rr.getState();i(t);const n=this.sounds.get(this.musicKey);n&&"setVolume"in n&&n.setVolume(t)}getMusicVolume(){return this.musicVolume}setSfxVolume(t){this.sfxVolume=t;const{setSfxVolume:i}=Rr.getState();i(t),this.sounds.forEach((n,d)=>{d!==this.musicKey&&"setVolume"in n&&n.setVolume(t)})}getSfxVolume(){return this.sfxVolume}playSfx(t,i={}){let n=this.sounds.get(t);n||(n=this.scene.sound.add(t,{volume:this.sfxVolume,loop:i.loop||!1}),this.sounds.set(t,n)),n.play()}};it(So,"instance",null);let F4=So;const Co=class Co{constructor(t){it(this,"scene");it(this,"equippedItems",{});this.scene=t}static getInstance(t){if(Co.instance)t&&Co.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");Co.instance=new Co(t)}return Co.instance}setScene(t){this.scene=t}getScene(){return this.scene}equip(t,i){this.equippedItems[t]=i,Tt.debug(`[EQUIP] Đã trang bị ${i.name} vào slot ${t}`)}unequip(t){const i=this.equippedItems[t];i&&(Tt.debug(`[UNEQUIP] Đã gỡ ${i.name} khỏi slot ${t}`),delete this.equippedItems[t])}getEquippedItem(t){return this.equippedItems[t]}getAllEquipped(){return this.equippedItems}isEquipped(t){return Object.values(this.equippedItems).some(i=>(i==null?void 0:i.id)===t)}};it(Co,"instance",null);let B4=Co;const To=class To{constructor(t){it(this,"scene");it(this,"items",[]);it(this,"container");it(this,"currentPage",0);it(this,"slotsPerPage",24);it(this,"totalSlots",48);it(this,"slots");it(this,"popover",null);it(this,"inventoryUnsubscribe");this.scene=t,this.currentPage=0,this.slotsPerPage=24,this.totalSlots=48,this.popover=null,this.slots=[],this.container=t.add.container(0,0).setDepth(Ut.INVENTORY).setVisible(!1),this.items=ee.getState().inventoryItems,this.inventoryUnsubscribe=ee.subscribe((i,n)=>{if(i.inventoryItems!==n.inventoryItems){this.items=i.inventoryItems,this.renderInventory();const d=this.scene.game.scene.keys[Ht.GLOBAL],{usableController:C}=Ze(d),r=C.getEquippedItem("seed");r&&(i.inventoryItems.some(s=>s.iconKey===r.iconKey&&s.quantity>0)||(C.unequip("seed"),Tt.debug(`Auto unequip ${r.iconKey} because quantity is 0`)))}})}static getInstance(t){if(To.instance)t&&To.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");To.instance=new To(t)}return To.instance}setScene(t){this.scene=t}getScene(){return this.scene}setContainer(t){this.container=t,this.renderInventory()}addItem(t){this.items.push(t),this.renderInventory()}getItemIconConfig(t){switch(t.type){case"tool":return{atlasKey:"basic-weapons",frame:Lz(t.iconKey)};case"seed":case"seed-summer":case"seed-fall":return{atlasKey:"crops",frame:Fz(t.iconKey)};case"weapon":return{atlasKey:"basic-weapons",frame:Bz(t.iconKey)};case"farm-animal":return{atlasKey:"animals-farm-icons",frame:Iz(t.iconKey)};case"crop-dropped":{const i=`${t.iconKey}_${t.quality}`;return{atlasKey:"crops",frame:kz(i)}}default:return{atlasKey:"items",frame:0}}}renderInventory(){if(!this.container)return;this.container.removeAll(!0);const t=6,i=ut*Bt,n=2*Et.Padding,d=this.currentPage*this.slotsPerPage,r=Math.min(d+this.slotsPerPage,this.totalSlots)-d,x=Math.ceil(r/t),s=t*i+(t-1)*n,a=x*i+(x-1)*n,g=-s/2,c=-a/2;for(let o=0;o<r;o++){const u=d+o,v=Math.floor(o/t),f=o%t,p=g+f*(i+n),m=c+v*(i+n),y=this.items[u],S=this.scene.add.container(p,m);this.container.add(S);const T=this.scene.add.image(0,0,"inventory",1).setOrigin(0).setInteractive().on("pointerdown",b=>{b.button===0&&(y?(Tt.debug(`Vật phẩm vị trí: ${u} là ${y.name}`),this.handlePopover(b,y)):Tt.debug(`Slot trống vị trí: ${u}`))});if(S.add(T),y){const{atlasKey:b,frame:P}=this.getItemIconConfig(y),w=this.scene.add.image(i/2,i/2,b,P).setOrigin(.5);if(S.add(w),y.quantity>1){const A=p+(i-8)*Bt,R=m+(i-6)*Bt,D=this.scene.add.text(A,R,`${y.quantity}`,{...be,color:Gt.TextLight,backgroundColor:Gt.BgDarkHex}).setOrigin(1);this.container.add(D)}}S.setScale(Bt),this.slots.push(S)}const h=this.scene.add.image(g-Et.Padding,c+a/2-Et.Padding,"hud",16).setScale(Bt).setOrigin(.5).setInteractive().on("pointerdown",o=>{o.button===0&&this.currentPage>0&&(this.currentPage--,this.renderInventory())}),l=this.scene.add.image(g+s+4*Et.Padding,c+a/2-Et.Padding,"hud",17).setScale(Bt).setOrigin(.5).setInteractive().on("pointerdown",o=>{if(o.button===0){const u=Math.floor((this.totalSlots-1)/this.slotsPerPage);this.currentPage<u&&(this.currentPage++,this.renderInventory())}});this.container.add(h),this.container.add(l)}getItemActionText(t,i){if(!t)return"Sử dụng";const{equipmentController:n,usableController:d}=i;switch(t.type){case"tool":case"weapon":return n.isEquipped(t.id)?"Gỡ trang bị":"Trang bị";case"seed":case"seed-fall":case"seed-summer":return d.isEquipped(t.id)?"Bỏ chọn":"Chọn";case"farm-animal":return"Sử dụng";default:return"Sử dụng"}}useFarmAnimal(t){var c,h,l,o,u,v;const i=this.scene.game.scene.keys[Ht.BASE],n=this.scene.game.scene.keys[Ht.GLOBAL],{soundController:d}=Ze(n);if(kn.getState().animals.length>=i.farmAnimalManager.getMaxAnimalLimit()){di.getInstance(this.scene).toast(`Bạn đã đạt giới hạn vật nuôi: ${i.farmAnimalManager.getMaxAnimalLimit()} con`,3e3);return}const{getMaleChickenBlondeOptions:C,getMaleCowBlackOptions:r,getMaleChickenWhiteOptions:x,getFeMaleCowBlackOptions:s}=kn.getState(),{decreaseInventoryItem:a,decreaseShortcutItem:g}=ee.getState();t.iconKey==="chicken_blonde_male"&&((c=i.farmAnimalManager)==null||c.spawnAnimal(C()),a("chicken_blonde_male",1,t.quality||"normal"),g("chicken_blonde_male",1,t.quality||"normal")),t.iconKey==="cow_black_male"&&((h=i.farmAnimalManager)==null||h.spawnAnimal(r()),a("cow_black_male",1,t.quality||"normal"),g("cow_black_male",1,t.quality||"normal")),t.iconKey==="chicken_white_male"&&((l=i.farmAnimalManager)==null||l.spawnAnimal(x()),a("chicken_white_male",1,t.quality||"normal"),g("chicken_white_male",1,t.quality||"normal")),t.iconKey==="cow_black_female"&&((o=i.farmAnimalManager)==null||o.spawnAnimal(s()),a("cow_black_female",1,t.quality||"normal"),g("cow_black_female",1,t.quality||"normal")),(u=t.iconKey)!=null&&u.includes("cow")?d.playSfx("sfxCowMooing",{loop:!1}):(v=t.iconKey)!=null&&v.includes("chicken")&&d.playSfx("sfxChickenNoise",{loop:!1})}showInformationItem(t){const i=this.scene,n=i.add.container(i.cameras.main.centerX,i.cameras.main.centerY),d=250,r=i.add.rectangle(0,0,d,150,Gt.BgDark,.8).setOrigin(.5).setStrokeStyle(2,Gt.Light),x=`${t.name}
${t.description}
Chất lượng: ${nU(t.quality)||""}`,s=i.add.text(0,0,x,{fontSize:"18px",color:Gt.TextLight,wordWrap:{width:d-20},align:"center",fontFamily:df}).setOrigin(.5),a=i.add.text(100,70,"Hủy",{fontSize:"16px",backgroundColor:Gt.DangerHex,color:Gt.TextLight,padding:{x:10,y:5},fontFamily:df}).setOrigin(.5).setInteractive();n.add([r,s,a]),n.setDepth(Ut.POPUP+2*Ut.PRIORITY),a.on("pointerdown",()=>{n.destroy()})}handlePopover(t,i){const n=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:d,usableController:C}=Ze(n),{uiController:r}=ti(this.scene);this.closePopover();const x=t.x,s=t.y,a=this.scene.add.rectangle(0,0,25*Et.Padding,22*Et.Padding,Gt.BgDark).setStrokeStyle(2,Gt.Light).setOrigin(0),g=this.getItemActionText(i,{usableController:C,equipmentController:d}),c=this.scene.add.text(Et.Padding,Et.Padding,g,{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",p=>{p.button===0&&(this.useItem(i),r.updateSlotsBorder(),this.closePopover())}),h=this.scene.add.text(Et.Padding,5*Et.Padding,"Thông tin",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",p=>{p.button===0&&(Tt.debug("Đã bấm xem thông tin"),this.showInformationItem(i),this.closePopover())}),l=ee.getState(),o=l.shortcutItems.some(p=>p.iconKey===i.iconKey&&p.quality===i.quality),u=this.scene.add.text(Et.Padding,9*Et.Padding,o?"Gỡ khỏi phím tắt":"Thêm vào phím tắt",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",p=>{p.button===0&&(Tt.debug("Đã bấm Thêm vào phím tắt"),i.canShortcut&&(o?l.removeItemFromShortcut(i):l.addItemToShortcut(i)),this.closePopover())}),v=this.scene.add.text(Et.Padding,13*Et.Padding,"Bán",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",p=>{if(p.button===0){if(i!=null&&i.sellPrice){const{gold:m,setGold:y}=me.getState();y(m+((i==null?void 0:i.sellPrice)??0)),ee.getState().decreaseInventoryItem(i.iconKey,1,i.quality||"normal"),ee.getState().decreaseShortcutItem(i.iconKey,1,i.quality||"normal"),di.getInstance(this.scene).toast(`Đã bán vật phẩm ${i.name}`,3e3)}else di.getInstance(this.scene).toast(`Không thể  bán ${i.name}`,3e3);this.closePopover()}}),f=this.scene.add.text(Et.Padding,17*Et.Padding,"Xóa",{...be,color:Gt.TextLight,padding:{x:2,y:1}}).setInteractive().on("pointerdown",p=>{p.button===0&&(Tt.debug("Đã bấm Xóa"),ee.getState().removeItemFromInventory(i),ee.getState().removeItemFromShortcut(i),this.closePopover())});this.popover=this.scene.add.container(x,s,[a,c,h,u,v,f]).setDepth(Ut.POPUP+2*Ut.PRIORITY),this.scene.input.on("pointerdown",p=>{var m,y;if(p.button===0){const S=p.x,T=p.y,b=((m=this.popover)==null?void 0:m.getBounds().contains(S,T))??!1,P=(y=this.slots)==null?void 0:y.some(w=>w.getBounds().contains(S,T));!b&&!P&&this.closePopover()}})}closePopover(){this.popover&&(this.popover.destroy(!0),this.popover=void 0)}useItem(t){const i=this.scene.game.scene.keys[Ht.GLOBAL],{equipmentController:n,usableController:d}=Ze(i);if(t&&t.type==="tool"){d.unequip("seed"),n.unequip("weapon");const C={id:t.id,name:t.name,iconKey:t.iconKey,description:t.description||"",type:t.type||"",quality:t.quality||"normal"};n.isEquipped(t.id)?n.unequip("tool"):n.equip("tool",C)}else if(t&&t.type==="weapon"){d.unequip("seed"),n.unequip("tool");const C={id:t.id,name:t.name,iconKey:t.iconKey,description:t.description||"",type:t.type||"",quality:t.quality||"normal"};n.isEquipped(t.id)?n.unequip("weapon"):n.equip("weapon",C)}else if(t&&(t.type==="seed"||t.type==="seed-fall"||t.type==="seed-summer")){n.unequip("tool"),n.unequip("weapon");const C={id:t.id,name:t.name,iconKey:t.iconKey,description:t.description||"",type:t.type||"",quality:t.quality||"normal"};d.isEquipped(t.id)?d.unequip("seed"):d.equip("seed",C)}else t&&t.type==="farm-animal"&&this.useFarmAnimal(t)}getContainer(){return this.container}destroy(){var t;(t=this.inventoryUnsubscribe)==null||t.call(this),this.closePopover()}};it(To,"instance",null);let I4=To;function U6(e){const t=w4.getInstance(e),i=P4.getInstance(e,"clouds",12),n=A4.getInstance(e,"water-props");return{systemController:t,cloudController:i,rainyController:n}}function Ze(e){const t=M4.getInstance(e),i=O4.getInstance(e),n=R4.getInstance(e),d=F4.getInstance(e),C=L4.getInstance(e),r=B4.getInstance(e);return{deviceController:t,weatherController:i,calendarController:n,soundController:d,equipmentController:C,usableController:r}}function ti(e){const t=di.getInstance(e),i=D4.getInstance(e),n=I4.getInstance(e);return{uiController:t,popupController:i,inventoryController:n}}const WF=Ir(()=>({randomFairyStar:async e=>{let t=0;try{t=(await Zd.post("/api/currencies/random-fairy-star",e,{withCredentials:!0})).data.fairyStar||0}catch(i){Tt.debug(i)}finally{return t}}}));class Pgt extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C,r="chicken",x="white",s="egg",a="male-egg-idle_left",g="male",c="left",h,l,o){super(i,n,d,C);it(this,"id");it(this,"type");it(this,"variant");it(this,"stage");it(this,"state");it(this,"gender");it(this,"facing");it(this,"animations");it(this,"bornAt");it(this,"growToBabyTime");it(this,"growToAdultTime");it(this,"moveTimer",0);it(this,"moveDelay",2*Dt);it(this,"moveRadius",200);it(this,"spawnX");it(this,"spawnY");it(this,"syncTimer",0);it(this,"syncDelay",1e3);it(this,"timerText");this.spawnX=n,this.spawnY=d,this.type=r,this.variant=x,this.stage=s,this.id=o??_e(),this.state=a,this.gender=g,this.facing=c,this.animations=h,this.bornAt=l??Date.now();const u=AN[r];this.growToBabyTime=u.toBaby,this.growToAdultTime=u.toBaby+u.toAdult;const v=f=>{const p=this.animations[f];p&&!i.anims.exists(p.key)&&i.anims.create(p)};v("male-egg-idle_left"),v("female-egg-idle_left"),v("male-baby-idle_left"),v("female-baby-idle_left"),v("male-baby-idle_right"),v("female-baby-idle_right"),v("male-adult-idle_left"),v("female-adult-idle_left"),v("male-adult-idle_right"),v("female-adult-idle_right"),i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.FARM_ANIMAL),r==="cow"||r==="sheep"||r==="ostrich"||r==="goat"||r==="pig"?(this.setSize(ut,ut),this.setOffset(ut/2,ut)):(this.setSize(ut,ut),this.setOffset(0,1)),this.setInteractive(),this.on("pointerdown",f=>{Tt.debug(`${this.id} clicked at (${f.x}, ${f.y})`);const p=this.scene.game.scene.keys[Ht.UI],{uiController:m}=ti(p);if(this.stage==="adult"){const y=hU(this.type,this.variant),S=`Bán ${this.type} (${this.variant}) với giá ${y} coin?`;m.showConfirmPopup(S,async()=>{m.toast(`Đã bán ${this.type} (${this.variant}) giá ${y} coin`,3e3),this.upSkillLevel(),this.timerText.destroy(),this.destroy(),kn.getState().removeAnimal(this.id);const{gold:T,setGold:b}=me.getState();if(b(T+Number(y||0)),Ln.getState().token){const P=await WF.getState().randomFairyStar(K4({amount:1}));P>0&&m.toast(`Bạn đã nhận được ${P} sao cổ tích`,3e3)}})}else m.toast("Vật nuôi chưa trưởng thành",3e3)}),this.timerText=i.add.text(this.x,this.y-this.height/2-10,"",{fontSize:"8px",color:Gt.TextLight,backgroundColor:Gt.BgDarkHex,fontFamily:df}).setOrigin(.5),this.timerText.setDepth(this.depth+1)}update(i,n){var C;const d=Date.now()-this.bornAt;if(d>=this.growToAdultTime){if(this.stage!=="adult"){this.stage="adult",this.state=`${this.gender}-adult-idle_left`;const r=`${this.type}-${this.variant}-adult`;this.setTexture(r)}this.timerText.setText("Đã trưởng thành!")}else{let r=0;if(this.stage==="egg"?r=this.growToBabyTime:this.stage==="baby"&&(r=this.growToAdultTime),r>0){const x=Math.max(r-d,0),s=Math.floor(x/(1440*60*1e3)),a=Math.floor(x%(1440*60*1e3)/(3600*1e3)),g=Math.floor(x%(3600*1e3)/(60*1e3)),c=Math.floor(x%(60*1e3)/1e3);x<=0?this.timerText.setText("Đã trưởng thành!"):s>0?this.timerText.setText(`${s}d ${a}h ${g}m ${c}s`):a>0?this.timerText.setText(`${a}h ${g}m ${c}s`):g>0?this.timerText.setText(`${g}m ${c}s`):this.timerText.setText(`${c}s`)}}if(this.stage==="egg"&&d>=this.growToBabyTime){this.stage="baby",this.state=`${this.gender}-baby-idle_left`;const r=`${this.type}-${this.variant}-baby`;this.setTexture(r)}else if(this.stage==="baby"&&d>=this.growToAdultTime){this.stage="adult",this.state=`${this.gender}-adult-idle_left`;const r=`${this.type}-${this.variant}-adult`;this.setTexture(r)}this.active&&(this.play(((C=this.animations[this.state])==null?void 0:C.key)??"",!0),(this.stage==="baby"||this.stage==="adult")&&(this.moveTimer+=n,this.moveTimer>=this.moveDelay&&(this.moveRandomly(),this.moveTimer=0)),this.syncTimer+=n,this.syncTimer>=this.syncDelay&&(this.syncToStore(),this.syncTimer=0),this.timerText.setPosition(this.x,this.y-this.height/2-10))}syncToStore(){const i=kn.getState(),n=i.animals.find(C=>C.id===this.id);if(!n)return;(n.stage!==this.stage||n.state!==this.state||n.x!==this.x||n.y!==this.y||n.facing!==this.facing)&&i.updateAnimal(this.id,{stage:this.stage,state:this.state,x:this.x,y:this.y,facing:this.facing})}upSkillLevel(){var d,C;(d=this.scene.player)==null||d.gainSkillExp("breeding",10),(C=this.scene.player)==null||C.gainExp(10)}moveRandomly(){const i=this.body,n=Phaser.Math.Between(-50,50),d=Phaser.Math.Between(-50,50),C=this.x+n,r=this.y+d;if(Phaser.Math.Distance.Between(this.spawnX,this.spawnY,C,r)<=this.moveRadius){i.setVelocity(n,d),Math.abs(n)>Math.abs(d)?(this.facing=n>0?"right":"left",this.flipX=this.facing==="right"):(this.facing=d>0?"down":"up",this.flipX=!1);const s=`${this.stage}-walk_${this.facing}`;this.animations[s]&&(this.state=s),this.scene.time.delayedCall(.5*Dt,()=>{i.setVelocity(0);const a=`${this.stage}-idle_${this.facing}`;this.animations[a]&&(this.state=a)})}}}class Mgt{constructor(t){it(this,"animals",[]);it(this,"scene");it(this,"playerLevel",1);it(this,"baseAnimalLimit",0);this.scene=t}setPlayerLevel(t){this.playerLevel=t}getMaxAnimalLimit(){let t=0;for(let n=1;n<=this.playerLevel;n++)t+=n%10===0?2:1;const i=this.baseAnimalLimit+t;return Math.min(i,100)}spawnAnimal(t){if(this.animals.length>=this.getMaxAnimalLimit()){Tt.warn("Reached max animal limit:",this.getMaxAnimalLimit());return}const{x:i,y:n,type:d,state:C="male-egg-idle_left",stage:r="egg",variant:x="white",gender:s="male",facing:a="left",animations:g,bornAt:c,id:h}=t,l=this.getTextureKey(d,x,r),o=new Pgt(this.scene,i,n,l,d,x,r,C,s,a,g,c,h);this.animals.push(o);const{animals:u,addAnimal:v}=kn.getState();if(!u.some(p=>p.id===o.id)){const p={id:o.id,type:d,variant:x,gender:s,stage:r,state:C,facing:a,x:i,y:n,bornAt:o.bornAt,animations:g};v(p)}}update(t,i){this.animals.forEach(n=>n.update(t,i))}clearAnimals(){this.animals.forEach(t=>t.destroy()),this.animals=[]}restoreAnimalsFromStore(){const{animals:t}=kn.getState();this.clearAnimals(),t.forEach(i=>{const n={id:i.id,x:i.x,y:i.y,type:i.type,variant:i.variant,stage:i.stage,gender:i.gender,state:i.state,facing:i.facing,animations:i.animations,bornAt:i.bornAt};this.spawnAnimal(n)})}getTextureKey(t,i,n){return`${t}-${i}-${n}`}}class Agt extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){super(i,n,d,`saddle-${C}-idle`,0);it(this,"color");it(this,"currentState","idle");it(this,"facing","down");this.color=C,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER+1),this.setImmovable(!0),this.createAnimations(i)}createAnimations(i){const n=["black","blue","brown","pink","pupple"],d=["eat","ready-to-eat","idle","run"],C=["down","up","right","left"],r=(g,c,h,l,o=5,u=-1)=>{Ws(i,g,{textureKey:c,start:h,end:l,frameRate:o,repeat:u})},x={down:[0,3],up:[0,3],right:[4,7],left:[4,7]},s={down:[0,1],up:[2,3],right:[4,5],left:[4,5]},a={down:[0,5],up:[6,11],right:[12,17],left:[12,17]};for(const g of n){for(const c of d)for(const h of C){let l;c==="idle"?l=s[h]:c==="run"?l=a[h]:l=x[h],r(`saddle-${g}-${c}-${h}`,`saddle-${g}-${c}`,l[0],l[1])}r(`saddle-${g}-sleep-left`,`saddle-${g}-sleep`,0,1),r(`saddle-${g}-sleep-right`,`saddle-${g}-sleep`,0,1)}}setStateSaddle(i,n=this.facing){this.currentState=i,this.facing=n;const d=`saddle-${this.color}-${i}-${n}`;this.play(d,!0),this.setFlipX(n==="left"),this.setFlipY(i!=="idle"&&i!=="run")}setColor(i){this.color=i,this.setTexture(`saddle-${i}`),this.setStateSaddle(this.currentState,this.facing)}}class Fp extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){super(i,n,d,`horse-${C}-idle`,0);it(this,"typeHorse");it(this,"currentState","idle");it(this,"facing","down");it(this,"saddle");it(this,"hasSaddle",!1);it(this,"scene");it(this,"isFollowingPlayer",!1);it(this,"moveBounds",new Phaser.Geom.Rectangle(100,100,300,300));it(this,"moveTimer");it(this,"idleTimer");this.typeHorse=C,i.add.existing(this),i.physics.add.existing(this),this.scene=i,this.setDepth(Ut.PLAYER),this.setImmovable(!1),this.setCollideWorldBounds(!0),this.setInteractive(),this.on("pointerdown",r=>{r.button===0&&(Tt.debug("Cưỡi ngựa!"),this.scene.player.isAsMounting()?this.scene.player.exitMountingItem():this.scene.player.enterMountingItem(this))}),this.createAnimations(i),this.scheduleMove()}createAnimations(i){const n=["eat","eat-carrot","eat-grass","ready-to-eat","idle","run"],d=["down","up","right","left"],C=(a,g,c,h,l=5,o=-1)=>{Ws(i,a,{textureKey:g,start:c,end:h,frameRate:l,repeat:o})},r={down:[0,3],up:[0,3],right:[4,7],left:[4,7]},x={down:[0,1],up:[2,3],right:[4,5],left:[4,5]},s={down:[0,5],up:[6,11],right:[12,17],left:[12,17]};for(const a of n)for(const g of d){let c;a==="idle"?c=x[g]:a==="run"?c=s[g]:c=r[g],C(`horse-${this.typeHorse}-${a}-${g}`,`horse-${this.typeHorse}-${a}`,c[0],c[1])}C(`horse-${this.typeHorse}-sleep-left`,`horse-${this.typeHorse}-sleep`,0,1),C(`horse-${this.typeHorse}-sleep-right`,`horse-${this.typeHorse}-sleep`,0,1)}setStateHorse(i,n=this.facing){this.currentState=i,this.facing=n;const d=`horse-${this.typeHorse}-${i}-${n}`;this.play(d,!0),this.setFlipX(n==="left"),this.setFlipY(i!=="idle"&&i!=="run"),this.hasSaddle&&this.saddle&&(this.saddle.setStateSaddle(i,n),this.saddle.setFlipX(this.flipX),this.saddle.setFlipY(this.flipY),this.syncSaddlePosition())}equipSaddle(i){this.saddle?this.saddle.setColor(i):(this.saddle=new Agt(this.scene,this.x,this.y,i),this.scene.add.existing(this.saddle),this.scene.physics.add.existing(this.saddle),this.saddle.setDepth(Ut.PLAYER+1)),this.hasSaddle=!0,this.saddle.setStateSaddle(this.currentState),this.syncSaddlePosition()}unequipSaddle(){this.saddle&&(this.saddle.destroy(),this.saddle=void 0),this.hasSaddle=!1}preUpdate(i,n){if(super.preUpdate(i,n),this.syncSaddlePosition(),this.isFollowingPlayer){this.followPlayer();return}this.moveBounds.contains(this.x,this.y)||this.stopMoving()}mountToPlayer(){this.isFollowingPlayer=!0,this.stopMoving()}dismountFromPlayer(){this.isFollowingPlayer=!1}followPlayer(){var r;const i=this.scene.player;if(!i)return;this.setPosition(i.x+0,i.y+0),this.setDepth(Ut.PLAYER-1);const C=i.facing||"down";i.currentState==="idle"||(r=i.isIdle)!=null&&r.call(i)?this.setStateHorse("idle",C):this.setStateHorse("run",C)}syncSaddlePosition(){this.saddle&&this.saddle.setPosition(this.x,this.y)}scheduleMove(){this.moveTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(2*Dt,4*Dt),callback:()=>{if(this.isFollowingPlayer)return;const i=["up","down","left","right"],n=Phaser.Utils.Array.GetRandom(i),d=30;switch(n){case"up":this.setVelocity(0,-d);break;case"down":this.setVelocity(0,d);break;case"left":this.setVelocity(-d,0);break;case"right":this.setVelocity(d,0);break}this.setStateHorse("run",n),this.idleTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(1.5*Dt,3*Dt),callback:()=>{this.stopMoving()}})},loop:!0})}stopMoving(){this.setVelocity(0,0),this.setStateHorse("idle",this.facing)}destroy(i){var n,d;(n=this.moveTimer)==null||n.remove(),(d=this.idleTimer)==null||d.remove(),super.destroy(i)}}class $F extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){const{cropConfigs:r}=Rs.getState(),x=r[d];super(i,n.x+2,n.y-20,`${C}-crops`,x.frames[0]);it(this,"tile");it(this,"type");it(this,"season");it(this,"cropConfigs");it(this,"growTime");it(this,"age",0);it(this,"isGrown",!1);it(this,"hasStartedSway",!1);it(this,"sellPrice",0);it(this,"timerText");this.season=C,this.tile=n,this.type=d,this.cropConfigs=r,this.growTime=x.growTime,this.sellPrice=x.sellPrice,i.add.existing(this),i.physics.add.existing(this),this.setOrigin(0),this.setDepth(Ut.FARM_CROP+2),this.setImmovable(!0),this.setCollideWorldBounds(!0),this.setInteractive().on("pointerdown",s=>{s.button===0&&(this.isGrown||Tt.debug("Cây chưa trưởng thành"))}),this.timerText=i.add.text(this.x+ut/2,this.y-this.height/2+ut,"",{fontSize:"8px",color:Gt.TextLight,backgroundColor:Gt.BgDarkHex,fontFamily:df}).setOrigin(.5),this.timerText.setDepth(this.depth+1),n.crop=this}update(i,n){if(!this.isGrown&&this.age>=this.growTime){this.isGrown=!0;const c=this.cropConfigs[this.type];this.setFrame(c.frames[c.frames.length-1]),this.timerText.setText("Thu hoạch!");return}if(this.isGrown)return;this.age+=n;const d=Math.max(this.growTime-this.age,0),C=Math.floor(d/(1440*60*1e3)),r=Math.floor(d%(3600*1e3)/(60*1e3)),x=Math.floor(d%(60*1e3)/1e3);C>0?this.timerText.setText(`${C}d ${r}m ${x}s`):r>0?this.timerText.setText(`${r}m ${x}s`):this.timerText.setText(`${x}s`);const s=this.cropConfigs[this.type],a=s.frames.length,g=Math.min(Math.floor(this.age/s.growTime*a),a-1);this.setFrame(s.frames[g]),this.timerText.setPosition(this.x+ut/2,this.y-this.height/2+ut)}harvest(i=this.scene){if(!this.isGrown)return;const d=this.cropConfigs[this.type].harvestFrame,C=2,r=16,x=.4*Dt;for(let s=0;s<C;s++){const a=Phaser.Math.FloatBetween(0,Math.PI*2),g=Math.cos(a)*r,c=Math.sin(a)*r,h=i.add.image(this.x+8,this.y+8,"crops",d).setDepth(Ut.FARM_CROP+3);i.tweens.add({targets:h,x:this.x+g,y:this.y+c,duration:x,ease:"Power1",onComplete:()=>{i.time.delayedCall(2*Dt,()=>{const{x:l,y:o}=i.player;i.tweens.add({targets:h,x:l,y:o,scale:.2,alpha:0,duration:.5*Dt,ease:"Cubic.easeIn",onComplete:async()=>{const u=uU(this.sellPrice);if(u.quality==="diamond"&&Ln.getState().token){const f=await WF.getState().randomFairyStar(K4({amount:1}));if(f>0){const p=this.scene.game.scene.keys[Ht.UI];di.getInstance(p).toast(`Bạn đã nhận được ${f} sao cổ tích`,3e3)}}Tt.debug(`Đã nhận ${this.type}_${u}`);const v={id:_e(),iconKey:`${this.type}_dropped`,name:Ew(this.type).name,quantity:1,canShortcut:!0,description:Ew(this.type).description,type:"crop-dropped",quality:u.quality,price:u.sellPrice,sellPrice:u.sellPrice};ee.getState().addInventoryItem(v),ee.getState().addItemToShortcut(v),this.tile.upSkillLevel(),h.destroy()}})})}})}this.tile.crop=null,this.timerText.destroy(),this.destroy()}getIsGrown(){return this.isGrown}toCropData(){return{type:this.type,season:this.season}}startSwayEffect(){this.hasStartedSway||(this.hasStartedSway=!0,this.scene.tweens.add({targets:this,angle:{from:-2,to:2},duration:3*Dt,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}))}setAgeFromPlantedAt(i){this.age=Date.now()-i}}class Rgt{constructor(t,i,n,d,C,r,x,s,a){it(this,"scene");it(this,"x");it(this,"y");it(this,"crop",null);it(this,"sprite");it(this,"overlaySprite",null);it(this,"state",Ms.Empty);it(this,"tileId");it(this,"unlocked",!1);it(this,"uiScene");it(this,"plantedAt");it(this,"wateredAt");it(this,"harvestedAt");it(this,"tilledAt");this.scene=t,this.x=i,this.y=n,this.tileId=`${i}_${n}`,this.plantedAt=x,this.wateredAt=s,this.harvestedAt=a,this.tilledAt=r,this.uiScene=this.scene.game.scene.keys[Ht.UI],this.sprite=t.add.image(i,n,d,C).setDepth(Ut.FARM_CROP).setOrigin(0)}onPlant(t,i,n){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}if(this.crop)di.getInstance(this.uiScene).toast("Đã có cây trồng",3e3);else{this.plantCrop(new $F(this.scene,this,t,i));const{decreaseInventoryItem:d,decreaseShortcutItem:C}=ee.getState();d(t,1,n),C(t,1,n)}}upSkillLevel(){var n,d;(n=this.scene.player)==null||n.gainSkillExp("farming",10),(d=this.scene.player)==null||d.gainExp(10)}harvestCrop(){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}this.crop.harvest(this.scene),this.state=Ms.Tilled,this.harvestedAt=Date.now(),this.plantedAt=null,Rs.getState().harvestCrop(this.tileId)}plantCrop(t,i){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}this.crop=t,this.state=Ms.Planted,this.plantedAt=i??Date.now(),this.harvestedAt=null,Rs.getState().plantCrop(this.tileId,t.toCropData(),i)}setTilled(t,i){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}this.clearOverlay(),this.overlaySprite=this.scene.add.image(this.x,this.y,t,i).setDepth(Ut.FARM_CROP+1).setOrigin(0),this.state=Ms.Tilled,this.tilledAt=Date.now(),Rs.getState().tillTile(this.tileId)}setWatered(t,i){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}this.clearOverlay(),this.overlaySprite=this.scene.add.image(this.x,this.y,t,i).setDepth(Ut.FARM_CROP+1).setOrigin(0),this.state=Ms.Watered,this.wateredAt=Date.now(),Rs.getState().waterTile(this.tileId)}clearOverlay(){if(!this.unlocked){di.getInstance(this.uiScene).toast("Ô đất chưa được mở khóa",3e3);return}this.overlaySprite&&(this.overlaySprite.destroy(),this.overlaySprite=null)}update(t,i){!this.crop||!this.wateredAt||this.crop&&this.crop.update(t,i)}setUnlocked(t){this.unlocked=t,t?(this.sprite.setAlpha(1),this.sprite.setInteractive()):(this.sprite.setAlpha(.5),this.sprite.disableInteractive())}destroy(){this.crop&&(this.crop.destroy(),this.crop=null),this.sprite&&this.sprite.destroy(),this.overlaySprite&&(this.overlaySprite.destroy(),this.overlaySprite=null)}}class Ogt{constructor(t,i,n,d,C,r,x,s,a,g){it(this,"scene");it(this,"tiles",[]);it(this,"tileSize");it(this,"tilesetKey");it(this,"slotTileMatrix");it(this,"slotTileWateredMatrix");it(this,"slotTileTilledMatrix");it(this,"startX",620);it(this,"startY",320);it(this,"tilesUnsubscribe");it(this,"maxRows",10);it(this,"maxCols",10);this.scene=t,this.tileSize=r,this.tilesetKey=x,this.slotTileMatrix=s,this.slotTileWateredMatrix=a,this.slotTileTilledMatrix=g,this.startX=d,this.startY=C;const c=Rs.getState();let h=c.tiles;if(Object.keys(h).length===0){const l=sU(i,n,r,d,C);c.loadTiles(l),h=Rs.getState().tiles}for(let l=0;l<i;l++){const o=[];for(let u=0;u<n;u++){const v=d+u*r,f=C+l*r,p=`${v}_${f}`,m=h[p];if(!m){console.warn(`Tile data not found for tileId: ${p}`);continue}const y=this.calculateFrameIndex(u,l,i,n,s),S=new Rgt(t,m.x,m.y,x,y,m.tilledAt,m.plantedAt,m.wateredAt,m.harvestedAt);if(S.setUnlocked(m.unlocked),m.tilledAt){const T=this.calculateFrameIndex(u,l,i,n,g);S.setTilled(x,T)}if(m.wateredAt){const T=this.calculateFrameIndex(u,l,i,n,a);S.setWatered(x,T)}if(m.plantedAt&&m.crop){const T=new $F(t,S,m.crop.type,m.crop.season);T.setAgeFromPlantedAt(m.plantedAt||0),S.plantCrop(T,m.plantedAt)}o.push(S)}this.tiles.push(o)}}updateUnlockedTiles(t){var x;const i=Math.min(t*2,100),d={...Rs.getState().tiles},C=Object.values(d).filter(s=>s.unlocked).length;if(C>=i)return;let r=C;for(let s=0;s<this.maxRows;s++){for(let a=0;a<this.maxCols;a++){const g=(x=this.tiles[s])==null?void 0:x[a],c=d[g.tileId];if(!c.unlocked&&(c.unlocked=!0,g.setUnlocked(!0),r++,r>=i))break}if(r>=i)break}Rs.setState({tiles:d})}calculateFrameIndex(t,i,n,d,C){let r=C[1][1];const x=i===0,s=i===n-1,a=t===0,g=t===d-1;return x&&a?r=C[0][0]:x&&g?r=C[0][2]:s&&a?r=C[2][0]:s&&g?r=C[2][2]:x?r=C[0][1]:s?r=C[2][1]:a?r=C[1][0]:g&&(r=C[1][2]),r}getAllFarmTileSprites(){return this.tiles.flat().map(t=>t.sprite)}getFarmTileBySprite(t){return this.tiles.flat().find(i=>i.sprite===t)}setTileTilled(t,i){var a;const n=(a=this.tiles[i])==null?void 0:a[t];if(!n)return;let d=this.slotTileTilledMatrix[1][1];const C=i===0,r=i===this.tiles.length-1,x=t===0,s=t===this.tiles[0].length-1;C&&x?d=this.slotTileTilledMatrix[0][0]:C&&s?d=this.slotTileTilledMatrix[0][2]:r&&x?d=this.slotTileTilledMatrix[2][0]:r&&s?d=this.slotTileTilledMatrix[2][2]:C?d=this.slotTileTilledMatrix[0][1]:r?d=this.slotTileTilledMatrix[2][1]:x?d=this.slotTileTilledMatrix[1][0]:s&&(d=this.slotTileTilledMatrix[1][2]),n.setTilled(this.tilesetKey,d)}setTileWatered(t,i){var a;const n=(a=this.tiles[i])==null?void 0:a[t];if(!n)return;let d=this.slotTileWateredMatrix[1][1];const C=i===0,r=i===this.tiles.length-1,x=t===0,s=t===this.tiles[0].length-1;C&&x?d=this.slotTileWateredMatrix[0][0]:C&&s?d=this.slotTileWateredMatrix[0][2]:r&&x?d=this.slotTileWateredMatrix[2][0]:r&&s?d=this.slotTileWateredMatrix[2][2]:C?d=this.slotTileWateredMatrix[0][1]:r?d=this.slotTileWateredMatrix[2][1]:x?d=this.slotTileWateredMatrix[1][0]:s&&(d=this.slotTileWateredMatrix[1][2]),n.setWatered(this.tilesetKey,d)}update(t,i){for(const n of this.tiles)for(const d of n)d.update(t,i)}destroy(){this.tilesUnsubscribe&&(this.tilesUnsubscribe(),this.tilesUnsubscribe=void 0),this.tiles.flat().forEach(t=>{t.destroy()}),this.tiles=[]}}class Nd extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){super(i,n,d,`bear-mount-${C}`,0);it(this,"typeBear");it(this,"currentState","idle");it(this,"facing","down");it(this,"isFollowingPlayer",!1);it(this,"moveBounds",new Phaser.Geom.Rectangle(100,100,300,300));it(this,"moveTimer");it(this,"idleTimer");it(this,"sceneRef");this.typeBear=C,this.sceneRef=i,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setImmovable(!1),this.setCollideWorldBounds(!0),this.setInteractive(),this.on("pointerdown",r=>{r.button===0&&(Tt.debug("Cưỡi gấu!"),this.sceneRef.player.isAsMounting()?this.sceneRef.player.exitMountingItem():this.sceneRef.player.enterMountingItem(this))}),this.createAnimations({includeCombat:!1}),this.scheduleMove()}createAnimations({includeCombat:i}){const n=["idle","walk","run"],d=["damage","attack","dead"],C=i?[...n,...d]:n,r=["down","up","right","left"],x={idle:{down:[0,1],up:[2,3],right:[4,5],left:[4,5]},walk:{down:[6,9],up:[10,13],right:[14,17],left:[14,17]},run:{down:[18,23],up:[24,29],right:[30,35],left:[30,35]},attack:{down:[36,39],up:[36,39],right:[40,43],left:[40,43]},damage:{down:[44,46],up:[47,49],right:[50,52],left:[50,52]},dead:{down:[53,55],up:[56,58],right:[59,61],left:[59,61]}};for(const s of C)for(const a of r){const[g,c]=x[s][a],h=`bear-mount-${this.typeBear}-${s}-${a}`,l=`bear-mount-${this.typeBear}`;Ws(this.sceneRef,h,{textureKey:l,start:g,end:c,frameRate:5,repeat:d!=null&&d.includes(s)?0:-1})}}setStateBear(i,n=this.facing){this.currentState=i,this.facing=n;const d=`bear-mount-${this.typeBear}-${i}-${n}`;this.play(d,!0),this.setFlipX(n==="left"),this.setFlipY(!1)}preUpdate(i,n){if(super.preUpdate(i,n),this.currentState!=="dead"){if(this.isFollowingPlayer){this.followPlayer();return}this.moveBounds.contains(this.x,this.y)||this.stopMoving()}}mountToPlayer(){this.isFollowingPlayer=!0,this.stopMoving(),this.createAnimations({includeCombat:!0})}dismountFromPlayer(){this.isFollowingPlayer=!1,this.createAnimations({includeCombat:!1})}followPlayer(){var C;const i=this.scene.player;if(!i)return;this.setPosition(i.x,i.y),this.setDepth(Ut.PLAYER-1);const n=i.facing||"down",d=i.currentState==="idle"||((C=i.isIdle)==null?void 0:C.call(i));this.setStateBear(d?"idle":"run",n)}scheduleMove(){this.moveTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(2*Dt,4*Dt),callback:()=>{if(this.isFollowingPlayer||this.currentState==="dead")return;const i=["up","down","left","right"],n=Phaser.Utils.Array.GetRandom(i),d=30;switch(n){case"up":this.setVelocity(0,-d);break;case"down":this.setVelocity(0,d);break;case"left":this.setVelocity(-d,0);break;case"right":this.setVelocity(d,0);break}this.setStateBear("walk",n),this.idleTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(1.5*Dt,3*Dt),callback:()=>{this.stopMoving()}})},loop:!0})}stopMoving(){this.setVelocity(0,0),this.setStateBear("idle",this.facing)}destroy(i){var n,d;(n=this.moveTimer)==null||n.remove(),(d=this.idleTimer)==null||d.remove(),super.destroy(i)}}class KF extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){super(i,n,d,`bicycle-${C}-run-down`,0);it(this,"color");it(this,"facing","down");it(this,"isFollowingPlayer",!1);it(this,"scene");it(this,"moveBounds",new Phaser.Geom.Rectangle(100,100,300,300));it(this,"moveTimer");it(this,"idleTimer");this.color=C,this.scene=i,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setImmovable(!1),this.setCollideWorldBounds(!0),this.setInteractive(),this.on("pointerdown",r=>{r.button===0&&(Tt.debug("Cưỡi xe đạp!"),this.scene.player.isAsMounting()?this.scene.player.exitMountingItem():this.scene.player.enterMountingItem(this))}),this.createAnimations(i),this.scheduleMove()}createAnimations(i){const n=["down","up","right","left"],d={down:[0,3],up:[4,7],right:[8,11],left:[8,11]};for(const C of n){const[r,x]=d[C];Ws(i,`bicycle-${this.color}-run-${C}`,{textureKey:`bicycle_${this.color}`,start:r,end:x,frameRate:5,repeat:-1})}}setStateRun(i=this.facing){this.facing=i;const n=`bicycle-${this.color}-run-${i}`;this.play(n,!0),this.setFlipX(i==="left"),this.setFlipY(!1)}preUpdate(i,n){if(super.preUpdate(i,n),this.isFollowingPlayer){this.followPlayer();return}this.moveBounds.contains(this.x,this.y)||this.stopMoving()}mountToPlayer(){this.isFollowingPlayer=!0,this.stopMoving()}dismountFromPlayer(){this.isFollowingPlayer=!1}followPlayer(){const i=this.scene.player;if(!i)return;this.setPosition(i.x,i.y),this.setDepth(Ut.PLAYER-1);const n=i.facing||"down";this.setStateRun(n)}scheduleMove(){this.moveTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(2*Dt,4*Dt),callback:()=>{if(this.isFollowingPlayer)return;const i=["up","down","left","right"],n=Phaser.Utils.Array.GetRandom(i),d=40;switch(n){case"up":this.setVelocity(0,-d);break;case"down":this.setVelocity(0,d);break;case"left":this.setVelocity(-d,0);break;case"right":this.setVelocity(d,0);break}this.setStateRun(n),this.idleTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(1.5*Dt,3*Dt),callback:()=>this.stopMoving()})},loop:!0})}stopMoving(){this.setVelocity(0,0),this.setStateRun(this.facing)}destroy(i){var n,d;(n=this.moveTimer)==null||n.remove(),(d=this.idleTimer)==null||d.remove(),super.destroy(i)}}class ZF extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d,C){super(i,n,d,`broomstick_${C}`,0);it(this,"type");it(this,"facing","down");it(this,"isFollowingPlayer",!1);it(this,"scene");it(this,"moveBounds",new Phaser.Geom.Rectangle(100,100,300,300));it(this,"moveTimer");it(this,"idleTimer");this.type=C,this.scene=i,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setImmovable(!1),this.setCollideWorldBounds(!0),this.setInteractive(),this.on("pointerdown",r=>{r.button===0&&(Tt.debug("Cưỡi chổi bay!"),this.scene.player.isAsMounting()?this.scene.player.exitMountingItem():this.scene.player.enterMountingItem(this))}),this.createAnimations(i),this.scheduleMove()}createAnimations(i){const n=["down","up","right","left"],d={down:[0,3],up:[4,7],right:[8,11],left:[8,11]};for(const C of n){const[r,x]=d[C];Ws(i,`broomstick-${this.type}-run-${C}`,{textureKey:`broomstick_${this.type}`,start:r,end:x,frameRate:5,repeat:-1})}}setStateRun(i=this.facing){this.facing=i;const n=`broomstick-${this.type}-run-${i}`;this.play(n,!0),this.setFlipX(i==="left"),this.setFlipY(!1)}preUpdate(i,n){if(super.preUpdate(i,n),this.isFollowingPlayer){this.followPlayer();return}this.moveBounds.contains(this.x,this.y)||this.stopMoving()}mountToPlayer(){this.isFollowingPlayer=!0,this.stopMoving()}dismountFromPlayer(){this.isFollowingPlayer=!1}followPlayer(){const i=this.scene.player;if(!i)return;this.setPosition(i.x,i.y),this.setDepth(Ut.PLAYER-1);const n=i.facing||"down";this.setStateRun(n)}scheduleMove(){this.moveTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(2*Dt,4*Dt),callback:()=>{if(this.isFollowingPlayer)return;const i=["up","down","left","right"],n=Phaser.Utils.Array.GetRandom(i),d=50;switch(n){case"up":this.setVelocity(0,-d);break;case"down":this.setVelocity(0,d);break;case"left":this.setVelocity(-d,0);break;case"right":this.setVelocity(d,0);break}this.setStateRun(n),this.idleTimer=this.scene.time.addEvent({delay:Phaser.Math.Between(1.5*Dt,3*Dt),callback:()=>this.stopMoving()})},loop:!0})}stopMoving(){this.setVelocity(0,0),this.setStateRun(this.facing)}destroy(i){var n,d;(n=this.moveTimer)==null||n.remove(),(d=this.idleTimer)==null||d.remove(),super.destroy(i)}}class Dgt extends Phaser.GameObjects.Sprite{constructor(i,n,d,C){super(i,n,d,"money");it(this,"player");it(this,"onClaim");it(this,"claimed",!1);this.player=C.player,this.onClaim=C.onClaim,i.add.existing(this),i.physics.add.existing(this);const r=this.body;r.setSize(this.width,this.height),r.setAllowGravity(!1),i.anims.exists("money-idle")||i.anims.create({key:"money-idle",frames:i.anims.generateFrameNumbers("money",{start:0,end:5}),frameRate:8,repeat:-1}),this.play("money-idle"),this.setInteractive(),this.on("pointerdown",x=>{x.button===0&&!this.claimed&&this.claim()})}claim(){this.claimed=!0,this.disableInteractive(),this.scene.tweens.add({targets:this,x:this.player.x,y:this.player.y,scale:.2,alpha:0,duration:500,ease:"Power2",onComplete:()=>{var i;(i=this.onClaim)==null||i.call(this),this.destroy()}})}}class Lgt{use(t){const i=Z0(t);Tt.debug(`Dùng rìu với chất liệu ${i}`)}}class Fgt{use(t){const i=Z0(t);Tt.debug(`Dùng cuốc đất chất liệu ${i}`)}}class Bgt{use(t){const i=Z0(t);Tt.debug(`Dùng cuốc đá với chất liệu ${i}`)}}class Igt{use(t){const i=Z0(t);Tt.debug(`Dùng xẻng với chất liệu ${i}`)}}class kgt{use(t){const i=Z0(t);Tt.debug(`Dùng liềm với chất liệu ${i}`)}}class Ggt{use(t){const i=Z0(t);Tt.debug(`Dùng bình tưới nước với chất liệu ${i}`)}}class Ngt{constructor(t){this.player=t}use(t){const i=Az(t),n=Z0(t),d=this.getAction(i);d&&(d.use(t),this.player.playToolAnimation(i,n))}getAction(t){switch(t){case R0.AXE:return new Lgt;case R0.HOE:return new Fgt;case R0.PICKAXE:return new Bgt;case R0.SHOVEL:return new Igt;case R0.SICKLE:return new kgt;case R0.WATERING_CAN:return new Ggt;default:return null}}}class Vgt{constructor(t=1,i=0,n=100){it(this,"level");it(this,"exp");it(this,"skillLevels");it(this,"maxLevel");it(this,"onLevelUpCallback");it(this,"onSkillLevelUpCallback");this.level=t,this.exp=i,this.maxLevel=n,this.skillLevels={};const{level:d,exp:C,skills:r}=me.getState();this.exp=C,this.level=d,this.skillLevels=r}onLevelUp(t){this.onLevelUpCallback=t}onSkillLevelUp(t){this.onSkillLevelUpCallback=t}requiredExp(t){return 100+(t-1)*50}addExp(t){var i;if(!(this.level>=this.maxLevel)){for(this.exp+=t;this.exp>=this.requiredExp(this.level)&&this.level<this.maxLevel;)this.exp-=this.requiredExp(this.level),this.level++,(i=this.onLevelUpCallback)==null||i.call(this,this.level);me.setState(n=>({...n,level:this.level,exp:this.exp}))}}getLevel(){return this.level}getExp(){return this.exp}addSkillExp(t,i){var d;this.skillLevels[t]||(this.skillLevels[t]={level:1,exp:0});const n=this.skillLevels[t];for(n.exp+=i;n.exp>=this.requiredExp(n.level);)n.exp-=this.requiredExp(n.level),n.level++,(d=this.onSkillLevelUpCallback)==null||d.call(this,t,n.level);me.setState(C=>({...C,skills:{...C.skills,[t]:{level:n.level,exp:n.exp}}}))}getSkillLevel(t){var i;return((i=this.skillLevels[t])==null?void 0:i.level)||1}getSkillExp(t){var i;return((i=this.skillLevels[t])==null?void 0:i.exp)||0}}class zgt extends Phaser.Physics.Arcade.Sprite{constructor(i,n,d="blue",C="idle"){super(i,n.x,n.y,`umbrella_${C}_${d}-${n.facing}`);it(this,"state","idle");it(this,"color");it(this,"owner");this.owner=n,this.color=d,this.state=C,i.add.existing(this),i.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setOrigin(.5),this.setSize(8,16),this.setOffset(12,8),this.setImmovable(!0);const r=`umbrella_${this.state}_${this.color}-${this.owner.facing}`;this.play(r)}update(){this.setPosition(this.owner.x,this.owner.y),this.setFlipX(this.owner.flipX);const i=`umbrella_${this.state}_${this.color}-${this.owner.facing}`;this.anims.getName()!==i&&this.play(i,!0)}setUmbrellaState(i){this.state=i}setUmbrellaColor(i){this.color=i}}class Ugt{constructor(t){this.player=t}use(t){t&&this.player.playThrowingItemAnimation()}}class KR{constructor(){it(this,"health");it(this,"energy");it(this,"water");it(this,"maxHealth");it(this,"maxEnergy");it(this,"maxWater");it(this,"damageTimer",0);it(this,"speed",50);it(this,"justDamaged",!1);this.maxHealth=100,this.maxEnergy=100,this.maxWater=100,this.health=this.maxHealth,this.energy=this.maxEnergy,this.water=this.maxWater}restoreHydration(){this.water=100}update(t){if(this.water>0){const i=this.maxWater/(300*Dt)*t;if(this.water-=i,this.water<0&&(this.water=0),this.damageTimer=0,!this.justDamaged){const n=this.maxHealth/(180*Dt);this.health+=n*t}this.health>this.maxHealth&&(this.health=this.maxHealth)}else{this.damageTimer+=t;const i=this.maxHealth/(180*Dt)*t;this.health-=i,this.health<0&&(this.health=0)}this.health=Math.round(this.health),this.justDamaged=!1}heal(t){this.health=Math.min(this.maxHealth,this.health+t)}takeDamage(t){this.health=Math.max(0,this.health-t),this.health=Math.round(this.health),this.justDamaged=!0}getStatus(){return{health:this.health,energy:this.energy,water:this.water,speed:this.speed}}}class JF extends de.Physics.Arcade.Sprite{constructor(i){const{x:n,y:d}=me.getState();super(i,n||jd,d||qd,"player");it(this,"cursors");it(this,"moveTarget",null);it(this,"scene");it(this,"facing","down");it(this,"moving",!1);it(this,"isUsingJoystick",!1);it(this,"isRunning",!1);it(this,"isClimbing",!1);it(this,"isSwimming",!1);it(this,"isDiving",!1);it(this,"diveKey");it(this,"isUmbrellaTransitioning",!1);it(this,"umbrellaKey");it(this,"umbrella");it(this,"isKeeping",!1);it(this,"carryingItem");it(this,"blockingAnimPlaying",!1);it(this,"isMounting",!1);it(this,"mountingItem");it(this,"fluteKey");it(this,"isFluteTransitioning",!1);it(this,"fishingTimers",[]);it(this,"RUN_HOLD_DURATION",2*Dt);it(this,"RUN_MULTIPLIER",1.8);it(this,"keyHoldStartTime");it(this,"playerLight");it(this,"toolManager");it(this,"seedManager");it(this,"currentTool",null);it(this,"playerStatusManager");it(this,"expManager");it(this,"uiScene");this.scene=i,this.playerStatusManager=new KR,this.toolManager=new Ngt(this),this.seedManager=new Ugt(this),this.keyHoldStartTime=null,this.expManager=new Vgt;const C=this.scene.game.scene.keys[Ht.UI];this.uiScene=C,this.expManager.onLevelUp(r=>{const x=this.expManager.getExp();me.setState(s=>({...s,level:r,exp:x})),di.getInstance(C).toast(`Người chơi lên cấp ${r}`,3e3)}),this.expManager.onSkillLevelUp((r,x)=>{const s=this.expManager.getSkillExp(r);me.setState(a=>({...a,skills:{...a.skills,[r]:{level:x,exp:s}}})),di.getInstance(C).toast(`Kĩ năng ${r} lên cấp ${x}`,3e3)})}playAnimAndTransition(i,n){this.blockingAnimPlaying=!0;const d=C=>{C.key===i&&(this.off(de.Animations.Events.ANIMATION_COMPLETE,d),this.blockingAnimPlaying=!1,n())};this.on(de.Animations.Events.ANIMATION_COMPLETE,d),this.anims.play(i,!0)}initPlayer(){this.scene.add.existing(this),this.scene.physics.add.existing(this),this.setDepth(Ut.PLAYER),this.setOrigin(.5),this.setSize(8,16),this.setOffset(12,8),this.setCollideWorldBounds(!0),this.setDamping(!0),this.setDrag(.9),this.setMaxVelocity(300),this.cursors=this.scene.input.keyboard.addKeys({up:[de.Input.Keyboard.KeyCodes.W],down:[de.Input.Keyboard.KeyCodes.S],left:[de.Input.Keyboard.KeyCodes.A],right:[de.Input.Keyboard.KeyCodes.D],upArrow:de.Input.Keyboard.KeyCodes.UP,downArrow:de.Input.Keyboard.KeyCodes.DOWN,leftArrow:de.Input.Keyboard.KeyCodes.LEFT,rightArrow:de.Input.Keyboard.KeyCodes.RIGHT}),this.diveKey=this.scene.input.keyboard.addKey(de.Input.Keyboard.KeyCodes.L),this.umbrellaKey=this.scene.input.keyboard.addKey(de.Input.Keyboard.KeyCodes.U),this.fluteKey=this.scene.input.keyboard.addKey(de.Input.Keyboard.KeyCodes.F)}createAnimations(i){const{characterType:n}=me.getState(),d=(s,a,g,c,h=5,l=-1)=>{Ws(i,s,{textureKey:a,start:g,end:c,frameRate:h,repeat:l})};d("idle-down",`${n}_idle`,0,3),d("idle-up",`${n}_idle`,4,7),d("idle-right",`${n}_idle`,8,11),d("idle-left",`${n}_idle`,8,11),d("walk-down",`${n}_walk`,0,5),d("walk-up",`${n}_walk`,6,11),d("walk-right",`${n}_walk`,12,17),d("walk-left",`${n}_walk`,12,17),d("watering_can-down",`${n}_watering`,0,7,5,0),d("watering_can-up",`${n}_watering`,8,15,5,0),d("watering_can-right",`${n}_watering`,16,23,5,0),d("watering_can-left",`${n}_watering`,16,23,5,0),d("axe-down",`${n}_axe`,0,5,5,0),d("axe-up",`${n}_axe`,6,11,5,0),d("axe-right",`${n}_axe`,12,17,5,0),d("axe-left",`${n}_axe`,12,17,5,0),d("hoe-down",`${n}_hoe`,0,5,5,0),d("hoe-up",`${n}_hoe`,6,11,5,0),d("hoe-right",`${n}_hoe`,12,17,5,0),d("hoe-left",`${n}_hoe`,12,17,5,0),d("shovel-down",`${n}_shovel`,0,4,5,0),d("shovel-up",`${n}_shovel`,5,9,5,0),d("shovel-right",`${n}_shovel`,10,14,5,0),d("shovel-left",`${n}_shovel`,10,14,5,0),d("sickle-down",`${n}_sickle`,0,5,5,0),d("sickle-up",`${n}_sickle`,6,11,5,0),d("sickle-right",`${n}_sickle`,12,17,5,0),d("sickle-left",`${n}_sickle`,12,17,5,0),d("pickaxe-down",`${n}_pickaxe`,0,5,5,0),d("pickaxe-up",`${n}_pickaxe`,6,11,5,0),d("pickaxe-right",`${n}_pickaxe`,12,17,5,0),d("pickaxe-left",`${n}_pickaxe`,12,17,5,0),d("throwing-items-down",`${n}_throwing_items`,0,4,5,0),d("throwing-items-up",`${n}_throwing_items`,5,9,5,0),d("throwing-items-right",`${n}_throwing_items`,10,14,5,0),d("throwing-items-left",`${n}_throwing_items`,10,14,5,0),d("run-down",`${n}_run`,0,7),d("run-up",`${n}_run`,8,15),d("run-right",`${n}_run`,16,23),d("run-left",`${n}_run`,16,23),d("sleep",`${n}_sleep`,0,1,5,-1),d("sit",`${n}_sitting`,0,0,5,0),d("damage-down",`${n}_damage`,0,3,5,0),d("damage-up",`${n}_damage`,4,7,5,0),d("damage-right",`${n}_damage`,8,11,5,0),d("damage-left",`${n}_damage`,8,11,5,0),d("dead-down",`${n}_dead`,0,3,5,0),d("dead-up",`${n}_dead`,4,7,5,0),d("dead-right",`${n}_dead`,8,11,5,0),d("dead-left",`${n}_dead`,8,11,5,0),d("petting",`${n}_petting`,0,3,5,0),d("catching-insect-down",`${n}_catching_insect`,0,5,5,0),d("catching-insect-up",`${n}_catching_insect`,6,11,5,0),d("catching-insect-right",`${n}_catching_insect`,12,17,5,0),d("catching-insect-left",`${n}_catching_insect`,12,17,5,0),d("climb",`${n}_climbing`,0,4,5,-1),d("sword-down",`${n}_sword`,0,9,5,0),d("sword-up",`${n}_sword`,10,19,5,0),d("sword-right",`${n}_sword`,20,29,5,0),d("sword-left",`${n}_sword`,20,29,5,0),d("bow-down",`${n}_bow_and_arrow`,0,6,5,0),d("bow-up",`${n}_bow_and_arrow`,7,13,5,0),d("bow-right",`${n}_bow_and_arrow`,14,20,5,0),d("bow-left",`${n}_bow_and_arrow`,14,20,5,0),d("arrow-right-impact","arrow",32,35,5,0),d("arrow-left-impact","arrow",32,35,5,0),d("arrow-down-impact","arrow",32,35,5,0),d("arrow-up-impact","arrow",32,35,5,0),d("magic-heal-down",`${n}_magic_healer`,0,5,5,0),d("magic-heal-up",`${n}_magic_healer`,6,11,5,0),d("magic-heal-right",`${n}_magic_healer`,12,17,5,0),d("magic-heal-left",`${n}_magic_healer`,12,17,5,0),d("magic-fire-down",`${n}_magic_fire`,0,5,5,0),d("magic-fire-up",`${n}_magic_fire`,6,11,5,0),d("magic-fire-right",`${n}_magic_fire`,12,17,5,0),d("magic-fire-left",`${n}_magic_fire`,12,17,5,0),d("magic-water-down",`${n}_magic_water`,0,5,5,0),d("magic-water-up",`${n}_magic_water`,6,11,5,0),d("magic-water-right",`${n}_magic_water`,12,17,5,0),d("magic-water-left",`${n}_magic_water`,12,17,5,0),d("magic-poison-down",`${n}_magic_poison`,0,5,5,0),d("magic-poison-up",`${n}_magic_poison`,6,11,5,0),d("magic-poison-right",`${n}_magic_poison`,12,17,5,0),d("magic-poison-left",`${n}_magic_poison`,12,17,5,0),d("magic-fire-right-impact","magic",32,36,5,0),d("magic-fire-left-impact","magic",32,36,5,0),d("magic-fire-down-impact","magic",32,36,5,0),d("magic-fire-up-impact","magic",32,36,5,0),d("magic-water-right-impact","magic",25,29,5,0),d("magic-water-left-impact","magic",25,29,5,0),d("magic-water-down-impact","magic",25,29,5,0),d("magic-water-up-impact","magic",25,29,5,0),d("magic-poison-right-impact","magic",74,78,5,0),d("magic-poison-left-impact","magic",74,78,5,0),d("magic-poison-down-impact","magic",74,78,5,0),d("magic-poison-up-impact","magic",74,78,5,0),d("coming-out-water-down",`${n}_coming_out_water`,0,2,5,0),d("coming-out-water-up",`${n}_coming_out_water`,3,5,5,0),d("coming-out-water-right",`${n}_coming_out_water`,6,8,5,0),d("coming-out-water-left",`${n}_coming_out_water`,6,8,5,0),d("swim-idle-down",`${n}_swim_idle`,0,3,5,-1),d("swim-idle-up",`${n}_swim_idle`,4,7,5,-1),d("swim-idle-right",`${n}_swim_idle`,8,11,5,-1),d("swim-idle-left",`${n}_swim_idle`,8,11,5,-1),d("swim-submerged-down",`${n}_swim_submerged`,0,3,5,0),d("swim-submerged-up",`${n}_swim_submerged`,4,7,5,0),d("swim-submerged-right",`${n}_swim_submerged`,8,11,5,0),d("swim-submerged-left",`${n}_swim_submerged`,8,11,5,0),d("swim-down",`${n}_swim`,0,3,5,-1),d("swim-up",`${n}_swim`,4,7,5,-1),d("swim-right",`${n}_swim`,8,11,5,-1),d("swim-left",`${n}_swim`,8,11,5,-1),d("umbrella_idle-down",`${n}_umbrella_idle`,0,3,5,-1),d("umbrella_idle-up",`${n}_umbrella_idle`,4,7,5,-1),d("umbrella_idle-right",`${n}_umbrella_idle`,8,11,5,-1),d("umbrella_idle-left",`${n}_umbrella_idle`,8,11,5,-1),d("umbrella_run-down",`${n}_umbrella_run`,0,7,5,-1),d("umbrella_run-up",`${n}_umbrella_run`,8,15,5,-1),d("umbrella_run-right",`${n}_umbrella_run`,16,23,5,-1),d("umbrella_run-left",`${n}_umbrella_run`,16,23,5,-1),d("umbrella_walk-down",`${n}_umbrella_walk`,0,5,5,-1),d("umbrella_walk-up",`${n}_umbrella_walk`,6,11,5,-1),d("umbrella_walk-right",`${n}_umbrella_walk`,12,17,5,-1),d("umbrella_walk-left",`${n}_umbrella_walk`,12,17,5,-1),d("umbrella_idle_red-down","umbrella_idle_red",0,3,5,-1),d("umbrella_idle_red-up","umbrella_idle_red",4,7,5,-1),d("umbrella_idle_red-right","umbrella_idle_red",8,11,5,-1),d("umbrella_idle_red-left","umbrella_idle_red",8,11,5,-1),d("umbrella_run_red-down","umbrella_run_red",0,7,5,-1),d("umbrella_run_red-up","umbrella_run_red",8,15,5,-1),d("umbrella_run_red-right","umbrella_run_red",16,23,5,-1),d("umbrella_run_red-left","umbrella_run_red",16,23,5,-1),d("umbrella_walk_red-down","umbrella_walk_red",0,5,5,-1),d("umbrella_walk_red-up","umbrella_walk_red",6,11,5,-1),d("umbrella_walk_red-right","umbrella_walk_red",12,17,5,-1),d("umbrella_walk_red-left","umbrella_walk_red",12,17,5,-1),d("pickup_items_idle-down",`${n}_pickup_items_idle`,0,3,5,-1),d("pickup_items_idle-up",`${n}_pickup_items_idle`,4,7,5,-1),d("pickup_items_idle-right",`${n}_pickup_items_idle`,8,11,5,-1),d("pickup_items_idle-left",`${n}_pickup_items_idle`,8,11,5,-1),d("pickup_items_up-down",`${n}_pickup_items_up`,0,3,5,0),d("pickup_items_up-up",`${n}_pickup_items_up`,4,7,5,0),d("pickup_items_up-right",`${n}_pickup_items_up`,8,11,5,0),d("pickup_items_up-left",`${n}_pickup_items_up`,8,11,5,0),d("pickup_items_walk-down",`${n}_pickup_items_walk`,0,5,5,-1),d("pickup_items_walk-up",`${n}_pickup_items_walk`,6,11,5,-1),d("pickup_items_walk-right",`${n}_pickup_items_walk`,12,17,5,-1),d("pickup_items_walk-left",`${n}_pickup_items_walk`,12,17,5,-1),d("pickup_items_run-down",`${n}_pickup_items_run`,0,7,5,-1),d("pickup_items_run-up",`${n}_pickup_items_run`,8,15,5,-1),d("pickup_items_run-right",`${n}_pickup_items_run`,16,23,5,-1),d("pickup_items_run-left",`${n}_pickup_items_run`,16,23,5,-1),d("horse_idle-down",`${n}_horse_idle`,0,1,5,-1),d("horse_idle-up",`${n}_horse_idle`,2,3,5,-1),d("horse_idle-right",`${n}_horse_idle`,4,5,5,-1),d("horse_idle-left",`${n}_horse_idle`,4,5,5,-1),d("horse_run-down",`${n}_horse_run`,0,5,5,-1),d("horse_run-up",`${n}_horse_run`,6,11,5,-1),d("horse_run-right",`${n}_horse_run`,12,17,5,-1),d("horse_run-left",`${n}_horse_run`,12,17,5,-1),d("flute",`${n}_flute`,0,11,5,-1);const C={idle:{down:[0,1],up:[2,3],right:[4,5],left:[4,5]},walk:{down:[6,9],up:[10,13],right:[14,17],left:[14,17]},run:{down:[18,23],up:[24,29],right:[30,35],left:[30,35]},attack:{down:[36,39],up:[36,39],right:[40,43],left:[40,43]},damage:{down:[44,46],up:[47,49],right:[50,52],left:[50,52]},dead:{down:[53,55],up:[56,58],right:[59,61],left:[59,61]}},r=["idle","walk","run","damage","attack","dead"],x=["down","up","right","left"];for(const s of r)for(const a of x){const[g,c]=C[s][a],h=`bear_anim-${s}-${a}`,l=`${n}_bear_anim`;Ws(this.scene,h,{textureKey:l,start:g,end:c,frameRate:5,repeat:s==="dead"?0:-1})}d("bicycle_run-down",`${n}_bicycle_run`,0,3,5,-1),d("bicycle_run-up",`${n}_bicycle_run`,4,7,5,-1),d("bicycle_run-right",`${n}_bicycle_run`,8,11,5,-1),d("bicycle_run-left",`${n}_bicycle_run`,8,11,5,-1),d("broomstick_run-down",`${n}_broomstick_run`,0,3,5,-1),d("broomstick_run-up",`${n}_broomstick_run`,4,7,5,-1),d("broomstick_run-right",`${n}_broomstick_run`,8,11,5,-1),d("broomstick_run-left",`${n}_broomstick_run`,8,11,5,-1),d("fishing_casting-down",`${n}_fishing_casting`,0,14,5,0),d("fishing_casting-up",`${n}_fishing_casting`,15,29,5,0),d("fishing_casting-right",`${n}_fishing_casting`,30,44,5,0),d("fishing_casting-left",`${n}_fishing_casting`,30,44,5,0),d("fishing_wait_idle-down",`${n}_fishing_wait_idle`,0,3,5,-1),d("fishing_wait_idle-up",`${n}_fishing_wait_idle`,4,7,5,-1),d("fishing_wait_idle-right",`${n}_fishing_wait_idle`,8,11,5,-1),d("fishing_wait_idle-left",`${n}_fishing_wait_idle`,8,11,5,-1),d("fishing_hooked-down",`${n}_fishing_hooked`,0,7,5,-1),d("fishing_hooked-up",`${n}_fishing_hooked`,8,15,5,-1),d("fishing_hooked-right",`${n}_fishing_hooked`,16,23,5,-1),d("fishing_hooked-left",`${n}_fishing_hooked`,16,23,5,-1),d("fishing_roll-down",`${n}_fishing_roll`,0,3,5,-1),d("fishing_roll-up",`${n}_fishing_roll`,4,7,5,-1),d("fishing_roll-right",`${n}_fishing_roll`,8,11,5,-1),d("fishing_roll-left",`${n}_fishing_roll`,8,11,5,-1),d("fishing_captured_no_fish-down",`${n}_fishing_captured_no_fish`,0,3,5,0),d("fishing_captured_no_fish-up",`${n}_fishing_captured_no_fish`,4,7,5,0),d("fishing_captured_no_fish-right",`${n}_fishing_captured_no_fish`,8,11,5,0),d("fishing_captured_no_fish-left",`${n}_fishing_captured_no_fish`,8,11,5,0)}handleMovement(){this.body&&(this.checkInWater(),this.handleMovementInput(),this.handleMoveToTarget(),this.updateAnimation())}handleMovementInput(){var r,x,s,a,g,c,h,l,o,u,v,f,p,m,y,S,T,b,P,w,A,R,D,L,k,B,F,G,N,W,X,$;if(this.isUsingJoystick)return;const i=this.body;this.moving=!1,this.isRunning=!1,i.setVelocity(0);const n=this.playerStatusManager.getStatus().speed;if(((r=this.cursors.left)==null?void 0:r.isDown)||((x=this.cursors.right)==null?void 0:x.isDown)||((s=this.cursors.up)==null?void 0:s.isDown)||((a=this.cursors.down)==null?void 0:a.isDown)||((g=this.cursors.leftArrow)==null?void 0:g.isDown)||((c=this.cursors.rightArrow)==null?void 0:c.isDown)||((h=this.cursors.upArrow)==null?void 0:h.isDown)||((l=this.cursors.downArrow)==null?void 0:l.isDown)){this.keyHoldStartTime===null&&(this.keyHoldStartTime=Date.now());const J=Date.now()-this.keyHoldStartTime;this.isRunning=J>=this.RUN_HOLD_DURATION}else this.keyHoldStartTime=null,this.isRunning=!1;const C=this.isRunning?n*this.RUN_MULTIPLIER:n;(o=this.cursors.left)!=null&&o.isDown&&((u=this.cursors.up)!=null&&u.isDown)||(v=this.cursors.leftArrow)!=null&&v.isDown&&((f=this.cursors.upArrow)!=null&&f.isDown)?(i.setVelocityX(-C),i.setVelocityY(-C),this.moving=!0,this.facing="left",this.setFlipX(!0)):(p=this.cursors.left)!=null&&p.isDown&&((m=this.cursors.down)!=null&&m.isDown)||(y=this.cursors.leftArrow)!=null&&y.isDown&&((S=this.cursors.downArrow)!=null&&S.isDown)?(i.setVelocityX(-C),i.setVelocityY(C),this.moving=!0,this.facing="left",this.setFlipX(!0)):(T=this.cursors.right)!=null&&T.isDown&&((b=this.cursors.up)!=null&&b.isDown)||(P=this.cursors.rightArrow)!=null&&P.isDown&&((w=this.cursors.upArrow)!=null&&w.isDown)?(i.setVelocityX(C),i.setVelocityY(-C),this.moving=!0,this.facing="right",this.setFlipX(!1)):(A=this.cursors.right)!=null&&A.isDown&&((R=this.cursors.down)!=null&&R.isDown)||(D=this.cursors.rightArrow)!=null&&D.isDown&&((L=this.cursors.downArrow)!=null&&L.isDown)?(i.setVelocityX(C),i.setVelocityY(C),this.moving=!0,this.facing="right",this.setFlipX(!1)):(k=this.cursors.left)!=null&&k.isDown||(B=this.cursors.leftArrow)!=null&&B.isDown?(i.setVelocityX(-C),i.setVelocityY(0),this.moving=!0,this.facing="left",this.setFlipX(!0)):(F=this.cursors.right)!=null&&F.isDown||(G=this.cursors.rightArrow)!=null&&G.isDown?(i.setVelocityX(C),i.setVelocityY(0),this.moving=!0,this.facing="right",this.setFlipX(!1)):(N=this.cursors.up)!=null&&N.isDown||(W=this.cursors.upArrow)!=null&&W.isDown?(i.setVelocityX(0),i.setVelocityY(-C),this.moving=!0,this.facing="up"):((X=this.cursors.down)!=null&&X.isDown||($=this.cursors.downArrow)!=null&&$.isDown)&&(i.setVelocityX(0),i.setVelocityY(C),this.moving=!0,this.facing="down"),this.moving&&(this.moveTarget=null)}handleMoveToTarget(){const i=this.playerStatusManager.getStatus().speed,n=this.body;!this.moving&&this.moveTarget?de.Math.Distance.Between(this.x,this.y,this.moveTarget.x,this.moveTarget.y)>2?(this.scene.physics.moveToObject(this,this.moveTarget,i),this.updateFacing(this.moveTarget),this.moving=!0):(n.setVelocity(0),this.moveTarget=null,this.moving=!1):this.moving&&this.moveTarget&&de.Math.Distance.Between(this.x,this.y,this.moveTarget.x,this.moveTarget.y)<=2&&(n.setVelocity(0),this.moveTarget=null,this.moving=!1)}updateFacing(i){const n=i.x-this.x,d=i.y-this.y;Math.abs(n)>Math.abs(d)?(this.facing=n>0?"right":"left",this.setFlipX(n<0)):this.facing=d>0?"down":"up"}updateAnimation(){if(this.blockingAnimPlaying){this.moving=!1,this.isRunning=!1;return}this.isFluteTransitioning?this.play("flute",!0):this.isMounting?this.mountingItem instanceof Fp?this.moving?this.isRunning?this.play(`horse_run-${this.facing}`,!0):this.play(`horse_run-${this.facing}`,!0):this.play(`horse_idle-${this.facing}`,!0):this.mountingItem instanceof Nd?this.moving?this.isRunning?this.play(`bear_anim-run-${this.facing}`,!0):this.play(`bear_anim-walk-${this.facing}`,!0):this.play(`bear_anim-idle-${this.facing}`,!0):this.mountingItem instanceof KF?this.play(`bicycle_run-${this.facing}`,!0):this.mountingItem instanceof ZF&&this.play(`broomstick_run-${this.facing}`,!0):this.isKeeping?this.moving?this.isRunning?this.play(`pickup_items_run-${this.facing}`,!0):this.play(`pickup_items_walk-${this.facing}`,!0):this.play(`pickup_items_idle-${this.facing}`,!0):this.isSwimming?this.isDiving?this.play(`swim-submerged-${this.facing}`,!0):this.moving?this.play(`swim-${this.facing}`,!0):this.play(`swim-idle-${this.facing}`,!0):this.isClimbing?this.play("climb",!0):this.isUmbrellaTransitioning?this.moving?this.isRunning?this.play(`umbrella_run-${this.facing}`,!0):this.play(`umbrella_walk-${this.facing}`,!0):this.play(`umbrella_idle-${this.facing}`,!0):this.moving?this.isRunning?this.play(`run-${this.facing}`,!0):this.play(`walk-${this.facing}`,!0):this.play(`idle-${this.facing}`,!0)}checkInWater(){var C,r,x,s,a,g;const i=(C=this.scene.map)==null?void 0:C.worldToTileX(this.x),n=(r=this.scene.map)==null?void 0:r.worldToTileY(this.y),d=(s=(x=this.scene)==null?void 0:x.groundLayer)==null?void 0:s.getTileAt(i||0,n||0);d&&((a=d==null?void 0:d.properties)!=null&&a.isWater)&&(g=this.scene)!=null&&g.groundLayer&&this.playerStatusManager.restoreHydration()}equipTool(i){this.currentTool=i}useTool(){if(this.blockingAnimPlaying){Tt.warn("Đang thực hiện hành động khác, chưa thể dùng công cụ");return}this.currentTool?this.toolManager.use(this.currentTool):Tt.warn("Không có công cụ được trang bị!")}equipSeed(i){this.currentTool=i}useSeed(){if(this.blockingAnimPlaying){Tt.warn("Đang thực hiện hành động khác, chưa thể dùng công cụ");return}this.currentTool?this.seedManager.use(this.currentTool):Tt.warn("Không có vật phẩm được trang bị!")}playToolAnimation(i,n){if(this.blockingAnimPlaying)return;this.moving=!1;const d=`${i}-${this.facing}`;Tt.debug(`▶️ Player animation: ${i}_${n}`,d),this.playAnimAndTransition(d,()=>{this.play(`idle-${this.facing}`,!0)})}playThrowingItemAnimation(){if(this.blockingAnimPlaying)return;this.moving=!1;const i=`throwing-items-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}getStatusManager(){return this.playerStatusManager}updateLight(){this.playerLight&&(this.playerLight.x=this.x,this.playerLight.y=this.y)}togglePlayerLight(i){var n;(n=this.playerLight)==null||n.setVisible(i)}smoothyMovementCamera(){this.x=Math.round(this.x),this.y=Math.round(this.y)}sleep(){this.blockingAnimPlaying=!0,this.setVelocity(0,0),this.anims.play("sleep",!0)}wakeUp(){this.blockingAnimPlaying=!1,this.anims.play(`idle-${this.facing}`,!0),this.setDepth(Ut.PLAYER),this.setPosition(this.x-ut,this.y)}isAsleep(){return this.blockingAnimPlaying}sit(i){this.blockingAnimPlaying=!0,this.setVelocity(0,0),this.anims.play("sit",!0),this.setPosition(i.x-ut/2,i.y)}standUp(){this.blockingAnimPlaying=!1,this.anims.play(`idle-${this.facing}`,!0),this.setPosition(this.x+ut,this.y)}isASitting(){return this.blockingAnimPlaying}takeDamage(i){if(this.playerStatusManager.takeDamage(i),this.blockingAnimPlaying)return;this.moving=!1;const n=`damage-${this.facing}`;this.playAnimAndTransition(n,()=>{this.playerStatusManager.getStatus().health<=0?this.die():this.play(`idle-${this.facing}`,!0)})}die(){this.blockingAnimPlaying=!0,this.setVelocity(0,0),this.play(`dead-${this.facing}`,!0),this.mountingItem&&(this.mountingItem.dismountFromPlayer(),this.mountingItem=void 0,this.isMounting=!1),Tt.debug("Player đã chết! Đang hồi sinh..."),this.scene.time.delayedCall(2*Dt,()=>{this.respawn()})}respawn(i){this.blockingAnimPlaying=!1,this.playerStatusManager=new KR,this.setPosition(jd,qd),this.play(`idle-${this.facing}`)}petting(){if(this.blockingAnimPlaying)return;this.moving=!1,this.playAnimAndTransition("petting",()=>{this.play(`idle-${this.facing}`,!0)})}catchingInsect(){if(this.blockingAnimPlaying)return;this.moving=!1;const i=`catching-insect-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}enterClimbing(){this.blockingAnimPlaying||(this.isClimbing=!0,this.setVelocity(0),this.body.setAllowGravity(!1))}exitClimbing(){this.isClimbing=!1,this.body.setAllowGravity(!0),this.anims.play(`idle-${this.facing}`,!0)}enterSwimming(){if(!this.isSwimming){const i=this.scene.game.scene.keys[Ht.GLOBAL],{soundController:n}=Ze(i);n.playSfx("sfxWaterBubble")}this.blockingAnimPlaying||(this.isSwimming=!0,this.setVelocity(0),this.body.setAllowGravity(!1))}exitSwimming(){this.isSwimming=!1;const i=this.scene.game.scene.keys[Ht.GLOBAL],{soundController:n}=Ze(i);n.stop("sfxWaterBubble"),this.body.setAllowGravity(!0),this.anims.play(`idle-${this.facing}`,!0)}checkClimbOverlap(){const i=this.scene.physics.overlap(this,this.scene.climbGroup);this.isClimbing&&!i&&(di.getInstance(this.uiScene).toast("❌ Đã rời khỏi địa hình cao",3e3),this.isClimbing=!1,this.isClimbing&&this.exitClimbing())}checkSwimOverlap(){const i=this.scene.physics.overlap(this,this.scene.swimGroup);this.isSwimming&&!i&&(di.getInstance(this.uiScene).toast("❌ Đã rời khỏi khu vực nước sâu",3e3),this.isSwimming=!1,this.isSwimming&&this.exitSwimming())}attack(){if(this.blockingAnimPlaying)return;this.moving=!1;const i=`sword-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}attackBow(i){if(this.blockingAnimPlaying)return;this.moving=!1;const n=`bow-${this.facing}`;this.playAnimAndTransition(n,()=>{this.play(`idle-${this.facing}`,!0)}),this.shootArrowTo(i)}shootArrowTo(i){const d=this.x+2,C=this.y+2,r=i.x,x=i.y,s=Uz(this.facing),a=this.scene.physics.add.sprite(d,C,"arrow",s);a.setDepth(Ut.PLAYER),a.setActive(!0),a.setVisible(!0);const g=de.Math.Angle.Between(d,C,r,x);a.setRotation(g);const c=6,h=r-Math.cos(g)*c,l=x-Math.sin(g)*c,o=50;this.scene.physics.moveTo(a,h,l,o);const v=de.Math.Distance.Between(d,C,h,l)/o*Dt;this.scene.time.delayedCall(v,()=>{a.destroy();const f=this.scene.add.sprite(h,l,"impact");f.setDepth(Ut.ENVIRONMENTS+1),f.play(`arrow-${this.facing}-impact`),f.once(de.Animations.Events.ANIMATION_COMPLETE,()=>f.destroy())})}magicHealer(){if(this.blockingAnimPlaying)return;this.moving=!1;const i=`magic-heal-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}attackMagic(i,n){if(this.blockingAnimPlaying)return;this.moving=!1;const d=`magic-${n}-${this.facing}`;this.playAnimAndTransition(d,()=>{this.play(`idle-${this.facing}`,!0)}),this.shootMagicTo(i,n)}shootMagicTo(i,n){const C=this.x+2,r=this.y+2,x=i.x,s=i.y,a=Xz(n),g=this.scene.physics.add.sprite(C,r,"magic",a);g.setDepth(Ut.PLAYER),g.setActive(!0),g.setVisible(!0);const c=de.Math.Angle.Between(C,r,x,s);g.setRotation(c);const h=6,l=x-Math.cos(c)*h,o=s-Math.sin(c)*h,u=50;this.scene.physics.moveTo(g,l,o,u);const f=de.Math.Distance.Between(C,r,l,o)/u*Dt;this.scene.time.delayedCall(f,()=>{g.destroy();const p=this.scene.add.sprite(l,o,"impact");p.setDepth(Ut.ENVIRONMENTS+1),p.play(`magic-${n}-${this.facing}-impact`),p.once(de.Animations.Events.ANIMATION_COMPLETE,()=>p.destroy())})}handleInput(){de.Input.Keyboard.JustDown(this.diveKey)&&this.isSwimming&&this.toggleDive(),de.Input.Keyboard.JustDown(this.umbrellaKey)&&this.toggleUmbrella(),de.Input.Keyboard.JustDown(this.fluteKey)&&this.toggleFlute()}toggleDive(){if(!Uh())if(this.isDiving=!this.isDiving,this.isDiving){const i=`swim-submerged-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`swim-idle-${this.facing}`,!0)})}else{const i=`coming-out-water-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}}toggleUmbrella(){var i;Uh()||(this.isUmbrellaTransitioning=!this.isUmbrellaTransitioning,this.isUmbrellaTransitioning?this.umbrella=new zgt(this.scene,this,"red"):((i=this.umbrella)==null||i.destroy(),this.umbrella=void 0,this.isUmbrellaTransitioning=!1))}toggleFlute(){Uh()||(this.isFluteTransitioning=!this.isFluteTransitioning)}pickupItems(i){if(Tt.debug(i),this.blockingAnimPlaying)return;this.moving=!1,this.isKeeping=!0,this.carryingItem=i;const n=`pickup_items_up-${this.facing}`;this.playAnimAndTransition(n,()=>{this.play(`pickup_items_idle-${this.facing}`,!0)})}throwingItems(){var n;if(this.blockingAnimPlaying)return;this.moving=!1,this.isKeeping=!1,(n=this.carryingItem)==null||n.throw(),this.carryingItem=void 0;const i=`throwing-items-${this.facing}`;this.playAnimAndTransition(i,()=>{this.play(`idle-${this.facing}`,!0)})}enterMountingItem(i){var n;Tt.debug(i),!(this.blockingAnimPlaying||this.moving)&&(this.moving=!1,this.isMounting=!0,this.mountingItem=i,(n=this.mountingItem)==null||n.mountToPlayer())}exitMountingItem(){var i;this.blockingAnimPlaying||(this.moving=!1,this.isMounting=!1,(i=this.mountingItem)==null||i.dismountFromPlayer(),this.mountingItem=void 0)}isAsKeeping(){return this.isKeeping}isAsMounting(){return this.isMounting}isBlockingAnimPlaying(){return this.blockingAnimPlaying}isIdle(){return!this.moving}startFishing(){if(this.blockingAnimPlaying)return;this.blockingAnimPlaying=!0,this.setVelocity(0,0),this.play("fishing_casting-"+this.facing,!0);const i=this.scene.time.delayedCall(Dt,()=>{this.play("fishing_wait_idle-"+this.facing,!0)}),n=this.scene.time.delayedCall(3*Dt,()=>{this.play("fishing_hooked-"+this.facing,!0)}),d=this.scene.time.delayedCall(4*Dt,()=>{this.play("fishing_roll-"+this.facing,!0)}),C=this.scene.time.delayedCall(5*Dt,()=>{const r=Math.random()<.5,x=r?"fishing_captured_no_fish-"+this.facing:"fishing_captured_no_fish-"+this.facing;this.play(x,!0),this.blockingAnimPlaying=!1,r?(Tt.debug("Bạn đã câu được cá!"),this.spawnFishSpriteToPlayer()):Tt.debug("Hụt cá mất rồi!")});this.fishingTimers.push(i,n,d,C)}spawnFishSpriteToPlayer(){const{characterType:i}=me.getState(),n=de.Math.Between(0,7),d=this.scene.add.sprite(this.x-ut,this.y+ut,`${i}_fishing_fish`,n);d.setDepth(Ut.PLAYER+1),this.scene.tweens.add({targets:d,x:this.x,y:this.y,ease:"Linear",duration:2*Dt,onComplete:()=>{d.destroy()}})}cancelFishing(){this.blockingAnimPlaying&&(this.fishingTimers.forEach(i=>i.remove(!1)),this.fishingTimers=[],this.blockingAnimPlaying=!1,this.play(`idle-${this.facing}`,!0))}isAsFishing(){return this.blockingAnimPlaying}gainExp(i){this.expManager.addExp(i)}gainSkillExp(i,n){this.expManager.addSkillExp(i,n)}preUpdate(i,n){var d;super.preUpdate(i,n),this.isUmbrellaTransitioning&&((d=this.umbrella)==null||d.update()),this.carryingItem&&this.carryingItem.update(),this.checkClimbOverlap(),this.checkSwimOverlap(),this.smoothyMovementCamera(),this.handleMovement(),this.handleInput(),this.playerStatusManager.update(n),this.updateLight()}}const bo=class bo{constructor(t){it(this,"scene");it(this,"animatedTiles");this.scene=t,this.animatedTiles=[],this.initAnimatedTiles(),this.scene.events.on("update",this.update,this)}static getInstance(t){if(bo.instance)t&&bo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");bo.instance=new bo(t)}return bo.instance}setScene(t){this.scene=t}getScene(){return this.scene}initAnimatedTiles(){var i;const t=[];(i=this.scene.map)==null||i.tilesets.forEach(n=>{const{tileData:d,firstgid:C}=n;for(const r in d){const x=d[r].animation;x&&t.push({tileid:parseInt(r),animation:x,firstgid:C})}}),t.forEach(n=>{var d;(d=this.scene.map)==null||d.layers.forEach(C=>{C.data&&C.data.forEach(r=>{r.forEach(x=>{x.index===n.tileid+n.firstgid&&this.animatedTiles.push({tile:x,tileAnimationData:n.animation,firstgid:n.firstgid,elapsedTime:0})})})})})}animateTiles(t){this.animatedTiles.forEach(i=>{if(!i.tileAnimationData)return;const n=i.tileAnimationData[0].duration*i.tileAnimationData.length;i.elapsedTime=(i.elapsedTime+t)%n;const d=Math.floor(i.elapsedTime/i.tileAnimationData[0].duration);i.tile.index=i.tileAnimationData[d].tileid+i.firstgid})}update(t,i){this.animateTiles(i)}};it(bo,"instance",null);let k4=bo;const Eo=class Eo{constructor(t){it(this,"scene");it(this,"cam");it(this,"input");it(this,"dragStartX",0);it(this,"dragStartY",0);it(this,"enabledDrag",!1);var i,n,d,C;this.scene=t,t.physics.world.setBounds(0,0,((i=t==null?void 0:t.map)==null?void 0:i.widthInPixels)||Us.WIDTH,((n=t==null?void 0:t.map)==null?void 0:n.heightInPixels)||Us.HEIGHT),this.cam=t.cameras.main,this.input=t.input,this.cam.setViewport(0,0,window.innerWidth,window.innerHeight),this.cam.setBounds(0,0,((d=t==null?void 0:t.map)==null?void 0:d.widthInPixels)||Us.WIDTH,((C=t==null?void 0:t.map)==null?void 0:C.heightInPixels)||Us.HEIGHT),this.cam.setZoom(this.scene.game.device.os.desktop?k9:G9),this.cam.setRoundPixels(!0),this.enabledDrag&&this.setupDrag()}static getInstance(t){if(Eo.instance)t&&Eo.instance.setScene(t);else{if(!t)throw new Error("Scene must be provided on first init.");Eo.instance=new Eo(t)}return Eo.instance}setScene(t){this.scene=t}getScene(){return this.scene}setupDrag(){this.input.on("pointerdown",t=>{t.button===0&&(this.dragStartX=t.x+this.cam.scrollX,this.dragStartY=t.y+this.cam.scrollY)}),this.input.on("pointermove",t=>{t.isDown&&t.button===0&&(this.cam.scrollX=this.dragStartX-t.x,this.cam.scrollY=this.dragStartY-t.y)})}resize(t,i){this.cam.setViewport(0,0,t,i)}assignToPlayer(t){this.cam.roundPixels=!0;const i=this.cam.scene.scale.zoom,n=this.scene.scale.width,d=this.scene.scale.height,C=n/i,r=d/i,x=this.scene.map.widthInPixels>C?C*.2:0,s=this.scene.map.heightInPixels>r?r*.2:0;this.cam.setDeadzone(x,s),this.cam.startFollow(t,!0,.2,.2)}};it(Eo,"instance",null);let _p=Eo;class Xgt extends de.Scene{constructor(){super(Ht.BASE);it(this,"map",null);it(this,"groundLayer",null);it(this,"detailLayer",null);it(this,"decorationLayer",null);it(this,"treeLayer",null);it(this,"envLayer",null);it(this,"obstacleLayer",null);it(this,"npcLayer",null);it(this,"collisionLayer",null);it(this,"player");it(this,"springTileset");it(this,"farmManager",null);it(this,"farmAnimalManager",null);it(this,"climbGroup");it(this,"swimGroup");it(this,"itemsGroup");it(this,"playerAutoSave");it(this,"farmUnsubscribe")}preload(){}create(i){var Bi,Yi;this.cameras.main.fadeIn(Dt,0,0,0),Xs.get("VITE_APP_ENV")!=="production"&&this.physics.world.createDebugGraphic();const n=this.game.scene.keys[Ht.GLOBAL],d=this.game.scene.keys[Ht.UI],{uiController:C}=ti(d),{soundController:r}=Ze(n),{systemController:x,rainyController:s,cloudController:a}=U6(this);this.map=x.initMap("map");const g=x.initLayers(this.map);this.springTileset=g.springTileset,!i.targetX&&!i.targetY&&(x.launchUIScene(),r.create()),this.input.on("pointerdown",ve=>{x.handlePointerDown(ve)});const c=()=>{this.player=new JF(this),this.player.initPlayer(),i.targetX&&i.targetY&&this.player.setPosition(i.targetX,i.targetY),this.player.createAnimations(this),this.playerAutoSave=new ggt(this.player)};((Yi=(Bi=me.persist)==null?void 0:Bi.hasHydrated)==null?void 0:Yi.call(Bi))===!1?me.persist.onFinishHydration(ve=>{c()}):c();const{level:h,exp:l,skills:o}=me.getState();Tt.debug(h,l,o),new _p(this).assignToPlayer(this.player),!i.targetX&&!i.targetY&&new k4(this);const{tileStateFrameMap:v}=Rs.getState(),{setScene:f,getMaleChickenWhiteOptions:p,getMaleChickenBlondeOptions:m,getMaleChickenBlackWhiteOptions:y,getMaleChickenBlondeGreenOptions:S,getMaleChickenBrowBlackOptions:T,getMaleChickenBrowWhiteOptions:b,getMaleChickenEvilOptions:P,getMaleChickenBlackOptions:w,getMaleChickenFullOptions:A,getMaleChickenGreenOptions:R,getMaleChickenPinkOptions:D,getMaleChickenRedOptions:L,getMaleChickenUniverseOptions:k,getMaleCowBlackOptions:B,getFeMaleCowBlackOptions:F,getFeMaleCowBlondeOptions:G,getFeMaleCowBrownOptions:N,getFeMaleCowHlBlackOptions:W,getFeMaleCowHlBrownOptions:X,getFeMaleCowPinkOptions:$,getMaleCowBlondeOptions:J,getMaleCowBrownOptions:V,getMaleCowHlBlackOptions:Y,getMaleCowHlBrownOptions:z,getMaleCowPinkOptions:K,getMaleDuckWhiteOptions:H,getFeMaleDuckMalladOptions:Q,getFeMaleDuckWhiteOptions:j,getMaleDuckBlackOptions:q,getMaleDuckMallad2Options:tt,getMaleDuckMalladOptions:st,getMaleDuckYellowOptions:nt,getFeMaleSheep1Options:at,getFeMaleSheep2Options:ot,getMaleSheep1Options:mt,getMaleSheep2Options:St,getMaleOstrichBlackOptions:Ct,getMaleOstrichBlueOptions:kt,getMaleOstrichBrownOptions:Vt,getMaleGoatBlackOptions:It,getFeMaleGoatBlackOptions:yt,getFeMaleGoatBlondeOptions:Lt,getFeMaleGoatBrownOptions:Ft,getFeMaleGoatPinkOptions:$t,getMaleGoatBlondeOptions:Jt,getMaleGoatBrownOptions:jt,getMaleGoatPinkOptions:Zt,getMalePigMudPinkOptions:Yt,getMalePigPinkOptions:ke}=kn.getState();f(this);const ce=Math.ceil(100/10),Ae=10;if(this.farmManager=new Ogt(this,ce,Ae,620,320,ut,"spring-tiles-terrain",v.empty,v.watered,v.tilled),this.farmManager.updateUnlockedTiles(me.getState().level),this.farmAnimalManager=new Mgt(this),this.farmAnimalManager.setPlayerLevel(me.getState().level),this.farmAnimalManager.restoreAnimalsFromStore(),this.farmUnsubscribe=me.subscribe((ve,fi)=>{ve.level!==fi.level&&(this.farmManager.updateUnlockedTiles(ve.level),this.farmAnimalManager.setPlayerLevel(me.getState().level))}),Uh()||(this.farmAnimalManager.spawnAnimal(p()),this.farmAnimalManager.spawnAnimal(m()),this.farmAnimalManager.spawnAnimal(y()),this.farmAnimalManager.spawnAnimal(S()),this.farmAnimalManager.spawnAnimal(T()),this.farmAnimalManager.spawnAnimal(b()),this.farmAnimalManager.spawnAnimal(P()),this.farmAnimalManager.spawnAnimal(w()),this.farmAnimalManager.spawnAnimal(A()),this.farmAnimalManager.spawnAnimal(R()),this.farmAnimalManager.spawnAnimal(D()),this.farmAnimalManager.spawnAnimal(L()),this.farmAnimalManager.spawnAnimal(k()),this.farmAnimalManager.spawnAnimal(B()),this.farmAnimalManager.spawnAnimal(F()),this.farmAnimalManager.spawnAnimal(G()),this.farmAnimalManager.spawnAnimal(N()),this.farmAnimalManager.spawnAnimal(W()),this.farmAnimalManager.spawnAnimal(X()),this.farmAnimalManager.spawnAnimal($()),this.farmAnimalManager.spawnAnimal(J()),this.farmAnimalManager.spawnAnimal(V()),this.farmAnimalManager.spawnAnimal(Y()),this.farmAnimalManager.spawnAnimal(z()),this.farmAnimalManager.spawnAnimal(K()),this.farmAnimalManager.spawnAnimal(H()),this.farmAnimalManager.spawnAnimal(Q()),this.farmAnimalManager.spawnAnimal(j()),this.farmAnimalManager.spawnAnimal(q()),this.farmAnimalManager.spawnAnimal(tt()),this.farmAnimalManager.spawnAnimal(st()),this.farmAnimalManager.spawnAnimal(nt()),this.farmAnimalManager.spawnAnimal(mt()),this.farmAnimalManager.spawnAnimal(at()),this.farmAnimalManager.spawnAnimal(St()),this.farmAnimalManager.spawnAnimal(ot()),this.farmAnimalManager.spawnAnimal(Ct()),this.farmAnimalManager.spawnAnimal(kt()),this.farmAnimalManager.spawnAnimal(Vt()),this.farmAnimalManager.spawnAnimal(It()),this.farmAnimalManager.spawnAnimal(yt()),this.farmAnimalManager.spawnAnimal(Jt()),this.farmAnimalManager.spawnAnimal(Lt()),this.farmAnimalManager.spawnAnimal(Zt()),this.farmAnimalManager.spawnAnimal($t()),this.farmAnimalManager.spawnAnimal(jt()),this.farmAnimalManager.spawnAnimal(Ft()),this.farmAnimalManager.spawnAnimal(ke()),this.farmAnimalManager.spawnAnimal(Yt())),!Uh()){const ve=new Fp(this,300,300,1);ve.setState("idle"),ve.equipSaddle("black");const fi=new Fp(this,320,300,2);fi.setState("idle"),fi.equipSaddle("blue");const us=new Fp(this,340,300,3);us.setState("idle"),us.equipSaddle("brown"),new Nd(this,340,340,"black"),new Nd(this,340,380,"brown"),new Nd(this,340,420,"panda"),new Nd(this,340,460,"polar"),new KF(this,340,500,"blue"),new ZF(this,380,340,"standard");const ba=this.physics.add.staticGroup(),or=new Iv(this,600,300,"ground-icons",1);ba.add(or),this.itemsGroup=ba,x.initDog()}ee.getState().isNewbie&&(new Iv(this,600,300,"basic-weapons",15,!1,()=>{Tt.debug("Thêm bình tưới nước gỗ vào kho đồ");const ve={id:_e(),iconKey:"watering_can_wood",name:"Bình tưới nước bằng gỗ",quantity:1,canShortcut:!0,description:"Bình tưới nước bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1};ee.getState().addInventoryItem(ve),ee.getState().addItemToShortcut(ve)}),new Iv(this,600,320,"basic-weapons",21,!1,()=>{Tt.debug("Thêm cuốc gỗ vào kho đồ");const ve={id:_e(),iconKey:"hoe_wood",name:"Cuốc bằng gỗ",quantity:1,canShortcut:!0,description:"Cuốc bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1};ee.getState().addInventoryItem(ve),ee.getState().addItemToShortcut(ve)}),new Iv(this,600,340,"basic-weapons",23,!1,()=>{Tt.debug("Thêm liềm gỗ vào kho đồ");const ve={id:_e(),iconKey:"sickle_wood",name:"Liềm bằng gỗ",quantity:1,canShortcut:!0,description:"Liềm bằng gỗ",type:"tool",quality:"normal",price:1e3,sellPrice:800,levelRequired:1};ee.getState().addInventoryItem(ve),ee.getState().addItemToShortcut(ve)}));const Re=ve=>{Tt.debug("dayPhaseChanged",ve)},Ve=ve=>{switch(Tt.debug("weatherChanged",ve),ve){case"Sunny":C.weatherIcon.setFrame(0),s.destroy(),a.destroy();break;case"Cloudy":C.weatherIcon.setFrame(2),s.destroy(),a.start();break;case"Rainy":C.weatherIcon.setFrame(3),s.start(),a.destroy();break;case"Thunderstorm":C.weatherIcon.setFrame(4),s.destroy(),a.destroy();break;case"Snowy":C.weatherIcon.setFrame(13),s.destroy(),a.destroy();break;case"Windy":C.weatherIcon.setFrame(1),s.destroy(),a.destroy();break;default:C.weatherIcon.setFrame(0),s.destroy(),a.destroy()}};Os.on("weatherChanged",Ve),Os.on("dayPhaseChanged",Re),this.events.once(de.Scenes.Events.SHUTDOWN,()=>{var ve,fi;Os.off("dayPhaseChanged",Re),Os.off("weatherChanged",Ve),(ve=this.farmManager)==null||ve.destroy(),(fi=this.farmUnsubscribe)==null||fi.call(this)}),ee.getState().isNewbie&&new Dgt(this,500,300,{player:this.player,onClaim:()=>{const{gold:ve,setGold:fi}=me.getState();fi(ve+100)}}),x.createAnims(),x.createCollisionObjectsWithDebug()}update(i,n){var r,x,s;if(!this.map)return;(r=this.farmManager)==null||r.update(i,n),(x=this.farmAnimalManager)==null||x.update(i,n),ha(this.groundLayer,this.cameras.main),ha(this.detailLayer,this.cameras.main),ha(this.decorationLayer,this.cameras.main),ha(this.treeLayer,this.cameras.main),ha(this.envLayer,this.cameras.main),ha(this.obstacleLayer,this.cameras.main);const d=this.game.scene.keys[Ht.UI],{uiController:C}=ti(d);C.update(this),(s=this.playerAutoSave)==null||s.update()}}class Hgt extends de.Scene{constructor(){super({key:Ht.DEBUG});it(this,"fpsText");it(this,"versionText")}preload(){}create(){const{height:i}=this.scale;this.fpsText=this.add.text(lH,i-T3,"FPS: 0",{...be,color:Gt.TextLight}),this.versionText=this.add.text(hH,i-T3,"Version: 1.11.0",{...be,color:Gt.TextLight}),this.time.addEvent({delay:uH,loop:!0,callback:()=>{const n=Math.floor(this.game.loop.actualFps);this.fpsText.setText(`FPS: ${n}`)}}),this.scale.on("resize",this.handleResize,this)}handleResize(i){const{height:n}=i;this.fpsText.setY(n-T3),this.versionText.setY(n-T3)}}const Ygt=-1,Wgt=68,$gt=!1,Kgt=JSON.parse('[{"data":[0,226,402,402,402,402,402,376,301,302,302,302,302,302,302,303,378,402,402,403,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,402,402,402,402,402,376,301,302,302,302,302,302,302,303,378,402,402,403,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,401,326,327,327,327,327,327,327,328,403,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,401,326,327,327,327,327,327,327,328,403,227,227,227,227,227,176,202,202,202,202,202,202,202,202,202,202,202,202,203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,351,352,352,352,352,352,352,353,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,351,352,352,352,352,352,352,353,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,151,152,227,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,176,177,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,176,177,227,227,227,227,227,227,227,228,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,151,152,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,251,227,227,227,227,227,151,152,227,227,227,227,227,227,252,252,252,252,252,252,252,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,251,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,176,177,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,176,177,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,230,230,230,227,227,227,227,227,151,152,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,230,230,230,227,227,227,227,227,176,177,227,227,227,227,227,227,227,227,227,227,3834,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,227,227,227,227,227,227,228,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,227,227,227,227,227,230,230,230,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,227,230,252,252,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,251,252,252,252,252,252,252,252,252,252,252,252,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,251,252,252,252,252,252,152,252,151,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,253,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,0,0,0,64,64,64,0,0,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,0,0,0,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,0,0,0,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,0,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,0,0,0,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,577,577,577,577,577,577,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,577,577,577,577,577,577,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,577,577,577,577,577,577,64,64,64,64,64,64,64,64,64,0,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,577,577,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,0,0,0,0,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":1,"name":"Ground","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[62,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,263,267,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,263,267,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,267,2788,2789,0,0,0,0,0,0,0,0,0,0,0,0,241,267,265,239,239,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,267,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,267,265,239,239,184,168,168,168,168,168,168,168,168,168,168,168,168,169,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,263,2813,2813,0,2852,0,0,0,0,0,0,0,0,0,0,265,263,242,239,239,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,263,634,635,0,0,0,0,0,0,0,0,0,0,0,0,265,263,242,239,239,0,0,0,0,0,0,0,227,227,0,0,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,238,659,660,0,2844,0,0,0,0,0,0,0,0,0,0,265,267,242,264,238,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,238,659,660,0,0,0,0,0,0,0,0,2772,2773,0,0,265,267,242,264,238,0,0,0,0,0,0,0,227,227,0,3829,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,0,0,0,646,3829,0,0,0,0,2852,0,0,238,239,240,263,263,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,2813,2813,0,646,647,2808,0,0,2780,2781,0,0,238,239,240,263,263,0,0,0,0,0,0,2852,0,2852,0,0,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,217,2,0,0,0,0,0,671,672,0,0,0,0,1,218,218,218,218,218,218,218,219,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,217,2,0,0,2813,0,0,671,672,0,0,0,0,0,3848,0,0,0,0,0,2772,2773,0,0,0,0,0,0,0,0,2756,2757,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,2772,2773,0,0,0,0,0,0,0,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,2852,0,3232,3233,3234,0,0,0,0,0,0,0,0,0,0,2780,2781,0,3841,0,0,0,0,0,0,2764,2765,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,2780,2781,0,0,0,0,2756,2757,0,264,266,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,2808,0,3246,3247,3248,0,264,266,0,0,0,0,0,0,0,0,0,0,0,0,0,2808,0,0,0,0,0,0,0,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,0,0,0,2764,2765,0,267,265,194,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,192,0,0,0,0,0,3260,3261,3262,0,267,265,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,218,218,219,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,217,218,218,218,218,218,218,218,218,218,218,218,219,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,79,79,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,217,218,218,218,218,218,3274,3275,3276,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,218,219,62,62,62,62,62,62,62,62,62,3,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,26,79,79,79,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,26,4,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,27,0,0,0,0,531,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,102,0,0,0,0,531,0,30,62,62,62,62,62,62,62,62,62,62,62,3,79,79,79,79,27,0,0,532,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,532,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,79,27,0,0,532,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,532,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,5,62,62,62,62,62,62,62,62,62,62,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,530,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,530,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,530,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,530,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,53,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,2,0,0,0,0,0,0,0,0,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,103,0,0,0,0,0,1,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,54,54,54,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,4,4,4,4,4,4,4,4,4,5,62,62,62,62,62,62,62,53,54,2,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,30,62,62,62,3,4,5,62,62,62,53,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,30,62,62,62,28,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,30,62,62,62,28,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,4,4,4,4,4,4,5,62,62,62,62,62,3,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,30,62,62,62,28,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,26,4,4,4,4,4,27,0,0,26,4,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,4,4,4,4,27,0,0,0,0,0,0,0,0,0,26,4,4,4,27,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,551,552,552,552,552,552,552,553,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,2,0,0,0,0,576,4081,4082,0,0,0,0,578,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,576,4089,4090,0,0,0,0,578,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,576,0,0,0,0,0,0,578,0,0,0,0,0,0,0,30,62,3,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,2,0,0,0,576,0,0,626,602,602,602,603,0,0,0,0,0,0,1,55,3,27,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,601,602,602,603,0,0,0,0,0,0,0,0,1,54,55,62,53,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,1,54,54,54,54,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,1,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,54,54,2,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,54,54,54,54,54,54,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,4,5,62,62,62,62,3,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,3,27,0,26,4,4,4,4,27,0,0,26,4,4,4,4,4,5,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,53,54,54,54,54,54,54,54,54,54,54,54,54,54,54,54,55,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62],"height":68,"id":2,"name":"Details","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,0,31,9,9,9,9,32,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,270,136,136,136,136,136,136,136,136,136,136,136,136,136,136,271,269,268,268,270,0,136,136,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,85,107,81,135,131,135,0,0,0,0,0,0,0,0,0,136,136,270,136,136,136,136,136,136,136,136,136,136,136,136,136,136,271,269,268,268,270,0,136,136,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,85,107,81,135,131,135,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,269,270,270,271,136,136,136,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,132,0,4330,135,135,131,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,269,270,270,271,136,136,136,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4351,83,132,0,0,135,135,131,4358,0,0,0,0,0,0,0,136,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,270,136,136,136,136,136,136,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,134,82,4323,0,109,110,4337,0,0,0,0,0,0,0,0,136,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,270,136,136,136,136,136,136,0,638,639,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,134,82,4344,0,109,110,109,0,0,0,0,0,0,0,0,136,0,0,0,638,639,136,136,136,136,136,136,136,136,136,0,0,0,269,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,131,84,0,0,85,0,81,0,0,0,0,0,0,0,0,136,0,0,0,136,136,136,136,136,136,136,136,136,136,136,0,0,0,269,0,0,0,0,0,0,663,664,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,131,84,0,0,85,0,81,4365,0,0,0,0,0,0,0,0,0,136,136,663,664,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135,135,131,81,107,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,131,135,135,131,81,107,57,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,57,131,133,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,0,0,0,270,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,1233,1234,1235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,0,0,0,270,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,109,110,135,0,0,0,0,0,0,136,2892,0,0,0,0,0,0,0,0,0,0,0,136,136,136,0,136,0,0,0,0,0,0,0,0,0,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,0,0,0,0,0,0,0,0,0,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,106,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,0,136,136,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,0,0,136,136,0,0,0,0,136,0,0,136,136,136,0,136,136,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,0,0,136,136,0,0,0,0,136,0,0,136,136,136,136,136,136,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,0,0,0,0,136,136,136,0,0,0,0,0,0,1264,1265,1266,1267,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,0,136,136,0,0,0,136,136,136,136,136,136,0,0,0,0,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,136,136,136,0,0,0,0,0,136,136,0,0,1268,1269,1270,1271,1272,1273,0,1275,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,136,136,136,0,0,0,0,0,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,136,136,136,136,0,0,136,0,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,136,136,136,136,0,0,136,0,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,0,0,0,0,136,136,136,136,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,136,136,136,136,136,136,136,136,136,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,136,136,136,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,12,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,37,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4372,85,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4337,0,82,107,110,84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4372,135,132,4379,0,110,135,83,132,108,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,108,83,106,56,0,108,84,110,82,106,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4386,132,110,132,132,84,82,132,83,132,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,107,133,132,135,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,81,57,84,84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,59,59,59,59,59,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,9,9,9,9,9,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,60,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,8,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,17,18,19,20,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,42,43,44,45,46,3619,3620,3621,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,66,67,68,69,70,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,91,92,93,94,95,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,117,118,119,120,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":7,"name":"Decorations","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,682,683,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,698,699,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,714,715,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4435,4436,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4513,4514,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4461,4462,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4541,4542,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4487,4488,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4569,4570,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1078,1079,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1096,1097,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1114,1115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,1018,1019,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,874,875,0,0,0,0,0,0,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1018,1019,1036,1037,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,898,899,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1036,1037,1054,1055,1018,1019,874,875,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1054,1055,1018,1019,1036,1037,898,899,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1050,1051,1036,1037,1054,1055,922,923,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1054,1055,0,1050,1051,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":8,"name":"Trees","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4271,4272,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4273,4274,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4275,4276,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4285,4286,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3178,3179,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3196,3197,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2992,3017,3017,3017,3017,3017,3018,0,0,0,0,0,0,0,0,0,3214,1229,1230,1231,1232,1233,1234,1235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1236,1237,1238,1239,1240,1241,1242,1243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1244,1245,1246,1247,1248,1249,1250,1251,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1252,1253,1254,1255,1256,1257,1258,1259,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3016,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1260,1261,1262,1263,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1273,1274,1275,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3653,3654,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3658,3649,3652,3656,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4393,4394,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1823,1824,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4409,4410,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1855,1856,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2992,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3019,3020,3021,3017,3017,3017,3017,2994,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4295,4296,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4309,4310,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3004,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3016,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3017,3018,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3985,3986,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3992,3993,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3625,3626,3627,3628,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3629,3630,3631,3632,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3633,3634,3635,3636,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":9,"name":"Environments","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":4,"name":"Obstacles","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"draworder":"topdown","id":3,"name":"NPCs","objects":[],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":5,"name":"Collision Areas","objects":[{"height":11.552,"id":31,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":523,"y":148},{"height":11.552,"id":32,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":11,"y":115},{"height":11.552,"id":33,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":251,"y":98},{"height":11.552,"id":39,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":635,"y":52},{"height":11.552,"id":40,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":27,"y":322},{"height":27,"id":52,"name":"","rotation":0,"type":"","visible":true,"width":9,"x":523,"y":173},{"height":18,"id":53,"name":"","rotation":0,"type":"","visible":true,"width":53,"x":583,"y":173},{"height":11,"id":70,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":1323,"y":516},{"height":7,"id":71,"name":"","rotation":0,"type":"","visible":true,"width":6,"x":1294,"y":1046},{"height":8,"id":72,"name":"","rotation":0,"type":"","visible":true,"width":7,"x":1325,"y":1029},{"height":9,"id":73,"name":"","rotation":0,"type":"","visible":true,"width":7,"x":1358,"y":1060},{"height":9,"id":74,"name":"","rotation":0,"type":"","visible":true,"width":7,"x":1326,"y":1075},{"height":8,"id":75,"name":"","rotation":0,"type":"","visible":true,"width":84,"x":374,"y":1},{"height":21,"id":76,"name":"","rotation":0,"type":"","visible":true,"width":98,"x":358,"y":485},{"height":35,"id":77,"name":"","rotation":0,"type":"","visible":true,"width":25,"x":690,"y":582},{"height":127,"id":78,"name":"","rotation":0,"type":"","visible":true,"width":22,"x":677,"y":599},{"height":3,"id":79,"name":"","rotation":0,"type":"","visible":true,"width":227,"x":37,"y":182},{"height":59,"id":82,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":264,"y":122},{"height":3,"id":83,"name":"","rotation":0,"type":"","visible":true,"width":97,"x":264,"y":118},{"height":26,"id":89,"name":"","rotation":0,"type":"","visible":true,"width":32,"x":549,"y":174},{"height":27,"id":90,"name":"","properties":[{"name":"enterHouse","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":16,"x":533,"y":173},{"height":16,"id":111,"name":"","properties":[{"name":"isWindow","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":16,"x":556,"y":176},{"height":16,"id":114,"name":"","properties":[{"name":"isWindow","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":16,"x":589,"y":168},{"height":16,"id":115,"name":"","properties":[{"name":"isWindow","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":16,"x":612,"y":168},{"height":11.552,"id":119,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":90.448,"y":962.448},{"height":11.552,"id":120,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":203.448,"y":914.448},{"height":11.552,"id":121,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":106.448,"y":1042.45},{"height":11.552,"id":123,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":234.448,"y":1026.45},{"height":11.552,"id":124,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":1386.45,"y":1058.45},{"height":11.552,"id":125,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":1227.45,"y":993.448},{"height":11.552,"id":126,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":1691.45,"y":721.448},{"height":11.552,"id":127,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":1674.45,"y":578.448},{"height":11.552,"id":128,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":650.448,"y":689.448},{"height":11.552,"id":129,"name":"","rotation":0,"type":"","visible":true,"width":10,"x":730.448,"y":595.448},{"height":79,"id":138,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":992,"y":1},{"height":64,"id":139,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1008,"y":79},{"height":0,"id":141,"name":"","rotation":0,"type":"","visible":true,"width":40,"x":1092,"y":95},{"height":5,"id":144,"name":"","rotation":0,"type":"","visible":true,"width":5,"x":1094,"y":151},{"height":6,"id":145,"name":"","rotation":0,"type":"","visible":true,"width":5,"x":1125,"y":150},{"height":49,"id":146,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1132,"y":95},{"height":0,"id":147,"name":"","rotation":0,"type":"","visible":true,"width":339,"x":1133,"y":144},{"height":16,"id":149,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1472,"y":128},{"height":0,"id":150,"name":"","rotation":0,"type":"","visible":true,"width":46,"x":1473,"y":127},{"height":33,"id":151,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1312,"y":0},{"height":0,"id":152,"name":"","rotation":0,"type":"","visible":true,"width":207,"x":1312,"y":32},{"height":95,"id":153,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1519,"y":32},{"height":79,"id":154,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":32,"y":1},{"height":63,"id":158,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":48,"y":81},{"height":0,"id":159,"name":"","rotation":0,"type":"","visible":true,"width":177,"x":48,"y":144},{"height":62,"id":160,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":225,"y":81},{"height":78,"id":161,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":352,"y":1},{"height":0,"id":162,"name":"","rotation":0,"type":"","visible":true,"width":126,"x":225,"y":80},{"height":0,"id":163,"name":"","rotation":0,"type":"","visible":true,"width":15,"x":33,"y":81},{"height":49,"id":166,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":1092,"y":94},{"height":0,"id":168,"name":"","rotation":0,"type":"","visible":true,"width":84,"x":1008,"y":143},{"height":0,"id":171,"name":"","rotation":0,"type":"","visible":true,"width":16,"x":992,"y":81},{"height":3,"id":175,"name":"","rotation":0,"type":"","visible":true,"width":13,"x":218,"y":967},{"height":10,"id":176,"name":"","rotation":0,"type":"","visible":true,"width":5,"x":245,"y":963},{"height":21,"id":177,"name":"","rotation":0,"type":"","visible":true,"width":62,"x":1777,"y":1001},{"height":7,"id":180,"name":"","properties":[{"name":"openShop","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":22,"x":1525,"y":199},{"height":6,"id":194,"name":"","properties":[{"name":"isBee","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":7,"x":1331,"y":510},{"height":6,"id":195,"name":"","properties":[{"name":"isBee","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":7,"x":180,"y":501},{"height":6,"id":196,"name":"","properties":[{"name":"isBee","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":7,"x":331,"y":310},{"height":21,"id":197,"name":"","rotation":0,"type":"","visible":true,"width":25,"x":947,"y":9},{"height":6,"id":198,"name":"","rotation":0,"type":"","visible":true,"width":14,"x":936,"y":39},{"height":6,"id":200,"name":"","rotation":0,"type":"","visible":true,"width":16,"x":1062,"y":343},{"height":10,"id":202,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":755,"y":51},{"height":10,"id":203,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":771,"y":35},{"height":10,"id":204,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":819,"y":51},{"height":10,"id":205,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1667,"y":34},{"height":10,"id":206,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1715,"y":51},{"height":10,"id":207,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1795,"y":35},{"height":10,"id":208,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1795,"y":67},{"height":10,"id":209,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1891,"y":403},{"height":10,"id":210,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1843,"y":403},{"height":10,"id":211,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":1827,"y":435},{"height":10,"id":212,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":3,"y":403},{"height":10,"id":213,"name":"","properties":[{"name":"isInsect","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":51,"y":387},{"height":23,"id":214,"name":"","properties":[{"name":"climbable","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":44,"x":114,"y":344},{"height":15,"id":215,"name":"","properties":[{"name":"isPractive","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":13,"x":794,"y":288},{"height":42,"id":216,"name":"","properties":[{"name":"swimable","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":91,"x":1394,"y":675},{"height":15,"id":217,"name":"","properties":[{"name":"swimable","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":29,"x":1394,"y":718},{"height":0,"id":219,"name":"","rotation":0,"type":"","visible":true,"width":178,"x":233,"y":345},{"height":0,"id":220,"name":"","rotation":0,"type":"","visible":true,"width":83,"x":437,"y":345},{"height":112,"id":221,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":233,"y":345},{"height":0,"id":222,"name":"","rotation":0,"type":"","visible":true,"width":285,"x":234,"y":457},{"height":111,"id":223,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":519,"y":346},{"height":15,"id":224,"name":"","properties":[{"name":"isFarmAnimalSpawn","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":15,"x":272,"y":385},{"height":16,"id":225,"name":"","properties":[{"name":"openShop","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":53,"x":1510,"y":207}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0},{"draworder":"topdown","id":12,"name":"Templates","objects":[],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0}]'),Zgt=14,Jgt=226,Qgt="orthogonal",jgt="right-down",qgt="1.11.2",_gt=16,tmt=JSON.parse('[{"columns":25,"firstgid":1,"image":"../tiles/Tileset Grass Spring.png","imageheight":432,"imagewidth":400,"margin":0,"name":"Tileset Grass Spring","spacing":0,"tilecount":675,"tileheight":16,"tiles":[{"id":55,"probability":0.002},{"id":56,"probability":0.002},{"id":80,"probability":0.002},{"id":81,"probability":0.002},{"id":82,"probability":0.002},{"id":83,"probability":0.002},{"id":84,"probability":0.002},{"id":105,"probability":0.002},{"id":106,"probability":0.002},{"id":107,"probability":0.002},{"id":108,"probability":0.002},{"id":109,"probability":0.002},{"id":130,"probability":0.002},{"id":131,"probability":0.002},{"id":132,"probability":0.002},{"id":133,"probability":0.002},{"id":134,"probability":0.002},{"animation":[{"duration":200,"tileid":150},{"duration":200,"tileid":152},{"duration":200,"tileid":154},{"duration":200,"tileid":156}],"id":150},{"animation":[{"duration":200,"tileid":151},{"duration":200,"tileid":153},{"duration":200,"tileid":155},{"duration":200,"tileid":157}],"id":151},{"animation":[{"duration":200,"tileid":175},{"duration":200,"tileid":177},{"duration":200,"tileid":179},{"duration":200,"tileid":181}],"id":175},{"animation":[{"duration":200,"tileid":176},{"duration":200,"tileid":178},{"duration":200,"tileid":180},{"duration":200,"tileid":182}],"id":176},{"animation":[{"duration":200,"tileid":200},{"duration":200,"tileid":203},{"duration":200,"tileid":206},{"duration":200,"tileid":209}],"id":200,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":201},{"duration":200,"tileid":204},{"duration":200,"tileid":207},{"duration":200,"tileid":210}],"id":201,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":202},{"duration":200,"tileid":205},{"duration":200,"tileid":208},{"duration":200,"tileid":211}],"id":202,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":225},{"duration":200,"tileid":228},{"duration":200,"tileid":231},{"duration":200,"tileid":234}],"id":225,"properties":[{"name":"isWater","type":"bool","value":true}]},{"id":226,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":227},{"duration":200,"tileid":230},{"duration":200,"tileid":233},{"duration":200,"tileid":236}],"id":227,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":250},{"duration":200,"tileid":253},{"duration":200,"tileid":256},{"duration":200,"tileid":259}],"id":250,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":251},{"duration":200,"tileid":254},{"duration":200,"tileid":257},{"duration":200,"tileid":260}],"id":251,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":252},{"duration":200,"tileid":255},{"duration":200,"tileid":258},{"duration":200,"tileid":261}],"id":252,"properties":[{"name":"isWater","type":"bool","value":true}]},{"animation":[{"duration":200,"tileid":275},{"duration":200,"tileid":278},{"duration":200,"tileid":281},{"duration":200,"tileid":284},{"duration":200,"tileid":287},{"duration":200,"tileid":290},{"duration":200,"tileid":293},{"duration":200,"tileid":296}],"id":275},{"animation":[{"duration":200,"tileid":276},{"duration":200,"tileid":279},{"duration":200,"tileid":282},{"duration":200,"tileid":285},{"duration":200,"tileid":288},{"duration":200,"tileid":291},{"duration":200,"tileid":294},{"duration":200,"tileid":297}],"id":276},{"animation":[{"duration":200,"tileid":277},{"duration":200,"tileid":280},{"duration":200,"tileid":283},{"duration":200,"tileid":286},{"duration":200,"tileid":289},{"duration":200,"tileid":292},{"duration":200,"tileid":295},{"duration":200,"tileid":298}],"id":277},{"animation":[{"duration":200,"tileid":300},{"duration":200,"tileid":303},{"duration":200,"tileid":306},{"duration":200,"tileid":309},{"duration":200,"tileid":312},{"duration":200,"tileid":315},{"duration":200,"tileid":318},{"duration":200,"tileid":321}],"id":300},{"animation":[{"duration":200,"tileid":301},{"duration":200,"tileid":304},{"duration":200,"tileid":307},{"duration":200,"tileid":310},{"duration":200,"tileid":313},{"duration":200,"tileid":316},{"duration":200,"tileid":319},{"duration":200,"tileid":322}],"id":301},{"animation":[{"duration":200,"tileid":302},{"duration":200,"tileid":305},{"duration":200,"tileid":308},{"duration":200,"tileid":311},{"duration":200,"tileid":314},{"duration":200,"tileid":317},{"duration":200,"tileid":320},{"duration":200,"tileid":323}],"id":302},{"animation":[{"duration":200,"tileid":325},{"duration":200,"tileid":328},{"duration":200,"tileid":331},{"duration":200,"tileid":334},{"duration":200,"tileid":337},{"duration":200,"tileid":340},{"duration":200,"tileid":343},{"duration":200,"tileid":346}],"id":325},{"animation":[{"duration":200,"tileid":326},{"duration":200,"tileid":329},{"duration":200,"tileid":332},{"duration":200,"tileid":335},{"duration":200,"tileid":338},{"duration":200,"tileid":341},{"duration":200,"tileid":344},{"duration":200,"tileid":347}],"id":326},{"animation":[{"duration":200,"tileid":327},{"duration":200,"tileid":330},{"duration":200,"tileid":333},{"duration":200,"tileid":336},{"duration":200,"tileid":339},{"duration":200,"tileid":342},{"duration":200,"tileid":345},{"duration":200,"tileid":348}],"id":327},{"animation":[{"duration":200,"tileid":350},{"duration":200,"tileid":353},{"duration":200,"tileid":356},{"duration":200,"tileid":359},{"duration":200,"tileid":362},{"duration":200,"tileid":365},{"duration":200,"tileid":368},{"duration":200,"tileid":371}],"id":350},{"animation":[{"duration":200,"tileid":351},{"duration":200,"tileid":354},{"duration":200,"tileid":357},{"duration":200,"tileid":360},{"duration":200,"tileid":363},{"duration":200,"tileid":366},{"duration":200,"tileid":369},{"duration":200,"tileid":372}],"id":351},{"animation":[{"duration":200,"tileid":352},{"duration":200,"tileid":355},{"duration":200,"tileid":358},{"duration":200,"tileid":361},{"duration":200,"tileid":364},{"duration":200,"tileid":367},{"duration":200,"tileid":370},{"duration":200,"tileid":373}],"id":352},{"animation":[{"duration":200,"tileid":375},{"duration":200,"tileid":378},{"duration":200,"tileid":381},{"duration":200,"tileid":384}],"id":375},{"animation":[{"duration":200,"tileid":377},{"duration":200,"tileid":380},{"duration":200,"tileid":383},{"duration":200,"tileid":386}],"id":377},{"animation":[{"duration":200,"tileid":390},{"duration":200,"tileid":392},{"duration":200,"tileid":394},{"duration":200,"tileid":396}],"id":390},{"animation":[{"duration":200,"tileid":391},{"duration":200,"tileid":393},{"duration":200,"tileid":395},{"duration":200,"tileid":397}],"id":391},{"animation":[{"duration":200,"tileid":400},{"duration":200,"tileid":403},{"duration":200,"tileid":406},{"duration":200,"tileid":409}],"id":400},{"animation":[{"duration":200,"tileid":401},{"duration":200,"tileid":404},{"duration":200,"tileid":407},{"duration":200,"tileid":410}],"id":401},{"animation":[{"duration":200,"tileid":402},{"duration":200,"tileid":405},{"duration":200,"tileid":408},{"duration":200,"tileid":411}],"id":402},{"animation":[{"duration":200,"tileid":550},{"duration":200,"tileid":553},{"duration":200,"tileid":556},{"duration":200,"tileid":559}],"id":550},{"animation":[{"duration":200,"tileid":551},{"duration":200,"tileid":554},{"duration":200,"tileid":557},{"duration":200,"tileid":560}],"id":551},{"animation":[{"duration":200,"tileid":552},{"duration":200,"tileid":555},{"duration":200,"tileid":558},{"duration":200,"tileid":561}],"id":552},{"animation":[{"duration":200,"tileid":562},{"duration":200,"tileid":565},{"duration":200,"tileid":568},{"duration":200,"tileid":571}],"id":562},{"animation":[{"duration":200,"tileid":563},{"duration":200,"tileid":566},{"duration":200,"tileid":569},{"duration":200,"tileid":572}],"id":563},{"animation":[{"duration":200,"tileid":564},{"duration":200,"tileid":567},{"duration":200,"tileid":570},{"duration":200,"tileid":573}],"id":564},{"animation":[{"duration":200,"tileid":575},{"duration":200,"tileid":578},{"duration":200,"tileid":581},{"duration":200,"tileid":584}],"id":575},{"animation":[{"duration":200,"tileid":577},{"duration":200,"tileid":580},{"duration":200,"tileid":583},{"duration":200,"tileid":586}],"id":577},{"animation":[{"duration":200,"tileid":587},{"duration":200,"tileid":590},{"duration":200,"tileid":593},{"duration":200,"tileid":596}],"id":587},{"animation":[{"duration":200,"tileid":589},{"duration":200,"tileid":592},{"duration":200,"tileid":595},{"duration":200,"tileid":598}],"id":589},{"animation":[{"duration":200,"tileid":600},{"duration":200,"tileid":603},{"duration":200,"tileid":606},{"duration":200,"tileid":609}],"id":600},{"animation":[{"duration":200,"tileid":601},{"duration":200,"tileid":604},{"duration":200,"tileid":607},{"duration":200,"tileid":610}],"id":601},{"animation":[{"duration":200,"tileid":602},{"duration":200,"tileid":605},{"duration":200,"tileid":608},{"duration":200,"tileid":611}],"id":602},{"animation":[{"duration":200,"tileid":612},{"duration":200,"tileid":615},{"duration":200,"tileid":618},{"duration":200,"tileid":621}],"id":612},{"animation":[{"duration":200,"tileid":613},{"duration":200,"tileid":616},{"duration":200,"tileid":619},{"duration":200,"tileid":622}],"id":613},{"animation":[{"duration":200,"tileid":614},{"duration":200,"tileid":617},{"duration":200,"tileid":620},{"duration":200,"tileid":623}],"id":614},{"animation":[{"duration":200,"tileid":625},{"duration":200,"tileid":627},{"duration":200,"tileid":629},{"duration":200,"tileid":631}],"id":625},{"animation":[{"duration":200,"tileid":626},{"duration":200,"tileid":628},{"duration":200,"tileid":630},{"duration":200,"tileid":632}],"id":626},{"animation":[{"duration":200,"tileid":637},{"duration":200,"tileid":639},{"duration":200,"tileid":641},{"duration":200,"tileid":643}],"id":637},{"animation":[{"duration":200,"tileid":638},{"duration":200,"tileid":640},{"duration":200,"tileid":642},{"duration":200,"tileid":644}],"id":638},{"animation":[{"duration":200,"tileid":650},{"duration":200,"tileid":652},{"duration":200,"tileid":654},{"duration":200,"tileid":656}],"id":650},{"animation":[{"duration":200,"tileid":651},{"duration":200,"tileid":653},{"duration":200,"tileid":655},{"duration":200,"tileid":657}],"id":651},{"animation":[{"duration":200,"tileid":662},{"duration":200,"tileid":664},{"duration":200,"tileid":666},{"duration":200,"tileid":668}],"id":662},{"animation":[{"duration":200,"tileid":663},{"duration":200,"tileid":665},{"duration":200,"tileid":667},{"duration":200,"tileid":669}],"id":663}],"tilewidth":16,"wangsets":[{"colors":[{"color":"#ff7700","name":"Flowers","probability":1,"tile":-1},{"color":"#0000ff","name":"Water Bubble","probability":1,"tile":-1},{"color":"#ff7700","name":"Water Light","probability":1,"tile":-1}],"name":"Decorations","tile":-1,"type":"corner","wangtiles":[{"tileid":55,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":56,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":80,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":81,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":82,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":83,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":84,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":105,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":106,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":107,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":108,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":109,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":130,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":131,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":132,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":133,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":134,"wangid":[0,1,0,1,0,1,0,1]},{"tileid":237,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":238,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":239,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":240,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":241,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":262,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":263,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":264,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":265,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":266,"wangid":[0,2,0,2,0,2,0,2]},{"tileid":267,"wangid":[0,3,0,3,0,3,0,3]},{"tileid":268,"wangid":[0,3,0,3,0,3,0,3]},{"tileid":269,"wangid":[0,3,0,3,0,3,0,3]},{"tileid":270,"wangid":[0,3,0,3,0,3,0,3]}]},{"colors":[{"color":"#ff0000","name":"Grass Border","probability":1,"tile":-1},{"color":"#00ff00","name":"Grass Border Path","probability":1,"tile":-1},{"color":"#0000ff","name":"Cliff","probability":1,"tile":-1},{"color":"#ff7700","name":"Cliff Water","probability":1,"tile":-1},{"color":"#00e9ff","name":"Path Water","probability":1,"tile":-1},{"color":"#ff00d8","name":"Frog Water","probability":1,"tile":-1},{"color":"#ffff00","name":"Cliff Water Anim","probability":1,"tile":-1},{"color":"#a000ff","name":"Path Water Anim","probability":1,"tile":-1},{"color":"#00ffa1","name":"Frog Water Anim","probability":1,"tile":-1}],"name":"Spring Ground","tile":-1,"type":"corner","wangtiles":[{"tileid":0,"wangid":[0,0,0,1,0,0,0,0]},{"tileid":1,"wangid":[0,0,0,0,0,1,0,0]},{"tileid":2,"wangid":[0,1,0,0,0,1,0,1]},{"tileid":3,"wangid":[0,1,0,0,0,0,0,1]},{"tileid":4,"wangid":[0,1,0,1,0,0,0,1]},{"tileid":5,"wangid":[0,0,0,3,0,0,0,0]},{"tileid":6,"wangid":[0,0,0,0,0,3,0,0]},{"tileid":7,"wangid":[0,3,0,0,0,3,0,3]},{"tileid":8,"wangid":[0,3,0,0,0,0,0,3]},{"tileid":9,"wangid":[0,3,0,3,0,0,0,3]},{"tileid":25,"wangid":[0,1,0,0,0,0,0,0]},{"tileid":26,"wangid":[0,0,0,0,0,0,0,1]},{"tileid":27,"wangid":[0,0,0,0,0,1,0,1]},{"tileid":29,"wangid":[0,1,0,1,0,0,0,0]},{"tileid":30,"wangid":[0,3,0,0,0,0,0,0]},{"tileid":31,"wangid":[0,0,0,0,0,0,0,3]},{"tileid":32,"wangid":[0,0,0,0,0,3,0,3]},{"tileid":34,"wangid":[0,3,0,3,0,0,0,0]},{"tileid":52,"wangid":[0,0,0,1,0,1,0,1]},{"tileid":53,"wangid":[0,0,0,1,0,1,0,0]},{"tileid":54,"wangid":[0,1,0,1,0,1,0,0]},{"tileid":57,"wangid":[0,0,0,3,0,3,0,3]},{"tileid":58,"wangid":[0,0,0,3,0,3,0,0]},{"tileid":59,"wangid":[0,3,0,3,0,3,0,0]},{"tileid":75,"wangid":[0,0,0,2,0,0,0,0]},{"tileid":76,"wangid":[0,0,0,0,0,2,0,0]},{"tileid":77,"wangid":[0,2,0,0,0,2,0,2]},{"tileid":78,"wangid":[0,2,0,0,0,0,0,2]},{"tileid":79,"wangid":[0,2,0,2,0,0,0,2]},{"tileid":100,"wangid":[0,2,0,0,0,0,0,0]},{"tileid":101,"wangid":[0,0,0,0,0,0,0,2]},{"tileid":102,"wangid":[0,0,0,0,0,2,0,2]},{"tileid":104,"wangid":[0,2,0,2,0,0,0,0]},{"tileid":127,"wangid":[0,0,0,2,0,2,0,2]},{"tileid":128,"wangid":[0,0,0,2,0,2,0,0]},{"tileid":129,"wangid":[0,2,0,2,0,2,0,0]},{"tileid":150,"wangid":[0,0,0,4,0,0,0,0]},{"tileid":151,"wangid":[0,0,0,0,0,4,0,0]},{"tileid":158,"wangid":[0,0,0,7,0,0,0,0]},{"tileid":159,"wangid":[0,0,0,0,0,7,0,0]},{"tileid":166,"wangid":[0,7,0,0,0,7,0,7]},{"tileid":167,"wangid":[0,7,0,0,0,0,0,7]},{"tileid":168,"wangid":[0,7,0,7,0,0,0,7]},{"tileid":175,"wangid":[0,4,0,0,0,0,0,0]},{"tileid":176,"wangid":[0,0,0,0,0,0,0,4]},{"tileid":183,"wangid":[0,7,0,0,0,0,0,0]},{"tileid":184,"wangid":[0,0,0,0,0,0,0,7]},{"tileid":191,"wangid":[0,0,0,0,0,7,0,7]},{"tileid":193,"wangid":[0,7,0,7,0,0,0,0]},{"tileid":200,"wangid":[0,4,0,0,0,4,0,4]},{"tileid":201,"wangid":[0,4,0,0,0,0,0,4]},{"tileid":202,"wangid":[0,4,0,4,0,0,0,4]},{"tileid":216,"wangid":[0,0,0,7,0,7,0,7]},{"tileid":217,"wangid":[0,0,0,7,0,7,0,0]},{"tileid":218,"wangid":[0,7,0,7,0,7,0,0]},{"tileid":225,"wangid":[0,0,0,0,0,4,0,4]},{"tileid":227,"wangid":[0,4,0,4,0,0,0,0]},{"tileid":250,"wangid":[0,0,0,4,0,4,0,4]},{"tileid":251,"wangid":[0,0,0,4,0,4,0,0]},{"tileid":252,"wangid":[0,4,0,4,0,4,0,0]},{"tileid":550,"wangid":[0,5,0,0,0,5,0,5]},{"tileid":551,"wangid":[0,5,0,0,0,0,0,5]},{"tileid":552,"wangid":[0,5,0,5,0,0,0,5]},{"tileid":562,"wangid":[0,6,0,0,0,6,0,6]},{"tileid":563,"wangid":[0,6,0,0,0,0,0,6]},{"tileid":564,"wangid":[0,6,0,6,0,0,0,6]},{"tileid":575,"wangid":[0,0,0,0,0,5,0,5]},{"tileid":577,"wangid":[0,5,0,5,0,0,0,0]},{"tileid":587,"wangid":[0,0,0,0,0,6,0,6]},{"tileid":589,"wangid":[0,6,0,6,0,0,0,0]},{"tileid":600,"wangid":[0,0,0,5,0,5,0,5]},{"tileid":601,"wangid":[0,0,0,5,0,5,0,0]},{"tileid":602,"wangid":[0,5,0,5,0,5,0,0]},{"tileid":612,"wangid":[0,0,0,6,0,6,0,6]},{"tileid":613,"wangid":[0,0,0,6,0,6,0,0]},{"tileid":614,"wangid":[0,6,0,6,0,6,0,0]},{"tileid":625,"wangid":[0,0,0,5,0,0,0,0]},{"tileid":626,"wangid":[0,0,0,0,0,5,0,0]},{"tileid":633,"wangid":[0,0,0,8,0,0,0,0]},{"tileid":634,"wangid":[0,0,0,0,0,8,0,0]},{"tileid":637,"wangid":[0,0,0,6,0,0,0,0]},{"tileid":638,"wangid":[0,0,0,0,0,6,0,0]},{"tileid":645,"wangid":[0,0,0,9,0,0,0,0]},{"tileid":646,"wangid":[0,0,0,0,0,9,0,0]},{"tileid":650,"wangid":[0,5,0,0,0,0,0,0]},{"tileid":651,"wangid":[0,0,0,0,0,0,0,5]},{"tileid":658,"wangid":[0,8,0,0,0,0,0,0]},{"tileid":659,"wangid":[0,0,0,0,0,0,0,8]},{"tileid":662,"wangid":[0,6,0,0,0,0,0,0]},{"tileid":663,"wangid":[0,0,0,0,0,0,0,6]},{"tileid":670,"wangid":[0,9,0,0,0,0,0,0]},{"tileid":671,"wangid":[0,0,0,0,0,0,0,9]}]}]},{"columns":16,"firstgid":676,"image":"../tiles/Trees/Birch Tree.png","imageheight":96,"imagewidth":256,"margin":0,"name":"Birch Tree","spacing":0,"tilecount":96,"tileheight":16,"tilewidth":16},{"columns":16,"firstgid":772,"image":"../tiles/Trees/Pine Tree.png","imageheight":96,"imagewidth":256,"margin":0,"name":"Pine Tree","spacing":0,"tilecount":96,"tileheight":16,"tilewidth":16},{"columns":24,"firstgid":868,"image":"../tiles/Trees/Mahogany Tree.png","imageheight":96,"imagewidth":384,"margin":0,"name":"Mahogany Tree","spacing":0,"tilecount":144,"tileheight":16,"tilewidth":16},{"columns":18,"firstgid":1012,"image":"../tiles/Trees/Maple Tree.png","imageheight":192,"imagewidth":288,"margin":0,"name":"Maple Tree","spacing":0,"tilecount":216,"tileheight":16,"tilewidth":16},{"columns":8,"firstgid":1228,"image":"../tiles/Farm/Houses/7.png","imageheight":96,"imagewidth":128,"margin":0,"name":"house7","spacing":0,"tilecount":48,"tileheight":16,"tilewidth":16},{"columns":8,"firstgid":1276,"image":"../tiles/Exterior/Well.png","imageheight":192,"imagewidth":128,"margin":0,"name":"Well","spacing":0,"tilecount":96,"tileheight":16,"tiles":[{"animation":[{"duration":1000,"tileid":0},{"duration":1000,"tileid":2},{"duration":1000,"tileid":4},{"duration":1000,"tileid":6}],"id":0},{"animation":[{"duration":1000,"tileid":1},{"duration":1000,"tileid":3},{"duration":1000,"tileid":5},{"duration":1000,"tileid":7}],"id":1},{"animation":[{"duration":1000,"tileid":8},{"duration":1000,"tileid":10},{"duration":1000,"tileid":12},{"duration":1000,"tileid":14}],"id":8},{"animation":[{"duration":1000,"tileid":9},{"duration":1000,"tileid":11},{"duration":1000,"tileid":13},{"duration":1000,"tileid":15}],"id":9},{"animation":[{"duration":1000,"tileid":16},{"duration":1000,"tileid":18},{"duration":1000,"tileid":20},{"duration":1000,"tileid":22}],"id":16},{"animation":[{"duration":1000,"tileid":17},{"duration":1000,"tileid":19},{"duration":1000,"tileid":21},{"duration":1000,"tileid":23}],"id":17}],"tilewidth":16},{"columns":24,"firstgid":1372,"image":"../tiles/Farm/Houses/dog house.png","imageheight":288,"imagewidth":384,"margin":0,"name":"dog house","spacing":0,"tilecount":432,"tileheight":16,"tilewidth":16},{"columns":4,"firstgid":1804,"image":"../tiles/Exterior/dog bathtub.png","imageheight":32,"imagewidth":64,"margin":0,"name":"dog bathtub","spacing":0,"tilecount":8,"tileheight":16,"tilewidth":16},{"columns":32,"firstgid":1812,"image":"../tiles/Exterior/Exterior.png","imageheight":384,"imagewidth":512,"margin":0,"name":"Exterior","spacing":0,"tilecount":768,"tileheight":16,"tilewidth":16},{"columns":16,"firstgid":2580,"image":"../tiles/Farm/Props/Spring/spring stones.png","imageheight":160,"imagewidth":256,"margin":0,"name":"spring stones","spacing":0,"tilecount":160,"tileheight":16,"tilewidth":16},{"columns":8,"firstgid":2740,"image":"../tiles/Farm/Props/Spring/props water 2.png","imageheight":128,"imagewidth":128,"margin":0,"name":"props water 2","spacing":0,"tilecount":64,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":2},{"duration":200,"tileid":4},{"duration":200,"tileid":6}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":3},{"duration":200,"tileid":5},{"duration":200,"tileid":7}],"id":1},{"animation":[{"duration":200,"tileid":8},{"duration":200,"tileid":10},{"duration":200,"tileid":12},{"duration":200,"tileid":14}],"id":8},{"animation":[{"duration":200,"tileid":9},{"duration":200,"tileid":11},{"duration":200,"tileid":13},{"duration":200,"tileid":15}],"id":9},{"animation":[{"duration":200,"tileid":16},{"duration":200,"tileid":18},{"duration":200,"tileid":20},{"duration":200,"tileid":22}],"id":16},{"animation":[{"duration":200,"tileid":17},{"duration":200,"tileid":19},{"duration":200,"tileid":21},{"duration":200,"tileid":23}],"id":17},{"animation":[{"duration":200,"tileid":24},{"duration":200,"tileid":26},{"duration":200,"tileid":28},{"duration":200,"tileid":30}],"id":24},{"animation":[{"duration":200,"tileid":25},{"duration":200,"tileid":27},{"duration":200,"tileid":29},{"duration":200,"tileid":31}],"id":25},{"animation":[{"duration":200,"tileid":32},{"duration":200,"tileid":34},{"duration":200,"tileid":36},{"duration":200,"tileid":38}],"id":32},{"animation":[{"duration":200,"tileid":33},{"duration":200,"tileid":35},{"duration":200,"tileid":37},{"duration":200,"tileid":39}],"id":33},{"animation":[{"duration":200,"tileid":40},{"duration":200,"tileid":42},{"duration":200,"tileid":44},{"duration":200,"tileid":46}],"id":40},{"animation":[{"duration":200,"tileid":41},{"duration":200,"tileid":43},{"duration":200,"tileid":45},{"duration":200,"tileid":47}],"id":41},{"animation":[{"duration":200,"tileid":48},{"duration":200,"tileid":50},{"duration":200,"tileid":52},{"duration":200,"tileid":54}],"id":48},{"animation":[{"duration":200,"tileid":49},{"duration":200,"tileid":51},{"duration":200,"tileid":53},{"duration":200,"tileid":55}],"id":49},{"animation":[{"duration":200,"tileid":56},{"duration":200,"tileid":58},{"duration":200,"tileid":60},{"duration":200,"tileid":62}],"id":56},{"animation":[{"duration":200,"tileid":57},{"duration":200,"tileid":59},{"duration":200,"tileid":61},{"duration":200,"tileid":63}],"id":57}],"tilewidth":16},{"columns":10,"firstgid":2804,"image":"../tiles/Farm/Props/Spring/props water.png","imageheight":128,"imagewidth":160,"margin":0,"name":"props water","spacing":0,"tilecount":80,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":10},{"duration":200,"tileid":20},{"duration":200,"tileid":30}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":11},{"duration":200,"tileid":21},{"duration":200,"tileid":31}],"id":1},{"animation":[{"duration":200,"tileid":2},{"duration":200,"tileid":12},{"duration":200,"tileid":22},{"duration":200,"tileid":32}],"id":2},{"animation":[{"duration":200,"tileid":3},{"duration":200,"tileid":13},{"duration":200,"tileid":23},{"duration":200,"tileid":33}],"id":3},{"animation":[{"duration":200,"tileid":4},{"duration":200,"tileid":14},{"duration":200,"tileid":24},{"duration":200,"tileid":34}],"id":4},{"animation":[{"duration":200,"tileid":5},{"duration":200,"tileid":15},{"duration":200,"tileid":25},{"duration":200,"tileid":35}],"id":5},{"animation":[{"duration":200,"tileid":6},{"duration":200,"tileid":16},{"duration":200,"tileid":26},{"duration":200,"tileid":36}],"id":6},{"animation":[{"duration":200,"tileid":7},{"duration":200,"tileid":17},{"duration":200,"tileid":27},{"duration":200,"tileid":37}],"id":7},{"animation":[{"duration":200,"tileid":8},{"duration":200,"tileid":18},{"duration":200,"tileid":28},{"duration":200,"tileid":38}],"id":8},{"animation":[{"duration":200,"tileid":9},{"duration":200,"tileid":19},{"duration":200,"tileid":29},{"duration":200,"tileid":39}],"id":9},{"animation":[{"duration":200,"tileid":40},{"duration":200,"tileid":50},{"duration":200,"tileid":60},{"duration":200,"tileid":70}],"id":40},{"animation":[{"duration":200,"tileid":41},{"duration":200,"tileid":51},{"duration":200,"tileid":61},{"duration":200,"tileid":71}],"id":41},{"animation":[{"duration":200,"tileid":42},{"duration":200,"tileid":52},{"duration":200,"tileid":62},{"duration":200,"tileid":72}],"id":42},{"animation":[{"duration":200,"tileid":43},{"duration":200,"tileid":53},{"duration":200,"tileid":63},{"duration":200,"tileid":73}],"id":43},{"animation":[{"duration":200,"tileid":44},{"duration":200,"tileid":54},{"duration":200,"tileid":64},{"duration":200,"tileid":74}],"id":44},{"animation":[{"duration":200,"tileid":45},{"duration":200,"tileid":55},{"duration":200,"tileid":65},{"duration":200,"tileid":75}],"id":45},{"animation":[{"duration":200,"tileid":46},{"duration":200,"tileid":56},{"duration":200,"tileid":66},{"duration":200,"tileid":76}],"id":46},{"animation":[{"duration":200,"tileid":47},{"duration":200,"tileid":57},{"duration":200,"tileid":67},{"duration":200,"tileid":77}],"id":47}],"tilewidth":16},{"columns":8,"firstgid":2884,"image":"../tiles/Forest Animals/Frog/Frogs-Sheet.png","imageheight":96,"imagewidth":128,"margin":0,"name":"Frogs-Sheet","spacing":0,"tilecount":48,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":8},{"duration":200,"tileid":9},{"duration":200,"tileid":10},{"duration":200,"tileid":11},{"duration":200,"tileid":12},{"duration":200,"tileid":13},{"duration":200,"tileid":14},{"duration":200,"tileid":15}],"id":8},{"animation":[{"duration":200,"tileid":40},{"duration":200,"tileid":41},{"duration":200,"tileid":42},{"duration":200,"tileid":43},{"duration":200,"tileid":44},{"duration":200,"tileid":45}],"id":40}],"tilewidth":16},{"columns":10,"firstgid":2932,"image":"../tiles/Icons/dog food.png","imageheight":96,"imagewidth":160,"margin":0,"name":"dog food","spacing":0,"tilecount":60,"tileheight":16,"tilewidth":16},{"columns":12,"firstgid":2992,"image":"../tiles/Exterior/Fence and Bridge/Fence Wood.png","imageheight":224,"imagewidth":192,"margin":0,"name":"Fence Wood","spacing":0,"tilecount":168,"tileheight":16,"tilewidth":16},{"columns":18,"firstgid":3160,"image":"../tiles/Farm/Props/Smoke.png","imageheight":64,"imagewidth":288,"margin":0,"name":"Smoke","spacing":0,"tilecount":72,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":18},{"duration":200,"tileid":20},{"duration":200,"tileid":22},{"duration":200,"tileid":24},{"duration":200,"tileid":26},{"duration":200,"tileid":28},{"duration":200,"tileid":30},{"duration":200,"tileid":32},{"duration":200,"tileid":34}],"id":18},{"animation":[{"duration":200,"tileid":19},{"duration":200,"tileid":21},{"duration":200,"tileid":23},{"duration":200,"tileid":25},{"duration":200,"tileid":27},{"duration":200,"tileid":29},{"duration":200,"tileid":31},{"duration":200,"tileid":33},{"duration":200,"tileid":35}],"id":19},{"animation":[{"duration":200,"tileid":36},{"duration":200,"tileid":38},{"duration":200,"tileid":40},{"duration":200,"tileid":42},{"duration":200,"tileid":44},{"duration":200,"tileid":46},{"duration":200,"tileid":48},{"duration":200,"tileid":50},{"duration":200,"tileid":52}],"id":36},{"animation":[{"duration":200,"tileid":37},{"duration":200,"tileid":39},{"duration":200,"tileid":41},{"duration":200,"tileid":43},{"duration":200,"tileid":45},{"duration":200,"tileid":47},{"duration":200,"tileid":49},{"duration":200,"tileid":51},{"duration":200,"tileid":53}],"id":37},{"animation":[{"duration":200,"tileid":54},{"duration":200,"tileid":56},{"duration":200,"tileid":58},{"duration":200,"tileid":60},{"duration":200,"tileid":62},{"duration":200,"tileid":64},{"duration":200,"tileid":66},{"duration":200,"tileid":68},{"duration":200,"tileid":70}],"id":54},{"animation":[{"duration":200,"tileid":55},{"duration":200,"tileid":57},{"duration":200,"tileid":59},{"duration":200,"tileid":61},{"duration":200,"tileid":63},{"duration":200,"tileid":65},{"duration":200,"tileid":67},{"duration":200,"tileid":69},{"duration":200,"tileid":71}],"id":55}],"tilewidth":16},{"columns":14,"firstgid":3232,"image":"../tiles/Exterior/Fence and Bridge/Bridge Wood 1.png","imageheight":384,"imagewidth":224,"margin":0,"name":"Bridge Wood 1","spacing":0,"tilecount":336,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":70},{"duration":200,"tileid":140},{"duration":200,"tileid":210}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":71},{"duration":200,"tileid":141},{"duration":200,"tileid":211}],"id":1},{"animation":[{"duration":200,"tileid":2},{"duration":200,"tileid":72},{"duration":200,"tileid":142},{"duration":200,"tileid":212}],"id":2},{"animation":[{"duration":200,"tileid":14},{"duration":200,"tileid":84},{"duration":200,"tileid":154},{"duration":200,"tileid":224}],"id":14},{"animation":[{"duration":200,"tileid":15},{"duration":200,"tileid":85},{"duration":200,"tileid":155},{"duration":200,"tileid":225}],"id":15},{"animation":[{"duration":200,"tileid":16},{"duration":200,"tileid":86},{"duration":200,"tileid":156},{"duration":200,"tileid":226}],"id":16},{"animation":[{"duration":200,"tileid":28},{"duration":200,"tileid":98},{"duration":200,"tileid":168},{"duration":200,"tileid":238}],"id":28},{"animation":[{"duration":200,"tileid":29},{"duration":200,"tileid":99},{"duration":200,"tileid":169},{"duration":200,"tileid":239}],"id":29},{"animation":[{"duration":200,"tileid":30},{"duration":200,"tileid":100},{"duration":200,"tileid":170},{"duration":200,"tileid":240}],"id":30},{"animation":[{"duration":200,"tileid":42},{"duration":200,"tileid":112},{"duration":200,"tileid":182},{"duration":200,"tileid":252}],"id":42},{"animation":[{"duration":200,"tileid":43},{"duration":200,"tileid":113},{"duration":200,"tileid":183},{"duration":200,"tileid":253}],"id":43},{"animation":[{"duration":200,"tileid":44},{"duration":200,"tileid":114},{"duration":200,"tileid":184},{"duration":200,"tileid":254}],"id":44}],"tilewidth":16},{"columns":6,"firstgid":3568,"image":"../tiles/Exterior/bonfire.png","imageheight":32,"imagewidth":96,"margin":0,"name":"bonfire","spacing":0,"tilecount":12,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5}],"id":0},{"animation":[{"duration":200,"tileid":6},{"duration":200,"tileid":7},{"duration":200,"tileid":8},{"duration":200,"tileid":9},{"duration":200,"tileid":10},{"duration":200,"tileid":11}],"id":6}],"tilewidth":16},{"columns":18,"firstgid":3580,"image":"../tiles/Exterior/bonfire Fish.png","imageheight":32,"imagewidth":288,"margin":0,"name":"bonfire Fish","spacing":0,"tilecount":36,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":3},{"duration":200,"tileid":6},{"duration":200,"tileid":9},{"duration":200,"tileid":12},{"duration":200,"tileid":15}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":4},{"duration":200,"tileid":7},{"duration":200,"tileid":10},{"duration":200,"tileid":13},{"duration":200,"tileid":16}],"id":1},{"animation":[{"duration":200,"tileid":18},{"duration":200,"tileid":21},{"duration":200,"tileid":24},{"duration":200,"tileid":27},{"duration":200,"tileid":30},{"duration":200,"tileid":33}],"id":18},{"animation":[{"duration":200,"tileid":19},{"duration":200,"tileid":22},{"duration":200,"tileid":25},{"duration":200,"tileid":28},{"duration":200,"tileid":31},{"duration":200,"tileid":34}],"id":19}],"tilewidth":16},{"columns":3,"firstgid":3616,"image":"../tiles/Exterior/Lamp .png","imageheight":16,"imagewidth":48,"margin":0,"name":"Lamp ","spacing":0,"tilecount":3,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2}],"id":0}],"tilewidth":16},{"columns":3,"firstgid":3619,"image":"../tiles/Exterior/wood moss.png","imageheight":32,"imagewidth":48,"margin":0,"name":"wood moss","spacing":0,"tilecount":6,"tileheight":16,"tiles":[{"animation":[{"duration":10000,"tileid":0},{"duration":10000,"tileid":3}],"id":0},{"animation":[{"duration":10000,"tileid":1},{"duration":10000,"tileid":4}],"id":1},{"animation":[{"duration":10000,"tileid":2},{"duration":10000,"tileid":5}],"id":2}],"tilewidth":16},{"columns":4,"firstgid":3625,"image":"../tiles/Exterior/Tent Goblin.png","imageheight":96,"imagewidth":64,"margin":0,"name":"Tent Goblin","spacing":0,"tilecount":24,"tileheight":16,"tilewidth":16},{"columns":9,"firstgid":3649,"image":"../tiles/Exterior/Box.png","imageheight":320,"imagewidth":144,"margin":0,"name":"Box","spacing":0,"tilecount":180,"tileheight":16,"tilewidth":16},{"columns":5,"firstgid":3829,"image":"../tiles/Farm/Fish/FishPoint.png","imageheight":16,"imagewidth":80,"margin":0,"name":"FishPoint","spacing":0,"tilecount":5,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4}],"id":0}],"tilewidth":16},{"columns":7,"firstgid":3834,"image":"../tiles/Farm/Fish/bubbles 2.png","imageheight":16,"imagewidth":112,"margin":0,"name":"bubbles 2","spacing":0,"tilecount":7,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5},{"duration":200,"tileid":5}],"id":0}],"tilewidth":16},{"columns":7,"firstgid":3841,"image":"../tiles/Farm/Fish/bubbles.png","imageheight":16,"imagewidth":112,"margin":0,"name":"bubbles","spacing":0,"tilecount":7,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5},{"duration":200,"tileid":6}],"id":0}],"tilewidth":16},{"columns":11,"firstgid":3848,"image":"../tiles/Farm/Fish/Fish point small.png","imageheight":16,"imagewidth":176,"margin":0,"name":"Fish point small","spacing":0,"tilecount":11,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5},{"duration":200,"tileid":6},{"duration":200,"tileid":7},{"duration":200,"tileid":8},{"duration":200,"tileid":9},{"duration":200,"tileid":10}],"id":0}],"tilewidth":16},{"columns":9,"firstgid":3859,"image":"../tiles/Farm/Props/clouds.png","imageheight":96,"imagewidth":144,"margin":0,"name":"clouds","spacing":0,"tilecount":54,"tileheight":16,"tilewidth":16},{"columns":12,"firstgid":3913,"image":"../tiles/Exterior/chest.png","imageheight":96,"imagewidth":192,"margin":0,"name":"chest","spacing":0,"tilecount":72,"tileheight":16,"tilewidth":16},{"columns":7,"firstgid":3985,"image":"../tiles/Forest Animals/Bugs/Bee/Beehive.png","imageheight":32,"imagewidth":112,"margin":0,"name":"Beehive","spacing":0,"tilecount":14,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5},{"duration":200,"tileid":6}],"id":1},{"animation":[{"duration":200,"tileid":8},{"duration":200,"tileid":9},{"duration":200,"tileid":10},{"duration":200,"tileid":11},{"duration":200,"tileid":12},{"duration":200,"tileid":13}],"id":8}],"tilewidth":16},{"columns":8,"firstgid":3999,"image":"../tiles/Forest Animals/Capybara/Brown Capybara.png","imageheight":544,"imagewidth":128,"margin":0,"name":"Brown Capybara","spacing":0,"tilecount":272,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":82},{"duration":200,"tileid":84}],"id":82},{"animation":[{"duration":200,"tileid":83},{"duration":200,"tileid":85}],"id":83},{"animation":[{"duration":200,"tileid":90},{"duration":200,"tileid":92}],"id":90},{"animation":[{"duration":200,"tileid":91},{"duration":200,"tileid":93}],"id":91}],"tilewidth":16},{"columns":2,"firstgid":4271,"image":"../tiles/Forest Animals/Bugs/others/anthill.png","imageheight":32,"imagewidth":32,"margin":0,"name":"anthill","spacing":0,"tilecount":4,"tileheight":16,"tilewidth":16},{"columns":10,"firstgid":4275,"image":"../tiles/Forest Animals/Bugs/others/Ant 2.png","imageheight":32,"imagewidth":160,"margin":0,"name":"Ant 2","spacing":0,"tilecount":20,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":2},{"duration":200,"tileid":4},{"duration":200,"tileid":6},{"duration":200,"tileid":8}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":3},{"duration":200,"tileid":5},{"duration":200,"tileid":7},{"duration":200,"tileid":9}],"id":1},{"animation":[{"duration":200,"tileid":10},{"duration":200,"tileid":12},{"duration":200,"tileid":14},{"duration":200,"tileid":16},{"duration":200,"tileid":18}],"id":10}],"tilewidth":16},{"columns":14,"firstgid":4295,"image":"../tiles/Forest Animals/Bugs/others/Ant1.png","imageheight":32,"imagewidth":224,"margin":0,"name":"Ant1","spacing":0,"tilecount":28,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":2},{"duration":200,"tileid":4},{"duration":200,"tileid":6},{"duration":200,"tileid":8},{"duration":200,"tileid":10},{"duration":200,"tileid":12}],"id":0},{"animation":[{"duration":200,"tileid":1},{"duration":200,"tileid":3},{"duration":200,"tileid":5},{"duration":200,"tileid":7},{"duration":200,"tileid":9},{"duration":200,"tileid":11},{"duration":200,"tileid":13}],"id":1},{"animation":[{"duration":200,"tileid":14},{"duration":200,"tileid":16},{"duration":200,"tileid":18},{"duration":200,"tileid":20},{"duration":200,"tileid":22},{"duration":200,"tileid":24},{"duration":200,"tileid":26}],"id":14},{"animation":[{"duration":200,"tileid":15},{"duration":200,"tileid":17},{"duration":200,"tileid":19},{"duration":200,"tileid":21},{"duration":200,"tileid":23},{"duration":200,"tileid":25},{"duration":200,"tileid":27}],"id":15}],"tilewidth":16},{"columns":7,"firstgid":4323,"image":"../tiles/Forest Animals/Bugs/Butterfly/Butterflies.png","imageheight":160,"imagewidth":112,"margin":0,"name":"Butterflies","spacing":0,"tilecount":70,"tileheight":16,"tiles":[{"animation":[{"duration":200,"tileid":0},{"duration":200,"tileid":1},{"duration":200,"tileid":2},{"duration":200,"tileid":3},{"duration":200,"tileid":4},{"duration":200,"tileid":5},{"duration":200,"tileid":6}],"id":0},{"animation":[{"duration":200,"tileid":7},{"duration":200,"tileid":8},{"duration":200,"tileid":9},{"duration":200,"tileid":10},{"duration":200,"tileid":11},{"duration":200,"tileid":12},{"duration":200,"tileid":13}],"id":7},{"animation":[{"duration":200,"tileid":14},{"duration":200,"tileid":15},{"duration":200,"tileid":16},{"duration":200,"tileid":17},{"duration":200,"tileid":18},{"duration":200,"tileid":19},{"duration":200,"tileid":20}],"id":14},{"animation":[{"duration":200,"tileid":21},{"duration":200,"tileid":22},{"duration":200,"tileid":23},{"duration":200,"tileid":24},{"duration":200,"tileid":25},{"duration":200,"tileid":26},{"duration":200,"tileid":27}],"id":21},{"animation":[{"duration":200,"tileid":28},{"duration":200,"tileid":29},{"duration":200,"tileid":30},{"duration":200,"tileid":31},{"duration":200,"tileid":32},{"duration":200,"tileid":33},{"duration":200,"tileid":34}],"id":28},{"animation":[{"duration":200,"tileid":35},{"duration":200,"tileid":36},{"duration":200,"tileid":37},{"duration":200,"tileid":38},{"duration":200,"tileid":39},{"duration":200,"tileid":40},{"duration":200,"tileid":41}],"id":35},{"animation":[{"duration":200,"tileid":42},{"duration":200,"tileid":43},{"duration":200,"tileid":44},{"duration":200,"tileid":45},{"duration":200,"tileid":46},{"duration":200,"tileid":47},{"duration":200,"tileid":48}],"id":42},{"animation":[{"duration":200,"tileid":49},{"duration":200,"tileid":50},{"duration":200,"tileid":51},{"duration":200,"tileid":52},{"duration":200,"tileid":53},{"duration":200,"tileid":54},{"duration":200,"tileid":55}],"id":49},{"animation":[{"duration":200,"tileid":56},{"duration":200,"tileid":57},{"duration":200,"tileid":58},{"duration":200,"tileid":59},{"duration":200,"tileid":60},{"duration":200,"tileid":61},{"duration":200,"tileid":62}],"id":56},{"animation":[{"duration":200,"tileid":63},{"duration":200,"tileid":64},{"duration":200,"tileid":65},{"duration":200,"tileid":66},{"duration":200,"tileid":67},{"duration":200,"tileid":68},{"duration":200,"tileid":69}],"id":63}],"tilewidth":16},{"columns":16,"firstgid":4393,"image":"../tiles/Exterior/Scarescrow.png","imageheight":32,"imagewidth":256,"margin":0,"name":"Scarescrow","spacing":0,"tilecount":32,"tileheight":16,"tilewidth":16},{"columns":26,"firstgid":4425,"image":"../tiles/Farm Crops/Fruits/Spring/Apricot Tree.png","imageheight":48,"imagewidth":416,"margin":0,"name":"Apricot Tree","spacing":0,"tilecount":78,"tileheight":16,"tilewidth":16},{"columns":28,"firstgid":4503,"image":"../tiles/Farm Crops/Fruits/Spring/Cherry Tree.png","imageheight":48,"imagewidth":448,"margin":0,"name":"Cherry Tree","spacing":0,"tilecount":84,"tileheight":16,"tilewidth":16}]'),emt=16,imt="map",smt="1.11",nmt=120,rmt={compressionlevel:Ygt,height:Wgt,infinite:$gt,layers:Kgt,nextlayerid:Zgt,nextobjectid:Jgt,orientation:Qgt,renderorder:jgt,tiledversion:qgt,tileheight:_gt,tilesets:tmt,tilewidth:emt,type:imt,version:smt,width:nmt},amt=-1,omt=68,lmt=!1,hmt=JSON.parse('[{"data":[332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,298,298,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332,332],"height":68,"id":1,"name":"Ground","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2436,2437,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3855,3856,0,0,0,0,3350,3351,0,0,2052,2053,2464,2465,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3875,3876,0,0,0,0,3362,3363,0,0,2067,2068,2492,2493,0,0,2978,2979,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3374,3375,0,0,0,0,0,0,0,0,2994,2995,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2891,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1581,1582,2005,0,0,0,0,3614,3615,0,187,188,188,188,188,188,188,188,188,189,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1613,1614,2025,0,0,0,0,3639,3640,0,202,203,203,203,203,203,203,203,203,204,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,217,218,218,218,218,218,218,218,218,219,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3242,3243,3244,3245,3246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3254,3255,3256,3257,3258,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3266,3267,3268,3269,3270,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,957,958,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,973,974,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":68,"id":2,"name":"Decorations","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"data":[354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,2,2,2,0,0,0,2,2,2,2,6,2,2,2,2,2,2,2,2,2,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,354,18,354,354,2605,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,354,354,354,354,354,0,0,354,18,354,354,354,354,3472,550,727,728,729,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,0,0,354,354,354,354,354,354,18,354,354,354,354,354,354,751,752,753,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,0,0,354,354,354,354,354,354,354,354,354,354,354,354,354,775,776,777,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,0,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,0,0,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,0,0,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,0,0,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,0,0,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,18,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354,354],"height":68,"id":3,"name":"Environments","opacity":1,"type":"tilelayer","visible":true,"width":120,"x":0,"y":0},{"draworder":"topdown","id":4,"name":"Collision Areas","objects":[{"height":0,"id":1,"name":"","rotation":0,"type":"","visible":true,"width":226,"x":97,"y":924},{"height":16,"id":2,"name":"","properties":[{"name":"exitHouse","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":31,"x":1,"y":1072},{"height":161,"id":3,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":323,"y":925},{"height":51,"id":4,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":163,"y":924},{"height":62,"id":6,"name":"","rotation":0,"type":"","visible":true,"width":0,"x":163,"y":1025},{"height":0,"id":7,"name":"","rotation":0,"type":"","visible":true,"width":115,"x":164,"y":960},{"height":0,"id":9,"name":"","rotation":0,"type":"","visible":true,"width":11,"x":312,"y":961},{"height":21,"id":12,"name":"","properties":[{"name":"bed","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":31,"x":280,"y":969},{"height":0,"id":14,"name":"","rotation":0,"type":"","visible":true,"width":47,"x":1,"y":924},{"height":9,"id":15,"name":"","properties":[{"name":"isChair","type":"bool","value":true}],"rotation":0,"type":"","visible":true,"width":9,"x":35,"y":950}],"opacity":1,"type":"objectgroup","visible":true,"x":0,"y":0}]'),umt=5,dmt=16,fmt="orthogonal",cmt="right-down",vmt="1.11.2",pmt=16,gmt=[{columns:15,firstgid:1,image:"../tiles/Interior/Walls and Floors.png",imageheight:384,imagewidth:240,margin:0,name:"Walls and Floors",spacing:0,tilecount:360,tileheight:16,tilewidth:16},{columns:17,firstgid:361,image:"../tiles/Interior/Part 1 copiar.png",imageheight:192,imagewidth:272,margin:0,name:"Part 1 copiar",spacing:0,tilecount:204,tileheight:16,tilewidth:16},{columns:24,firstgid:565,image:"../tiles/Interior/Part 5.png",imageheight:240,imagewidth:384,margin:0,name:"Part 5",spacing:0,tilecount:360,tileheight:16,tilewidth:16},{columns:16,firstgid:925,image:"../tiles/Interior/Part 2 copiar.png",imageheight:144,imagewidth:256,margin:0,name:"Part 2 copiar",spacing:0,tilecount:144,tileheight:16,tilewidth:16},{columns:32,firstgid:1069,image:"../tiles/Interior/Part 3 copiar.png",imageheight:384,imagewidth:512,margin:0,name:"Part 3 copiar",spacing:0,tilecount:768,tileheight:16,tilewidth:16},{columns:20,firstgid:1837,image:"../tiles/Interior/Part 4 copiar.png",imageheight:160,imagewidth:320,margin:0,name:"Part 4 copiar",spacing:0,tilecount:200,tileheight:16,tilewidth:16},{columns:15,firstgid:2037,image:"../tiles/Interior/Part 6 copiar.png",imageheight:336,imagewidth:240,margin:0,name:"Part 6 copiar",spacing:0,tilecount:315,tileheight:16,tilewidth:16},{columns:28,firstgid:2352,image:"../tiles/Interior/Part 7 copiar.png",imageheight:144,imagewidth:448,margin:0,name:"Part 7 copiar",spacing:0,tilecount:252,tileheight:16,tilewidth:16},{columns:16,firstgid:2604,image:"../tiles/Interior/Part 8 copiar.png",imageheight:224,imagewidth:256,margin:0,name:"Part 8 copiar",spacing:0,tilecount:224,tileheight:16,tilewidth:16},{columns:30,firstgid:2828,image:"../tiles/Interior/Part 9 copiar.png",imageheight:80,imagewidth:480,margin:0,name:"Part 9 copiar",spacing:0,tilecount:150,tileheight:16,tilewidth:16},{columns:16,firstgid:2978,image:"../tiles/Interior/Part 10 copiar.png",imageheight:192,imagewidth:256,margin:0,name:"Part 10 copiar",spacing:0,tilecount:192,tileheight:16,tilewidth:16},{columns:12,firstgid:3170,image:"../tiles/Interior/Part 11 copiar.png",imageheight:240,imagewidth:192,margin:0,name:"Part 11 copiar",spacing:0,tilecount:180,tileheight:16,tilewidth:16},{columns:12,firstgid:3350,image:"../tiles/Interior/part 12.png",imageheight:96,imagewidth:192,margin:0,name:"part 12",spacing:0,tilecount:72,tileheight:16,tilewidth:16},{columns:13,firstgid:3422,image:"../tiles/Interior/Xmas.png",imageheight:224,imagewidth:208,margin:0,name:"Xmas",spacing:0,tilecount:182,tileheight:16,tilewidth:16},{columns:25,firstgid:3604,image:"../tiles/Interior/cats furniture.png",imageheight:128,imagewidth:400,margin:0,name:"cats furniture",spacing:0,tilecount:200,tileheight:16,tilewidth:16},{columns:20,firstgid:3804,image:"../tiles/Interior/Blacksmith.png",imageheight:96,imagewidth:320,margin:0,name:"Blacksmith",spacing:0,tilecount:120,tileheight:16,tilewidth:16}],mmt=16,xmt="map",ymt="1.11",Smt=120,Cmt={compressionlevel:amt,height:omt,infinite:lmt,layers:hmt,nextlayerid:umt,nextobjectid:dmt,orientation:fmt,renderorder:cmt,tiledversion:vmt,tileheight:pmt,tilesets:gmt,tilewidth:mmt,type:xmt,version:ymt,width:Smt},ZR={tilemapTiledJSON:rmt,houseMapTiledJSON:Cmt},lt=Xs.get("VITE_APP_ASSETS_URL");class Tmt extends de.Scene{constructor(){super({key:Ht.LOADING})}preload(){this.load.bitmapFont("roboto","assets/fonts/roboto/roboto.png","assets/fonts/roboto/roboto.xml");const{uiController:t}=ti(this);t.initLoading(),this.load.on("progress",d=>{t.updateProgress(d)}),this.load.tilemapTiledJSON("map",ZR.tilemapTiledJSON),this.load.tilemapTiledJSON("house-map",ZR.houseMapTiledJSON),this.load.binary("spring-tiles",`${lt}/tiles/Tileset%20Grass%20Spring.png`),this.load.binary("birch-tree-tiles",`${lt}/tiles/Trees/Birch Tree.png`),this.load.binary("mahogany-tree-tiles",`${lt}/tiles/Trees/Mahogany Tree.png`),this.load.binary("maple-tree-tiles",`${lt}/tiles/Trees/Maple Tree.png`),this.load.binary("pine-tree-tiles",`${lt}/tiles/Trees/Pine Tree.png`),this.load.binary("cherry-tree-tiles",`${lt}/tiles/Farm Crops/Fruits/Spring/Cherry Tree.png`),this.load.binary("apricot-tree-tiles",`${lt}/tiles/Farm Crops/Fruits/Spring/Apricot Tree.png`),this.load.binary("spring-house7",`${lt}/tiles/Farm/Houses/7.png`),this.load.binary("spring-well",`${lt}/tiles/Exterior/Well.png`),this.load.binary("spring-props-water",`${lt}/tiles/Farm/Props/Spring/props water.png`),this.load.binary("spring-props-water2",`${lt}/tiles/Farm/Props/Spring/props water 2.png`),this.load.binary("spring-stones",`${lt}/tiles/Farm/Props/Spring/spring stones.png`),this.load.binary("smoke",`${lt}/tiles/Farm/Props/Smoke.png`),this.load.binary("exterior",`${lt}/tiles/Exterior/Exterior.png`),this.load.binary("dog-house",`${lt}/tiles/Farm/Houses/dog house.png`),this.load.binary("dog-bath-tub",`${lt}/tiles/Exterior/dog bathtub.png`),this.load.binary("dog-food",`${lt}/tiles/Icons/dog food.png`),this.load.binary("fence-wood",`${lt}/tiles/Exterior/Fence and Bridge/Fence Wood.png`),this.load.binary("bridge-wood-1",`${lt}/tiles/Exterior/Fence and Bridge/Bridge Wood 1.png`),this.load.binary("bonfire",`${lt}/tiles/Exterior/bonfire.png`),this.load.binary("bonfire-fish",`${lt}/tiles/Exterior/bonfire Fish.png`),this.load.binary("tent-goblin",`${lt}/tiles/Exterior/Tent Goblin.png`),this.load.binary("box",`${lt}/tiles/Exterior/Box.png`),this.load.binary("wood-moss",`${lt}/tiles/Exterior/wood moss.png`),this.load.binary("bubbles",`${lt}/tiles/Farm/Fish/bubbles.png`),this.load.binary("bubbles-2",`${lt}/tiles/Farm/Fish/bubbles 2.png`),this.load.binary("fish-point-small",`${lt}/tiles/Farm/Fish/Fish point small.png`),this.load.binary("fish-point",`${lt}/tiles/Farm/Fish/FishPoint.png`),this.load.binary("beehive",`${lt}/tiles/Forest Animals/Bugs/Bee/Beehive.png`),this.load.binary("anthill",`${lt}/tiles/Forest Animals/Bugs/others/anthill.png`),this.load.binary("ant-1",`${lt}/tiles/Forest Animals/Bugs/others/Ant1.png`),this.load.binary("ant-2",`${lt}/tiles/Forest Animals/Bugs/others/Ant 2.png`),this.load.binary("butterflies",`${lt}/tiles/Forest Animals/Bugs/Butterfly/Butterflies.png`),this.load.binary("scares-crow",`${lt}/tiles/Exterior/Scarescrow.png`),this.load.binary("money",`${lt}/tiles/UI/Money.png`),pi.forEach(d=>{const C=`${d}_idle`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${d.charAt(0).toUpperCase()+d.slice(1)}/Idle.png`)}),pi.forEach(d=>{const C=`${d}_walk`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Walk.png`)}),pi.forEach(d=>{const C=`${d}_hoe`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Hoe.png`)}),pi.forEach(d=>{const C=`${d}_axe`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Axe.png`)}),pi.forEach(d=>{const C=`${d}_shovel`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Shovel.png`)}),pi.forEach(d=>{const C=`${d}_sickle`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Sickle.png`)}),pi.forEach(d=>{const C=`${d}_pickaxe`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Pickaxe.png`)}),pi.forEach(d=>{const C=`${d}_watering`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Watering.png`)}),pi.forEach(d=>{const C=`${d}_throwing_items`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Throwing items.png`)}),pi.forEach(d=>{const C=`${d}_run`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Run.png`)}),pi.forEach(d=>{const C=`${d}_sitting`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Sitting.png`)}),pi.forEach(d=>{const C=`${d}_sleep`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Sleep.png`)}),pi.forEach(d=>{const C=`${d}_petting`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Petting.png`)}),pi.forEach(d=>{const C=`${d}_sword`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Sword.png`)}),pi.forEach(d=>{const C=`${d}_dead`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Dead.png`)}),pi.forEach(d=>{const C=`${d}_damage`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Damage.png`)}),pi.forEach(d=>{const C=`${d}_climbing`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Climbing.png`)}),pi.forEach(d=>{const C=`${d}_catching_insect`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Catching Insect.png`)}),pi.forEach(d=>{const C=`${d}_bow_and_arrow`;this.textures.exists(C)||this.load.binary(C,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(d)}/Bow and Arrow.png`)}),[{state:"healer",file:"Healer"},{state:"fire",file:"Fire"},{state:"water",file:"Water"},{state:"poison",file:"Poison"}].forEach(({state:d,file:C})=>{pi.forEach(r=>{const x=`${r}_magic_${d}`;this.textures.exists(x)||this.load.binary(x,`${lt}/tiles/Character and Portrait/Character/Pre-made/${Oi(r)}/Magic/${C}.png`)})});const n=[{suffix:"coming_out_water",path:"Swim/Coming out of the water.png"},{suffix:"swim_idle",path:"Swim/Idle.png"},{suffix:"swim_submerged",path:"Swim/submerged.png"},{suffix:"swim",path:"Swim/Swim.png"},{suffix:"umbrella_idle",path:"Umbrella/Idle.png"},{suffix:"umbrella_run",path:"Umbrella/Run.png"},{suffix:"umbrella_walk",path:"Umbrella/Walk.png"},{suffix:"horse_idle",path:"Horse/Horse Idle - no Horse.png"},{suffix:"horse_run",path:"Horse/Horse Run - no Horse.png"},{suffix:"flute",path:"Flute/Flute.png"},{suffix:"bear_anim",path:"Bear/Anims all.png"},{suffix:"bicycle_run",path:"Bicycle/Run.png"},{suffix:"broomstick_run",path:"Broomstick/Run.png"},{suffix:"fishing_captured_no_fish",path:"Fishing/Captured No Fish.png"},{suffix:"fishing_casting",path:"Fishing/Casting.png"},{suffix:"fishing_fish",path:"Fishing/Fish.png"},{suffix:"fishing_hooked",path:"Fishing/Hooked.png"},{suffix:"fishing_roll",path:"Fishing/Roll.png"},{suffix:"fishing_wait_idle",path:"Fishing/Wait Idle.png"},{suffix:"pickup_items_idle",path:"Pick Up Itens/Idle.png"},{suffix:"pickup_items_up",path:"Pick Up Itens/Pick Up Itens.png"},{suffix:"pickup_items_walk",path:"Pick Up Itens/Walk.png"},{suffix:"pickup_items_run",path:"Pick Up Itens/Run.png"}];pi.forEach(d=>{const C=Oi(d);n.forEach(({suffix:r,path:x})=>{const s=`${d}_${r}`;this.textures.exists(s)||this.load.binary(s,`${lt}/tiles/Character and Portrait/Character/Pre-made/${C}/${x}`)})}),this.textures.exists("bicycle_blue")||this.load.binary("bicycle_blue",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Blue.png`),this.textures.exists("bicycle_green")||this.load.binary("bicycle_green",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Green.png`),this.textures.exists("bicycle_light_pink")||this.load.binary("bicycle_light_pink",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Light Pink.png`),this.textures.exists("bicycle_orange")||this.load.binary("bicycle_orange",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Orange.png`),this.textures.exists("bicycle_pink")||this.load.binary("bicycle_pink",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Pink.png`),this.textures.exists("bicycle_red")||this.load.binary("bicycle_red",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Red.png`),this.textures.exists("bicycle_yellow")||this.load.binary("bicycle_yellow",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bicycle/Colors/Yellow.png`),this.textures.exists("broomstick_flower")||this.load.binary("broomstick_flower",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Broomstick/Colors/Flowers.png`),this.textures.exists("broomstick_no_flower")||this.load.binary("broomstick_no_flower",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Broomstick/Colors/No flowers.png`),this.textures.exists("broomstick_standard")||this.load.binary("broomstick_standard",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Broomstick/Colors/Standard.png`),this.textures.exists("umbrella_idle_blue")||this.load.binary("umbrella_idle_blue",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Blue.png`),this.textures.exists("umbrella_idle_green")||this.load.binary("umbrella_idle_green",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Green.png`),this.textures.exists("umbrella_idle_leaf")||this.load.binary("umbrella_idle_leaf",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Leaf.png`),this.textures.exists("umbrella_idle_orange")||this.load.binary("umbrella_idle_orange",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Orange.png`),this.textures.exists("umbrella_idle_pink")||this.load.binary("umbrella_idle_pink",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Pink.png`),this.textures.exists("umbrella_idle_pupple")||this.load.binary("umbrella_idle_pupple",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Pupple.png`),this.textures.exists("umbrella_idle_red")||this.load.binary("umbrella_idle_red",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Idle/Red.png`),this.textures.exists("umbrella_run_blue")||this.load.binary("umbrella_run_blue",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Blue.png`),this.textures.exists("umbrella_run_green")||this.load.binary("umbrella_run_green",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Green.png`),this.textures.exists("umbrella_run_leaf")||this.load.binary("umbrella_run_leaf",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Leaf.png`),this.textures.exists("umbrella_run_orange")||this.load.binary("umbrella_run_orange",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Orange.png`),this.textures.exists("umbrella_run_pink")||this.load.binary("umbrella_run_pink",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Pink.png`),this.textures.exists("umbrella_run_pupple")||this.load.binary("umbrella_run_pupple",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Pupple.png`),this.textures.exists("umbrella_run_red")||this.load.binary("umbrella_run_red",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Run/Red.png`),this.textures.exists("umbrella_walk_blue")||this.load.binary("umbrella_walk_blue",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Blue.png`),this.textures.exists("umbrella_walk_green")||this.load.binary("umbrella_walk_green",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Green.png`),this.textures.exists("umbrella_walk_leaf")||this.load.binary("umbrella_walk_leaf",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Leaf.png`),this.textures.exists("umbrella_walk_orange")||this.load.binary("umbrella_walk_orange",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Orange.png`),this.textures.exists("umbrella_walk_pink")||this.load.binary("umbrella_walk_pink",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Pink.png`),this.textures.exists("umbrella_walk_pupple")||this.load.binary("umbrella_walk_pupple",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Pupple.png`),this.textures.exists("umbrella_walk_red")||this.load.binary("umbrella_walk_red",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Umbrella/Umbrella Colors/Walk/Red.png`),this.textures.exists("button")||this.load.binary("button",`${lt}/tiles/UI/button.png`),this.load.binary("bars",`${lt}/tiles/UI/Bars.png`),this.load.binary("clock-clock",`${lt}/tiles/UI/Clock/Clock.png`),this.load.binary("clock-extras",`${lt}/tiles/UI/Clock/Extras.png`),this.load.binary("slots",`${lt}/tiles/UI/Inventory/Slots.png`),this.load.binary("extras",`${lt}/tiles/UI/Extras.png`),this.load.binary("inventory",`${lt}/tiles/UI/Inventory/inventory.png`),this.load.binary("animals-farm-icons",`${lt}/tiles/Icons/Animals farm icons.png`),this.load.binary("basic-weapons",`${lt}/tiles/Icons/basics weapons.png`),this.load.binary("ground-icons",`${lt}/tiles/Icons/ground icons.png`),this.load.binary("clock-hand",`${lt}/tiles/UI/Clock/clock hand.png`),this.load.binary("weather-icons",`${lt}/tiles/UI/weather icons.png`),this.load.binary("banner",`${lt}/tiles/UI/Inventory/Banner.png`),this.load.binary("hud",`${lt}/tiles/UI/HUD.png`),this.load.binary("spring-crops",`${lt}/tiles/Farm Crops/Spring Crops.png`),this.load.binary("summer-crops",`${lt}/tiles/Farm Crops/Summer Crops.png`),this.load.binary("fall-crops",`${lt}/tiles/Farm Crops/Fall Crops.png`),this.load.binary("crops",`${lt}/tiles/Farm Crops/Crops.png`),this.load.binary("clouds",`${lt}/tiles/Farm/Props/clouds.png`),this.load.binary("water-props",`${lt}/tiles/Farm/Props/Water props.png`),this.load.binary("sprash",`${lt}/tiles/Farm/Props/Sprash.png`),this.load.binary("chest",`${lt}/tiles/Exterior/chest.png`),this.load.binary("bee",`${lt}/tiles/Forest Animals/Bugs/Bee/Bees.png`),this.load.binary("frog-sheet",`${lt}/tiles/Forest Animals/Frog/Frogs-Sheet.png`),this.load.binary("arrow",`${lt}/tiles/Character and Portrait/Character/Arrow/Arrow.png`),this.load.binary("magic",`${lt}/tiles/Character and Portrait/Character/Arrow/Magic.png`),this.load.binary("walls-and-floors",`${lt}/tiles/Interior/Walls and Floors.png`),this.load.binary("x-mas",`${lt}/tiles/Interior/Xmas.png`),this.load.binary("black-smith",`${lt}/tiles/Interior/Blacksmith.png`),this.load.binary("cats-furniture",`${lt}/tiles/Interior/cats furniture.png`),this.load.binary("part-1",`${lt}/tiles/Interior/Part 1 copiar.png`),this.load.binary("part-2",`${lt}/tiles/Interior/Part 2 copiar.png`),this.load.binary("part-3",`${lt}/tiles/Interior/Part 3 copiar.png`),this.load.binary("part-4",`${lt}/tiles/Interior/Part 4 copiar.png`),this.load.binary("part-5",`${lt}/tiles/Interior/Part 5.png`),this.load.binary("part-6",`${lt}/tiles/Interior/Part 6 copiar.png`),this.load.binary("part-7",`${lt}/tiles/Interior/Part 7 copiar.png`),this.load.binary("part-8",`${lt}/tiles/Interior/Part 8 copiar.png`),this.load.binary("part-9",`${lt}/tiles/Interior/Part 9 copiar.png`),this.load.binary("part-10",`${lt}/tiles/Interior/Part 10 copiar.png`),this.load.binary("part-11",`${lt}/tiles/Interior/Part 11 copiar.png`),this.load.binary("part-12",`${lt}/tiles/Interior/part 12.png`),this.load.binary("pet-cat-box",`${lt}/tiles/Pets/Cats/Box.png`),this.load.binary("pet-cat-1-black",`${lt}/tiles/Pets/Cats/1/Black.png`),this.load.binary("pet-cat-1-brown",`${lt}/tiles/Pets/Cats/1/Brown.png`),this.load.binary("pet-cat-1-ginger",`${lt}/tiles/Pets/Cats/1/Ginger.png`),this.load.binary("pet-cat-1-gray",`${lt}/tiles/Pets/Cats/1/Gray.png`),this.load.binary("pet-cat-1-light-brown",`${lt}/tiles/Pets/Cats/1/Light Brown.png`),this.load.binary("pet-cat-1-light-gray",`${lt}/tiles/Pets/Cats/1/Light Gray.png`),this.load.binary("pet-cat-1-pink",`${lt}/tiles/Pets/Cats/1/Pink.png`),this.load.binary("pet-cat-1-white",`${lt}/tiles/Pets/Cats/1/White.png`),this.load.binary("pet-cat-2-blue",`${lt}/tiles/Pets/Cats/2/Blue.png`),this.load.binary("pet-cat-2-ginger",`${lt}/tiles/Pets/Cats/2/Ginger.png`),this.load.binary("pet-cat-2-green",`${lt}/tiles/Pets/Cats/2/Green.png`),this.load.binary("pet-cat-2-pink",`${lt}/tiles/Pets/Cats/2/Pink.png`),this.load.binary("pet-cat-3-1",`${lt}/tiles/Pets/Cats/3/1.png`),this.load.binary("pet-cat-4-1",`${lt}/tiles/Pets/Cats/4/1.png`),this.load.binary("pet-cat-4-2",`${lt}/tiles/Pets/Cats/4/2.png`),this.load.binary("pet-cat-5-1",`${lt}/tiles/Pets/Cats/5/1.png`),this.load.binary("pet-cat-6-1",`${lt}/tiles/Pets/Cats/6/1.png`),this.load.binary("pet-cat-6-2",`${lt}/tiles/Pets/Cats/6/2.png`),this.load.binary("pet-cat-7-1",`${lt}/tiles/Pets/Cats/7/1.png`),this.load.binary("pet-cat-7-2",`${lt}/tiles/Pets/Cats/7/2.png`),zz(this.load,lt),this.preloadChickenTextures(lt),this.preloadCowTextures(lt),this.preloadDuckTextures(lt),this.preloadSheepTextures(lt),this.preloadGoatTextures(lt),this.preloadPigTextures(lt),this.preloadOstrichTextures(lt),this.textures.exists("brown-capybara")||this.load.binary("brown-capybara",`${lt}/tiles/Forest Animals/Capybara/Brown Capybara.png`),this.textures.exists("horse-1-eat")||this.load.binary("horse-1-eat",`${lt}/tiles/Farm Animals/Horse/1/Eat.png`),this.textures.exists("horse-1-eat-carrot")||this.load.binary("horse-1-eat-carrot",`${lt}/tiles/Farm Animals/Horse/1/Eat carrot.png`),this.textures.exists("horse-1-eat-grass")||this.load.binary("horse-1-eat-grass",`${lt}/tiles/Farm Animals/Horse/1/eat grass.png`),this.textures.exists("horse-1-ready-to-eat")||this.load.binary("horse-1-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/1/getting ready to eat.png`),this.textures.exists("horse-1-idle")||this.load.binary("horse-1-idle",`${lt}/tiles/Farm Animals/Horse/1/idle.png`),this.textures.exists("horse-1-run")||this.load.binary("horse-1-run",`${lt}/tiles/Farm Animals/Horse/1/Run.png`),this.textures.exists("horse-1-sleep")||this.load.binary("horse-1-sleep",`${lt}/tiles/Farm Animals/Horse/1/Sleep.png`),this.textures.exists("horse-2-eat")||this.load.binary("horse-2-eat",`${lt}/tiles/Farm Animals/Horse/2/Eat.png`),this.textures.exists("horse-2-eat-carrot")||this.load.binary("horse-2-eat-carrot",`${lt}/tiles/Farm Animals/Horse/2/Eat carrot.png`),this.textures.exists("horse-2-eat-grass")||this.load.binary("horse-2-eat-grass",`${lt}/tiles/Farm Animals/Horse/2/eat grass.png`),this.textures.exists("horse-2-ready-to-eat")||this.load.binary("horse-2-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/2/getting ready to eat.png`),this.textures.exists("horse-2-idle")||this.load.binary("horse-2-idle",`${lt}/tiles/Farm Animals/Horse/2/idle.png`),this.textures.exists("horse-2-run")||this.load.binary("horse-2-run",`${lt}/tiles/Farm Animals/Horse/2/run.png`),this.textures.exists("horse-2-sleep")||this.load.binary("horse-2-sleep",`${lt}/tiles/Farm Animals/Horse/2/Sleep.png`),this.textures.exists("horse-3-eat")||this.load.binary("horse-3-eat",`${lt}/tiles/Farm Animals/Horse/3/Eat.png`),this.textures.exists("horse-3-eat-carrot")||this.load.binary("horse-3-eat-carrot",`${lt}/tiles/Farm Animals/Horse/3/Eat carrot.png`),this.textures.exists("horse-3-eat-grass")||this.load.binary("horse-3-eat-grass",`${lt}/tiles/Farm Animals/Horse/3/eat grass.png`),this.textures.exists("horse-3-ready-to-eat")||this.load.binary("horse-3-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/3/getting ready to eat.png`),this.textures.exists("horse-3-idle")||this.load.binary("horse-3-idle",`${lt}/tiles/Farm Animals/Horse/3/idle.png`),this.textures.exists("horse-3-run")||this.load.binary("horse-3-run",`${lt}/tiles/Farm Animals/Horse/3/run.png`),this.textures.exists("horse-3-sleep")||this.load.binary("horse-3-sleep",`${lt}/tiles/Farm Animals/Horse/3/Sleep.png`),this.textures.exists("saddle-black-eat")||this.load.binary("saddle-black-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/black/eat.png`),this.textures.exists("saddle-black-ready-to-eat")||this.load.binary("saddle-black-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/black/getting ready to eat.png`),this.textures.exists("saddle-black-idle")||this.load.binary("saddle-black-idle",`${lt}/tiles/Farm Animals/Horse/Saddle/black/idle.png`),this.textures.exists("saddle-black-run")||this.load.binary("saddle-black-run",`${lt}/tiles/Farm Animals/Horse/Saddle/black/run.png`),this.textures.exists("saddle-black-sleep")||this.load.binary("saddle-black-sleep",`${lt}/tiles/Farm Animals/Horse/Saddle/black/Sleep.png`),this.textures.exists("saddle-blue-eat")||this.load.binary("saddle-blue-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/Blue/eat.png`),this.textures.exists("saddle-blue-ready-to-eat")||this.load.binary("saddle-blue-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/Blue/getting ready to eat.png`),this.textures.exists("saddle-blue-idle")||this.load.binary("saddle-blue-idle",`${lt}/tiles/Farm Animals/Horse/Saddle/Blue/idle.png`),this.textures.exists("saddle-blue-run")||this.load.binary("saddle-blue-run",`${lt}/tiles/Farm Animals/Horse/Saddle/Blue/run.png`),this.textures.exists("saddle-blue-sleep")||this.load.binary("saddle-blue-sleep",`${lt}/tiles/Farm Animals/Horse/Saddle/Blue/Sleep.png`),this.textures.exists("saddle-brown-eat")||this.load.binary("saddle-brown-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/brown/eat.png`),this.textures.exists("saddle-brown-ready-to-eat")||this.load.binary("saddle-brown-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/brown/getting ready to eat.png`),this.textures.exists("saddle-brown-idle")||this.load.binary("saddle-brown-idle",`${lt}/tiles/Farm Animals/Horse/Saddle/brown/idle.png`),this.textures.exists("saddle-brown-run")||this.load.binary("saddle-brown-run",`${lt}/tiles/Farm Animals/Horse/Saddle/brown/run.png`),this.textures.exists("saddle-brown-sleep")||this.load.binary("saddle-brown-sleep",`${lt}/tiles/Farm Animals/Horse/Saddle/brown/Sleep.png`),this.textures.exists("saddle-pink-eat")||this.load.binary("saddle-pink-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/pink/eat.png`),this.textures.exists("saddle-pink-ready-to-eat")||this.load.binary("saddle-pink-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/pink/getting ready to eat.png`),this.textures.exists("saddle-pink-idle")||this.load.binary("saddle-pink-idle",`${lt}/tiles/Farm Animals/Horse/Saddle/pink/idle.png`),this.textures.exists("saddle-pink-run")||this.load.binary("saddle-pink-run",`${lt}/tiles/Farm Animals/Horse/Saddle/pink/run.png`),this.textures.exists("saddle-pink-sleep")||this.load.binary("saddle-pink-sleep",`${lt}/tiles/Farm Animals/Horse/Saddle/pink/Sleep.png`),this.textures.exists("saddle-pupple-eat")||this.load.binary("saddle-pupple-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/pupple/eat.png`),this.textures.exists("saddle-pupple-ready-to-eat")||this.load.binary("saddle-pupple-ready-to-eat",`${lt}/tiles/Farm Animals/Horse/Saddle/pupple/getting ready to eat.png`),this.textures.exists("saddle-pupple-idle")||this.load.binary("saddle-pupple-idle",`${lt}/tiles/Farm Animals/Horse/Saddle/pupple/idle.png`),this.textures.exists("saddle-pupple-run")||this.load.binary("saddle-pupple-run",`${lt}/tiles/Farm Animals/Horse/Saddle/pupple/run.png`),this.textures.exists("saddle-pupple-sleep")||this.load.binary("saddle-pupple-sleep",`${lt}/tiles/Farm Animals/Horse/Saddle/pupple/Sleep.png`),this.textures.exists("bear-mount-black")||this.load.binary("bear-mount-black",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bear/Bears/Black.png`),this.textures.exists("bear-mount-brown")||this.load.binary("bear-mount-brown",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bear/Bears/Brown.png`),this.textures.exists("bear-mount-panda")||this.load.binary("bear-mount-panda",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bear/Bears/Panda.png`),this.textures.exists("bear-mount-polar")||this.load.binary("bear-mount-polar",`${lt}/tiles/Character and Portrait/Character/Pre-made/Josh/Bear/Bears/Polar.png`),this.load.binary("spring-bg-music",`${lt}/audios/background.mp3`),this.load.binary("sfxWaterBubble",`${lt}/audios/WATER Bubbles 03.wav`),this.load.binary("sfxWateringPlant",`${lt}/audios/watering-plant.mp3`),this.load.binary("sfxDiggingTile",`${lt}/audios/digging-tile.mp3`),this.load.binary("sfxHarvestPlant",`${lt}/audios/harvest-plant.mp3`),this.load.binary("sfxButtonPress",`${lt}/audios/button-press.mp3`),this.load.binary("sfxPlant",`${lt}/audios/on-plant.mp3`),this.load.binary("sfxChickenNoise",`${lt}/audios/chicken-noise.mp3`),this.load.binary("sfxCowMooing",`${lt}/audios/cow-mooing.mp3`),this.load.binary("sfxDropCollectGold",`${lt}/audios/drop-collect-gold.mp3`),this.load.on("complete",()=>{Tt.debug("Đã tải xong tài nguyên!")})}async create(){var i;(i=this.input.mouse)==null||i.disableContextMenu(),await Qt(this,"spring-tiles","spring-tiles"),await Qt(this,"birch-tree-tiles","birch-tree-tiles"),await Qt(this,"mahogany-tree-tiles","mahogany-tree-tiles"),await Qt(this,"maple-tree-tiles","maple-tree-tiles"),await Qt(this,"pine-tree-tiles","pine-tree-tiles"),await Qt(this,"apricot-tree-tiles","apricot-tree-tiles"),await Qt(this,"cherry-tree-tiles","cherry-tree-tiles"),await Qt(this,"spring-house7","spring-house7"),await Qt(this,"spring-well","spring-well"),await Qt(this,"spring-props-water","spring-props-water"),await Qt(this,"spring-props-water2","spring-props-water2"),await Qt(this,"spring-stones","spring-stones"),await Qt(this,"exterior","exterior"),await Qt(this,"dog-house","dog-house"),await Qt(this,"dog-bath-tub","dog-bath-tub"),await Qt(this,"dog-food","dog-food"),await Qt(this,"frog-sheet","frog-sheet"),await Qt(this,"fence-wood","fence-wood"),await Qt(this,"smoke","smoke"),await Qt(this,"bridge-wood-1","bridge-wood-1"),await Qt(this,"bonfire","bonfire"),await Qt(this,"bonfire-fish","bonfire-fish"),await Qt(this,"tent-goblin","tent-goblin"),await Qt(this,"box","box"),await Qt(this,"wood-moss","wood-moss"),await Qt(this,"bubbles","bubbles"),await Qt(this,"bubbles-2","bubbles-2"),await Qt(this,"fish-point-small","fish-point-small"),await Qt(this,"fish-point","fish-point"),await Qt(this,"chest","chest"),await Qt(this,"beehive","beehive"),await Qt(this,"anthill","anthill"),await Qt(this,"ant-1","ant-1"),await Qt(this,"ant-2","ant-2"),await Qt(this,"butterflies","butterflies"),await Qt(this,"scares-crow","scares-crow"),await Qt(this,"walls-and-floors","walls-and-floors"),await Qt(this,"x-mas","x-mas"),await Qt(this,"black-smith","black-smith"),await Qt(this,"cats-furniture","cats-furniture"),await Qt(this,"part-1","part-1"),await Qt(this,"part-2","part-2"),await Qt(this,"part-3","part-3"),await Qt(this,"part-4","part-4"),await Qt(this,"part-5","part-5"),await Qt(this,"part-6","part-6"),await Qt(this,"part-7","part-7"),await Qt(this,"part-8","part-8"),await Qt(this,"part-9","part-9"),await Qt(this,"part-10","part-10"),await Qt(this,"part-11","part-11"),await Qt(this,"part-12","part-12"),await ct(this,"pet-cat-box","pet-cat-box",32,32),await ct(this,"pet-cat-1-black","pet-cat-1-black",32,32),await ct(this,"pet-cat-1-brown","pet-cat-1-brown",32,32),await ct(this,"pet-cat-1-ginger","pet-cat-1-ginger",32,32),await ct(this,"pet-cat-1-gray","pet-cat-1-gray",32,32),await ct(this,"pet-cat-1-light-brown","pet-cat-1-light-brown",32,32),await ct(this,"pet-cat-1-light-gray","pet-cat-1-light-gray",32,32),await ct(this,"pet-cat-1-pink","pet-cat-1-pink",32,32),await ct(this,"pet-cat-1-white","pet-cat-1-white",32,32),await ct(this,"pet-cat-2-blue","pet-cat-2-blue",32,32),await ct(this,"pet-cat-2-ginger","pet-cat-2-ginger",32,32),await ct(this,"pet-cat-2-green","pet-cat-2-green",32,32),await ct(this,"pet-cat-2-pink","pet-cat-2-pink",32,32),await ct(this,"pet-cat-3-1","pet-cat-3-1",32,32),await ct(this,"pet-cat-4-1","pet-cat-4-1",32,32),await ct(this,"pet-cat-4-2","pet-cat-4-2",32,32),await ct(this,"pet-cat-5-1","pet-cat-5-1",32,32),await ct(this,"pet-cat-6-1","pet-cat-6-1",32,32),await ct(this,"pet-cat-6-2","pet-cat-6-2",32,32),await ct(this,"pet-cat-7-1","pet-cat-7-1",32,32),await ct(this,"pet-cat-7-2","pet-cat-7-2",32,32),await ct(this,"pet-dog-1-1","pet-dog-1-1",32,32),await ct(this,"pet-dog-1-2","pet-dog-1-2",32,32),await ct(this,"pet-dog-1-3","pet-dog-1-3",32,32),await ct(this,"pet-dog-1-4","pet-dog-1-4",32,32),await ct(this,"pet-dog-1-5","pet-dog-1-5",32,32),await ct(this,"pet-dog-1-6","pet-dog-1-6",32,32),await ct(this,"pet-dog-1-7","pet-dog-1-7",32,32),await ct(this,"pet-dog-2-1","pet-dog-2-1",32,32),await ct(this,"pet-dog-3-1","pet-dog-3-1",32,32),await ct(this,"pet-dog-3-2","pet-dog-3-2",32,32),await ct(this,"pet-dog-4-1","pet-dog-4-1",32,32),await ct(this,"pet-dog-4-2","pet-dog-4-2",32,32),await ct(this,"pet-dog-4-3","pet-dog-4-3",32,32),await ct(this,"pet-dog-4-4","pet-dog-4-4",32,32),await ct(this,"pet-dog-4-5","pet-dog-4-5",32,32),await ct(this,"pet-dog-5-1","pet-dog-5-1",32,32),await ct(this,"pet-dog-5-2","pet-dog-5-2",32,32),await ct(this,"pet-dog-5-3","pet-dog-5-3",32,32),await ct(this,"pet-dog-5-4","pet-dog-5-4",32,32),await ct(this,"pet-dog-6-1","pet-dog-6-1",32,32),await ct(this,"pet-dog-6-2","pet-dog-6-2",32,32),await ct(this,"pet-dog-6-3","pet-dog-6-3",32,32),await ct(this,"pet-dog-7-1","pet-dog-7-1",32,32),await ct(this,"pet-dog-8-1","pet-dog-8-1",32,32),await ct(this,"pet-dog-8-2","pet-dog-8-2",32,32),await ct(this,"pet-dog-9-1","pet-dog-9-1",32,32),await ct(this,"pet-dog-9-2","pet-dog-9-2",32,32),await ct(this,"pet-dog-9-3","pet-dog-9-3",32,32),await ct(this,"pet-dog-9-4","pet-dog-9-4",32,32),await ct(this,"pet-dog-9-5","pet-dog-9-5",32,32),await ct(this,"pet-dog-9-6","pet-dog-9-6",32,32),await ct(this,"arrow","arrow",16,16),await ct(this,"magic","magic",16,16),await ct(this,"banner","banner",48,48),await ct(this,"banner","banner-48x16",48,16),await ct(this,"inventory","inventory",32,32),await ct(this,"hud","hud",16,16),pi.forEach(async n=>{for(const{suffix:d,w:C,h:r}of Yz){const x=`${n}_${d}`;await ct(this,x,x,C,r)}}),await ct(this,"bicycle_blue","bicycle_blue",32,32),await ct(this,"bicycle_green","bicycle_green",32,32),await ct(this,"bicycle_light_pink","bicycle_light_pink",32,32),await ct(this,"bicycle_orange","bicycle_orange",32,32),await ct(this,"bicycle_pink","bicycle_pink",32,32),await ct(this,"bicycle_red","bicycle_red",32,32),await ct(this,"bicycle_yellow","bicycle_yellow",32,32),await ct(this,"broomstick_flower","broomstick_flower",32,32),await ct(this,"broomstick_no_flower","broomstick_no_flower",32,32),await ct(this,"broomstick_standard","broomstick_standard",32,32),await ct(this,"umbrella_idle_blue","umbrella_idle_blue",32,32),await ct(this,"umbrella_idle_green","umbrella_idle_green",32,32),await ct(this,"umbrella_idle_leaf","umbrella_idle_leaf",32,32),await ct(this,"umbrella_idle_orange","umbrella_idle_orange",32,32),await ct(this,"umbrella_idle_pink","umbrella_idle_pink",32,32),await ct(this,"umbrella_idle_pupple","umbrella_idle_pupple",32,32),await ct(this,"umbrella_idle_red","umbrella_idle_red",32,32),await ct(this,"umbrella_run_blue","umbrella_run_blue",32,32),await ct(this,"umbrella_run_green","umbrella_run_green",32,32),await ct(this,"umbrella_run_leaf","umbrella_run_leaf",32,32),await ct(this,"umbrella_run_orange","umbrella_run_orange",32,32),await ct(this,"umbrella_run_pink","umbrella_run_pink",32,32),await ct(this,"umbrella_run_pupple","umbrella_run_pupple",32,32),await ct(this,"umbrella_run_red","umbrella_run_red",32,32),await ct(this,"umbrella_walk_blue","umbrella_walk_blue",32,32),await ct(this,"umbrella_walk_green","umbrella_walk_green",32,32),await ct(this,"umbrella_walk_leaf","umbrella_walk_leaf",32,32),await ct(this,"umbrella_walk_orange","umbrella_walk_orange",32,32),await ct(this,"umbrella_walk_pink","umbrella_walk_pink",32,32),await ct(this,"umbrella_walk_pupple","umbrella_walk_pupple",32,32),await ct(this,"umbrella_walk_red","umbrella_walk_red",32,32),await ct(this,"extras","extras",16,16),await ct(this,"button","button",16,16),await ct(this,"button","button-48x16",48,16),await ct(this,"bars","bars",48,16),await ct(this,"clock-clock","clock-clock",32,32),await ct(this,"clock-extras","clock-extras",64,32),await ct(this,"slots","slots",16,16),await ct(this,"spring-tiles","spring-tiles-terrain",16,16),await ct(this,"money","money",16,16),await ct(this,"animals-farm-icons","animals-farm-icons",16,16),await ct(this,"basic-weapons","basic-weapons",16,16),await ct(this,"ground-icons","ground-icons",16,16),await ct(this,"clock-hand","clock-hand",32,32),await ct(this,"weather-icons","weather-icons",16,16),await ct(this,"spring-crops","spring-crops",16,32),await ct(this,"summer-crops","summer-crops",16,32),await ct(this,"fall-crops","fall-crops",16,32),await ct(this,"clouds","clouds",48,96),await ct(this,"water-props","water-props",16,16),await ct(this,"sprash","sprash",16,16),await ct(this,"crops","crops",16,16),uw.forEach(n=>{dw.forEach(async d=>{const C=`chicken-${n}-${d}`;await ct(this,C,C,16,16)})}),fw.forEach(n=>{cw.forEach(async d=>{const C=`cow-${n}-${d}`;await ct(this,C,C,32,32)})}),vw.forEach(n=>{pw.forEach(async d=>{const C=`duck-${n}-${d}`;await ct(this,C,C,16,16)})}),gw.forEach(n=>{mw.forEach(async d=>{const C=`sheep-${n}-${d}`;await ct(this,C,C,32,32)})}),xw.forEach(n=>{yw.forEach(async d=>{const C=`ostrich-${n}-${d}`;await ct(this,C,C,32,32)})}),Sw.forEach(n=>{Cw.forEach(async d=>{const C=`goat-${n}-${d}`;await ct(this,C,C,32,32)})}),Tw.forEach(n=>{bw.forEach(async d=>{const C=`pig-${n}-${d}`;await ct(this,C,C,32,32)})}),await ct(this,"bee","bee",16,16),await ct(this,"brown-capybara","brown-capybara",32,32),await ct(this,"horse-1-eat","horse-1-eat",32,48),await ct(this,"horse-1-eat-carrot","horse-1-eat-carrot",32,48),await ct(this,"horse-1-eat-grass","horse-1-eat-grass",32,48),await ct(this,"horse-1-ready-to-eat","horse-1-ready-to-eat",32,48),await ct(this,"horse-1-idle","horse-1-idle",32,48),await ct(this,"horse-1-run","horse-1-run",32,48),await ct(this,"horse-1-sleep","horse-1-sleep",32,16),await ct(this,"horse-2-eat","horse-2-eat",32,48),await ct(this,"horse-2-eat-carrot","horse-2-eat-carrot",32,48),await ct(this,"horse-2-eat-grass","horse-2-eat-grass",32,48),await ct(this,"horse-2-ready-to-eat","horse-2-ready-to-eat",32,48),await ct(this,"horse-2-idle","horse-2-idle",32,48),await ct(this,"horse-2-run","horse-2-run",32,48),await ct(this,"horse-2-sleep","horse-2-sleep",32,16),await ct(this,"horse-3-eat","horse-3-eat",32,48),await ct(this,"horse-3-eat-carrot","horse-3-eat-carrot",32,48),await ct(this,"horse-3-eat-grass","horse-3-eat-grass",32,48),await ct(this,"horse-3-ready-to-eat","horse-3-ready-to-eat",32,48),await ct(this,"horse-3-idle","horse-3-idle",32,48),await ct(this,"horse-3-run","horse-3-run",32,48),await ct(this,"horse-3-sleep","horse-3-sleep",32,16),await ct(this,"saddle-black-eat","saddle-black-eat",32,48),await ct(this,"saddle-black-ready-to-eat","saddle-black-ready-to-eat",32,48),await ct(this,"saddle-black-idle","saddle-black-idle",32,48),await ct(this,"saddle-black-run","saddle-black-run",32,48),await ct(this,"saddle-black-sleep","saddle-black-sleep",32,16),await ct(this,"saddle-blue-eat","saddle-blue-eat",32,48),await ct(this,"saddle-blue-ready-to-eat","saddle-blue-ready-to-eat",32,48),await ct(this,"saddle-blue-idle","saddle-blue-idle",32,48),await ct(this,"saddle-blue-run","saddle-blue-run",32,48),await ct(this,"saddle-blue-sleep","saddle-blue-sleep",32,16),await ct(this,"saddle-brown-eat","saddle-brown-eat",32,48),await ct(this,"saddle-brown-ready-to-eat","saddle-brown-ready-to-eat",32,48),await ct(this,"saddle-brown-idle","saddle-brown-idle",32,48),await ct(this,"saddle-brown-run","saddle-brown-run",32,48),await ct(this,"saddle-brown-sleep","saddle-brown-sleep",32,16),await ct(this,"saddle-pink-eat","saddle-pink-eat",32,48),await ct(this,"saddle-pink-ready-to-eat","saddle-pink-ready-to-eat",32,48),await ct(this,"saddle-pink-idle","saddle-pink-idle",32,48),await ct(this,"saddle-pink-run","saddle-pink-run",32,48),await ct(this,"saddle-pink-sleep","saddle-pink-sleep",32,16),await ct(this,"saddle-pupple-eat","saddle-pupple-eat",32,48),await ct(this,"saddle-pupple-ready-to-eat","saddle-pupple-ready-to-eat",32,48),await ct(this,"saddle-pupple-idle","saddle-pupple-idle",32,48),await ct(this,"saddle-pupple-run","saddle-pupple-run",32,48),await ct(this,"saddle-pupple-sleep","saddle-pupple-sleep",32,16),await ct(this,"bear-mount-black","bear-mount-black",32,48),await ct(this,"bear-mount-brown","bear-mount-brown",32,48),await ct(this,"bear-mount-panda","bear-mount-panda",32,48),await ct(this,"bear-mount-polar","bear-mount-polar",32,48),await gr(this,"spring-bg-music","spring-bg-music"),await gr(this,"sfxWaterBubble","sfxWaterBubble","audio/wav"),await gr(this,"sfxWateringPlant","sfxWateringPlant","audio/mp3"),await gr(this,"sfxDiggingTile","sfxDiggingTile","audio/mp3"),await gr(this,"sfxHarvestPlant","sfxHarvestPlant","audio/mp3"),await gr(this,"sfxButtonPress","sfxButtonPress","audio/mp3"),await gr(this,"sfxPlant","sfxPlant","audio/mp3"),await gr(this,"sfxChickenNoise","sfxChickenNoise","audio/mp3"),await gr(this,"sfxCowMooing","sfxCowMooing","audio/mp3"),await gr(this,"sfxDropCollectGold","sfxDropCollectGold","audio/mp3");const{characterType:t}=me.getState();t?this.scene.start(Ht.BASE):this.scene.start(Ht.CHARACTER)}preloadChickenTextures(t){uw.forEach(i=>{dw.forEach(n=>{const d=`chicken-${i}-${n}`;if(this.textures.exists(d))return;const C=Wz(n,i),r=`${t}/tiles/Farm Animals/Chicken/${C}`;this.load.binary(d,r)})})}preloadCowTextures(t){fw.forEach(i=>cw.forEach(n=>{const d=`cow-${i}-${n}`;if(this.textures.exists(d))return;const{group:C,color:r}=$z(i),x=Kz(n,C,r),a=`${t}/tiles/Farm Animals/Cow/${C==="common"?"Common Cow":"Highlighter Cow"}/${x}`;this.load.binary(d,a)}))}preloadDuckTextures(t){vw.forEach(i=>pw.forEach(n=>{const d=`duck-${i}-${n}`;if(this.textures.exists(d))return;const C=Zz(n,i),r=`${t}/tiles/Farm Animals/Ducks/${C}`;this.load.binary(d,r)}))}preloadSheepTextures(t){gw.forEach(i=>mw.forEach(n=>{const d=`sheep-${i}-${n}`;if(this.textures.exists(d))return;const C=Jz(n,i),r=`${t}/tiles/Farm Animals/Sheep/${C}`;this.load.binary(d,r)}))}preloadOstrichTextures(t){xw.forEach(i=>yw.forEach(n=>{const d=`ostrich-${i}-${n}`;if(this.textures.exists(d))return;const C=Qz(n,i),r=`${t}/tiles/Farm Animals/Ostrich/${C}`;this.load.binary(d,r)}))}preloadGoatTextures(t){Sw.forEach(i=>Cw.forEach(n=>{const d=`goat-${i}-${n}`;if(this.textures.exists(d))return;const C=jz(n,i),r=`${t}/tiles/Farm Animals/Goat/${C}`;this.load.binary(d,r)}))}preloadPigTextures(t){Tw.forEach(i=>bw.forEach(n=>{const d=`pig-${i}-${n}`;if(this.textures.exists(d))return;const C=qz(n,i),r=`${t}/tiles/Farm Animals/Pig/${C}`;this.load.binary(d,r)}))}}class bmt{constructor(t){it(this,"scene");it(this,"dialogues",[]);it(this,"currentIndex",0);it(this,"overlay");it(this,"dialogueBox");it(this,"dialogueText");it(this,"nextButton");this.scene=t}setDialogues(t){this.dialogues=t}start(){this.currentIndex=0,this.createUI(),this.showDialogue()}createUI(){const{width:t,height:i}=this.scene.cameras.main;this.overlay=this.scene.add.rectangle(0,0,t*2,i*2,Gt.BgDark,.5).setOrigin(0);const n=t*.8,d=120,C=this.scene.add.rectangle(t/2,i-d-90,n,d,2042167,.95).setStrokeStyle(2,Gt.Light).setOrigin(.5);this.dialogueText=this.scene.add.text(C.x,C.y,"",{fontSize:"18px",color:Gt.TextLight,wordWrap:{width:n-40},align:"left"}).setOrigin(.5),this.nextButton=this.scene.add.text(t-40,i-100,"Tiếp theo →",{fontSize:"16px",color:Gt.TextLight,backgroundColor:Gt.BgDarkHex,padding:{left:25,right:25,top:10,bottom:10}}).setInteractive().setOrigin(1).setDepth(Ut.DIALOGUE),this.nextButton.on("pointerdown",()=>this.next()),this.dialogueBox=this.scene.add.container(0,0,[C,this.dialogueText,this.nextButton])}showDialogue(){if(this.currentIndex>=this.dialogues.length){this.endTutorial();return}const t=this.dialogues[this.currentIndex];this.dialogueText.setText(t.text),t.highlightTarget?this.highlight(t.highlightTarget):this.clearHighlight()}next(){this.currentIndex+=1,this.showDialogue()}endTutorial(){this.overlay.destroy(),this.dialogueBox.destroy(),ee.getState().setNewbieStatus(!1)}highlight(t){this.scene.tweens.add({targets:t,scale:1.1,yoyo:!0,repeat:-1,duration:500})}clearHighlight(){}}const Emt=3,wmt=45;class Pmt{constructor(t){it(this,"scene");it(this,"toasts",[]);this.scene=t}showToast(t,i=2e3){const{width:n}=this.scene.scale,d=12,C=12,r=this.scene.add.text(0,0,t,{fontSize:"16px",color:Gt.TextLight,wordWrap:{width:n*.8}}).setOrigin(.5),x=r.width+d*2,s=r.height+d*2,a=this.scene.add.graphics();a.fillStyle(Gt.BgDark,.7),a.fillRoundedRect(-x/2,-s/2,x,s,C);const g=this.scene.add.container(n/2,0,[a,r]);if(g.setDepth(Ut.TOAST),g.setAlpha(0),this.toasts.length>=Emt){const c=this.toasts.shift();c==null||c.destroy()}this.toasts.push(g),this.updateToastPositions(),this.scene.tweens.add({targets:g,alpha:1,duration:200,onComplete:()=>{this.scene.time.delayedCall(i,()=>{this.scene.tweens.add({targets:g,alpha:0,duration:300,onComplete:()=>{g.destroy(),this.toasts=this.toasts.filter(c=>c!==g),this.updateToastPositions()}})})}})}updateToastPositions(){this.toasts.forEach((i,n)=>{i.setY(80+n*(i.height+wmt))})}destroy(){this.toasts.forEach(t=>{t.destroy()}),this.toasts=[]}}class Mmt extends de.Scene{constructor(){super({key:Ht.UI})}preload(){}create(){const{uiController:t,popupController:i,inventoryController:n}=ti(this),d=this.game.scene.keys[Ht.BASE],C=this.game.scene.keys[Ht.GLOBAL],{systemController:r}=U6(d),{deviceController:x}=Ze(C);let s=x.getDeviceType();t.createAnimations(this),t.initHUD();const a=()=>{var h,l,o;const c={worldX:d.player.x,worldY:d.player.y};(h=d.player)!=null&&h.isAsKeeping()&&((l=d.player)==null||l.throwingItems()),r.handleClickObject(c),(r.checkCanUseTool(c)||r.checkCanUseSeed(c))&&(r.handleToolAction(),r.handleSeedAction(),r.handleFarmCrop(c)),r.checkCanFishing(c)?(o=d.player)==null||o.startFishing():Tt.debug("Không thể câu ở đây!")};s!=="Desktop"&&(t.initJoyStickMobile(d.player),t.initMobileActionButton(a));const g=c=>{var h,l,o;c!==s&&(s=c,c==="Desktop"?((h=t.destroyJoyStick)==null||h.call(t),(l=t.destroyMobileActionButton)==null||l.call(t)):(t.initJoyStickMobile(d.player),(o=t.initMobileActionButton)==null||o.call(t,a)))};if(t.createShopButton(),t.createDragEvents(),i.activeResizeEvent(),i.createAnimations(this),this.events.once(de.Scenes.Events.SHUTDOWN,()=>{t.destroy(),i.destroy(),n.destroy(),Os.off("deviceChanged",g)}),ee.getState().isNewbie){const c=new bmt(this);c.setDialogues([{text:"Chào mừng bạn đến với nông trại cổ tích! Hãy bắt đầu hành trình gieo trồng điều kỳ diệu nhé!"},{text:"Thử di chuyển và nhặt các vật phẩm gần bạn"},{text:"Rất tốt! Bạn đã sẵn sàng biến nông trại mơ ước thành hiện thực chưa? Bắt đầu thôi nào!"}]),c.start()}t.setToastManager(new Pmt(this))}}class Amt extends de.Scene{constructor(){super({key:Ht.HOUSE});it(this,"map",null);it(this,"groundLayer",null);it(this,"decorationLayer",null);it(this,"envLayer",null);it(this,"collisionLayer",null);it(this,"player")}preload(){}create(i){this.cameras.main.fadeIn(Dt,0,0,0),Xs.get("VITE_APP_ENV")!=="production"&&this.physics.world.createDebugGraphic();const{systemController:n}=U6(this);this.map=n.initMap("house-map"),n.initHouseLayers(this.map),this.input.on("pointerdown",C=>{this.player.isAsleep()&&this.player.wakeUp(),this.player.isASitting()&&this.player.standUp(),n.handlePointerDown(C)}),this.player=new JF(this),this.player.initPlayer(),this.player.resetPipeline(),this.player.togglePlayerLight(!1),i.targetX&&i.targetY&&this.player.setPosition(i.targetX,i.targetY),new _p(this).assignToPlayer(this.player),n.createCollisionObjectsWithDebugHouse(),n.initCat()}update(i){if(!this.map)return;ha(this.groundLayer,this.cameras.main),ha(this.decorationLayer,this.cameras.main),ha(this.envLayer,this.cameras.main);const n=this.game.scene.keys[Ht.UI],{uiController:d}=ti(n);d.update(this)}}class Rmt extends de.Scene{constructor(){super({key:Ht.GLOBAL})}preload(){}create(){this.cameras.main.setScroll(0,0);const{weatherController:t,calendarController:i}=Ze(this);i.start(),t.start()}update(t,i){const n=this.game.scene.keys[Ht.UI],{uiController:d}=ti(n),{calendarController:C}=Ze(this),r=C==null?void 0:C.getTimeInfo();if(r){const{time:x,day:s,weekday:a}=r;d.timeValue.setText(x),d.timeWeekdayValue.setText(a+"."+s)}}}const Omt=["alex","josh","lyria","manu","tori"];class Dmt extends de.Scene{constructor(){super({key:Ht.CHARACTER});it(this,"selectedCharacter",null);it(this,"nameInput");it(this,"selectButton");it(this,"logoutButton");it(this,"characterSprites",[]);it(this,"isSelecting",!1);it(this,"errorText")}preload(){}create(){this.createCharacterGrid(),this.createUI(),this.scale.on("resize",this.onResize,this)}createCharacterGrid(){const i=(C,r,x,s,a=5,g=-1)=>{Ws(this,C,{textureKey:r,start:x,end:s,frameRate:a,repeat:g})};Omt.forEach(C=>{i(`${C}_idle`,`${C}_idle`,0,3,5,-1);const r=this.add.sprite(0,0,C).setScale(Bt).setInteractive();r.play(`${C}_idle`),r.on("pointerdown",()=>this.selectCharacter(C,r)),this.characterSprites.push(r)});const n=this.scale.width,d=this.scale.height;this.positionCharacterGrid(n,d)}positionCharacterGrid(i,n){const C=i*.25,r=n*.22,x=i/2-C,s=n*.12;this.characterSprites.forEach((a,g)=>{const c=g%3,h=Math.floor(g/3),l=x+c*C,o=s+h*r;a.setPosition(l,o)})}createUI(){const i=this.scale.width/2;this.errorText=this.add.text(i,this.scale.height*.7,"",{fontSize:`${Math.max(14,this.scale.width*.015)}px`,color:"#ff5555",backgroundColor:"rgba(0,0,0,0.4)",padding:{left:8,right:8,top:4,bottom:4}}).setOrigin(.5),this.nameInput=this.add.dom(i,this.scale.height*.75,"input",{type:"text",name:"username",placeholder:"Nhập tên nhân vật của bạn",fontSize:`${Math.max(14,this.scale.width*.015)}px`,padding:"8px",width:"220px",color:"#fff",border:"1px solid #ccc",borderRadius:"5px"}),this.selectButton=this.add.dom(i,this.scale.height*.83,"button",{padding:"10px 20px",fontSize:`${Math.max(14,this.scale.width*.015)}px`,borderRadius:"5px",backgroundColor:"#28a745",color:"#fff",border:"none",cursor:"pointer"},"Bắt đầu"),this.selectButton.addListener("click"),this.selectButton.on("click",async()=>{var x;if(this.isSelecting)return;this.isSelecting=!0;const d=this.nameInput.node.value.trim();if(!d){this.showError("Tên nhân vật không được để trống!"),this.isSelecting=!1;return}const C=["admin","gm","moderator","xxx"];if(!Pw(d,C).valid){this.showError(Pw(d,C).reason||""),this.isSelecting=!1;return}if(!this.selectedCharacter){this.showError("Chọn nhân vật của bạn để bắt đầu!"),this.isSelecting=!1;return}if(Tt.debug(`Selected character: ${this.selectedCharacter}, Name: ${d}`),me.getState().setCharacterType(this.selectedCharacter),me.getState().setCharacterName(d),me.getState().setBornAt(new Date().toDateString()),(x=me.persist)!=null&&x.flush&&await me.persist.flush(),!me.getState().characterType){Tt.error("❌ characterType vẫn null sau khi flush!");return}await ee.getState().setIsLoadingGame(!0),this.scene.start(Ht.BASE),await ee.getState().setIsLoadingGame(!1)}),this.logoutButton=this.add.dom(this.scale.width-100,50,"button",{padding:"5px 10px",fontSize:"14px",borderRadius:"5px",backgroundColor:"#fc3c3c",color:"#fff",border:"none",cursor:"pointer"},"Đăng xuất"),this.logoutButton.addListener("click"),this.logoutButton.on("click",async()=>{Ln.getState().logout()})}selectCharacter(i,n){this.selectedCharacter=i,this.children.getChildren().forEach(d=>{d instanceof de.GameObjects.Sprite&&d.clearTint()}),n.setTint(65280)}onResize(i){const n=i.width,d=i.height;this.positionCharacterGrid(n,d);const C=n/2;this.nameInput.setPosition(C,d*.75),this.selectButton.setPosition(C,d*.83),this.logoutButton.setPosition(this.scale.width-100,50),this.errorText.setPosition(C,d*.7)}showError(i){this.errorText.setText(i),this.errorText.setVisible(!0),this.time.delayedCall(3e3,()=>{this.errorText.setVisible(!1)})}}const Lmt={type:Phaser.AUTO,width:Us.WIDTH,height:Us.HEIGHT,scene:[Tmt,Dmt,Rmt,Hgt,Mmt,Xgt,Amt,SH],pixelArt:!0,fps:{target:60,forceSetTimeOut:!0},fullscreenTarget:"root",physics:{default:"arcade",arcade:{gravity:{x:0,y:0}},matter:{debug:!1}},scale:{mode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH},render:{pixelArt:!0,antialias:!1,roundPixels:!0},input:{activePointers:3,touch:{target:window}},plugins:{scene:[{key:"rexUI",plugin:XF,mapping:"rexUI"}]},dom:{createContainer:!0}},Os=new Phaser.Events.EventEmitter;function Fmt(){const e=dt.useRef(null);return dt.useEffect(()=>{const t=r=>{r.cancelable||(Tt.debug("Blocked non-cancelable touchcancel"),r.stopImmediatePropagation())};window.addEventListener("touchcancel",t,{capture:!0});const i={parent:e.current||void 0,...Lmt},n=new de.Game(i),d=()=>{var x;const r=(x=n.input)==null?void 0:x.touch;if(r&&r.manager){const s=r.manager;Tt.debug(s)}};setTimeout(()=>{d()},.5*Dt);const C=()=>{setTimeout(()=>{const r=n.scene.keys[Ht.BASE],x=r==null?void 0:r.cameras.main,s=r==null?void 0:r.map,a=window.innerWidth,g=window.innerHeight;n.scale.resize(a,g),x&&(x.setViewport(0,0,a,g),x.setBounds(0,0,(s==null?void 0:s.widthInPixels)||Us.WIDTH,(s==null?void 0:s.heightInPixels)||Us.HEIGHT),x.setZoom(n.device.os.desktop?k9:G9),x.setRoundPixels(!0))},200)};return window.addEventListener("resize",C),window.addEventListener("orientationchange",C),()=>{window.removeEventListener("touchcancel",t,{capture:!0}),window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C),n.destroy(!0)}},[]),Nt.jsx("div",{ref:e,className:"w-screen h-screen"})}function Bmt(){const{token:e}=Ln(),{getOfflineData:t,version:i,serverData:n,setPosition:d,setCharacterName:C,setCharacterType:r,setBornAt:x,setGold:s,setLevel:a,setExp:g,setSkills:c,setVersion:h,isSyncSuccessfully:l}=me(),{setIsStarted:o,version:u,setInventoryItems:v,setShortcutItems:f,setNewbieStatus:p,setVersion:m,isStarted:y}=ee(),{version:S,setSound:T,setMusicVolume:b,setSfxVolume:P,setFullScreen:w,setVersion:A}=Rr.getState(),{version:R,setCurrentWeather:D,setLastDevice:L,setLastPhase:k,setLastWeather:B,setLastSeason:F,setTotalGameMinutes:G,setVersion:N}=Fn.getState(),{version:W,setTiles:X,setVersion:$}=Rs.getState(),{version:J,setAnimals:V,setVersion:Y}=kn.getState(),[z,K]=dt.useState(!1);dt.useEffect(()=>{e&&(async()=>{const st=await t();st?st&&(st.player.version!==i||st.game.version!==u||st.global.version!==R||st.settings.version!==S||st.farmCrop.version!==W||st.farmAnimal.version!==J?K(!0):y||o(!0)):o(!0)})()},[e,y]);const H=()=>{K(!1)},Q=()=>{Ce.success("Đồng bộ dữ liệu máy cơ sở thành công"),o(!0),H()},j=()=>{if(n){const{player:tt,game:st,global:nt,settings:at,farmCrop:ot,farmAnimal:mt}=n;tt&&(d(tt.x,tt.y),C(tt.characterName),r(tt.characterType),x(tt.bornAt),s(tt.gold),a(tt.level),g(tt.exp),c(tt.skills),h(tt.version)),st&&(v(st.inventoryItems),f(st.shortcutItems),p(st.isNewbie),m(st.version)),nt&&(D(nt.currentWeather),L(nt.lastDevice),k(nt.lastPhase),B(nt.lastWeather),F(nt.lastSeason),G(nt.totalGameMinutes),N(nt.version)),at&&(T(at.sound),b(at.musicVolume),P(at.sfxVolume),w(at.fullscreen),A(at.version)),ot&&(X(ot.tiles),$(ot.version)),mt&&(V(mt.animals),Y(mt.version)),Ce.success("Đồng bộ dữ liệu máy chủ thành công"),o(!0),H()}else Ce.error("Đồng bộ dữ liệu máy chủ thất bại")},q=tt=>{if(tt){const{player:st,game:nt,global:at,settings:ot,farmCrop:mt,farmAnimal:St}=tt;st&&(d(st.x,st.y),C(st.characterName),r(st.characterType),x(st.bornAt),s(st.gold),a(st.level),g(st.exp),c(st.skills),h(st.version)),nt&&(v(nt.inventoryItems),f(nt.shortcutItems),p(nt.isNewbie),m(nt.version)),at&&(D(at.currentWeather),L(at.lastDevice),k(at.lastPhase),B(at.lastWeather),F(at.lastSeason),G(at.totalGameMinutes),N(at.version)),ot&&(T(ot.sound),b(ot.musicVolume),P(ot.sfxVolume),w(ot.fullscreen),A(ot.version)),mt&&(X(mt.tiles),$(mt.version)),St&&(V(St.animals),Y(St.version)),tt||(Ce.success("Đồng bộ dữ liệu máy chủ thành công"),o(!0),H())}else tt||Ce.error("Đồng bộ dữ liệu máy chủ thất bại")};return dt.useEffect(()=>{let tt=Date.now();const st=me.subscribe((nt,at)=>{if(nt.gold!==at.gold){const ot=Date.now();ot-tt>=1e3*60*60&&(h(Number(i)+1),tt=ot)}});return()=>st()},[]),dt.useEffect(()=>{let tt=Date.now();const st=ee.subscribe((nt,at)=>{if(nt.inventoryItems!==at.inventoryItems||nt.shortcutItems!==at.shortcutItems){const ot=Date.now();ot-tt>=1e3*60*60&&(m(Number(u)+1),tt=ot)}});return()=>st()},[]),dt.useEffect(()=>{let tt=Date.now();const st=Rs.subscribe((nt,at)=>{if(nt.tiles!==at.tiles){const ot=Date.now();ot-tt>=1e3*60*60&&($(Number(W)+1),tt=ot)}});return()=>st()},[]),dt.useEffect(()=>{let tt=Date.now();const st=kn.subscribe((nt,at)=>{if(nt.animals!==at.animals){const ot=Date.now();ot-tt>=1e3*60*60&&(Y(Number(J)+1),tt=ot)}});return()=>st()},[]),dt.useEffect(()=>{l&&(async()=>{const st=await t();st&&q(st)})()},[l]),Nt.jsx(EO,{open:z,onOpenChange:tt=>!tt&&H(),children:Nt.jsxs(wO,{children:[Nt.jsx(PO,{className:"fixed inset-0 bg-black/80"}),Nt.jsxs(MO,{className:"fixed z-50 left-1/2 top-1/2 w-[90%] max-w-xs -translate-x-1/2 -translate-y-1/2 border-4 border-yellow-300 bg-[#1c1c1c] p-4 font-roboto text-white shadow-lg",children:[Nt.jsx(AO,{className:"text-base mb-2 text-yellow-300",children:"Bạn đã có dữ liệu trò chơi trên máy chủ trước đó"}),Nt.jsx(RO,{className:"text-xs text-white",children:"Bạn muốn tiếp tục với dữ liệu ở đâu? Hành động không thể hoàn tác!"}),Nt.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[Nt.jsx("button",{onClick:Q,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 text-xs border-2 border-white",children:"Hiện tại"}),Nt.jsx("button",{onClick:()=>j(),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 text-xs border-2 border-white",children:"Máy chủ"})]})]})]})})}function Imt(){const[e,t]=dt.useState(!1);return dt.useEffect(()=>{const i=()=>{me.persist.hasHydrated()&&Fn.persist.hasHydrated()&&Rr.persist.hasHydrated()&&Rs.persist.hasHydrated()&&kn.persist.hasHydrated()&&ee.persist.hasHydrated()&&t(!0)};i();const n=me.persist.onFinishHydration(i),d=Fn.persist.onFinishHydration(i),C=Rr.persist.onFinishHydration(i),r=Rs.persist.onFinishHydration(i),x=kn.persist.onFinishHydration(i),s=ee.persist.onFinishHydration(i);return()=>{n(),d(),C(),r(),x(),s()}},[]),e}rU();aU(Yd);function kmt(){const e=Imt(),{isStarted:t,isLoadingGame:i,gameKey:n}=ee();return dt.useEffect(()=>{Nz()},[]),dt.useEffect(()=>{const d=r=>{r.preventDefault()},C=r=>{(r.key==="F12"||r.ctrlKey&&r.shiftKey&&r.key==="I"||r.ctrlKey&&r.shiftKey&&r.key==="C"||r.ctrlKey&&r.key==="U")&&r.preventDefault()};return document.addEventListener("contextmenu",d),document.addEventListener("keydown",C),()=>{document.removeEventListener("contextmenu",d),document.removeEventListener("keydown",C)}},[]),e?Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(iH,{}),Nt.jsx(oH,{loading:i}),Nt.jsx(TN,{limit:1,position:"top-center",toastClassName:()=>"flex items-center gap-2 border border-yellow-500 bg-yellow-200 text-yellow-900 shadow-lg rounded px-4 py-2 text-[10px] sm:text-xs font-roboto uppercase max-w-[90%] sm:max-w-[320px] mx-auto"}),t?Nt.jsx("div",{className:"relative",children:Nt.jsx(Fmt,{},n)}):Nt.jsx(SU,{}),Nt.jsx(eH,{}),Nt.jsx(Bmt,{})]}):Nt.jsx("div",{children:"Loading game..."})}Xs.get("VITE_APP_ENV")==="dev"&&Tt.debug(Xs.getAll());const Gmt=bI.createRoot(document.getElementById("root"));Gmt.render(Nt.jsx(dt.StrictMode,{children:Nt.jsx(kmt,{})}));
